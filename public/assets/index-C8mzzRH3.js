var J0=e=>{throw TypeError(e)};var Rh=(e,t,r)=>t.has(e)||J0("Cannot "+r);var $=(e,t,r)=>(Rh(e,t,"read from private field"),r?r.call(e):t.get(e)),se=(e,t,r)=>t.has(e)?J0("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ee=(e,t,r,n)=>(Rh(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),ye=(e,t,r)=>(Rh(e,t,"access private method"),r);var Gc=(e,t,r,n)=>({set _(i){ee(e,t,i,r)},get _(){return $(e,t,n)}});function RA(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Xc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Le(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var GN={exports:{}},Nf={},XN={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kc=Symbol.for("react.element"),IA=Symbol.for("react.portal"),DA=Symbol.for("react.fragment"),LA=Symbol.for("react.strict_mode"),FA=Symbol.for("react.profiler"),BA=Symbol.for("react.provider"),zA=Symbol.for("react.context"),UA=Symbol.for("react.forward_ref"),WA=Symbol.for("react.suspense"),HA=Symbol.for("react.memo"),KA=Symbol.for("react.lazy"),ev=Symbol.iterator;function qA(e){return e===null||typeof e!="object"?null:(e=ev&&e[ev]||e["@@iterator"],typeof e=="function"?e:null)}var QN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},YN=Object.assign,ZN={};function uo(e,t,r){this.props=e,this.context=t,this.refs=ZN,this.updater=r||QN}uo.prototype.isReactComponent={};uo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};uo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function JN(){}JN.prototype=uo.prototype;function Tg(e,t,r){this.props=e,this.context=t,this.refs=ZN,this.updater=r||QN}var Mg=Tg.prototype=new JN;Mg.constructor=Tg;YN(Mg,uo.prototype);Mg.isPureReactComponent=!0;var tv=Array.isArray,e2=Object.prototype.hasOwnProperty,Rg={current:null},t2={key:!0,ref:!0,__self:!0,__source:!0};function r2(e,t,r){var n,i={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)e2.call(t,n)&&!t2.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:kc,type:e,key:s,ref:o,props:i,_owner:Rg.current}}function VA(e,t){return{$$typeof:kc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ig(e){return typeof e=="object"&&e!==null&&e.$$typeof===kc}function GA(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var rv=/\/+/g;function Ih(e,t){return typeof e=="object"&&e!==null&&e.key!=null?GA(""+e.key):t.toString(36)}function Eu(e,t,r,n,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case kc:case IA:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+Ih(o,0):n,tv(i)?(r="",e!=null&&(r=e.replace(rv,"$&/")+"/"),Eu(i,t,r,"",function(u){return u})):i!=null&&(Ig(i)&&(i=VA(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(rv,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",tv(e))for(var l=0;l<e.length;l++){s=e[l];var c=n+Ih(s,l);o+=Eu(s,t,r,c,i)}else if(c=qA(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=n+Ih(s,l++),o+=Eu(s,t,r,c,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Qc(e,t,r){if(e==null)return e;var n=[],i=0;return Eu(e,n,"","",function(s){return t.call(r,s,i++)}),n}function XA(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ht={current:null},$u={transition:null},QA={ReactCurrentDispatcher:Ht,ReactCurrentBatchConfig:$u,ReactCurrentOwner:Rg};function n2(){throw Error("act(...) is not supported in production builds of React.")}we.Children={map:Qc,forEach:function(e,t,r){Qc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Qc(e,function(){t++}),t},toArray:function(e){return Qc(e,function(t){return t})||[]},only:function(e){if(!Ig(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};we.Component=uo;we.Fragment=DA;we.Profiler=FA;we.PureComponent=Tg;we.StrictMode=LA;we.Suspense=WA;we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QA;we.act=n2;we.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=YN({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Rg.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)e2.call(t,c)&&!t2.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:kc,type:e.type,key:i,ref:s,props:n,_owner:o}};we.createContext=function(e){return e={$$typeof:zA,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:BA,_context:e},e.Consumer=e};we.createElement=r2;we.createFactory=function(e){var t=r2.bind(null,e);return t.type=e,t};we.createRef=function(){return{current:null}};we.forwardRef=function(e){return{$$typeof:UA,render:e}};we.isValidElement=Ig;we.lazy=function(e){return{$$typeof:KA,_payload:{_status:-1,_result:e},_init:XA}};we.memo=function(e,t){return{$$typeof:HA,type:e,compare:t===void 0?null:t}};we.startTransition=function(e){var t=$u.transition;$u.transition={};try{e()}finally{$u.transition=t}};we.unstable_act=n2;we.useCallback=function(e,t){return Ht.current.useCallback(e,t)};we.useContext=function(e){return Ht.current.useContext(e)};we.useDebugValue=function(){};we.useDeferredValue=function(e){return Ht.current.useDeferredValue(e)};we.useEffect=function(e,t){return Ht.current.useEffect(e,t)};we.useId=function(){return Ht.current.useId()};we.useImperativeHandle=function(e,t,r){return Ht.current.useImperativeHandle(e,t,r)};we.useInsertionEffect=function(e,t){return Ht.current.useInsertionEffect(e,t)};we.useLayoutEffect=function(e,t){return Ht.current.useLayoutEffect(e,t)};we.useMemo=function(e,t){return Ht.current.useMemo(e,t)};we.useReducer=function(e,t,r){return Ht.current.useReducer(e,t,r)};we.useRef=function(e){return Ht.current.useRef(e)};we.useState=function(e){return Ht.current.useState(e)};we.useSyncExternalStore=function(e,t,r){return Ht.current.useSyncExternalStore(e,t,r)};we.useTransition=function(){return Ht.current.useTransition()};we.version="18.3.1";XN.exports=we;var O=XN.exports;const R=Le(O),YA=RA({__proto__:null,default:R},[O]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZA=O,JA=Symbol.for("react.element"),ek=Symbol.for("react.fragment"),tk=Object.prototype.hasOwnProperty,rk=ZA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,nk={key:!0,ref:!0,__self:!0,__source:!0};function a2(e,t,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)tk.call(t,n)&&!nk.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:JA,type:e,key:s,ref:o,props:i,_owner:rk.current}}Nf.Fragment=ek;Nf.jsx=a2;Nf.jsxs=a2;GN.exports=Nf;var a=GN.exports,Vm={},i2={exports:{}},fr={},s2={exports:{}},o2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,z){var k=M.length;M.push(z);e:for(;0<k;){var I=k-1>>>1,D=M[I];if(0<i(D,z))M[I]=z,M[k]=D,k=I;else break e}}function r(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var z=M[0],k=M.pop();if(k!==z){M[0]=k;e:for(var I=0,D=M.length,V=D>>>1;I<V;){var Y=2*(I+1)-1,le=M[Y],me=Y+1,oe=M[me];if(0>i(le,k))me<D&&0>i(oe,le)?(M[I]=oe,M[me]=k,I=me):(M[I]=le,M[Y]=k,I=Y);else if(me<D&&0>i(oe,k))M[I]=oe,M[me]=k,I=me;else break e}}return z}function i(M,z){var k=M.sortIndex-z.sortIndex;return k!==0?k:M.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],f=1,d=null,h=3,m=!1,x=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(M){for(var z=r(u);z!==null;){if(z.callback===null)n(u);else if(z.startTime<=M)n(u),z.sortIndex=z.expirationTime,t(c,z);else break;z=r(u)}}function w(M){if(g=!1,j(M),!x)if(r(c)!==null)x=!0,T(b);else{var z=r(u);z!==null&&B(w,z.startTime-M)}}function b(M,z){x=!1,g&&(g=!1,p(S),S=-1),m=!0;var k=h;try{for(j(z),d=r(c);d!==null&&(!(d.expirationTime>z)||M&&!A());){var I=d.callback;if(typeof I=="function"){d.callback=null,h=d.priorityLevel;var D=I(d.expirationTime<=z);z=e.unstable_now(),typeof D=="function"?d.callback=D:d===r(c)&&n(c),j(z)}else n(c);d=r(c)}if(d!==null)var V=!0;else{var Y=r(u);Y!==null&&B(w,Y.startTime-z),V=!1}return V}finally{d=null,h=k,m=!1}}var N=!1,_=null,S=-1,C=5,P=-1;function A(){return!(e.unstable_now()-P<C)}function E(){if(_!==null){var M=e.unstable_now();P=M;var z=!0;try{z=_(!0,M)}finally{z?L():(N=!1,_=null)}}else N=!1}var L;if(typeof y=="function")L=function(){y(E)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,U=F.port2;F.port1.onmessage=E,L=function(){U.postMessage(null)}}else L=function(){v(E,0)};function T(M){_=M,N||(N=!0,L())}function B(M,z){S=v(function(){M(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){x||m||(x=!0,T(b))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(M){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var k=h;h=z;try{return M()}finally{h=k}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,z){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var k=h;h=M;try{return z()}finally{h=k}},e.unstable_scheduleCallback=function(M,z,k){var I=e.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?I+k:I):k=I,M){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=k+D,M={id:f++,callback:z,priorityLevel:M,startTime:k,expirationTime:D,sortIndex:-1},k>I?(M.sortIndex=k,t(u,M),r(c)===null&&M===r(u)&&(g?(p(S),S=-1):g=!0,B(w,k-I))):(M.sortIndex=D,t(c,M),x||m||(x=!0,T(b))),M},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(M){var z=h;return function(){var k=h;h=z;try{return M.apply(this,arguments)}finally{h=k}}}})(o2);s2.exports=o2;var ak=s2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ik=O,ur=ak;function X(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l2=new Set,wl={};function $i(e,t){ks(e,t),ks(e+"Capture",t)}function ks(e,t){for(wl[e]=t,e=0;e<t.length;e++)l2.add(t[e])}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gm=Object.prototype.hasOwnProperty,sk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nv={},av={};function ok(e){return Gm.call(av,e)?!0:Gm.call(nv,e)?!1:sk.test(e)?av[e]=!0:(nv[e]=!0,!1)}function lk(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ck(e,t,r,n){if(t===null||typeof t>"u"||lk(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Kt(e,t,r,n,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var At={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){At[e]=new Kt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];At[t]=new Kt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){At[e]=new Kt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){At[e]=new Kt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){At[e]=new Kt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){At[e]=new Kt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){At[e]=new Kt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){At[e]=new Kt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){At[e]=new Kt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Dg=/[\-:]([a-z])/g;function Lg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Dg,Lg);At[t]=new Kt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Dg,Lg);At[t]=new Kt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Dg,Lg);At[t]=new Kt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){At[e]=new Kt(e,1,!1,e.toLowerCase(),null,!1,!1)});At.xlinkHref=new Kt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){At[e]=new Kt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Fg(e,t,r,n){var i=At.hasOwnProperty(t)?At[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ck(t,r,i,n)&&(r=null),n||i===null?ok(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Kn=ik.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yc=Symbol.for("react.element"),qi=Symbol.for("react.portal"),Vi=Symbol.for("react.fragment"),Bg=Symbol.for("react.strict_mode"),Xm=Symbol.for("react.profiler"),c2=Symbol.for("react.provider"),u2=Symbol.for("react.context"),zg=Symbol.for("react.forward_ref"),Qm=Symbol.for("react.suspense"),Ym=Symbol.for("react.suspense_list"),Ug=Symbol.for("react.memo"),Jn=Symbol.for("react.lazy"),d2=Symbol.for("react.offscreen"),iv=Symbol.iterator;function To(e){return e===null||typeof e!="object"?null:(e=iv&&e[iv]||e["@@iterator"],typeof e=="function"?e:null)}var Je=Object.assign,Dh;function tl(e){if(Dh===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Dh=t&&t[1]||""}return`
`+Dh+e}var Lh=!1;function Fh(e,t){if(!e||Lh)return"";Lh=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Lh=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?tl(e):""}function uk(e){switch(e.tag){case 5:return tl(e.type);case 16:return tl("Lazy");case 13:return tl("Suspense");case 19:return tl("SuspenseList");case 0:case 2:case 15:return e=Fh(e.type,!1),e;case 11:return e=Fh(e.type.render,!1),e;case 1:return e=Fh(e.type,!0),e;default:return""}}function Zm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Vi:return"Fragment";case qi:return"Portal";case Xm:return"Profiler";case Bg:return"StrictMode";case Qm:return"Suspense";case Ym:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case u2:return(e.displayName||"Context")+".Consumer";case c2:return(e._context.displayName||"Context")+".Provider";case zg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ug:return t=e.displayName||null,t!==null?t:Zm(e.type)||"Memo";case Jn:t=e._payload,e=e._init;try{return Zm(e(t))}catch{}}return null}function dk(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zm(t);case 8:return t===Bg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ea(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function f2(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function fk(e){var t=f2(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Zc(e){e._valueTracker||(e._valueTracker=fk(e))}function h2(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=f2(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Hu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Jm(e,t){var r=t.checked;return Je({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function sv(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ea(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function m2(e,t){t=t.checked,t!=null&&Fg(e,"checked",t,!1)}function ep(e,t){m2(e,t);var r=Ea(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?tp(e,t.type,r):t.hasOwnProperty("defaultValue")&&tp(e,t.type,Ea(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ov(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function tp(e,t,r){(t!=="number"||Hu(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var rl=Array.isArray;function os(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ea(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function rp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(X(91));return Je({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function lv(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(X(92));if(rl(r)){if(1<r.length)throw Error(X(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ea(r)}}function p2(e,t){var r=Ea(t.value),n=Ea(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function cv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function x2(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function np(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?x2(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Jc,g2=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Jc=Jc||document.createElement("div"),Jc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Jc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Nl(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ll={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hk=["Webkit","ms","Moz","O"];Object.keys(ll).forEach(function(e){hk.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ll[t]=ll[e]})});function y2(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ll.hasOwnProperty(e)&&ll[e]?(""+t).trim():t+"px"}function v2(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=y2(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var mk=Je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ap(e,t){if(t){if(mk[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(X(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(X(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(X(61))}if(t.style!=null&&typeof t.style!="object")throw Error(X(62))}}function ip(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sp=null;function Wg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var op=null,ls=null,cs=null;function uv(e){if(e=Tc(e)){if(typeof op!="function")throw Error(X(280));var t=e.stateNode;t&&(t=Pf(t),op(e.stateNode,e.type,t))}}function b2(e){ls?cs?cs.push(e):cs=[e]:ls=e}function j2(){if(ls){var e=ls,t=cs;if(cs=ls=null,uv(e),t)for(e=0;e<t.length;e++)uv(t[e])}}function w2(e,t){return e(t)}function N2(){}var Bh=!1;function _2(e,t,r){if(Bh)return e(t,r);Bh=!0;try{return w2(e,t,r)}finally{Bh=!1,(ls!==null||cs!==null)&&(N2(),j2())}}function _l(e,t){var r=e.stateNode;if(r===null)return null;var n=Pf(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(X(231,t,typeof r));return r}var lp=!1;if(Dn)try{var Mo={};Object.defineProperty(Mo,"passive",{get:function(){lp=!0}}),window.addEventListener("test",Mo,Mo),window.removeEventListener("test",Mo,Mo)}catch{lp=!1}function pk(e,t,r,n,i,s,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(f){this.onError(f)}}var cl=!1,Ku=null,qu=!1,cp=null,xk={onError:function(e){cl=!0,Ku=e}};function gk(e,t,r,n,i,s,o,l,c){cl=!1,Ku=null,pk.apply(xk,arguments)}function yk(e,t,r,n,i,s,o,l,c){if(gk.apply(this,arguments),cl){if(cl){var u=Ku;cl=!1,Ku=null}else throw Error(X(198));qu||(qu=!0,cp=u)}}function Ti(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function S2(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function dv(e){if(Ti(e)!==e)throw Error(X(188))}function vk(e){var t=e.alternate;if(!t){if(t=Ti(e),t===null)throw Error(X(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return dv(i),e;if(s===n)return dv(i),t;s=s.sibling}throw Error(X(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o)throw Error(X(189))}}if(r.alternate!==n)throw Error(X(190))}if(r.tag!==3)throw Error(X(188));return r.stateNode.current===r?e:t}function O2(e){return e=vk(e),e!==null?C2(e):null}function C2(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=C2(e);if(t!==null)return t;e=e.sibling}return null}var P2=ur.unstable_scheduleCallback,fv=ur.unstable_cancelCallback,bk=ur.unstable_shouldYield,jk=ur.unstable_requestPaint,at=ur.unstable_now,wk=ur.unstable_getCurrentPriorityLevel,Hg=ur.unstable_ImmediatePriority,A2=ur.unstable_UserBlockingPriority,Vu=ur.unstable_NormalPriority,Nk=ur.unstable_LowPriority,k2=ur.unstable_IdlePriority,_f=null,on=null;function _k(e){if(on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(_f,e,void 0,(e.current.flags&128)===128)}catch{}}var Vr=Math.clz32?Math.clz32:Ck,Sk=Math.log,Ok=Math.LN2;function Ck(e){return e>>>=0,e===0?32:31-(Sk(e)/Ok|0)|0}var eu=64,tu=4194304;function nl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Gu(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~i;l!==0?n=nl(l):(s&=o,s!==0&&(n=nl(s)))}else o=r&~i,o!==0?n=nl(o):s!==0&&(n=nl(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Vr(t),i=1<<r,n|=e[r],t&=~i;return n}function Pk(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ak(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Vr(s),l=1<<o,c=i[o];c===-1?(!(l&r)||l&n)&&(i[o]=Pk(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function up(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function E2(){var e=eu;return eu<<=1,!(eu&4194240)&&(eu=64),e}function zh(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ec(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Vr(t),e[t]=r}function kk(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Vr(r),s=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~s}}function Kg(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Vr(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Me=0;function $2(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var T2,qg,M2,R2,I2,dp=!1,ru=[],va=null,ba=null,ja=null,Sl=new Map,Ol=new Map,ra=[],Ek="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hv(e,t){switch(e){case"focusin":case"focusout":va=null;break;case"dragenter":case"dragleave":ba=null;break;case"mouseover":case"mouseout":ja=null;break;case"pointerover":case"pointerout":Sl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(t.pointerId)}}function Ro(e,t,r,n,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Tc(t),t!==null&&qg(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function $k(e,t,r,n,i){switch(t){case"focusin":return va=Ro(va,e,t,r,n,i),!0;case"dragenter":return ba=Ro(ba,e,t,r,n,i),!0;case"mouseover":return ja=Ro(ja,e,t,r,n,i),!0;case"pointerover":var s=i.pointerId;return Sl.set(s,Ro(Sl.get(s)||null,e,t,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Ol.set(s,Ro(Ol.get(s)||null,e,t,r,n,i)),!0}return!1}function D2(e){var t=Qa(e.target);if(t!==null){var r=Ti(t);if(r!==null){if(t=r.tag,t===13){if(t=S2(r),t!==null){e.blockedOn=t,I2(e.priority,function(){M2(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Tu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=fp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);sp=n,r.target.dispatchEvent(n),sp=null}else return t=Tc(r),t!==null&&qg(t),e.blockedOn=r,!1;t.shift()}return!0}function mv(e,t,r){Tu(e)&&r.delete(t)}function Tk(){dp=!1,va!==null&&Tu(va)&&(va=null),ba!==null&&Tu(ba)&&(ba=null),ja!==null&&Tu(ja)&&(ja=null),Sl.forEach(mv),Ol.forEach(mv)}function Io(e,t){e.blockedOn===t&&(e.blockedOn=null,dp||(dp=!0,ur.unstable_scheduleCallback(ur.unstable_NormalPriority,Tk)))}function Cl(e){function t(i){return Io(i,e)}if(0<ru.length){Io(ru[0],e);for(var r=1;r<ru.length;r++){var n=ru[r];n.blockedOn===e&&(n.blockedOn=null)}}for(va!==null&&Io(va,e),ba!==null&&Io(ba,e),ja!==null&&Io(ja,e),Sl.forEach(t),Ol.forEach(t),r=0;r<ra.length;r++)n=ra[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ra.length&&(r=ra[0],r.blockedOn===null);)D2(r),r.blockedOn===null&&ra.shift()}var us=Kn.ReactCurrentBatchConfig,Xu=!0;function Mk(e,t,r,n){var i=Me,s=us.transition;us.transition=null;try{Me=1,Vg(e,t,r,n)}finally{Me=i,us.transition=s}}function Rk(e,t,r,n){var i=Me,s=us.transition;us.transition=null;try{Me=4,Vg(e,t,r,n)}finally{Me=i,us.transition=s}}function Vg(e,t,r,n){if(Xu){var i=fp(e,t,r,n);if(i===null)Yh(e,t,n,Qu,r),hv(e,n);else if($k(i,e,t,r,n))n.stopPropagation();else if(hv(e,n),t&4&&-1<Ek.indexOf(e)){for(;i!==null;){var s=Tc(i);if(s!==null&&T2(s),s=fp(e,t,r,n),s===null&&Yh(e,t,n,Qu,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Yh(e,t,n,null,r)}}var Qu=null;function fp(e,t,r,n){if(Qu=null,e=Wg(n),e=Qa(e),e!==null)if(t=Ti(e),t===null)e=null;else if(r=t.tag,r===13){if(e=S2(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qu=e,null}function L2(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wk()){case Hg:return 1;case A2:return 4;case Vu:case Nk:return 16;case k2:return 536870912;default:return 16}default:return 16}}var ma=null,Gg=null,Mu=null;function F2(){if(Mu)return Mu;var e,t=Gg,r=t.length,n,i="value"in ma?ma.value:ma.textContent,s=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[s-n];n++);return Mu=i.slice(e,1<n?1-n:void 0)}function Ru(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function nu(){return!0}function pv(){return!1}function hr(e){function t(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?nu:pv,this.isPropagationStopped=pv,this}return Je(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=nu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=nu)},persist:function(){},isPersistent:nu}),t}var fo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xg=hr(fo),$c=Je({},fo,{view:0,detail:0}),Ik=hr($c),Uh,Wh,Do,Sf=Je({},$c,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Do&&(Do&&e.type==="mousemove"?(Uh=e.screenX-Do.screenX,Wh=e.screenY-Do.screenY):Wh=Uh=0,Do=e),Uh)},movementY:function(e){return"movementY"in e?e.movementY:Wh}}),xv=hr(Sf),Dk=Je({},Sf,{dataTransfer:0}),Lk=hr(Dk),Fk=Je({},$c,{relatedTarget:0}),Hh=hr(Fk),Bk=Je({},fo,{animationName:0,elapsedTime:0,pseudoElement:0}),zk=hr(Bk),Uk=Je({},fo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Wk=hr(Uk),Hk=Je({},fo,{data:0}),gv=hr(Hk),Kk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gk(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Vk[e])?!!t[e]:!1}function Qg(){return Gk}var Xk=Je({},$c,{key:function(e){if(e.key){var t=Kk[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ru(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?qk[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qg,charCode:function(e){return e.type==="keypress"?Ru(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ru(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Qk=hr(Xk),Yk=Je({},Sf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yv=hr(Yk),Zk=Je({},$c,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qg}),Jk=hr(Zk),e5=Je({},fo,{propertyName:0,elapsedTime:0,pseudoElement:0}),t5=hr(e5),r5=Je({},Sf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),n5=hr(r5),a5=[9,13,27,32],Yg=Dn&&"CompositionEvent"in window,ul=null;Dn&&"documentMode"in document&&(ul=document.documentMode);var i5=Dn&&"TextEvent"in window&&!ul,B2=Dn&&(!Yg||ul&&8<ul&&11>=ul),vv=" ",bv=!1;function z2(e,t){switch(e){case"keyup":return a5.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function U2(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Gi=!1;function s5(e,t){switch(e){case"compositionend":return U2(t);case"keypress":return t.which!==32?null:(bv=!0,vv);case"textInput":return e=t.data,e===vv&&bv?null:e;default:return null}}function o5(e,t){if(Gi)return e==="compositionend"||!Yg&&z2(e,t)?(e=F2(),Mu=Gg=ma=null,Gi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return B2&&t.locale!=="ko"?null:t.data;default:return null}}var l5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!l5[e.type]:t==="textarea"}function W2(e,t,r,n){b2(n),t=Yu(t,"onChange"),0<t.length&&(r=new Xg("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var dl=null,Pl=null;function c5(e){e_(e,0)}function Of(e){var t=Yi(e);if(h2(t))return e}function u5(e,t){if(e==="change")return t}var H2=!1;if(Dn){var Kh;if(Dn){var qh="oninput"in document;if(!qh){var wv=document.createElement("div");wv.setAttribute("oninput","return;"),qh=typeof wv.oninput=="function"}Kh=qh}else Kh=!1;H2=Kh&&(!document.documentMode||9<document.documentMode)}function Nv(){dl&&(dl.detachEvent("onpropertychange",K2),Pl=dl=null)}function K2(e){if(e.propertyName==="value"&&Of(Pl)){var t=[];W2(t,Pl,e,Wg(e)),_2(c5,t)}}function d5(e,t,r){e==="focusin"?(Nv(),dl=t,Pl=r,dl.attachEvent("onpropertychange",K2)):e==="focusout"&&Nv()}function f5(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Of(Pl)}function h5(e,t){if(e==="click")return Of(t)}function m5(e,t){if(e==="input"||e==="change")return Of(t)}function p5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Xr=typeof Object.is=="function"?Object.is:p5;function Al(e,t){if(Xr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Gm.call(t,i)||!Xr(e[i],t[i]))return!1}return!0}function _v(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Sv(e,t){var r=_v(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=_v(r)}}function q2(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?q2(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function V2(){for(var e=window,t=Hu();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Hu(e.document)}return t}function Zg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function x5(e){var t=V2(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&q2(r.ownerDocument.documentElement,r)){if(n!==null&&Zg(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!e.extend&&s>n&&(i=n,n=s,s=i),i=Sv(r,s);var o=Sv(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var g5=Dn&&"documentMode"in document&&11>=document.documentMode,Xi=null,hp=null,fl=null,mp=!1;function Ov(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;mp||Xi==null||Xi!==Hu(n)||(n=Xi,"selectionStart"in n&&Zg(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),fl&&Al(fl,n)||(fl=n,n=Yu(hp,"onSelect"),0<n.length&&(t=new Xg("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Xi)))}function au(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Qi={animationend:au("Animation","AnimationEnd"),animationiteration:au("Animation","AnimationIteration"),animationstart:au("Animation","AnimationStart"),transitionend:au("Transition","TransitionEnd")},Vh={},G2={};Dn&&(G2=document.createElement("div").style,"AnimationEvent"in window||(delete Qi.animationend.animation,delete Qi.animationiteration.animation,delete Qi.animationstart.animation),"TransitionEvent"in window||delete Qi.transitionend.transition);function Cf(e){if(Vh[e])return Vh[e];if(!Qi[e])return e;var t=Qi[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in G2)return Vh[e]=t[r];return e}var X2=Cf("animationend"),Q2=Cf("animationiteration"),Y2=Cf("animationstart"),Z2=Cf("transitionend"),J2=new Map,Cv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ma(e,t){J2.set(e,t),$i(t,[e])}for(var Gh=0;Gh<Cv.length;Gh++){var Xh=Cv[Gh],y5=Xh.toLowerCase(),v5=Xh[0].toUpperCase()+Xh.slice(1);Ma(y5,"on"+v5)}Ma(X2,"onAnimationEnd");Ma(Q2,"onAnimationIteration");Ma(Y2,"onAnimationStart");Ma("dblclick","onDoubleClick");Ma("focusin","onFocus");Ma("focusout","onBlur");Ma(Z2,"onTransitionEnd");ks("onMouseEnter",["mouseout","mouseover"]);ks("onMouseLeave",["mouseout","mouseover"]);ks("onPointerEnter",["pointerout","pointerover"]);ks("onPointerLeave",["pointerout","pointerover"]);$i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$i("onBeforeInput",["compositionend","keypress","textInput","paste"]);$i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),b5=new Set("cancel close invalid load scroll toggle".split(" ").concat(al));function Pv(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,yk(n,t,void 0,e),e.currentTarget=null}function e_(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;Pv(i,l,u),s=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;Pv(i,l,u),s=c}}}if(qu)throw e=cp,qu=!1,cp=null,e}function He(e,t){var r=t[vp];r===void 0&&(r=t[vp]=new Set);var n=e+"__bubble";r.has(n)||(t_(t,e,2,!1),r.add(n))}function Qh(e,t,r){var n=0;t&&(n|=4),t_(r,e,n,t)}var iu="_reactListening"+Math.random().toString(36).slice(2);function kl(e){if(!e[iu]){e[iu]=!0,l2.forEach(function(r){r!=="selectionchange"&&(b5.has(r)||Qh(r,!1,e),Qh(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[iu]||(t[iu]=!0,Qh("selectionchange",!1,t))}}function t_(e,t,r,n){switch(L2(t)){case 1:var i=Mk;break;case 4:i=Rk;break;default:i=Vg}r=i.bind(null,t,r,e),i=void 0,!lp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Yh(e,t,r,n,i){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Qa(l),o===null)return;if(c=o.tag,c===5||c===6){n=s=o;continue e}l=l.parentNode}}n=n.return}_2(function(){var u=s,f=Wg(r),d=[];e:{var h=J2.get(e);if(h!==void 0){var m=Xg,x=e;switch(e){case"keypress":if(Ru(r)===0)break e;case"keydown":case"keyup":m=Qk;break;case"focusin":x="focus",m=Hh;break;case"focusout":x="blur",m=Hh;break;case"beforeblur":case"afterblur":m=Hh;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=xv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Lk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Jk;break;case X2:case Q2:case Y2:m=zk;break;case Z2:m=t5;break;case"scroll":m=Ik;break;case"wheel":m=n5;break;case"copy":case"cut":case"paste":m=Wk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=yv}var g=(t&4)!==0,v=!g&&e==="scroll",p=g?h!==null?h+"Capture":null:h;g=[];for(var y=u,j;y!==null;){j=y;var w=j.stateNode;if(j.tag===5&&w!==null&&(j=w,p!==null&&(w=_l(y,p),w!=null&&g.push(El(y,w,j)))),v)break;y=y.return}0<g.length&&(h=new m(h,x,null,r,f),d.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==sp&&(x=r.relatedTarget||r.fromElement)&&(Qa(x)||x[Ln]))break e;if((m||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,m?(x=r.relatedTarget||r.toElement,m=u,x=x?Qa(x):null,x!==null&&(v=Ti(x),x!==v||x.tag!==5&&x.tag!==6)&&(x=null)):(m=null,x=u),m!==x)){if(g=xv,w="onMouseLeave",p="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(g=yv,w="onPointerLeave",p="onPointerEnter",y="pointer"),v=m==null?h:Yi(m),j=x==null?h:Yi(x),h=new g(w,y+"leave",m,r,f),h.target=v,h.relatedTarget=j,w=null,Qa(f)===u&&(g=new g(p,y+"enter",x,r,f),g.target=j,g.relatedTarget=v,w=g),v=w,m&&x)t:{for(g=m,p=x,y=0,j=g;j;j=zi(j))y++;for(j=0,w=p;w;w=zi(w))j++;for(;0<y-j;)g=zi(g),y--;for(;0<j-y;)p=zi(p),j--;for(;y--;){if(g===p||p!==null&&g===p.alternate)break t;g=zi(g),p=zi(p)}g=null}else g=null;m!==null&&Av(d,h,m,g,!1),x!==null&&v!==null&&Av(d,v,x,g,!0)}}e:{if(h=u?Yi(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var b=u5;else if(jv(h))if(H2)b=m5;else{b=f5;var N=d5}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(b=h5);if(b&&(b=b(e,u))){W2(d,b,r,f);break e}N&&N(e,h,u),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&tp(h,"number",h.value)}switch(N=u?Yi(u):window,e){case"focusin":(jv(N)||N.contentEditable==="true")&&(Xi=N,hp=u,fl=null);break;case"focusout":fl=hp=Xi=null;break;case"mousedown":mp=!0;break;case"contextmenu":case"mouseup":case"dragend":mp=!1,Ov(d,r,f);break;case"selectionchange":if(g5)break;case"keydown":case"keyup":Ov(d,r,f)}var _;if(Yg)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Gi?z2(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(B2&&r.locale!=="ko"&&(Gi||S!=="onCompositionStart"?S==="onCompositionEnd"&&Gi&&(_=F2()):(ma=f,Gg="value"in ma?ma.value:ma.textContent,Gi=!0)),N=Yu(u,S),0<N.length&&(S=new gv(S,e,null,r,f),d.push({event:S,listeners:N}),_?S.data=_:(_=U2(r),_!==null&&(S.data=_)))),(_=i5?s5(e,r):o5(e,r))&&(u=Yu(u,"onBeforeInput"),0<u.length&&(f=new gv("onBeforeInput","beforeinput",null,r,f),d.push({event:f,listeners:u}),f.data=_))}e_(d,t)})}function El(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Yu(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=_l(e,r),s!=null&&n.unshift(El(e,s,i)),s=_l(e,t),s!=null&&n.push(El(e,s,i))),e=e.return}return n}function zi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Av(e,t,r,n,i){for(var s=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,i?(c=_l(r,s),c!=null&&o.unshift(El(r,c,l))):i||(c=_l(r,s),c!=null&&o.push(El(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var j5=/\r\n?/g,w5=/\u0000|\uFFFD/g;function kv(e){return(typeof e=="string"?e:""+e).replace(j5,`
`).replace(w5,"")}function su(e,t,r){if(t=kv(t),kv(e)!==t&&r)throw Error(X(425))}function Zu(){}var pp=null,xp=null;function gp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var yp=typeof setTimeout=="function"?setTimeout:void 0,N5=typeof clearTimeout=="function"?clearTimeout:void 0,Ev=typeof Promise=="function"?Promise:void 0,_5=typeof queueMicrotask=="function"?queueMicrotask:typeof Ev<"u"?function(e){return Ev.resolve(null).then(e).catch(S5)}:yp;function S5(e){setTimeout(function(){throw e})}function Zh(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Cl(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Cl(t)}function wa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function $v(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ho=Math.random().toString(36).slice(2),an="__reactFiber$"+ho,$l="__reactProps$"+ho,Ln="__reactContainer$"+ho,vp="__reactEvents$"+ho,O5="__reactListeners$"+ho,C5="__reactHandles$"+ho;function Qa(e){var t=e[an];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ln]||r[an]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=$v(e);e!==null;){if(r=e[an])return r;e=$v(e)}return t}e=r,r=e.parentNode}return null}function Tc(e){return e=e[an]||e[Ln],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Yi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(X(33))}function Pf(e){return e[$l]||null}var bp=[],Zi=-1;function Ra(e){return{current:e}}function Ve(e){0>Zi||(e.current=bp[Zi],bp[Zi]=null,Zi--)}function ze(e,t){Zi++,bp[Zi]=e.current,e.current=t}var $a={},It=Ra($a),Yt=Ra(!1),vi=$a;function Es(e,t){var r=e.type.contextTypes;if(!r)return $a;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Zt(e){return e=e.childContextTypes,e!=null}function Ju(){Ve(Yt),Ve(It)}function Tv(e,t,r){if(It.current!==$a)throw Error(X(168));ze(It,t),ze(Yt,r)}function r_(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(X(108,dk(e)||"Unknown",i));return Je({},r,n)}function ed(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||$a,vi=It.current,ze(It,e),ze(Yt,Yt.current),!0}function Mv(e,t,r){var n=e.stateNode;if(!n)throw Error(X(169));r?(e=r_(e,t,vi),n.__reactInternalMemoizedMergedChildContext=e,Ve(Yt),Ve(It),ze(It,e)):Ve(Yt),ze(Yt,r)}var bn=null,Af=!1,Jh=!1;function n_(e){bn===null?bn=[e]:bn.push(e)}function P5(e){Af=!0,n_(e)}function Ia(){if(!Jh&&bn!==null){Jh=!0;var e=0,t=Me;try{var r=bn;for(Me=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}bn=null,Af=!1}catch(i){throw bn!==null&&(bn=bn.slice(e+1)),P2(Hg,Ia),i}finally{Me=t,Jh=!1}}return null}var Ji=[],es=0,td=null,rd=0,vr=[],br=0,bi=null,Cn=1,Pn="";function Ka(e,t){Ji[es++]=rd,Ji[es++]=td,td=e,rd=t}function a_(e,t,r){vr[br++]=Cn,vr[br++]=Pn,vr[br++]=bi,bi=e;var n=Cn;e=Pn;var i=32-Vr(n)-1;n&=~(1<<i),r+=1;var s=32-Vr(t)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Cn=1<<32-Vr(t)+i|r<<i|n,Pn=s+e}else Cn=1<<s|r<<i|n,Pn=e}function Jg(e){e.return!==null&&(Ka(e,1),a_(e,1,0))}function ey(e){for(;e===td;)td=Ji[--es],Ji[es]=null,rd=Ji[--es],Ji[es]=null;for(;e===bi;)bi=vr[--br],vr[br]=null,Pn=vr[--br],vr[br]=null,Cn=vr[--br],vr[br]=null}var lr=null,or=null,Xe=!1,Wr=null;function i_(e,t){var r=jr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Rv(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,lr=e,or=wa(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,lr=e,or=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=bi!==null?{id:Cn,overflow:Pn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=jr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,lr=e,or=null,!0):!1;default:return!1}}function jp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function wp(e){if(Xe){var t=or;if(t){var r=t;if(!Rv(e,t)){if(jp(e))throw Error(X(418));t=wa(r.nextSibling);var n=lr;t&&Rv(e,t)?i_(n,r):(e.flags=e.flags&-4097|2,Xe=!1,lr=e)}}else{if(jp(e))throw Error(X(418));e.flags=e.flags&-4097|2,Xe=!1,lr=e}}}function Iv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;lr=e}function ou(e){if(e!==lr)return!1;if(!Xe)return Iv(e),Xe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!gp(e.type,e.memoizedProps)),t&&(t=or)){if(jp(e))throw s_(),Error(X(418));for(;t;)i_(e,t),t=wa(t.nextSibling)}if(Iv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(X(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){or=wa(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}or=null}}else or=lr?wa(e.stateNode.nextSibling):null;return!0}function s_(){for(var e=or;e;)e=wa(e.nextSibling)}function $s(){or=lr=null,Xe=!1}function ty(e){Wr===null?Wr=[e]:Wr.push(e)}var A5=Kn.ReactCurrentBatchConfig;function Lo(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(X(309));var n=r.stateNode}if(!n)throw Error(X(147,e));var i=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(X(284));if(!r._owner)throw Error(X(290,e))}return e}function lu(e,t){throw e=Object.prototype.toString.call(t),Error(X(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Dv(e){var t=e._init;return t(e._payload)}function o_(e){function t(p,y){if(e){var j=p.deletions;j===null?(p.deletions=[y],p.flags|=16):j.push(y)}}function r(p,y){if(!e)return null;for(;y!==null;)t(p,y),y=y.sibling;return null}function n(p,y){for(p=new Map;y!==null;)y.key!==null?p.set(y.key,y):p.set(y.index,y),y=y.sibling;return p}function i(p,y){return p=Oa(p,y),p.index=0,p.sibling=null,p}function s(p,y,j){return p.index=j,e?(j=p.alternate,j!==null?(j=j.index,j<y?(p.flags|=2,y):j):(p.flags|=2,y)):(p.flags|=1048576,y)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,y,j,w){return y===null||y.tag!==6?(y=sm(j,p.mode,w),y.return=p,y):(y=i(y,j),y.return=p,y)}function c(p,y,j,w){var b=j.type;return b===Vi?f(p,y,j.props.children,w,j.key):y!==null&&(y.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Jn&&Dv(b)===y.type)?(w=i(y,j.props),w.ref=Lo(p,y,j),w.return=p,w):(w=Uu(j.type,j.key,j.props,null,p.mode,w),w.ref=Lo(p,y,j),w.return=p,w)}function u(p,y,j,w){return y===null||y.tag!==4||y.stateNode.containerInfo!==j.containerInfo||y.stateNode.implementation!==j.implementation?(y=om(j,p.mode,w),y.return=p,y):(y=i(y,j.children||[]),y.return=p,y)}function f(p,y,j,w,b){return y===null||y.tag!==7?(y=pi(j,p.mode,w,b),y.return=p,y):(y=i(y,j),y.return=p,y)}function d(p,y,j){if(typeof y=="string"&&y!==""||typeof y=="number")return y=sm(""+y,p.mode,j),y.return=p,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Yc:return j=Uu(y.type,y.key,y.props,null,p.mode,j),j.ref=Lo(p,null,y),j.return=p,j;case qi:return y=om(y,p.mode,j),y.return=p,y;case Jn:var w=y._init;return d(p,w(y._payload),j)}if(rl(y)||To(y))return y=pi(y,p.mode,j,null),y.return=p,y;lu(p,y)}return null}function h(p,y,j,w){var b=y!==null?y.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return b!==null?null:l(p,y,""+j,w);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Yc:return j.key===b?c(p,y,j,w):null;case qi:return j.key===b?u(p,y,j,w):null;case Jn:return b=j._init,h(p,y,b(j._payload),w)}if(rl(j)||To(j))return b!==null?null:f(p,y,j,w,null);lu(p,j)}return null}function m(p,y,j,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return p=p.get(j)||null,l(y,p,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Yc:return p=p.get(w.key===null?j:w.key)||null,c(y,p,w,b);case qi:return p=p.get(w.key===null?j:w.key)||null,u(y,p,w,b);case Jn:var N=w._init;return m(p,y,j,N(w._payload),b)}if(rl(w)||To(w))return p=p.get(j)||null,f(y,p,w,b,null);lu(y,w)}return null}function x(p,y,j,w){for(var b=null,N=null,_=y,S=y=0,C=null;_!==null&&S<j.length;S++){_.index>S?(C=_,_=null):C=_.sibling;var P=h(p,_,j[S],w);if(P===null){_===null&&(_=C);break}e&&_&&P.alternate===null&&t(p,_),y=s(P,y,S),N===null?b=P:N.sibling=P,N=P,_=C}if(S===j.length)return r(p,_),Xe&&Ka(p,S),b;if(_===null){for(;S<j.length;S++)_=d(p,j[S],w),_!==null&&(y=s(_,y,S),N===null?b=_:N.sibling=_,N=_);return Xe&&Ka(p,S),b}for(_=n(p,_);S<j.length;S++)C=m(_,p,S,j[S],w),C!==null&&(e&&C.alternate!==null&&_.delete(C.key===null?S:C.key),y=s(C,y,S),N===null?b=C:N.sibling=C,N=C);return e&&_.forEach(function(A){return t(p,A)}),Xe&&Ka(p,S),b}function g(p,y,j,w){var b=To(j);if(typeof b!="function")throw Error(X(150));if(j=b.call(j),j==null)throw Error(X(151));for(var N=b=null,_=y,S=y=0,C=null,P=j.next();_!==null&&!P.done;S++,P=j.next()){_.index>S?(C=_,_=null):C=_.sibling;var A=h(p,_,P.value,w);if(A===null){_===null&&(_=C);break}e&&_&&A.alternate===null&&t(p,_),y=s(A,y,S),N===null?b=A:N.sibling=A,N=A,_=C}if(P.done)return r(p,_),Xe&&Ka(p,S),b;if(_===null){for(;!P.done;S++,P=j.next())P=d(p,P.value,w),P!==null&&(y=s(P,y,S),N===null?b=P:N.sibling=P,N=P);return Xe&&Ka(p,S),b}for(_=n(p,_);!P.done;S++,P=j.next())P=m(_,p,S,P.value,w),P!==null&&(e&&P.alternate!==null&&_.delete(P.key===null?S:P.key),y=s(P,y,S),N===null?b=P:N.sibling=P,N=P);return e&&_.forEach(function(E){return t(p,E)}),Xe&&Ka(p,S),b}function v(p,y,j,w){if(typeof j=="object"&&j!==null&&j.type===Vi&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Yc:e:{for(var b=j.key,N=y;N!==null;){if(N.key===b){if(b=j.type,b===Vi){if(N.tag===7){r(p,N.sibling),y=i(N,j.props.children),y.return=p,p=y;break e}}else if(N.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Jn&&Dv(b)===N.type){r(p,N.sibling),y=i(N,j.props),y.ref=Lo(p,N,j),y.return=p,p=y;break e}r(p,N);break}else t(p,N);N=N.sibling}j.type===Vi?(y=pi(j.props.children,p.mode,w,j.key),y.return=p,p=y):(w=Uu(j.type,j.key,j.props,null,p.mode,w),w.ref=Lo(p,y,j),w.return=p,p=w)}return o(p);case qi:e:{for(N=j.key;y!==null;){if(y.key===N)if(y.tag===4&&y.stateNode.containerInfo===j.containerInfo&&y.stateNode.implementation===j.implementation){r(p,y.sibling),y=i(y,j.children||[]),y.return=p,p=y;break e}else{r(p,y);break}else t(p,y);y=y.sibling}y=om(j,p.mode,w),y.return=p,p=y}return o(p);case Jn:return N=j._init,v(p,y,N(j._payload),w)}if(rl(j))return x(p,y,j,w);if(To(j))return g(p,y,j,w);lu(p,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,y!==null&&y.tag===6?(r(p,y.sibling),y=i(y,j),y.return=p,p=y):(r(p,y),y=sm(j,p.mode,w),y.return=p,p=y),o(p)):r(p,y)}return v}var Ts=o_(!0),l_=o_(!1),nd=Ra(null),ad=null,ts=null,ry=null;function ny(){ry=ts=ad=null}function ay(e){var t=nd.current;Ve(nd),e._currentValue=t}function Np(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ds(e,t){ad=e,ry=ts=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Xt=!0),e.firstContext=null)}function Cr(e){var t=e._currentValue;if(ry!==e)if(e={context:e,memoizedValue:t,next:null},ts===null){if(ad===null)throw Error(X(308));ts=e,ad.dependencies={lanes:0,firstContext:e}}else ts=ts.next=e;return t}var Ya=null;function iy(e){Ya===null?Ya=[e]:Ya.push(e)}function c_(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,iy(t)):(r.next=i.next,i.next=r),t.interleaved=r,Fn(e,n)}function Fn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ea=!1;function sy(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function u_(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $n(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Na(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Pe&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Fn(e,r)}return i=n.interleaved,i===null?(t.next=t,iy(n)):(t.next=i.next,i.next=t),n.interleaved=t,Fn(e,r)}function Iu(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Kg(e,r)}}function Lv(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=t:s=s.next=t}else i=s=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function id(e,t,r,n){var i=e.updateQueue;ea=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=c))}if(s!==null){var d=i.baseState;o=0,f=u=c=null,l=s;do{var h=l.lane,m=l.eventTime;if((n&h)===h){f!==null&&(f=f.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,g=l;switch(h=t,m=r,g.tag){case 1:if(x=g.payload,typeof x=="function"){d=x.call(m,d,h);break e}d=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=g.payload,h=typeof x=="function"?x.call(m,d,h):x,h==null)break e;d=Je({},d,h);break e;case 2:ea=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=m,c=d):f=f.next=m,o|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;h=l,l=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(f===null&&(c=d),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=f,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);wi|=o,e.lanes=o,e.memoizedState=d}}function Fv(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(X(191,i));i.call(n)}}}var Mc={},ln=Ra(Mc),Tl=Ra(Mc),Ml=Ra(Mc);function Za(e){if(e===Mc)throw Error(X(174));return e}function oy(e,t){switch(ze(Ml,t),ze(Tl,e),ze(ln,Mc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:np(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=np(t,e)}Ve(ln),ze(ln,t)}function Ms(){Ve(ln),Ve(Tl),Ve(Ml)}function d_(e){Za(Ml.current);var t=Za(ln.current),r=np(t,e.type);t!==r&&(ze(Tl,e),ze(ln,r))}function ly(e){Tl.current===e&&(Ve(ln),Ve(Tl))}var Ye=Ra(0);function sd(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var em=[];function cy(){for(var e=0;e<em.length;e++)em[e]._workInProgressVersionPrimary=null;em.length=0}var Du=Kn.ReactCurrentDispatcher,tm=Kn.ReactCurrentBatchConfig,ji=0,Ze=null,mt=null,wt=null,od=!1,hl=!1,Rl=0,k5=0;function kt(){throw Error(X(321))}function uy(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Xr(e[r],t[r]))return!1;return!0}function dy(e,t,r,n,i,s){if(ji=s,Ze=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Du.current=e===null||e.memoizedState===null?M5:R5,e=r(n,i),hl){s=0;do{if(hl=!1,Rl=0,25<=s)throw Error(X(301));s+=1,wt=mt=null,t.updateQueue=null,Du.current=I5,e=r(n,i)}while(hl)}if(Du.current=ld,t=mt!==null&&mt.next!==null,ji=0,wt=mt=Ze=null,od=!1,t)throw Error(X(300));return e}function fy(){var e=Rl!==0;return Rl=0,e}function Jr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Ze.memoizedState=wt=e:wt=wt.next=e,wt}function Pr(){if(mt===null){var e=Ze.alternate;e=e!==null?e.memoizedState:null}else e=mt.next;var t=wt===null?Ze.memoizedState:wt.next;if(t!==null)wt=t,mt=e;else{if(e===null)throw Error(X(310));mt=e,e={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},wt===null?Ze.memoizedState=wt=e:wt=wt.next=e}return wt}function Il(e,t){return typeof t=="function"?t(e):t}function rm(e){var t=Pr(),r=t.queue;if(r===null)throw Error(X(311));r.lastRenderedReducer=e;var n=mt,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var l=o=null,c=null,u=s;do{var f=u.lane;if((ji&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=d,o=n):c=c.next=d,Ze.lanes|=f,wi|=f}u=u.next}while(u!==null&&u!==s);c===null?o=n:c.next=l,Xr(n,t.memoizedState)||(Xt=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do s=i.lane,Ze.lanes|=s,wi|=s,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function nm(e){var t=Pr(),r=t.queue;if(r===null)throw Error(X(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,s=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Xr(s,t.memoizedState)||(Xt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function f_(){}function h_(e,t){var r=Ze,n=Pr(),i=t(),s=!Xr(n.memoizedState,i);if(s&&(n.memoizedState=i,Xt=!0),n=n.queue,hy(x_.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||wt!==null&&wt.memoizedState.tag&1){if(r.flags|=2048,Dl(9,p_.bind(null,r,n,i,t),void 0,null),Nt===null)throw Error(X(349));ji&30||m_(r,t,i)}return i}function m_(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ze.updateQueue,t===null?(t={lastEffect:null,stores:null},Ze.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function p_(e,t,r,n){t.value=r,t.getSnapshot=n,g_(t)&&y_(e)}function x_(e,t,r){return r(function(){g_(t)&&y_(e)})}function g_(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Xr(e,r)}catch{return!0}}function y_(e){var t=Fn(e,1);t!==null&&Gr(t,e,1,-1)}function Bv(e){var t=Jr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Il,lastRenderedState:e},t.queue=e,e=e.dispatch=T5.bind(null,Ze,e),[t.memoizedState,e]}function Dl(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ze.updateQueue,t===null?(t={lastEffect:null,stores:null},Ze.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function v_(){return Pr().memoizedState}function Lu(e,t,r,n){var i=Jr();Ze.flags|=e,i.memoizedState=Dl(1|t,r,void 0,n===void 0?null:n)}function kf(e,t,r,n){var i=Pr();n=n===void 0?null:n;var s=void 0;if(mt!==null){var o=mt.memoizedState;if(s=o.destroy,n!==null&&uy(n,o.deps)){i.memoizedState=Dl(t,r,s,n);return}}Ze.flags|=e,i.memoizedState=Dl(1|t,r,s,n)}function zv(e,t){return Lu(8390656,8,e,t)}function hy(e,t){return kf(2048,8,e,t)}function b_(e,t){return kf(4,2,e,t)}function j_(e,t){return kf(4,4,e,t)}function w_(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function N_(e,t,r){return r=r!=null?r.concat([e]):null,kf(4,4,w_.bind(null,t,e),r)}function my(){}function __(e,t){var r=Pr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&uy(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function S_(e,t){var r=Pr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&uy(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function O_(e,t,r){return ji&21?(Xr(r,t)||(r=E2(),Ze.lanes|=r,wi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Xt=!0),e.memoizedState=r)}function E5(e,t){var r=Me;Me=r!==0&&4>r?r:4,e(!0);var n=tm.transition;tm.transition={};try{e(!1),t()}finally{Me=r,tm.transition=n}}function C_(){return Pr().memoizedState}function $5(e,t,r){var n=Sa(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},P_(e))A_(t,r);else if(r=c_(e,t,r,n),r!==null){var i=Ut();Gr(r,e,n,i),k_(r,t,n)}}function T5(e,t,r){var n=Sa(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(P_(e))A_(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,r);if(i.hasEagerState=!0,i.eagerState=l,Xr(l,o)){var c=t.interleaved;c===null?(i.next=i,iy(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}r=c_(e,t,i,n),r!==null&&(i=Ut(),Gr(r,e,n,i),k_(r,t,n))}}function P_(e){var t=e.alternate;return e===Ze||t!==null&&t===Ze}function A_(e,t){hl=od=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function k_(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Kg(e,r)}}var ld={readContext:Cr,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useInsertionEffect:kt,useLayoutEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useMutableSource:kt,useSyncExternalStore:kt,useId:kt,unstable_isNewReconciler:!1},M5={readContext:Cr,useCallback:function(e,t){return Jr().memoizedState=[e,t===void 0?null:t],e},useContext:Cr,useEffect:zv,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Lu(4194308,4,w_.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Lu(4194308,4,e,t)},useInsertionEffect:function(e,t){return Lu(4,2,e,t)},useMemo:function(e,t){var r=Jr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Jr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=$5.bind(null,Ze,e),[n.memoizedState,e]},useRef:function(e){var t=Jr();return e={current:e},t.memoizedState=e},useState:Bv,useDebugValue:my,useDeferredValue:function(e){return Jr().memoizedState=e},useTransition:function(){var e=Bv(!1),t=e[0];return e=E5.bind(null,e[1]),Jr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ze,i=Jr();if(Xe){if(r===void 0)throw Error(X(407));r=r()}else{if(r=t(),Nt===null)throw Error(X(349));ji&30||m_(n,t,r)}i.memoizedState=r;var s={value:r,getSnapshot:t};return i.queue=s,zv(x_.bind(null,n,s,e),[e]),n.flags|=2048,Dl(9,p_.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=Jr(),t=Nt.identifierPrefix;if(Xe){var r=Pn,n=Cn;r=(n&~(1<<32-Vr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Rl++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=k5++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},R5={readContext:Cr,useCallback:__,useContext:Cr,useEffect:hy,useImperativeHandle:N_,useInsertionEffect:b_,useLayoutEffect:j_,useMemo:S_,useReducer:rm,useRef:v_,useState:function(){return rm(Il)},useDebugValue:my,useDeferredValue:function(e){var t=Pr();return O_(t,mt.memoizedState,e)},useTransition:function(){var e=rm(Il)[0],t=Pr().memoizedState;return[e,t]},useMutableSource:f_,useSyncExternalStore:h_,useId:C_,unstable_isNewReconciler:!1},I5={readContext:Cr,useCallback:__,useContext:Cr,useEffect:hy,useImperativeHandle:N_,useInsertionEffect:b_,useLayoutEffect:j_,useMemo:S_,useReducer:nm,useRef:v_,useState:function(){return nm(Il)},useDebugValue:my,useDeferredValue:function(e){var t=Pr();return mt===null?t.memoizedState=e:O_(t,mt.memoizedState,e)},useTransition:function(){var e=nm(Il)[0],t=Pr().memoizedState;return[e,t]},useMutableSource:f_,useSyncExternalStore:h_,useId:C_,unstable_isNewReconciler:!1};function Dr(e,t){if(e&&e.defaultProps){t=Je({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function _p(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Je({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ef={isMounted:function(e){return(e=e._reactInternals)?Ti(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ut(),i=Sa(e),s=$n(n,i);s.payload=t,r!=null&&(s.callback=r),t=Na(e,s,i),t!==null&&(Gr(t,e,i,n),Iu(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ut(),i=Sa(e),s=$n(n,i);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=Na(e,s,i),t!==null&&(Gr(t,e,i,n),Iu(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ut(),n=Sa(e),i=$n(r,n);i.tag=2,t!=null&&(i.callback=t),t=Na(e,i,n),t!==null&&(Gr(t,e,n,r),Iu(t,e,n))}};function Uv(e,t,r,n,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!Al(r,n)||!Al(i,s):!0}function E_(e,t,r){var n=!1,i=$a,s=t.contextType;return typeof s=="object"&&s!==null?s=Cr(s):(i=Zt(t)?vi:It.current,n=t.contextTypes,s=(n=n!=null)?Es(e,i):$a),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ef,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Wv(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ef.enqueueReplaceState(t,t.state,null)}function Sp(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},sy(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Cr(s):(s=Zt(t)?vi:It.current,i.context=Es(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(_p(e,t,s,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ef.enqueueReplaceState(i,i.state,null),id(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Rs(e,t){try{var r="",n=t;do r+=uk(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function am(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Op(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var D5=typeof WeakMap=="function"?WeakMap:Map;function $_(e,t,r){r=$n(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ud||(ud=!0,Ip=n),Op(e,t)},r}function T_(e,t,r){r=$n(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){Op(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){Op(e,t),typeof n!="function"&&(_a===null?_a=new Set([this]):_a.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Hv(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new D5;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=Y5.bind(null,e,t,r),t.then(e,e))}function Kv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function qv(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=$n(-1,1),t.tag=2,Na(r,t,1))),r.lanes|=1),e)}var L5=Kn.ReactCurrentOwner,Xt=!1;function Ft(e,t,r,n){t.child=e===null?l_(t,null,r,n):Ts(t,e.child,r,n)}function Vv(e,t,r,n,i){r=r.render;var s=t.ref;return ds(t,i),n=dy(e,t,r,n,s,i),r=fy(),e!==null&&!Xt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Bn(e,t,i)):(Xe&&r&&Jg(t),t.flags|=1,Ft(e,t,n,i),t.child)}function Gv(e,t,r,n,i){if(e===null){var s=r.type;return typeof s=="function"&&!wy(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,M_(e,t,s,n,i)):(e=Uu(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Al,r(o,n)&&e.ref===t.ref)return Bn(e,t,i)}return t.flags|=1,e=Oa(s,n),e.ref=t.ref,e.return=t,t.child=e}function M_(e,t,r,n,i){if(e!==null){var s=e.memoizedProps;if(Al(s,n)&&e.ref===t.ref)if(Xt=!1,t.pendingProps=n=s,(e.lanes&i)!==0)e.flags&131072&&(Xt=!0);else return t.lanes=e.lanes,Bn(e,t,i)}return Cp(e,t,r,n,i)}function R_(e,t,r){var n=t.pendingProps,i=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(ns,ar),ar|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ze(ns,ar),ar|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,ze(ns,ar),ar|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,ze(ns,ar),ar|=n;return Ft(e,t,i,r),t.child}function I_(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Cp(e,t,r,n,i){var s=Zt(r)?vi:It.current;return s=Es(t,s),ds(t,i),r=dy(e,t,r,n,s,i),n=fy(),e!==null&&!Xt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Bn(e,t,i)):(Xe&&n&&Jg(t),t.flags|=1,Ft(e,t,r,i),t.child)}function Xv(e,t,r,n,i){if(Zt(r)){var s=!0;ed(t)}else s=!1;if(ds(t,i),t.stateNode===null)Fu(e,t),E_(t,r,n),Sp(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Cr(u):(u=Zt(r)?vi:It.current,u=Es(t,u));var f=r.getDerivedStateFromProps,d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Wv(t,o,n,u),ea=!1;var h=t.memoizedState;o.state=h,id(t,n,o,i),c=t.memoizedState,l!==n||h!==c||Yt.current||ea?(typeof f=="function"&&(_p(t,r,f,n),c=t.memoizedState),(l=ea||Uv(t,r,l,n,h,c,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,u_(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Dr(t.type,l),o.props=u,d=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Cr(c):(c=Zt(r)?vi:It.current,c=Es(t,c));var m=r.getDerivedStateFromProps;(f=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||h!==c)&&Wv(t,o,n,c),ea=!1,h=t.memoizedState,o.state=h,id(t,n,o,i);var x=t.memoizedState;l!==d||h!==x||Yt.current||ea?(typeof m=="function"&&(_p(t,r,m,n),x=t.memoizedState),(u=ea||Uv(t,r,u,n,h,x,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),o.props=n,o.state=x,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Pp(e,t,r,n,s,i)}function Pp(e,t,r,n,i,s){I_(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&Mv(t,r,!1),Bn(e,t,s);n=t.stateNode,L5.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Ts(t,e.child,null,s),t.child=Ts(t,null,l,s)):Ft(e,t,l,s),t.memoizedState=n.state,i&&Mv(t,r,!0),t.child}function D_(e){var t=e.stateNode;t.pendingContext?Tv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Tv(e,t.context,!1),oy(e,t.containerInfo)}function Qv(e,t,r,n,i){return $s(),ty(i),t.flags|=256,Ft(e,t,r,n),t.child}var Ap={dehydrated:null,treeContext:null,retryLane:0};function kp(e){return{baseLanes:e,cachePool:null,transitions:null}}function L_(e,t,r){var n=t.pendingProps,i=Ye.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ze(Ye,i&1),e===null)return wp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Mf(o,n,0,null),e=pi(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=kp(r),t.memoizedState=Ap,e):py(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return F5(e,t,o,n,l,i,r);if(s){s=n.fallback,o=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Oa(i,c),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Oa(l,s):(s=pi(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?kp(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=Ap,n}return s=e.child,e=s.sibling,n=Oa(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function py(e,t){return t=Mf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function cu(e,t,r,n){return n!==null&&ty(n),Ts(t,e.child,null,r),e=py(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function F5(e,t,r,n,i,s,o){if(r)return t.flags&256?(t.flags&=-257,n=am(Error(X(422))),cu(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=Mf({mode:"visible",children:n.children},i,0,null),s=pi(s,i,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&Ts(t,e.child,null,o),t.child.memoizedState=kp(o),t.memoizedState=Ap,s);if(!(t.mode&1))return cu(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(X(419)),n=am(s,n,void 0),cu(e,t,o,n)}if(l=(o&e.childLanes)!==0,Xt||l){if(n=Nt,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Fn(e,i),Gr(n,e,i,-1))}return jy(),n=am(Error(X(421))),cu(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Z5.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,or=wa(i.nextSibling),lr=t,Xe=!0,Wr=null,e!==null&&(vr[br++]=Cn,vr[br++]=Pn,vr[br++]=bi,Cn=e.id,Pn=e.overflow,bi=t),t=py(t,n.children),t.flags|=4096,t)}function Yv(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Np(e.return,t,r)}function im(e,t,r,n,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function F_(e,t,r){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(Ft(e,t,n.children,r),n=Ye.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Yv(e,r,t);else if(e.tag===19)Yv(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ze(Ye,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&sd(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),im(t,!1,i,r,s);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&sd(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}im(t,!0,r,null,s);break;case"together":im(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Fu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Bn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),wi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(X(153));if(t.child!==null){for(e=t.child,r=Oa(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Oa(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function B5(e,t,r){switch(t.tag){case 3:D_(t),$s();break;case 5:d_(t);break;case 1:Zt(t.type)&&ed(t);break;case 4:oy(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;ze(nd,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ze(Ye,Ye.current&1),t.flags|=128,null):r&t.child.childLanes?L_(e,t,r):(ze(Ye,Ye.current&1),e=Bn(e,t,r),e!==null?e.sibling:null);ze(Ye,Ye.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return F_(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ze(Ye,Ye.current),n)break;return null;case 22:case 23:return t.lanes=0,R_(e,t,r)}return Bn(e,t,r)}var B_,Ep,z_,U_;B_=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ep=function(){};z_=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Za(ln.current);var s=null;switch(r){case"input":i=Jm(e,i),n=Jm(e,n),s=[];break;case"select":i=Je({},i,{value:void 0}),n=Je({},n,{value:void 0}),s=[];break;case"textarea":i=rp(e,i),n=rp(e,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Zu)}ap(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(wl.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(l=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(wl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&He("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};U_=function(e,t,r,n){r!==n&&(t.flags|=4)};function Fo(e,t){if(!Xe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Et(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function z5(e,t,r){var n=t.pendingProps;switch(ey(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(t),null;case 1:return Zt(t.type)&&Ju(),Et(t),null;case 3:return n=t.stateNode,Ms(),Ve(Yt),Ve(It),cy(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ou(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Wr!==null&&(Fp(Wr),Wr=null))),Ep(e,t),Et(t),null;case 5:ly(t);var i=Za(Ml.current);if(r=t.type,e!==null&&t.stateNode!=null)z_(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(X(166));return Et(t),null}if(e=Za(ln.current),ou(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[an]=t,n[$l]=s,e=(t.mode&1)!==0,r){case"dialog":He("cancel",n),He("close",n);break;case"iframe":case"object":case"embed":He("load",n);break;case"video":case"audio":for(i=0;i<al.length;i++)He(al[i],n);break;case"source":He("error",n);break;case"img":case"image":case"link":He("error",n),He("load",n);break;case"details":He("toggle",n);break;case"input":sv(n,s),He("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},He("invalid",n);break;case"textarea":lv(n,s),He("invalid",n)}ap(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&su(n.textContent,l,e),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&su(n.textContent,l,e),i=["children",""+l]):wl.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&He("scroll",n)}switch(r){case"input":Zc(n),ov(n,s,!0);break;case"textarea":Zc(n),cv(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Zu)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=x2(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[an]=t,e[$l]=n,B_(e,t,!1,!1),t.stateNode=e;e:{switch(o=ip(r,n),r){case"dialog":He("cancel",e),He("close",e),i=n;break;case"iframe":case"object":case"embed":He("load",e),i=n;break;case"video":case"audio":for(i=0;i<al.length;i++)He(al[i],e);i=n;break;case"source":He("error",e),i=n;break;case"img":case"image":case"link":He("error",e),He("load",e),i=n;break;case"details":He("toggle",e),i=n;break;case"input":sv(e,n),i=Jm(e,n),He("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Je({},n,{value:void 0}),He("invalid",e);break;case"textarea":lv(e,n),i=rp(e,n),He("invalid",e);break;default:i=n}ap(r,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?v2(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&g2(e,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Nl(e,c):typeof c=="number"&&Nl(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(wl.hasOwnProperty(s)?c!=null&&s==="onScroll"&&He("scroll",e):c!=null&&Fg(e,s,c,o))}switch(r){case"input":Zc(e),ov(e,n,!1);break;case"textarea":Zc(e),cv(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ea(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?os(e,!!n.multiple,s,!1):n.defaultValue!=null&&os(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Zu)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Et(t),null;case 6:if(e&&t.stateNode!=null)U_(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(X(166));if(r=Za(Ml.current),Za(ln.current),ou(t)){if(n=t.stateNode,r=t.memoizedProps,n[an]=t,(s=n.nodeValue!==r)&&(e=lr,e!==null))switch(e.tag){case 3:su(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&su(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[an]=t,t.stateNode=n}return Et(t),null;case 13:if(Ve(Ye),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Xe&&or!==null&&t.mode&1&&!(t.flags&128))s_(),$s(),t.flags|=98560,s=!1;else if(s=ou(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(X(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(X(317));s[an]=t}else $s(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Et(t),s=!1}else Wr!==null&&(Fp(Wr),Wr=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ye.current&1?xt===0&&(xt=3):jy())),t.updateQueue!==null&&(t.flags|=4),Et(t),null);case 4:return Ms(),Ep(e,t),e===null&&kl(t.stateNode.containerInfo),Et(t),null;case 10:return ay(t.type._context),Et(t),null;case 17:return Zt(t.type)&&Ju(),Et(t),null;case 19:if(Ve(Ye),s=t.memoizedState,s===null)return Et(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)Fo(s,!1);else{if(xt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=sd(e),o!==null){for(t.flags|=128,Fo(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ze(Ye,Ye.current&1|2),t.child}e=e.sibling}s.tail!==null&&at()>Is&&(t.flags|=128,n=!0,Fo(s,!1),t.lanes=4194304)}else{if(!n)if(e=sd(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Fo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Xe)return Et(t),null}else 2*at()-s.renderingStartTime>Is&&r!==1073741824&&(t.flags|=128,n=!0,Fo(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=at(),t.sibling=null,r=Ye.current,ze(Ye,n?r&1|2:r&1),t):(Et(t),null);case 22:case 23:return by(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ar&1073741824&&(Et(t),t.subtreeFlags&6&&(t.flags|=8192)):Et(t),null;case 24:return null;case 25:return null}throw Error(X(156,t.tag))}function U5(e,t){switch(ey(t),t.tag){case 1:return Zt(t.type)&&Ju(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ms(),Ve(Yt),Ve(It),cy(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ly(t),null;case 13:if(Ve(Ye),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(X(340));$s()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ve(Ye),null;case 4:return Ms(),null;case 10:return ay(t.type._context),null;case 22:case 23:return by(),null;case 24:return null;default:return null}}var uu=!1,Tt=!1,W5=typeof WeakSet=="function"?WeakSet:Set,te=null;function rs(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){tt(e,t,n)}else r.current=null}function $p(e,t,r){try{r()}catch(n){tt(e,t,n)}}var Zv=!1;function H5(e,t){if(pp=Xu,e=V2(),Zg(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,f=0,d=e,h=null;t:for(;;){for(var m;d!==r||i!==0&&d.nodeType!==3||(l=o+i),d!==s||n!==0&&d.nodeType!==3||(c=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)h=d,d=m;for(;;){if(d===e)break t;if(h===r&&++u===i&&(l=o),h===s&&++f===n&&(c=o),(m=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(xp={focusedElem:e,selectionRange:r},Xu=!1,te=t;te!==null;)if(t=te,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,te=e;else for(;te!==null;){t=te;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var g=x.memoizedProps,v=x.memoizedState,p=t.stateNode,y=p.getSnapshotBeforeUpdate(t.elementType===t.type?g:Dr(t.type,g),v);p.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(w){tt(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,te=e;break}te=t.return}return x=Zv,Zv=!1,x}function ml(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&$p(t,r,s)}i=i.next}while(i!==n)}}function $f(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Tp(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function W_(e){var t=e.alternate;t!==null&&(e.alternate=null,W_(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[an],delete t[$l],delete t[vp],delete t[O5],delete t[C5])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function H_(e){return e.tag===5||e.tag===3||e.tag===4}function Jv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||H_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Mp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Zu));else if(n!==4&&(e=e.child,e!==null))for(Mp(e,t,r),e=e.sibling;e!==null;)Mp(e,t,r),e=e.sibling}function Rp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Rp(e,t,r),e=e.sibling;e!==null;)Rp(e,t,r),e=e.sibling}var Ot=null,Br=!1;function Xn(e,t,r){for(r=r.child;r!==null;)K_(e,t,r),r=r.sibling}function K_(e,t,r){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(_f,r)}catch{}switch(r.tag){case 5:Tt||rs(r,t);case 6:var n=Ot,i=Br;Ot=null,Xn(e,t,r),Ot=n,Br=i,Ot!==null&&(Br?(e=Ot,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ot.removeChild(r.stateNode));break;case 18:Ot!==null&&(Br?(e=Ot,r=r.stateNode,e.nodeType===8?Zh(e.parentNode,r):e.nodeType===1&&Zh(e,r),Cl(e)):Zh(Ot,r.stateNode));break;case 4:n=Ot,i=Br,Ot=r.stateNode.containerInfo,Br=!0,Xn(e,t,r),Ot=n,Br=i;break;case 0:case 11:case 14:case 15:if(!Tt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&$p(r,t,o),i=i.next}while(i!==n)}Xn(e,t,r);break;case 1:if(!Tt&&(rs(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){tt(r,t,l)}Xn(e,t,r);break;case 21:Xn(e,t,r);break;case 22:r.mode&1?(Tt=(n=Tt)||r.memoizedState!==null,Xn(e,t,r),Tt=n):Xn(e,t,r);break;default:Xn(e,t,r)}}function eb(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new W5),t.forEach(function(n){var i=J5.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Rr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ot=l.stateNode,Br=!1;break e;case 3:Ot=l.stateNode.containerInfo,Br=!0;break e;case 4:Ot=l.stateNode.containerInfo,Br=!0;break e}l=l.return}if(Ot===null)throw Error(X(160));K_(s,o,i),Ot=null,Br=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){tt(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)q_(t,e),t=t.sibling}function q_(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Rr(t,e),Zr(e),n&4){try{ml(3,e,e.return),$f(3,e)}catch(g){tt(e,e.return,g)}try{ml(5,e,e.return)}catch(g){tt(e,e.return,g)}}break;case 1:Rr(t,e),Zr(e),n&512&&r!==null&&rs(r,r.return);break;case 5:if(Rr(t,e),Zr(e),n&512&&r!==null&&rs(r,r.return),e.flags&32){var i=e.stateNode;try{Nl(i,"")}catch(g){tt(e,e.return,g)}}if(n&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&m2(i,s),ip(l,o);var u=ip(l,s);for(o=0;o<c.length;o+=2){var f=c[o],d=c[o+1];f==="style"?v2(i,d):f==="dangerouslySetInnerHTML"?g2(i,d):f==="children"?Nl(i,d):Fg(i,f,d,u)}switch(l){case"input":ep(i,s);break;case"textarea":p2(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?os(i,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?os(i,!!s.multiple,s.defaultValue,!0):os(i,!!s.multiple,s.multiple?[]:"",!1))}i[$l]=s}catch(g){tt(e,e.return,g)}}break;case 6:if(Rr(t,e),Zr(e),n&4){if(e.stateNode===null)throw Error(X(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(g){tt(e,e.return,g)}}break;case 3:if(Rr(t,e),Zr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Cl(t.containerInfo)}catch(g){tt(e,e.return,g)}break;case 4:Rr(t,e),Zr(e);break;case 13:Rr(t,e),Zr(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(yy=at())),n&4&&eb(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(Tt=(u=Tt)||f,Rr(t,e),Tt=u):Rr(t,e),Zr(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(te=e,f=e.child;f!==null;){for(d=te=f;te!==null;){switch(h=te,m=h.child,h.tag){case 0:case 11:case 14:case 15:ml(4,h,h.return);break;case 1:rs(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(g){tt(n,r,g)}}break;case 5:rs(h,h.return);break;case 22:if(h.memoizedState!==null){rb(d);continue}}m!==null?(m.return=h,te=m):rb(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=d.stateNode,c=d.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=y2("display",o))}catch(g){tt(e,e.return,g)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){tt(e,e.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Rr(t,e),Zr(e),n&4&&eb(e);break;case 21:break;default:Rr(t,e),Zr(e)}}function Zr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(H_(r)){var n=r;break e}r=r.return}throw Error(X(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Nl(i,""),n.flags&=-33);var s=Jv(e);Rp(e,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Jv(e);Mp(e,l,o);break;default:throw Error(X(161))}}catch(c){tt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function K5(e,t,r){te=e,V_(e)}function V_(e,t,r){for(var n=(e.mode&1)!==0;te!==null;){var i=te,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||uu;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Tt;l=uu;var u=Tt;if(uu=o,(Tt=c)&&!u)for(te=i;te!==null;)o=te,c=o.child,o.tag===22&&o.memoizedState!==null?nb(i):c!==null?(c.return=o,te=c):nb(i);for(;s!==null;)te=s,V_(s),s=s.sibling;te=i,uu=l,Tt=u}tb(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,te=s):tb(e)}}function tb(e){for(;te!==null;){var t=te;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Tt||$f(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Tt)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Dr(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Fv(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Fv(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&Cl(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}Tt||t.flags&512&&Tp(t)}catch(h){tt(t,t.return,h)}}if(t===e){te=null;break}if(r=t.sibling,r!==null){r.return=t.return,te=r;break}te=t.return}}function rb(e){for(;te!==null;){var t=te;if(t===e){te=null;break}var r=t.sibling;if(r!==null){r.return=t.return,te=r;break}te=t.return}}function nb(e){for(;te!==null;){var t=te;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{$f(4,t)}catch(c){tt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){tt(t,i,c)}}var s=t.return;try{Tp(t)}catch(c){tt(t,s,c)}break;case 5:var o=t.return;try{Tp(t)}catch(c){tt(t,o,c)}}}catch(c){tt(t,t.return,c)}if(t===e){te=null;break}var l=t.sibling;if(l!==null){l.return=t.return,te=l;break}te=t.return}}var q5=Math.ceil,cd=Kn.ReactCurrentDispatcher,xy=Kn.ReactCurrentOwner,_r=Kn.ReactCurrentBatchConfig,Pe=0,Nt=null,ot=null,Pt=0,ar=0,ns=Ra(0),xt=0,Ll=null,wi=0,Tf=0,gy=0,pl=null,Gt=null,yy=0,Is=1/0,yn=null,ud=!1,Ip=null,_a=null,du=!1,pa=null,dd=0,xl=0,Dp=null,Bu=-1,zu=0;function Ut(){return Pe&6?at():Bu!==-1?Bu:Bu=at()}function Sa(e){return e.mode&1?Pe&2&&Pt!==0?Pt&-Pt:A5.transition!==null?(zu===0&&(zu=E2()),zu):(e=Me,e!==0||(e=window.event,e=e===void 0?16:L2(e.type)),e):1}function Gr(e,t,r,n){if(50<xl)throw xl=0,Dp=null,Error(X(185));Ec(e,r,n),(!(Pe&2)||e!==Nt)&&(e===Nt&&(!(Pe&2)&&(Tf|=r),xt===4&&na(e,Pt)),Jt(e,n),r===1&&Pe===0&&!(t.mode&1)&&(Is=at()+500,Af&&Ia()))}function Jt(e,t){var r=e.callbackNode;Ak(e,t);var n=Gu(e,e===Nt?Pt:0);if(n===0)r!==null&&fv(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&fv(r),t===1)e.tag===0?P5(ab.bind(null,e)):n_(ab.bind(null,e)),_5(function(){!(Pe&6)&&Ia()}),r=null;else{switch($2(n)){case 1:r=Hg;break;case 4:r=A2;break;case 16:r=Vu;break;case 536870912:r=k2;break;default:r=Vu}r=tS(r,G_.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function G_(e,t){if(Bu=-1,zu=0,Pe&6)throw Error(X(327));var r=e.callbackNode;if(fs()&&e.callbackNode!==r)return null;var n=Gu(e,e===Nt?Pt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=fd(e,n);else{t=n;var i=Pe;Pe|=2;var s=Q_();(Nt!==e||Pt!==t)&&(yn=null,Is=at()+500,mi(e,t));do try{X5();break}catch(l){X_(e,l)}while(!0);ny(),cd.current=s,Pe=i,ot!==null?t=0:(Nt=null,Pt=0,t=xt)}if(t!==0){if(t===2&&(i=up(e),i!==0&&(n=i,t=Lp(e,i))),t===1)throw r=Ll,mi(e,0),na(e,n),Jt(e,at()),r;if(t===6)na(e,n);else{if(i=e.current.alternate,!(n&30)&&!V5(i)&&(t=fd(e,n),t===2&&(s=up(e),s!==0&&(n=s,t=Lp(e,s))),t===1))throw r=Ll,mi(e,0),na(e,n),Jt(e,at()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(X(345));case 2:qa(e,Gt,yn);break;case 3:if(na(e,n),(n&130023424)===n&&(t=yy+500-at(),10<t)){if(Gu(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Ut(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=yp(qa.bind(null,e,Gt,yn),t);break}qa(e,Gt,yn);break;case 4:if(na(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-Vr(n);s=1<<o,o=t[o],o>i&&(i=o),n&=~s}if(n=i,n=at()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*q5(n/1960))-n,10<n){e.timeoutHandle=yp(qa.bind(null,e,Gt,yn),n);break}qa(e,Gt,yn);break;case 5:qa(e,Gt,yn);break;default:throw Error(X(329))}}}return Jt(e,at()),e.callbackNode===r?G_.bind(null,e):null}function Lp(e,t){var r=pl;return e.current.memoizedState.isDehydrated&&(mi(e,t).flags|=256),e=fd(e,t),e!==2&&(t=Gt,Gt=r,t!==null&&Fp(t)),e}function Fp(e){Gt===null?Gt=e:Gt.push.apply(Gt,e)}function V5(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Xr(s(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function na(e,t){for(t&=~gy,t&=~Tf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Vr(t),n=1<<r;e[r]=-1,t&=~n}}function ab(e){if(Pe&6)throw Error(X(327));fs();var t=Gu(e,0);if(!(t&1))return Jt(e,at()),null;var r=fd(e,t);if(e.tag!==0&&r===2){var n=up(e);n!==0&&(t=n,r=Lp(e,n))}if(r===1)throw r=Ll,mi(e,0),na(e,t),Jt(e,at()),r;if(r===6)throw Error(X(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,qa(e,Gt,yn),Jt(e,at()),null}function vy(e,t){var r=Pe;Pe|=1;try{return e(t)}finally{Pe=r,Pe===0&&(Is=at()+500,Af&&Ia())}}function Ni(e){pa!==null&&pa.tag===0&&!(Pe&6)&&fs();var t=Pe;Pe|=1;var r=_r.transition,n=Me;try{if(_r.transition=null,Me=1,e)return e()}finally{Me=n,_r.transition=r,Pe=t,!(Pe&6)&&Ia()}}function by(){ar=ns.current,Ve(ns)}function mi(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,N5(r)),ot!==null)for(r=ot.return;r!==null;){var n=r;switch(ey(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ju();break;case 3:Ms(),Ve(Yt),Ve(It),cy();break;case 5:ly(n);break;case 4:Ms();break;case 13:Ve(Ye);break;case 19:Ve(Ye);break;case 10:ay(n.type._context);break;case 22:case 23:by()}r=r.return}if(Nt=e,ot=e=Oa(e.current,null),Pt=ar=t,xt=0,Ll=null,gy=Tf=wi=0,Gt=pl=null,Ya!==null){for(t=0;t<Ya.length;t++)if(r=Ya[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}Ya=null}return e}function X_(e,t){do{var r=ot;try{if(ny(),Du.current=ld,od){for(var n=Ze.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}od=!1}if(ji=0,wt=mt=Ze=null,hl=!1,Rl=0,xy.current=null,r===null||r.return===null){xt=1,Ll=t,ot=null;break}e:{var s=e,o=r.return,l=r,c=t;if(t=Pt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=l,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var m=Kv(o);if(m!==null){m.flags&=-257,qv(m,o,l,s,t),m.mode&1&&Hv(s,u,t),t=m,c=u;var x=t.updateQueue;if(x===null){var g=new Set;g.add(c),t.updateQueue=g}else x.add(c);break e}else{if(!(t&1)){Hv(s,u,t),jy();break e}c=Error(X(426))}}else if(Xe&&l.mode&1){var v=Kv(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),qv(v,o,l,s,t),ty(Rs(c,l));break e}}s=c=Rs(c,l),xt!==4&&(xt=2),pl===null?pl=[s]:pl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var p=$_(s,c,t);Lv(s,p);break e;case 1:l=c;var y=s.type,j=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(_a===null||!_a.has(j)))){s.flags|=65536,t&=-t,s.lanes|=t;var w=T_(s,l,t);Lv(s,w);break e}}s=s.return}while(s!==null)}Z_(r)}catch(b){t=b,ot===r&&r!==null&&(ot=r=r.return);continue}break}while(!0)}function Q_(){var e=cd.current;return cd.current=ld,e===null?ld:e}function jy(){(xt===0||xt===3||xt===2)&&(xt=4),Nt===null||!(wi&268435455)&&!(Tf&268435455)||na(Nt,Pt)}function fd(e,t){var r=Pe;Pe|=2;var n=Q_();(Nt!==e||Pt!==t)&&(yn=null,mi(e,t));do try{G5();break}catch(i){X_(e,i)}while(!0);if(ny(),Pe=r,cd.current=n,ot!==null)throw Error(X(261));return Nt=null,Pt=0,xt}function G5(){for(;ot!==null;)Y_(ot)}function X5(){for(;ot!==null&&!bk();)Y_(ot)}function Y_(e){var t=eS(e.alternate,e,ar);e.memoizedProps=e.pendingProps,t===null?Z_(e):ot=t,xy.current=null}function Z_(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=U5(r,t),r!==null){r.flags&=32767,ot=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{xt=6,ot=null;return}}else if(r=z5(r,t,ar),r!==null){ot=r;return}if(t=t.sibling,t!==null){ot=t;return}ot=t=e}while(t!==null);xt===0&&(xt=5)}function qa(e,t,r){var n=Me,i=_r.transition;try{_r.transition=null,Me=1,Q5(e,t,r,n)}finally{_r.transition=i,Me=n}return null}function Q5(e,t,r,n){do fs();while(pa!==null);if(Pe&6)throw Error(X(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(X(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(kk(e,s),e===Nt&&(ot=Nt=null,Pt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||du||(du=!0,tS(Vu,function(){return fs(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=_r.transition,_r.transition=null;var o=Me;Me=1;var l=Pe;Pe|=4,xy.current=null,H5(e,r),q_(r,e),x5(xp),Xu=!!pp,xp=pp=null,e.current=r,K5(r),jk(),Pe=l,Me=o,_r.transition=s}else e.current=r;if(du&&(du=!1,pa=e,dd=i),s=e.pendingLanes,s===0&&(_a=null),_k(r.stateNode),Jt(e,at()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(ud)throw ud=!1,e=Ip,Ip=null,e;return dd&1&&e.tag!==0&&fs(),s=e.pendingLanes,s&1?e===Dp?xl++:(xl=0,Dp=e):xl=0,Ia(),null}function fs(){if(pa!==null){var e=$2(dd),t=_r.transition,r=Me;try{if(_r.transition=null,Me=16>e?16:e,pa===null)var n=!1;else{if(e=pa,pa=null,dd=0,Pe&6)throw Error(X(331));var i=Pe;for(Pe|=4,te=e.current;te!==null;){var s=te,o=s.child;if(te.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(te=u;te!==null;){var f=te;switch(f.tag){case 0:case 11:case 15:ml(8,f,s)}var d=f.child;if(d!==null)d.return=f,te=d;else for(;te!==null;){f=te;var h=f.sibling,m=f.return;if(W_(f),f===u){te=null;break}if(h!==null){h.return=m,te=h;break}te=m}}}var x=s.alternate;if(x!==null){var g=x.child;if(g!==null){x.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}te=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,te=o;else e:for(;te!==null;){if(s=te,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ml(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,te=p;break e}te=s.return}}var y=e.current;for(te=y;te!==null;){o=te;var j=o.child;if(o.subtreeFlags&2064&&j!==null)j.return=o,te=j;else e:for(o=y;te!==null;){if(l=te,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:$f(9,l)}}catch(b){tt(l,l.return,b)}if(l===o){te=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,te=w;break e}te=l.return}}if(Pe=i,Ia(),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(_f,e)}catch{}n=!0}return n}finally{Me=r,_r.transition=t}}return!1}function ib(e,t,r){t=Rs(r,t),t=$_(e,t,1),e=Na(e,t,1),t=Ut(),e!==null&&(Ec(e,1,t),Jt(e,t))}function tt(e,t,r){if(e.tag===3)ib(e,e,r);else for(;t!==null;){if(t.tag===3){ib(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(_a===null||!_a.has(n))){e=Rs(r,e),e=T_(t,e,1),t=Na(t,e,1),e=Ut(),t!==null&&(Ec(t,1,e),Jt(t,e));break}}t=t.return}}function Y5(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ut(),e.pingedLanes|=e.suspendedLanes&r,Nt===e&&(Pt&r)===r&&(xt===4||xt===3&&(Pt&130023424)===Pt&&500>at()-yy?mi(e,0):gy|=r),Jt(e,t)}function J_(e,t){t===0&&(e.mode&1?(t=tu,tu<<=1,!(tu&130023424)&&(tu=4194304)):t=1);var r=Ut();e=Fn(e,t),e!==null&&(Ec(e,t,r),Jt(e,r))}function Z5(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),J_(e,r)}function J5(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(X(314))}n!==null&&n.delete(t),J_(e,r)}var eS;eS=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Yt.current)Xt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Xt=!1,B5(e,t,r);Xt=!!(e.flags&131072)}else Xt=!1,Xe&&t.flags&1048576&&a_(t,rd,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Fu(e,t),e=t.pendingProps;var i=Es(t,It.current);ds(t,r),i=dy(null,t,n,e,i,r);var s=fy();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Zt(n)?(s=!0,ed(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,sy(t),i.updater=Ef,t.stateNode=i,i._reactInternals=t,Sp(t,n,e,r),t=Pp(null,t,n,!0,s,r)):(t.tag=0,Xe&&s&&Jg(t),Ft(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Fu(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=tE(n),e=Dr(n,e),i){case 0:t=Cp(null,t,n,e,r);break e;case 1:t=Xv(null,t,n,e,r);break e;case 11:t=Vv(null,t,n,e,r);break e;case 14:t=Gv(null,t,n,Dr(n.type,e),r);break e}throw Error(X(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Dr(n,i),Cp(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Dr(n,i),Xv(e,t,n,i,r);case 3:e:{if(D_(t),e===null)throw Error(X(387));n=t.pendingProps,s=t.memoizedState,i=s.element,u_(e,t),id(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Rs(Error(X(423)),t),t=Qv(e,t,n,r,i);break e}else if(n!==i){i=Rs(Error(X(424)),t),t=Qv(e,t,n,r,i);break e}else for(or=wa(t.stateNode.containerInfo.firstChild),lr=t,Xe=!0,Wr=null,r=l_(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if($s(),n===i){t=Bn(e,t,r);break e}Ft(e,t,n,r)}t=t.child}return t;case 5:return d_(t),e===null&&wp(t),n=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,gp(n,i)?o=null:s!==null&&gp(n,s)&&(t.flags|=32),I_(e,t),Ft(e,t,o,r),t.child;case 6:return e===null&&wp(t),null;case 13:return L_(e,t,r);case 4:return oy(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ts(t,null,n,r):Ft(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Dr(n,i),Vv(e,t,n,i,r);case 7:return Ft(e,t,t.pendingProps,r),t.child;case 8:return Ft(e,t,t.pendingProps.children,r),t.child;case 12:return Ft(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,ze(nd,n._currentValue),n._currentValue=o,s!==null)if(Xr(s.value,o)){if(s.children===i.children&&!Yt.current){t=Bn(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=$n(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),Np(s.return,r,t),l.lanes|=r;break}c=c.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(X(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Np(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ft(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,ds(t,r),i=Cr(i),n=n(i),t.flags|=1,Ft(e,t,n,r),t.child;case 14:return n=t.type,i=Dr(n,t.pendingProps),i=Dr(n.type,i),Gv(e,t,n,i,r);case 15:return M_(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Dr(n,i),Fu(e,t),t.tag=1,Zt(n)?(e=!0,ed(t)):e=!1,ds(t,r),E_(t,n,i),Sp(t,n,i,r),Pp(null,t,n,!0,e,r);case 19:return F_(e,t,r);case 22:return R_(e,t,r)}throw Error(X(156,t.tag))};function tS(e,t){return P2(e,t)}function eE(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jr(e,t,r,n){return new eE(e,t,r,n)}function wy(e){return e=e.prototype,!(!e||!e.isReactComponent)}function tE(e){if(typeof e=="function")return wy(e)?1:0;if(e!=null){if(e=e.$$typeof,e===zg)return 11;if(e===Ug)return 14}return 2}function Oa(e,t){var r=e.alternate;return r===null?(r=jr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Uu(e,t,r,n,i,s){var o=2;if(n=e,typeof e=="function")wy(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Vi:return pi(r.children,i,s,t);case Bg:o=8,i|=8;break;case Xm:return e=jr(12,r,t,i|2),e.elementType=Xm,e.lanes=s,e;case Qm:return e=jr(13,r,t,i),e.elementType=Qm,e.lanes=s,e;case Ym:return e=jr(19,r,t,i),e.elementType=Ym,e.lanes=s,e;case d2:return Mf(r,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case c2:o=10;break e;case u2:o=9;break e;case zg:o=11;break e;case Ug:o=14;break e;case Jn:o=16,n=null;break e}throw Error(X(130,e==null?e:typeof e,""))}return t=jr(o,r,t,i),t.elementType=e,t.type=n,t.lanes=s,t}function pi(e,t,r,n){return e=jr(7,e,n,t),e.lanes=r,e}function Mf(e,t,r,n){return e=jr(22,e,n,t),e.elementType=d2,e.lanes=r,e.stateNode={isHidden:!1},e}function sm(e,t,r){return e=jr(6,e,null,t),e.lanes=r,e}function om(e,t,r){return t=jr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function rE(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zh(0),this.expirationTimes=zh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zh(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ny(e,t,r,n,i,s,o,l,c){return e=new rE(e,t,r,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=jr(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},sy(s),e}function nE(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qi,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function rS(e){if(!e)return $a;e=e._reactInternals;e:{if(Ti(e)!==e||e.tag!==1)throw Error(X(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Zt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(X(171))}if(e.tag===1){var r=e.type;if(Zt(r))return r_(e,r,t)}return t}function nS(e,t,r,n,i,s,o,l,c){return e=Ny(r,n,!0,e,i,s,o,l,c),e.context=rS(null),r=e.current,n=Ut(),i=Sa(r),s=$n(n,i),s.callback=t??null,Na(r,s,i),e.current.lanes=i,Ec(e,i,n),Jt(e,n),e}function Rf(e,t,r,n){var i=t.current,s=Ut(),o=Sa(i);return r=rS(r),t.context===null?t.context=r:t.pendingContext=r,t=$n(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Na(i,t,o),e!==null&&(Gr(e,i,o,s),Iu(e,i,o)),o}function hd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function sb(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function _y(e,t){sb(e,t),(e=e.alternate)&&sb(e,t)}function aE(){return null}var aS=typeof reportError=="function"?reportError:function(e){console.error(e)};function Sy(e){this._internalRoot=e}If.prototype.render=Sy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(X(409));Rf(e,t,null,null)};If.prototype.unmount=Sy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ni(function(){Rf(null,e,null,null)}),t[Ln]=null}};function If(e){this._internalRoot=e}If.prototype.unstable_scheduleHydration=function(e){if(e){var t=R2();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ra.length&&t!==0&&t<ra[r].priority;r++);ra.splice(r,0,e),r===0&&D2(e)}};function Oy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Df(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ob(){}function iE(e,t,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=hd(o);s.call(u)}}var o=nS(t,n,e,0,null,!1,!1,"",ob);return e._reactRootContainer=o,e[Ln]=o.current,kl(e.nodeType===8?e.parentNode:e),Ni(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var u=hd(c);l.call(u)}}var c=Ny(e,0,!1,null,null,!1,!1,"",ob);return e._reactRootContainer=c,e[Ln]=c.current,kl(e.nodeType===8?e.parentNode:e),Ni(function(){Rf(t,c,r,n)}),c}function Lf(e,t,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var c=hd(o);l.call(c)}}Rf(t,o,e,i)}else o=iE(r,t,e,i,n);return hd(o)}T2=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=nl(t.pendingLanes);r!==0&&(Kg(t,r|1),Jt(t,at()),!(Pe&6)&&(Is=at()+500,Ia()))}break;case 13:Ni(function(){var n=Fn(e,1);if(n!==null){var i=Ut();Gr(n,e,1,i)}}),_y(e,1)}};qg=function(e){if(e.tag===13){var t=Fn(e,134217728);if(t!==null){var r=Ut();Gr(t,e,134217728,r)}_y(e,134217728)}};M2=function(e){if(e.tag===13){var t=Sa(e),r=Fn(e,t);if(r!==null){var n=Ut();Gr(r,e,t,n)}_y(e,t)}};R2=function(){return Me};I2=function(e,t){var r=Me;try{return Me=e,t()}finally{Me=r}};op=function(e,t,r){switch(t){case"input":if(ep(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Pf(n);if(!i)throw Error(X(90));h2(n),ep(n,i)}}}break;case"textarea":p2(e,r);break;case"select":t=r.value,t!=null&&os(e,!!r.multiple,t,!1)}};w2=vy;N2=Ni;var sE={usingClientEntryPoint:!1,Events:[Tc,Yi,Pf,b2,j2,vy]},Bo={findFiberByHostInstance:Qa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},oE={bundleType:Bo.bundleType,version:Bo.version,rendererPackageName:Bo.rendererPackageName,rendererConfig:Bo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=O2(e),e===null?null:e.stateNode},findFiberByHostInstance:Bo.findFiberByHostInstance||aE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fu.isDisabled&&fu.supportsFiber)try{_f=fu.inject(oE),on=fu}catch{}}fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sE;fr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Oy(t))throw Error(X(200));return nE(e,t,null,r)};fr.createRoot=function(e,t){if(!Oy(e))throw Error(X(299));var r=!1,n="",i=aS;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Ny(e,1,!1,null,null,r,!1,n,i),e[Ln]=t.current,kl(e.nodeType===8?e.parentNode:e),new Sy(t)};fr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(X(188)):(e=Object.keys(e).join(","),Error(X(268,e)));return e=O2(t),e=e===null?null:e.stateNode,e};fr.flushSync=function(e){return Ni(e)};fr.hydrate=function(e,t,r){if(!Df(t))throw Error(X(200));return Lf(null,e,t,!0,r)};fr.hydrateRoot=function(e,t,r){if(!Oy(e))throw Error(X(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=aS;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=nS(t,null,e,1,r??null,i,!1,s,o),e[Ln]=t.current,kl(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new If(t)};fr.render=function(e,t,r){if(!Df(t))throw Error(X(200));return Lf(null,e,t,!1,r)};fr.unmountComponentAtNode=function(e){if(!Df(e))throw Error(X(40));return e._reactRootContainer?(Ni(function(){Lf(null,null,e,!1,function(){e._reactRootContainer=null,e[Ln]=null})}),!0):!1};fr.unstable_batchedUpdates=vy;fr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Df(r))throw Error(X(200));if(e==null||e._reactInternals===void 0)throw Error(X(38));return Lf(e,t,r,!1,n)};fr.version="18.3.1-next-f1338f8080-20240426";function iS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(iS)}catch(e){console.error(e)}}iS(),i2.exports=fr;var sS=i2.exports,lb=sS;Vm.createRoot=lb.createRoot,Vm.hydrateRoot=lb.hydrateRoot;var mo=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},lE={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},ia,$g,DN,cE=(DN=class{constructor(){se(this,ia,lE);se(this,$g,!1)}setTimeoutProvider(e){ee(this,ia,e)}setTimeout(e,t){return $(this,ia).setTimeout(e,t)}clearTimeout(e){$(this,ia).clearTimeout(e)}setInterval(e,t){return $(this,ia).setInterval(e,t)}clearInterval(e){$(this,ia).clearInterval(e)}},ia=new WeakMap,$g=new WeakMap,DN),Ja=new cE;function uE(e){setTimeout(e,0)}var _i=typeof window>"u"||"Deno"in globalThis;function Bt(){}function dE(e,t){return typeof e=="function"?e(t):e}function Bp(e){return typeof e=="number"&&e>=0&&e!==1/0}function oS(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ca(e,t){return typeof e=="function"?e(t):e}function yr(e,t){return typeof e=="function"?e(t):e}function cb(e,t){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==Cy(o,t.options))return!1}else if(!Fl(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||i&&i!==t.state.fetchStatus||s&&!s(t))}function ub(e,t){const{exact:r,status:n,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(Si(t.options.mutationKey)!==Si(s))return!1}else if(!Fl(t.options.mutationKey,s))return!1}return!(n&&t.state.status!==n||i&&!i(t))}function Cy(e,t){return((t==null?void 0:t.queryKeyHashFn)||Si)(e)}function Si(e){return JSON.stringify(e,(t,r)=>zp(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function Fl(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Fl(e[r],t[r])):!1}var fE=Object.prototype.hasOwnProperty;function lS(e,t){if(e===t)return e;const r=db(e)&&db(t);if(!r&&!(zp(e)&&zp(t)))return t;const i=(r?e:Object.keys(e)).length,s=r?t:Object.keys(t),o=s.length,l=r?new Array(o):{};let c=0;for(let u=0;u<o;u++){const f=r?u:s[u],d=e[f],h=t[f];if(d===h){l[f]=d,(r?u<i:fE.call(e,f))&&c++;continue}if(d===null||h===null||typeof d!="object"||typeof h!="object"){l[f]=h;continue}const m=lS(d,h);l[f]=m,m===d&&c++}return i===o&&c===i?e:l}function md(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function db(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function zp(e){if(!fb(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!fb(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function fb(e){return Object.prototype.toString.call(e)==="[object Object]"}function hE(e){return new Promise(t=>{Ja.setTimeout(t,e)})}function Up(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?lS(e,t):t}function mE(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function pE(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Py=Symbol();function cS(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Py?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function uS(e,t){return typeof e=="function"?e(...t):!!e}var ii,sa,ys,LN,xE=(LN=class extends mo{constructor(){super();se(this,ii);se(this,sa);se(this,ys);ee(this,ys,t=>{if(!_i&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){$(this,sa)||this.setEventListener($(this,ys))}onUnsubscribe(){var t;this.hasListeners()||((t=$(this,sa))==null||t.call(this),ee(this,sa,void 0))}setEventListener(t){var r;ee(this,ys,t),(r=$(this,sa))==null||r.call(this),ee(this,sa,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){$(this,ii)!==t&&(ee(this,ii,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof $(this,ii)=="boolean"?$(this,ii):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ii=new WeakMap,sa=new WeakMap,ys=new WeakMap,LN),Ay=new xE;function Wp(){let e,t;const r=new Promise((i,s)=>{e=i,t=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),e(i)},r.reject=i=>{n({status:"rejected",reason:i}),t(i)},r}var gE=uE;function yE(){let e=[],t=0,r=l=>{l()},n=l=>{l()},i=gE;const s=l=>{t?e.push(l):i(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&i(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{i=l}}}var pt=yE(),vs,oa,bs,FN,vE=(FN=class extends mo{constructor(){super();se(this,vs,!0);se(this,oa);se(this,bs);ee(this,bs,t=>{if(!_i&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){$(this,oa)||this.setEventListener($(this,bs))}onUnsubscribe(){var t;this.hasListeners()||((t=$(this,oa))==null||t.call(this),ee(this,oa,void 0))}setEventListener(t){var r;ee(this,bs,t),(r=$(this,oa))==null||r.call(this),ee(this,oa,t(this.setOnline.bind(this)))}setOnline(t){$(this,vs)!==t&&(ee(this,vs,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return $(this,vs)}},vs=new WeakMap,oa=new WeakMap,bs=new WeakMap,FN),pd=new vE;function bE(e){return Math.min(1e3*2**e,3e4)}function dS(e){return(e??"online")==="online"?pd.isOnline():!0}var Hp=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function fS(e){let t=!1,r=0,n;const i=Wp(),s=()=>i.status!=="pending",o=g=>{var v;if(!s()){const p=new Hp(g);h(p),(v=e.onCancel)==null||v.call(e,p)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>Ay.isFocused()&&(e.networkMode==="always"||pd.isOnline())&&e.canRun(),f=()=>dS(e.networkMode)&&e.canRun(),d=g=>{s()||(n==null||n(),i.resolve(g))},h=g=>{s()||(n==null||n(),i.reject(g))},m=()=>new Promise(g=>{var v;n=p=>{(s()||u())&&g(p)},(v=e.onPause)==null||v.call(e)}).then(()=>{var g;n=void 0,s()||(g=e.onContinue)==null||g.call(e)}),x=()=>{if(s())return;let g;const v=r===0?e.initialPromise:void 0;try{g=v??e.fn()}catch(p){g=Promise.reject(p)}Promise.resolve(g).then(d).catch(p=>{var N;if(s())return;const y=e.retry??(_i?0:3),j=e.retryDelay??bE,w=typeof j=="function"?j(r,p):j,b=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,p);if(t||!b){h(p);return}r++,(N=e.onFail)==null||N.call(e,r,p),hE(w).then(()=>u()?void 0:m()).then(()=>{t?h(p):x()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(n==null||n(),i),cancelRetry:l,continueRetry:c,canStart:f,start:()=>(f()?x():m().then(x),i)}}var si,BN,hS=(BN=class{constructor(){se(this,si)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Bp(this.gcTime)&&ee(this,si,Ja.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(_i?1/0:5*60*1e3))}clearGcTimeout(){$(this,si)&&(Ja.clearTimeout($(this,si)),ee(this,si,void 0))}},si=new WeakMap,BN),oi,js,gr,li,bt,Sc,ci,Lr,gn,zN,jE=(zN=class extends hS{constructor(t){super();se(this,Lr);se(this,oi);se(this,js);se(this,gr);se(this,li);se(this,bt);se(this,Sc);se(this,ci);ee(this,ci,!1),ee(this,Sc,t.defaultOptions),this.setOptions(t.options),this.observers=[],ee(this,li,t.client),ee(this,gr,$(this,li).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ee(this,oi,mb(this.options)),this.state=t.state??$(this,oi),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=$(this,bt))==null?void 0:t.promise}setOptions(t){if(this.options={...$(this,Sc),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=mb(this.options);r.data!==void 0&&(this.setState(hb(r.data,r.dataUpdatedAt)),ee(this,oi,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&$(this,gr).remove(this)}setData(t,r){const n=Up(this.state.data,t,this.options);return ye(this,Lr,gn).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){ye(this,Lr,gn).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,i;const r=(n=$(this,bt))==null?void 0:n.promise;return(i=$(this,bt))==null||i.cancel(t),r?r.then(Bt).catch(Bt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState($(this,oi))}isActive(){return this.observers.some(t=>yr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Py||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Ca(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!oS(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=$(this,bt))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=$(this,bt))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),$(this,gr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||($(this,bt)&&($(this,ci)?$(this,bt).cancel({revert:!0}):$(this,bt).cancelRetry()),this.scheduleGc()),$(this,gr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ye(this,Lr,gn).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,f,d,h,m,x,g,v,p,y,j;if(this.state.fetchStatus!=="idle"&&((c=$(this,bt))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if($(this,bt))return $(this,bt).continueRetry(),$(this,bt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const w=this.observers.find(b=>b.options.queryFn);w&&this.setOptions(w.options)}const n=new AbortController,i=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(ee(this,ci,!0),n.signal)})},s=()=>{const w=cS(this.options,r),N=(()=>{const _={client:$(this,li),queryKey:this.queryKey,meta:this.meta};return i(_),_})();return ee(this,ci,!1),this.options.persister?this.options.persister(w,N,this):w(N)},l=(()=>{const w={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:$(this,li),state:this.state,fetchFn:s};return i(w),w})();(u=this.options.behavior)==null||u.onFetch(l,this),ee(this,js,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=l.fetchOptions)==null?void 0:f.meta))&&ye(this,Lr,gn).call(this,{type:"fetch",meta:(d=l.fetchOptions)==null?void 0:d.meta}),ee(this,bt,fS({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:w=>{w instanceof Hp&&w.revert&&this.setState({...$(this,js),fetchStatus:"idle"}),n.abort()},onFail:(w,b)=>{ye(this,Lr,gn).call(this,{type:"failed",failureCount:w,error:b})},onPause:()=>{ye(this,Lr,gn).call(this,{type:"pause"})},onContinue:()=>{ye(this,Lr,gn).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const w=await $(this,bt).start();if(w===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(w),(m=(h=$(this,gr).config).onSuccess)==null||m.call(h,w,this),(g=(x=$(this,gr).config).onSettled)==null||g.call(x,w,this.state.error,this),w}catch(w){if(w instanceof Hp){if(w.silent)return $(this,bt).promise;if(w.revert){if(this.state.data===void 0)throw w;return this.state.data}}throw ye(this,Lr,gn).call(this,{type:"error",error:w}),(p=(v=$(this,gr).config).onError)==null||p.call(v,w,this),(j=(y=$(this,gr).config).onSettled)==null||j.call(y,this.state.data,w,this),w}finally{this.scheduleGc()}}},oi=new WeakMap,js=new WeakMap,gr=new WeakMap,li=new WeakMap,bt=new WeakMap,Sc=new WeakMap,ci=new WeakMap,Lr=new WeakSet,gn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...mS(n.data,this.options),fetchMeta:t.meta??null};case"success":const i={...n,...hb(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ee(this,js,t.manual?i:void 0),i;case"error":const s=t.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),pt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),$(this,gr).notify({query:this,type:"updated",action:t})})},zN);function mS(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:dS(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function hb(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function mb(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var qt,Se,Oc,Dt,ui,ws,Nn,la,Cc,Ns,_s,di,fi,ca,Ss,$e,il,Kp,qp,Vp,Gp,Xp,Qp,Yp,pS,UN,wE=(UN=class extends mo{constructor(t,r){super();se(this,$e);se(this,qt);se(this,Se);se(this,Oc);se(this,Dt);se(this,ui);se(this,ws);se(this,Nn);se(this,la);se(this,Cc);se(this,Ns);se(this,_s);se(this,di);se(this,fi);se(this,ca);se(this,Ss,new Set);this.options=r,ee(this,qt,t),ee(this,la,null),ee(this,Nn,Wp()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&($(this,Se).addObserver(this),pb($(this,Se),this.options)?ye(this,$e,il).call(this):this.updateResult(),ye(this,$e,Gp).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Zp($(this,Se),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Zp($(this,Se),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ye(this,$e,Xp).call(this),ye(this,$e,Qp).call(this),$(this,Se).removeObserver(this)}setOptions(t){const r=this.options,n=$(this,Se);if(this.options=$(this,qt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof yr(this.options.enabled,$(this,Se))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ye(this,$e,Yp).call(this),$(this,Se).setOptions(this.options),r._defaulted&&!md(this.options,r)&&$(this,qt).getQueryCache().notify({type:"observerOptionsUpdated",query:$(this,Se),observer:this});const i=this.hasListeners();i&&xb($(this,Se),n,this.options,r)&&ye(this,$e,il).call(this),this.updateResult(),i&&($(this,Se)!==n||yr(this.options.enabled,$(this,Se))!==yr(r.enabled,$(this,Se))||Ca(this.options.staleTime,$(this,Se))!==Ca(r.staleTime,$(this,Se)))&&ye(this,$e,Kp).call(this);const s=ye(this,$e,qp).call(this);i&&($(this,Se)!==n||yr(this.options.enabled,$(this,Se))!==yr(r.enabled,$(this,Se))||s!==$(this,ca))&&ye(this,$e,Vp).call(this,s)}getOptimisticResult(t){const r=$(this,qt).getQueryCache().build($(this,qt),t),n=this.createResult(r,t);return _E(this,n)&&(ee(this,Dt,n),ee(this,ws,this.options),ee(this,ui,$(this,Se).state)),n}getCurrentResult(){return $(this,Dt)}trackResult(t,r){return new Proxy(t,{get:(n,i)=>(this.trackProp(i),r==null||r(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&$(this,Nn).status==="pending"&&$(this,Nn).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,i))})}trackProp(t){$(this,Ss).add(t)}getCurrentQuery(){return $(this,Se)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=$(this,qt).defaultQueryOptions(t),n=$(this,qt).getQueryCache().build($(this,qt),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return ye(this,$e,il).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),$(this,Dt)))}createResult(t,r){var C;const n=$(this,Se),i=this.options,s=$(this,Dt),o=$(this,ui),l=$(this,ws),u=t!==n?t.state:$(this,Oc),{state:f}=t;let d={...f},h=!1,m;if(r._optimisticResults){const P=this.hasListeners(),A=!P&&pb(t,r),E=P&&xb(t,n,r,i);(A||E)&&(d={...d,...mS(f.data,t.options)}),r._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:x,errorUpdatedAt:g,status:v}=d;m=d.data;let p=!1;if(r.placeholderData!==void 0&&m===void 0&&v==="pending"){let P;s!=null&&s.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(P=s.data,p=!0):P=typeof r.placeholderData=="function"?r.placeholderData((C=$(this,_s))==null?void 0:C.state.data,$(this,_s)):r.placeholderData,P!==void 0&&(v="success",m=Up(s==null?void 0:s.data,P,r),h=!0)}if(r.select&&m!==void 0&&!p)if(s&&m===(o==null?void 0:o.data)&&r.select===$(this,Cc))m=$(this,Ns);else try{ee(this,Cc,r.select),m=r.select(m),m=Up(s==null?void 0:s.data,m,r),ee(this,Ns,m),ee(this,la,null)}catch(P){ee(this,la,P)}$(this,la)&&(x=$(this,la),m=$(this,Ns),g=Date.now(),v="error");const y=d.fetchStatus==="fetching",j=v==="pending",w=v==="error",b=j&&y,N=m!==void 0,S={status:v,fetchStatus:d.fetchStatus,isPending:j,isSuccess:v==="success",isError:w,isInitialLoading:b,isLoading:b,data:m,dataUpdatedAt:d.dataUpdatedAt,error:x,errorUpdatedAt:g,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>u.dataUpdateCount||d.errorUpdateCount>u.errorUpdateCount,isFetching:y,isRefetching:y&&!j,isLoadingError:w&&!N,isPaused:d.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:w&&N,isStale:ky(t,r),refetch:this.refetch,promise:$(this,Nn),isEnabled:yr(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const P=L=>{S.status==="error"?L.reject(S.error):S.data!==void 0&&L.resolve(S.data)},A=()=>{const L=ee(this,Nn,S.promise=Wp());P(L)},E=$(this,Nn);switch(E.status){case"pending":t.queryHash===n.queryHash&&P(E);break;case"fulfilled":(S.status==="error"||S.data!==E.value)&&A();break;case"rejected":(S.status!=="error"||S.error!==E.reason)&&A();break}}return S}updateResult(){const t=$(this,Dt),r=this.createResult($(this,Se),this.options);if(ee(this,ui,$(this,Se).state),ee(this,ws,this.options),$(this,ui).data!==void 0&&ee(this,_s,$(this,Se)),md(r,t))return;ee(this,Dt,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!$(this,Ss).size)return!0;const o=new Set(s??$(this,Ss));return this.options.throwOnError&&o.add("error"),Object.keys($(this,Dt)).some(l=>{const c=l;return $(this,Dt)[c]!==t[c]&&o.has(c)})};ye(this,$e,pS).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ye(this,$e,Gp).call(this)}},qt=new WeakMap,Se=new WeakMap,Oc=new WeakMap,Dt=new WeakMap,ui=new WeakMap,ws=new WeakMap,Nn=new WeakMap,la=new WeakMap,Cc=new WeakMap,Ns=new WeakMap,_s=new WeakMap,di=new WeakMap,fi=new WeakMap,ca=new WeakMap,Ss=new WeakMap,$e=new WeakSet,il=function(t){ye(this,$e,Yp).call(this);let r=$(this,Se).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Bt)),r},Kp=function(){ye(this,$e,Xp).call(this);const t=Ca(this.options.staleTime,$(this,Se));if(_i||$(this,Dt).isStale||!Bp(t))return;const n=oS($(this,Dt).dataUpdatedAt,t)+1;ee(this,di,Ja.setTimeout(()=>{$(this,Dt).isStale||this.updateResult()},n))},qp=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval($(this,Se)):this.options.refetchInterval)??!1},Vp=function(t){ye(this,$e,Qp).call(this),ee(this,ca,t),!(_i||yr(this.options.enabled,$(this,Se))===!1||!Bp($(this,ca))||$(this,ca)===0)&&ee(this,fi,Ja.setInterval(()=>{(this.options.refetchIntervalInBackground||Ay.isFocused())&&ye(this,$e,il).call(this)},$(this,ca)))},Gp=function(){ye(this,$e,Kp).call(this),ye(this,$e,Vp).call(this,ye(this,$e,qp).call(this))},Xp=function(){$(this,di)&&(Ja.clearTimeout($(this,di)),ee(this,di,void 0))},Qp=function(){$(this,fi)&&(Ja.clearInterval($(this,fi)),ee(this,fi,void 0))},Yp=function(){const t=$(this,qt).getQueryCache().build($(this,qt),this.options);if(t===$(this,Se))return;const r=$(this,Se);ee(this,Se,t),ee(this,Oc,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},pS=function(t){pt.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r($(this,Dt))}),$(this,qt).getQueryCache().notify({query:$(this,Se),type:"observerResultsUpdated"})})},UN);function NE(e,t){return yr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function pb(e,t){return NE(e,t)||e.state.data!==void 0&&Zp(e,t,t.refetchOnMount)}function Zp(e,t,r){if(yr(t.enabled,e)!==!1&&Ca(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&ky(e,t)}return!1}function xb(e,t,r,n){return(e!==t||yr(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&ky(e,r)}function ky(e,t){return yr(t.enabled,e)!==!1&&e.isStaleByTime(Ca(t.staleTime,e))}function _E(e,t){return!md(e.getCurrentResult(),t)}function gb(e){return{onFetch:(t,r)=>{var f,d,h,m,x;const n=t.options,i=(h=(d=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,s=((m=t.state.data)==null?void 0:m.pages)||[],o=((x=t.state.data)==null?void 0:x.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const v=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},p=cS(t.options,t.fetchOptions),y=async(j,w,b)=>{if(g)return Promise.reject();if(w==null&&j.pages.length)return Promise.resolve(j);const _=(()=>{const A={client:t.client,queryKey:t.queryKey,pageParam:w,direction:b?"backward":"forward",meta:t.options.meta};return v(A),A})(),S=await p(_),{maxPages:C}=t.options,P=b?pE:mE;return{pages:P(j.pages,S,C),pageParams:P(j.pageParams,w,C)}};if(i&&s.length){const j=i==="backward",w=j?SE:yb,b={pages:s,pageParams:o},N=w(n,b);l=await y(b,N,j)}else{const j=e??s.length;do{const w=c===0?o[0]??n.initialPageParam:yb(n,l);if(c>0&&w==null)break;l=await y(l,w),c++}while(c<j)}return l};t.options.persister?t.fetchFn=()=>{var g,v;return(v=(g=t.options).persister)==null?void 0:v.call(g,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function yb(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function SE(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Pc,tn,Lt,hi,rn,Zn,WN,OE=(WN=class extends hS{constructor(t){super();se(this,rn);se(this,Pc);se(this,tn);se(this,Lt);se(this,hi);ee(this,Pc,t.client),this.mutationId=t.mutationId,ee(this,Lt,t.mutationCache),ee(this,tn,[]),this.state=t.state||xS(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){$(this,tn).includes(t)||($(this,tn).push(t),this.clearGcTimeout(),$(this,Lt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ee(this,tn,$(this,tn).filter(r=>r!==t)),this.scheduleGc(),$(this,Lt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){$(this,tn).length||(this.state.status==="pending"?this.scheduleGc():$(this,Lt).remove(this))}continue(){var t;return((t=$(this,hi))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,u,f,d,h,m,x,g,v,p,y,j,w,b,N,_,S,C;const r=()=>{ye(this,rn,Zn).call(this,{type:"continue"})},n={client:$(this,Pc),meta:this.options.meta,mutationKey:this.options.mutationKey};ee(this,hi,fS({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(P,A)=>{ye(this,rn,Zn).call(this,{type:"failed",failureCount:P,error:A})},onPause:()=>{ye(this,rn,Zn).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>$(this,Lt).canRun(this)}));const i=this.state.status==="pending",s=!$(this,hi).canStart();try{if(i)r();else{ye(this,rn,Zn).call(this,{type:"pending",variables:t,isPaused:s}),await((l=(o=$(this,Lt).config).onMutate)==null?void 0:l.call(o,t,this,n));const A=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,n));A!==this.state.context&&ye(this,rn,Zn).call(this,{type:"pending",context:A,variables:t,isPaused:s})}const P=await $(this,hi).start();return await((d=(f=$(this,Lt).config).onSuccess)==null?void 0:d.call(f,P,t,this.state.context,this,n)),await((m=(h=this.options).onSuccess)==null?void 0:m.call(h,P,t,this.state.context,n)),await((g=(x=$(this,Lt).config).onSettled)==null?void 0:g.call(x,P,null,this.state.variables,this.state.context,this,n)),await((p=(v=this.options).onSettled)==null?void 0:p.call(v,P,null,t,this.state.context,n)),ye(this,rn,Zn).call(this,{type:"success",data:P}),P}catch(P){try{throw await((j=(y=$(this,Lt).config).onError)==null?void 0:j.call(y,P,t,this.state.context,this,n)),await((b=(w=this.options).onError)==null?void 0:b.call(w,P,t,this.state.context,n)),await((_=(N=$(this,Lt).config).onSettled)==null?void 0:_.call(N,void 0,P,this.state.variables,this.state.context,this,n)),await((C=(S=this.options).onSettled)==null?void 0:C.call(S,void 0,P,t,this.state.context,n)),P}finally{ye(this,rn,Zn).call(this,{type:"error",error:P})}}finally{$(this,Lt).runNext(this)}}},Pc=new WeakMap,tn=new WeakMap,Lt=new WeakMap,hi=new WeakMap,rn=new WeakSet,Zn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),pt.batch(()=>{$(this,tn).forEach(n=>{n.onMutationUpdate(t)}),$(this,Lt).notify({mutation:this,type:"updated",action:t})})},WN);function xS(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var _n,Fr,Ac,HN,CE=(HN=class extends mo{constructor(t={}){super();se(this,_n);se(this,Fr);se(this,Ac);this.config=t,ee(this,_n,new Set),ee(this,Fr,new Map),ee(this,Ac,0)}build(t,r,n){const i=new OE({client:t,mutationCache:this,mutationId:++Gc(this,Ac)._,options:t.defaultMutationOptions(r),state:n});return this.add(i),i}add(t){$(this,_n).add(t);const r=hu(t);if(typeof r=="string"){const n=$(this,Fr).get(r);n?n.push(t):$(this,Fr).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if($(this,_n).delete(t)){const r=hu(t);if(typeof r=="string"){const n=$(this,Fr).get(r);if(n)if(n.length>1){const i=n.indexOf(t);i!==-1&&n.splice(i,1)}else n[0]===t&&$(this,Fr).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=hu(t);if(typeof r=="string"){const n=$(this,Fr).get(r),i=n==null?void 0:n.find(s=>s.state.status==="pending");return!i||i===t}else return!0}runNext(t){var n;const r=hu(t);if(typeof r=="string"){const i=(n=$(this,Fr).get(r))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){pt.batch(()=>{$(this,_n).forEach(t=>{this.notify({type:"removed",mutation:t})}),$(this,_n).clear(),$(this,Fr).clear()})}getAll(){return Array.from($(this,_n))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>ub(r,n))}findAll(t={}){return this.getAll().filter(r=>ub(t,r))}notify(t){pt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return pt.batch(()=>Promise.all(t.map(r=>r.continue().catch(Bt))))}},_n=new WeakMap,Fr=new WeakMap,Ac=new WeakMap,HN);function hu(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Sn,ua,Vt,On,In,Wu,Jp,KN,PE=(KN=class extends mo{constructor(r,n){super();se(this,In);se(this,Sn);se(this,ua);se(this,Vt);se(this,On);ee(this,Sn,r),this.setOptions(n),this.bindMethods(),ye(this,In,Wu).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var i;const n=this.options;this.options=$(this,Sn).defaultMutationOptions(r),md(this.options,n)||$(this,Sn).getMutationCache().notify({type:"observerOptionsUpdated",mutation:$(this,Vt),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Si(n.mutationKey)!==Si(this.options.mutationKey)?this.reset():((i=$(this,Vt))==null?void 0:i.state.status)==="pending"&&$(this,Vt).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=$(this,Vt))==null||r.removeObserver(this)}onMutationUpdate(r){ye(this,In,Wu).call(this),ye(this,In,Jp).call(this,r)}getCurrentResult(){return $(this,ua)}reset(){var r;(r=$(this,Vt))==null||r.removeObserver(this),ee(this,Vt,void 0),ye(this,In,Wu).call(this),ye(this,In,Jp).call(this)}mutate(r,n){var i;return ee(this,On,n),(i=$(this,Vt))==null||i.removeObserver(this),ee(this,Vt,$(this,Sn).getMutationCache().build($(this,Sn),this.options)),$(this,Vt).addObserver(this),$(this,Vt).execute(r)}},Sn=new WeakMap,ua=new WeakMap,Vt=new WeakMap,On=new WeakMap,In=new WeakSet,Wu=function(){var n;const r=((n=$(this,Vt))==null?void 0:n.state)??xS();ee(this,ua,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Jp=function(r){pt.batch(()=>{var n,i,s,o,l,c,u,f;if($(this,On)&&this.hasListeners()){const d=$(this,ua).variables,h=$(this,ua).context,m={client:$(this,Sn),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((i=(n=$(this,On)).onSuccess)==null||i.call(n,r.data,d,h,m),(o=(s=$(this,On)).onSettled)==null||o.call(s,r.data,null,d,h,m)):(r==null?void 0:r.type)==="error"&&((c=(l=$(this,On)).onError)==null||c.call(l,r.error,d,h,m),(f=(u=$(this,On)).onSettled)==null||f.call(u,void 0,r.error,d,h,m))}this.listeners.forEach(d=>{d($(this,ua))})})},KN),nn,qN,AE=(qN=class extends mo{constructor(t={}){super();se(this,nn);this.config=t,ee(this,nn,new Map)}build(t,r,n){const i=r.queryKey,s=r.queryHash??Cy(i,r);let o=this.get(s);return o||(o=new jE({client:t,queryKey:i,queryHash:s,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(i)}),this.add(o)),o}add(t){$(this,nn).has(t.queryHash)||($(this,nn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=$(this,nn).get(t.queryHash);r&&(t.destroy(),r===t&&$(this,nn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){pt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return $(this,nn).get(t)}getAll(){return[...$(this,nn).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>cb(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>cb(t,n)):r}notify(t){pt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){pt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){pt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},nn=new WeakMap,qN),et,da,fa,Os,Cs,ha,Ps,As,VN,kE=(VN=class{constructor(e={}){se(this,et);se(this,da);se(this,fa);se(this,Os);se(this,Cs);se(this,ha);se(this,Ps);se(this,As);ee(this,et,e.queryCache||new AE),ee(this,da,e.mutationCache||new CE),ee(this,fa,e.defaultOptions||{}),ee(this,Os,new Map),ee(this,Cs,new Map),ee(this,ha,0)}mount(){Gc(this,ha)._++,$(this,ha)===1&&(ee(this,Ps,Ay.subscribe(async e=>{e&&(await this.resumePausedMutations(),$(this,et).onFocus())})),ee(this,As,pd.subscribe(async e=>{e&&(await this.resumePausedMutations(),$(this,et).onOnline())})))}unmount(){var e,t;Gc(this,ha)._--,$(this,ha)===0&&((e=$(this,Ps))==null||e.call(this),ee(this,Ps,void 0),(t=$(this,As))==null||t.call(this),ee(this,As,void 0))}isFetching(e){return $(this,et).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return $(this,da).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=$(this,et).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=$(this,et).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Ca(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return $(this,et).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),i=$(this,et).get(n.queryHash),s=i==null?void 0:i.state.data,o=dE(t,s);if(o!==void 0)return $(this,et).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return pt.batch(()=>$(this,et).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=$(this,et).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=$(this,et);pt.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=$(this,et);return pt.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=pt.batch(()=>$(this,et).findAll(e).map(i=>i.cancel(r)));return Promise.all(n).then(Bt).catch(Bt)}invalidateQueries(e,t={}){return pt.batch(()=>($(this,et).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=pt.batch(()=>$(this,et).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(Bt)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(Bt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=$(this,et).build(this,t);return r.isStaleByTime(Ca(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Bt).catch(Bt)}fetchInfiniteQuery(e){return e.behavior=gb(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Bt).catch(Bt)}ensureInfiniteQueryData(e){return e.behavior=gb(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return pd.isOnline()?$(this,da).resumePausedMutations():Promise.resolve()}getQueryCache(){return $(this,et)}getMutationCache(){return $(this,da)}getDefaultOptions(){return $(this,fa)}setDefaultOptions(e){ee(this,fa,e)}setQueryDefaults(e,t){$(this,Os).set(Si(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...$(this,Os).values()],r={};return t.forEach(n=>{Fl(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){$(this,Cs).set(Si(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...$(this,Cs).values()],r={};return t.forEach(n=>{Fl(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...$(this,fa).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Cy(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Py&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...$(this,fa).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){$(this,et).clear(),$(this,da).clear()}},et=new WeakMap,da=new WeakMap,fa=new WeakMap,Os=new WeakMap,Cs=new WeakMap,ha=new WeakMap,Ps=new WeakMap,As=new WeakMap,VN),gS=O.createContext(void 0),Rc=e=>{const t=O.useContext(gS);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},EE=({client:e,children:t})=>(O.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(gS.Provider,{value:e,children:t})),yS=O.createContext(!1),$E=()=>O.useContext(yS);yS.Provider;function TE(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var ME=O.createContext(TE()),RE=()=>O.useContext(ME),IE=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},DE=e=>{O.useEffect(()=>{e.clearReset()},[e])},LE=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(i&&e.data===void 0||uS(r,[e.error,n])),FE=e=>{if(e.suspense){const r=i=>i==="static"?i:Math.max(i??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...i)=>r(n(...i)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},BE=(e,t)=>e.isLoading&&e.isFetching&&!t,zE=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,vb=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function UE(e,t,r){var d,h,m,x,g;const n=$E(),i=RE(),s=Rc(),o=s.defaultQueryOptions(e);(h=(d=s.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||h.call(d,o),o._optimisticResults=n?"isRestoring":"optimistic",FE(o),IE(o,i),DE(i);const l=!s.getQueryCache().get(o.queryHash),[c]=O.useState(()=>new t(s,o)),u=c.getOptimisticResult(o),f=!n&&e.subscribed!==!1;if(O.useSyncExternalStore(O.useCallback(v=>{const p=f?c.subscribe(pt.batchCalls(v)):Bt;return c.updateResult(),p},[c,f]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),O.useEffect(()=>{c.setOptions(o)},[o,c]),zE(o,u))throw vb(o,c,i);if(LE({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((x=(m=s.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||x.call(m,o,u),o.experimental_prefetchInRender&&!_i&&BE(u,n)){const v=l?vb(o,c,i):(g=s.getQueryCache().get(o.queryHash))==null?void 0:g.promise;v==null||v.catch(Bt).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function pe(e,t){return UE(e,wE)}function WE(e,t){const r=Rc(),[n]=O.useState(()=>new PE(r,e));O.useEffect(()=>{n.setOptions(e)},[n,e]);const i=O.useSyncExternalStore(O.useCallback(o=>n.subscribe(pt.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=O.useCallback((o,l)=>{n.mutate(o,l).catch(Bt)},[n]);if(i.error&&uS(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bl(){return Bl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bl.apply(this,arguments)}var xa;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(xa||(xa={}));const bb="popstate";function HE(e){e===void 0&&(e={});function t(n,i){let{pathname:s,search:o,hash:l}=n.location;return ex("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:xd(i)}return qE(t,r,null,e)}function ct(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ey(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function KE(){return Math.random().toString(36).substr(2,8)}function jb(e,t){return{usr:e.state,key:e.key,idx:t}}function ex(e,t,r,n){return r===void 0&&(r=null),Bl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?po(t):t,{state:r,key:t&&t.key||n||KE()})}function xd(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function po(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function qE(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,l=xa.Pop,c=null,u=f();u==null&&(u=0,o.replaceState(Bl({},o.state,{idx:u}),""));function f(){return(o.state||{idx:null}).idx}function d(){l=xa.Pop;let v=f(),p=v==null?null:v-u;u=v,c&&c({action:l,location:g.location,delta:p})}function h(v,p){l=xa.Push;let y=ex(g.location,v,p);u=f()+1;let j=jb(y,u),w=g.createHref(y);try{o.pushState(j,"",w)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;i.location.assign(w)}s&&c&&c({action:l,location:g.location,delta:1})}function m(v,p){l=xa.Replace;let y=ex(g.location,v,p);u=f();let j=jb(y,u),w=g.createHref(y);o.replaceState(j,"",w),s&&c&&c({action:l,location:g.location,delta:0})}function x(v){let p=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof v=="string"?v:xd(v);return y=y.replace(/ $/,"%20"),ct(p,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,p)}let g={get action(){return l},get location(){return e(i,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(bb,d),c=v,()=>{i.removeEventListener(bb,d),c=null}},createHref(v){return t(i,v)},createURL:x,encodeLocation(v){let p=x(v);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:h,replace:m,go(v){return o.go(v)}};return g}var wb;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(wb||(wb={}));function VE(e,t,r){return r===void 0&&(r="/"),GE(e,t,r)}function GE(e,t,r,n){let i=typeof t=="string"?po(t):t,s=$y(i.pathname||"/",r);if(s==null)return null;let o=vS(e);XE(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=o$(s);l=a$(o[c],u)}return l}function vS(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(ct(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Pa([n,c.relativePath]),f=r.concat(c);s.children&&s.children.length>0&&(ct(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),vS(s.children,t,f,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:r$(u,s.index),routesMeta:f})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let c of bS(s.path))i(s,o,c)}),t}function bS(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=bS(n.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function XE(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:n$(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const QE=/^:[\w-]+$/,YE=3,ZE=2,JE=1,e$=10,t$=-2,Nb=e=>e==="*";function r$(e,t){let r=e.split("/"),n=r.length;return r.some(Nb)&&(n+=t$),t&&(n+=ZE),r.filter(i=>!Nb(i)).reduce((i,s)=>i+(QE.test(s)?YE:s===""?JE:e$),n)}function n$(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function a$(e,t,r){let{routesMeta:n}=e,i={},s="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,f=s==="/"?t:t.slice(s.length)||"/",d=i$({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),h=c.route;if(!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:Pa([s,d.pathname]),pathnameBase:f$(Pa([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=Pa([s,d.pathnameBase]))}return o}function i$(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=s$(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((u,f,d)=>{let{paramName:h,isOptional:m}=f;if(h==="*"){let g=l[d]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const x=l[d];return m&&!x?u[h]=void 0:u[h]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function s$(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Ey(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function o$(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ey(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function $y(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const l$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,c$=e=>l$.test(e);function u$(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?po(e):e,s;if(r)if(c$(r))s=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),Ey(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?s=_b(r.substring(1),"/"):s=_b(r,t)}else s=t;return{pathname:s,search:h$(n),hash:m$(i)}}function _b(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function lm(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function d$(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function jS(e,t){let r=d$(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function wS(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=po(e):(i=Bl({},e),ct(!i.pathname||!i.pathname.includes("?"),lm("?","pathname","search",i)),ct(!i.pathname||!i.pathname.includes("#"),lm("#","pathname","hash",i)),ct(!i.search||!i.search.includes("#"),lm("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=r;else{let d=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}l=d>=0?t[d]:"/"}let c=u$(i,l),u=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}const Pa=e=>e.join("/").replace(/\/\/+/g,"/"),f$=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),h$=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,m$=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function p$(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const NS=["post","put","patch","delete"];new Set(NS);const x$=["get",...NS];new Set(x$);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zl(){return zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zl.apply(this,arguments)}const Ty=O.createContext(null),g$=O.createContext(null),Mi=O.createContext(null),Ff=O.createContext(null),Da=O.createContext({outlet:null,matches:[],isDataRoute:!1}),_S=O.createContext(null);function y$(e,t){let{relative:r}=t===void 0?{}:t;Ic()||ct(!1);let{basename:n,navigator:i}=O.useContext(Mi),{hash:s,pathname:o,search:l}=CS(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Pa([n,o])),i.createHref({pathname:c,search:l,hash:s})}function Ic(){return O.useContext(Ff)!=null}function xo(){return Ic()||ct(!1),O.useContext(Ff).location}function SS(e){O.useContext(Mi).static||O.useLayoutEffect(e)}function OS(){let{isDataRoute:e}=O.useContext(Da);return e?E$():v$()}function v$(){Ic()||ct(!1);let e=O.useContext(Ty),{basename:t,future:r,navigator:n}=O.useContext(Mi),{matches:i}=O.useContext(Da),{pathname:s}=xo(),o=JSON.stringify(jS(i,r.v7_relativeSplatPath)),l=O.useRef(!1);return SS(()=>{l.current=!0}),O.useCallback(function(u,f){if(f===void 0&&(f={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let d=wS(u,JSON.parse(o),s,f.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Pa([t,d.pathname])),(f.replace?n.replace:n.push)(d,f.state,f)},[t,n,o,s,e])}function go(){let{matches:e}=O.useContext(Da),t=e[e.length-1];return t?t.params:{}}function CS(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=O.useContext(Mi),{matches:i}=O.useContext(Da),{pathname:s}=xo(),o=JSON.stringify(jS(i,n.v7_relativeSplatPath));return O.useMemo(()=>wS(e,JSON.parse(o),s,r==="path"),[e,o,s,r])}function b$(e,t){return j$(e,t)}function j$(e,t,r,n){Ic()||ct(!1);let{navigator:i}=O.useContext(Mi),{matches:s}=O.useContext(Da),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=xo(),f;if(t){var d;let v=typeof t=="string"?po(t):t;c==="/"||(d=v.pathname)!=null&&d.startsWith(c)||ct(!1),f=v}else f=u;let h=f.pathname||"/",m=h;if(c!=="/"){let v=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let x=VE(e,{pathname:m}),g=O$(x&&x.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Pa([c,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:Pa([c,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,r,n);return t&&g?O.createElement(Ff.Provider,{value:{location:zl({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:xa.Pop}},g):g}function w$(){let e=k$(),t=p$(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},t),r?O.createElement("pre",{style:i},r):null,null)}const N$=O.createElement(w$,null);class _$ extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?O.createElement(Da.Provider,{value:this.props.routeContext},O.createElement(_S.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function S$(e){let{routeContext:t,match:r,children:n}=e,i=O.useContext(Ty);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),O.createElement(Da.Provider,{value:t},n)}function O$(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(i=r)==null?void 0:i.errors;if(l!=null){let f=o.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);f>=0||ct(!1),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<o.length;f++){let d=o[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=f),d.route.id){let{loaderData:h,errors:m}=r,x=d.route.loader&&h[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||x){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((f,d,h)=>{let m,x=!1,g=null,v=null;r&&(m=l&&d.route.id?l[d.route.id]:void 0,g=d.route.errorElement||N$,c&&(u<0&&h===0?($$("route-fallback"),x=!0,v=null):u===h&&(x=!0,v=d.route.hydrateFallbackElement||null)));let p=t.concat(o.slice(0,h+1)),y=()=>{let j;return m?j=g:x?j=v:d.route.Component?j=O.createElement(d.route.Component,null):d.route.element?j=d.route.element:j=f,O.createElement(S$,{match:d,routeContext:{outlet:f,matches:p,isDataRoute:r!=null},children:j})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?O.createElement(_$,{location:r.location,revalidation:r.revalidation,component:g,error:m,children:y(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):y()},null)}var PS=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(PS||{}),AS=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(AS||{});function C$(e){let t=O.useContext(Ty);return t||ct(!1),t}function P$(e){let t=O.useContext(g$);return t||ct(!1),t}function A$(e){let t=O.useContext(Da);return t||ct(!1),t}function kS(e){let t=A$(),r=t.matches[t.matches.length-1];return r.route.id||ct(!1),r.route.id}function k$(){var e;let t=O.useContext(_S),r=P$(),n=kS();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function E$(){let{router:e}=C$(PS.UseNavigateStable),t=kS(AS.UseNavigateStable),r=O.useRef(!1);return SS(()=>{r.current=!0}),O.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,zl({fromRouteId:t},s)))},[e,t])}const Sb={};function $$(e,t,r){Sb[e]||(Sb[e]=!0)}function T$(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function vt(e){ct(!1)}function M$(e){let{basename:t="/",children:r=null,location:n,navigationType:i=xa.Pop,navigator:s,static:o=!1,future:l}=e;Ic()&&ct(!1);let c=t.replace(/^\/*/,"/"),u=O.useMemo(()=>({basename:c,navigator:s,static:o,future:zl({v7_relativeSplatPath:!1},l)}),[c,l,s,o]);typeof n=="string"&&(n=po(n));let{pathname:f="/",search:d="",hash:h="",state:m=null,key:x="default"}=n,g=O.useMemo(()=>{let v=$y(f,c);return v==null?null:{location:{pathname:v,search:d,hash:h,state:m,key:x},navigationType:i}},[c,f,d,h,m,x,i]);return g==null?null:O.createElement(Mi.Provider,{value:u},O.createElement(Ff.Provider,{children:r,value:g}))}function R$(e){let{children:t,location:r}=e;return b$(tx(t),r)}new Promise(()=>{});function tx(e,t){t===void 0&&(t=[]);let r=[];return O.Children.forEach(e,(n,i)=>{if(!O.isValidElement(n))return;let s=[...t,i];if(n.type===O.Fragment){r.push.apply(r,tx(n.props.children,s));return}n.type!==vt&&ct(!1),!n.props.index||!n.props.children||ct(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=tx(n.props.children,s)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rx(){return rx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rx.apply(this,arguments)}function I$(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function D$(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function L$(e,t){return e.button===0&&(!t||t==="_self")&&!D$(e)}function nx(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function F$(e,t){let r=nx(e);return t&&t.forEach((n,i)=>{r.has(i)||t.getAll(i).forEach(s=>{r.append(i,s)})}),r}const B$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],z$="6";try{window.__reactRouterVersion=z$}catch{}const U$="startTransition",Ob=YA[U$];function W$(e){let{basename:t,children:r,future:n,window:i}=e,s=O.useRef();s.current==null&&(s.current=HE({window:i,v5Compat:!0}));let o=s.current,[l,c]=O.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},f=O.useCallback(d=>{u&&Ob?Ob(()=>c(d)):c(d)},[c,u]);return O.useLayoutEffect(()=>o.listen(f),[o,f]),O.useEffect(()=>T$(n),[n]),O.createElement(M$,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const H$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",K$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,De=O.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:s,replace:o,state:l,target:c,to:u,preventScrollReset:f,viewTransition:d}=t,h=I$(t,B$),{basename:m}=O.useContext(Mi),x,g=!1;if(typeof u=="string"&&K$.test(u)&&(x=u,H$))try{let j=new URL(window.location.href),w=u.startsWith("//")?new URL(j.protocol+u):new URL(u),b=$y(w.pathname,m);w.origin===j.origin&&b!=null?u=b+w.search+w.hash:g=!0}catch{}let v=y$(u,{relative:i}),p=q$(u,{replace:o,state:l,target:c,preventScrollReset:f,relative:i,viewTransition:d});function y(j){n&&n(j),j.defaultPrevented||p(j)}return O.createElement("a",rx({},h,{href:x||v,onClick:g||s?n:y,ref:r,target:c}))});var Cb;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Cb||(Cb={}));var Pb;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Pb||(Pb={}));function q$(e,t){let{target:r,replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:l}=t===void 0?{}:t,c=OS(),u=xo(),f=CS(e,{relative:o});return O.useCallback(d=>{if(L$(d,r)){d.preventDefault();let h=n!==void 0?n:xd(u)===xd(f);c(e,{replace:h,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[u,c,f,n,i,r,e,s,o,l])}function V$(e){let t=O.useRef(nx(e)),r=O.useRef(!1),n=xo(),i=O.useMemo(()=>F$(n.search,r.current?null:t.current),[n.search]),s=OS(),o=O.useCallback((l,c)=>{const u=nx(typeof l=="function"?l(i):l);r.current=!0,s("?"+u,c)},[s,i]);return[i,o]}function ES(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=ES(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ce(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=ES(e))&&(n&&(n+=" "),n+=t);return n}const My="-",G$=e=>{const t=Q$(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(My);return l[0]===""&&l.length!==1&&l.shift(),$S(l,t)||X$(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},$S=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),i=n?$S(e.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const s=e.join(My);return(o=t.validators.find(({validator:l})=>l(s)))==null?void 0:o.classGroupId},Ab=/^\[(.+)\]$/,X$=e=>{if(Ab.test(e)){const t=Ab.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Q$=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return Z$(Object.entries(e.classGroups),r).forEach(([s,o])=>{ax(o,n,s,t)}),n},ax=(e,t,r,n)=>{e.forEach(i=>{if(typeof i=="string"){const s=i===""?t:kb(t,i);s.classGroupId=r;return}if(typeof i=="function"){if(Y$(i)){ax(i(n),t,r,n);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([s,o])=>{ax(o,kb(t,s),r,n)})})},kb=(e,t)=>{let r=e;return t.split(My).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Y$=e=>e.isThemeGetter,Z$=(e,t)=>t?e.map(([r,n])=>{const i=n.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[t+o,l])):s);return[r,i]}):e,J$=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const i=(s,o)=>{r.set(s,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(s){let o=r.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return i(s,o),o},set(s,o){r.has(s)?r.set(s,o):i(s,o)}}},TS="!",eT=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,i=t[0],s=t.length,o=l=>{const c=[];let u=0,f=0,d;for(let v=0;v<l.length;v++){let p=l[v];if(u===0){if(p===i&&(n||l.slice(v,v+s)===t)){c.push(l.slice(f,v)),f=v+s;continue}if(p==="/"){d=v;continue}}p==="["?u++:p==="]"&&u--}const h=c.length===0?l:l.substring(f),m=h.startsWith(TS),x=m?h.substring(1):h,g=d&&d>f?d-f:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:x,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:o}):o},tT=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},rT=e=>({cache:J$(e.cacheSize),parseClassName:eT(e),...G$(e)}),nT=/\s+/,aT=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=t,s=[],o=e.trim().split(nT);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:f,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let x=!!m,g=n(x?h.substring(0,m):h);if(!g){if(!x){l=u+(l.length>0?" "+l:l);continue}if(g=n(h),!g){l=u+(l.length>0?" "+l:l);continue}x=!1}const v=tT(f).join(":"),p=d?v+TS:v,y=p+g;if(s.includes(y))continue;s.push(y);const j=i(g,x);for(let w=0;w<j.length;++w){const b=j[w];s.push(p+b)}l=u+(l.length>0?" "+l:l)}return l};function iT(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=MS(t))&&(n&&(n+=" "),n+=r);return n}const MS=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=MS(e[n]))&&(r&&(r+=" "),r+=t);return r};function sT(e,...t){let r,n,i,s=o;function o(c){const u=t.reduce((f,d)=>d(f),e());return r=rT(u),n=r.cache.get,i=r.cache.set,s=l,l(c)}function l(c){const u=n(c);if(u)return u;const f=aT(c,r);return i(c,f),f}return function(){return s(iT.apply(null,arguments))}}const We=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},RS=/^\[(?:([a-z-]+):)?(.+)\]$/i,oT=/^\d+\/\d+$/,lT=new Set(["px","full","screen"]),cT=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,uT=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,dT=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,fT=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,hT=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,mn=e=>hs(e)||lT.has(e)||oT.test(e),Qn=e=>yo(e,"length",jT),hs=e=>!!e&&!Number.isNaN(Number(e)),cm=e=>yo(e,"number",hs),zo=e=>!!e&&Number.isInteger(Number(e)),mT=e=>e.endsWith("%")&&hs(e.slice(0,-1)),xe=e=>RS.test(e),Yn=e=>cT.test(e),pT=new Set(["length","size","percentage"]),xT=e=>yo(e,pT,IS),gT=e=>yo(e,"position",IS),yT=new Set(["image","url"]),vT=e=>yo(e,yT,NT),bT=e=>yo(e,"",wT),Uo=()=>!0,yo=(e,t,r)=>{const n=RS.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},jT=e=>uT.test(e)&&!dT.test(e),IS=()=>!1,wT=e=>fT.test(e),NT=e=>hT.test(e),_T=()=>{const e=We("colors"),t=We("spacing"),r=We("blur"),n=We("brightness"),i=We("borderColor"),s=We("borderRadius"),o=We("borderSpacing"),l=We("borderWidth"),c=We("contrast"),u=We("grayscale"),f=We("hueRotate"),d=We("invert"),h=We("gap"),m=We("gradientColorStops"),x=We("gradientColorStopPositions"),g=We("inset"),v=We("margin"),p=We("opacity"),y=We("padding"),j=We("saturate"),w=We("scale"),b=We("sepia"),N=We("skew"),_=We("space"),S=We("translate"),C=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",xe,t],E=()=>[xe,t],L=()=>["",mn,Qn],F=()=>["auto",hs,xe],U=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],T=()=>["solid","dashed","dotted","double","none"],B=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",xe],k=()=>["auto","avoid","all","avoid-page","page","left","right","column"],I=()=>[hs,xe];return{cacheSize:500,separator:":",theme:{colors:[Uo],spacing:[mn,Qn],blur:["none","",Yn,xe],brightness:I(),borderColor:[e],borderRadius:["none","","full",Yn,xe],borderSpacing:E(),borderWidth:L(),contrast:I(),grayscale:z(),hueRotate:I(),invert:z(),gap:E(),gradientColorStops:[e],gradientColorStopPositions:[mT,Qn],inset:A(),margin:A(),opacity:I(),padding:E(),saturate:I(),scale:I(),sepia:z(),skew:I(),space:E(),translate:E()},classGroups:{aspect:[{aspect:["auto","square","video",xe]}],container:["container"],columns:[{columns:[Yn]}],"break-after":[{"break-after":k()}],"break-before":[{"break-before":k()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...U(),xe]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",zo,xe]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",xe]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",zo,xe]}],"grid-cols":[{"grid-cols":[Uo]}],"col-start-end":[{col:["auto",{span:["full",zo,xe]},xe]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[Uo]}],"row-start-end":[{row:["auto",{span:[zo,xe]},xe]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",xe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",xe]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",xe,t]}],"min-w":[{"min-w":[xe,t,"min","max","fit"]}],"max-w":[{"max-w":[xe,t,"none","full","min","max","fit","prose",{screen:[Yn]},Yn]}],h:[{h:[xe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[xe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[xe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[xe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Yn,Qn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",cm]}],"font-family":[{font:[Uo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",xe]}],"line-clamp":[{"line-clamp":["none",hs,cm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",mn,xe]}],"list-image":[{"list-image":["none",xe]}],"list-style-type":[{list:["none","disc","decimal",xe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[p]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[p]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...T(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",mn,Qn]}],"underline-offset":[{"underline-offset":["auto",mn,xe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[p]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...U(),gT]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",xT]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},vT]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[p]}],"border-style":[{border:[...T(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[p]}],"divide-style":[{divide:T()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...T()]}],"outline-offset":[{"outline-offset":[mn,xe]}],"outline-w":[{outline:[mn,Qn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[p]}],"ring-offset-w":[{"ring-offset":[mn,Qn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Yn,bT]}],"shadow-color":[{shadow:[Uo]}],opacity:[{opacity:[p]}],"mix-blend":[{"mix-blend":[...B(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Yn,xe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[d]}],saturate:[{saturate:[j]}],sepia:[{sepia:[b]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[p]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[b]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",xe]}],duration:[{duration:I()}],ease:[{ease:["linear","in","out","in-out",xe]}],delay:[{delay:I()}],animate:[{animate:["none","spin","ping","pulse","bounce",xe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[zo,xe]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",xe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",xe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",xe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[mn,Qn,cm]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},ST=sT(_T);function G(...e){return ST(Ce(e))}function q(e,t="EUR"){if(e==null)return"-";const r=Object.is(e,-0)||e>-.005&&e<0?0:e;return new Intl.NumberFormat("en-US",{style:"currency",currency:t,minimumFractionDigits:2,maximumFractionDigits:2}).format(r)}function lt(e,t=1){if(e==null)return"-";const r=e.toFixed(t);return`${r.startsWith("-0.")&&parseFloat(r)===0?r.slice(1):r}%`}function Ne(e){return e==null?"-":e>=1e6?`${(e/1e6).toFixed(1)}M`:e>=1e3?`${(e/1e3).toFixed(1)}K`:e.toLocaleString()}function Bf(e){return e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"-"}function DS(e){return e?new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-"}/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var OT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ae=(e,t)=>{const r=O.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:l="",children:c,...u},f)=>O.createElement("svg",{ref:f,...OT,width:i,height:i,stroke:n,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${CT(e)}`,l].join(" "),...u},[...t.map(([d,h])=>O.createElement(d,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gd=ae("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=ae("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=ae("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ry=ae("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=ae("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=ae("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=ae("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=ae("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=ae("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=ae("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=ae("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=ae("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=ae("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=ae("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=ae("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=ae("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=ae("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=ae("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=ae("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=ae("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=ae("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=ae("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=ae("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=ae("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=ae("FileWarning",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=ae("FileX",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m14.5 12.5-5 5",key:"b62r18"}],["path",{d:"m9.5 12.5 5 5",key:"1rk7el"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uf=ae("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=ae("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BS=ae("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=ae("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=ae("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=ae("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=ae("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=ae("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=ae("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=ae("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=ae("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yd=ae("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oi=ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=ae("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=ae("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=ae("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=ae("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=ae("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=ae("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=ae("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=ae("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=ae("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=ae("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=ae("Table2",[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",key:"gugj83"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zy=ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=ae("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=ae("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=ae("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=ae("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=ae("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=ae("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=ae("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),XT={},$b=e=>{let t;const r=new Set,n=(f,d)=>{const h=typeof f=="function"?f(t):f;if(!Object.is(h,t)){const m=t;t=d??(typeof h!="object"||h===null)?h:Object.assign({},t,h),r.forEach(x=>x(t,m))}},i=()=>t,c={setState:n,getState:i,getInitialState:()=>u,subscribe:f=>(r.add(f),()=>r.delete(f)),destroy:()=>{(XT?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=t=e(n,i,c);return c},QT=e=>e?$b(e):$b;var GS={exports:{}},XS={},QS={exports:{}},YS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fs=O;function YT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ZT=typeof Object.is=="function"?Object.is:YT,JT=Fs.useState,eM=Fs.useEffect,tM=Fs.useLayoutEffect,rM=Fs.useDebugValue;function nM(e,t){var r=t(),n=JT({inst:{value:r,getSnapshot:t}}),i=n[0].inst,s=n[1];return tM(function(){i.value=r,i.getSnapshot=t,um(i)&&s({inst:i})},[e,r,t]),eM(function(){return um(i)&&s({inst:i}),e(function(){um(i)&&s({inst:i})})},[e]),rM(r),r}function um(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ZT(e,r)}catch{return!0}}function aM(e,t){return t()}var iM=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?aM:nM;YS.useSyncExternalStore=Fs.useSyncExternalStore!==void 0?Fs.useSyncExternalStore:iM;QS.exports=YS;var sM=QS.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wf=O,oM=sM;function lM(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var cM=typeof Object.is=="function"?Object.is:lM,uM=oM.useSyncExternalStore,dM=Wf.useRef,fM=Wf.useEffect,hM=Wf.useMemo,mM=Wf.useDebugValue;XS.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var s=dM(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=hM(function(){function c(m){if(!u){if(u=!0,f=m,m=n(m),i!==void 0&&o.hasValue){var x=o.value;if(i(x,m))return d=x}return d=m}if(x=d,cM(f,m))return x;var g=n(m);return i!==void 0&&i(x,g)?(f=m,x):(f=m,d=g)}var u=!1,f,d,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,i]);var l=uM(e,s[0],s[1]);return fM(function(){o.hasValue=!0,o.value=l},[l]),mM(l),l};GS.exports=XS;var pM=GS.exports;const xM=Le(pM),ZS={},{useDebugValue:gM}=R,{useSyncExternalStoreWithSelector:yM}=xM;let Tb=!1;const vM=e=>e;function bM(e,t=vM,r){(ZS?"production":void 0)!=="production"&&r&&!Tb&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Tb=!0);const n=yM(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return gM(n),n}const jM=e=>{(ZS?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?QT(e):e,r=(n,i)=>bM(t,n,i);return Object.assign(r,t),r},wM=e=>jM,NM={};function _M(e,t){let r;try{r=e()}catch{return}return{getItem:i=>{var s;const o=c=>c===null?null:JSON.parse(c,void 0),l=(s=r.getItem(i))!=null?s:null;return l instanceof Promise?l.then(o):o(l)},setItem:(i,s)=>r.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>r.removeItem(i)}}const Ul=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return Ul(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return Ul(n)(r)}}}},SM=(e,t)=>(r,n,i)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:v=>v,version:0,merge:(v,p)=>({...p,...v}),...t},o=!1;const l=new Set,c=new Set;let u;try{u=s.getStorage()}catch{}if(!u)return e((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),r(...v)},n,i);const f=Ul(s.serialize),d=()=>{const v=s.partialize({...n()});let p;const y=f({state:v,version:s.version}).then(j=>u.setItem(s.name,j)).catch(j=>{p=j});if(p)throw p;return y},h=i.setState;i.setState=(v,p)=>{h(v,p),d()};const m=e((...v)=>{r(...v),d()},n,i);let x;const g=()=>{var v;if(!u)return;o=!1,l.forEach(y=>y(n()));const p=((v=s.onRehydrateStorage)==null?void 0:v.call(s,n()))||void 0;return Ul(u.getItem.bind(u))(s.name).then(y=>{if(y)return s.deserialize(y)}).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==s.version){if(s.migrate)return s.migrate(y.state,y.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return y.state}).then(y=>{var j;return x=s.merge(y,(j=n())!=null?j:m),r(x,!0),d()}).then(()=>{p==null||p(x,void 0),o=!0,c.forEach(y=>y(x))}).catch(y=>{p==null||p(void 0,y)})};return i.persist={setOptions:v=>{s={...s,...v},v.getStorage&&(u=v.getStorage())},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>g(),hasHydrated:()=>o,onHydrate:v=>(l.add(v),()=>{l.delete(v)}),onFinishHydration:v=>(c.add(v),()=>{c.delete(v)})},g(),x||m},OM=(e,t)=>(r,n,i)=>{let s={storage:_M(()=>localStorage),partialize:g=>g,version:0,merge:(g,v)=>({...v,...g}),...t},o=!1;const l=new Set,c=new Set;let u=s.storage;if(!u)return e((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),r(...g)},n,i);const f=()=>{const g=s.partialize({...n()});return u.setItem(s.name,{state:g,version:s.version})},d=i.setState;i.setState=(g,v)=>{d(g,v),f()};const h=e((...g)=>{r(...g),f()},n,i);i.getInitialState=()=>h;let m;const x=()=>{var g,v;if(!u)return;o=!1,l.forEach(y=>{var j;return y((j=n())!=null?j:h)});const p=((v=s.onRehydrateStorage)==null?void 0:v.call(s,(g=n())!=null?g:h))||void 0;return Ul(u.getItem.bind(u))(s.name).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==s.version){if(s.migrate)return[!0,s.migrate(y.state,y.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,y.state];return[!1,void 0]}).then(y=>{var j;const[w,b]=y;if(m=s.merge(b,(j=n())!=null?j:h),r(m,!0),w)return f()}).then(()=>{p==null||p(m,void 0),m=n(),o=!0,c.forEach(y=>y(m))}).catch(y=>{p==null||p(void 0,y)})};return i.persist={setOptions:g=>{s={...s,...g},g.storage&&(u=g.storage)},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>x(),hasHydrated:()=>o,onHydrate:g=>(l.add(g),()=>{l.delete(g)}),onFinishHydration:g=>(c.add(g),()=>{c.delete(g)})},s.skipHydration||x(),m||h},CM=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((NM?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),SM(e,t)):OM(e,t),PM=CM,Mb="",Hf=wM()(PM((e,t)=>({status:"disconnected",backendUrl:Mb,lastChecked:null,error:null,setBackendUrl:r=>{e({backendUrl:r,status:"disconnected",error:null})},setStatus:r=>{e({status:r})},setError:r=>{e({error:r})},checkConnection:async()=>{const{backendUrl:r}=t();if(!r)return e({status:"disconnected",lastChecked:Date.now(),error:null}),!1;e({status:"checking",error:null});try{const n=new AbortController,i=setTimeout(()=>n.abort(),5e3),s=await fetch(`${r}/api/health`,{method:"GET",signal:n.signal});return clearTimeout(i),s.ok?(e({status:"connected",lastChecked:Date.now(),error:null}),!0):(e({status:"disconnected",lastChecked:Date.now(),error:`Backend returned status ${s.status}`}),!1)}catch(n){const i=n instanceof Error?n.message:"Connection failed";return e({status:"disconnected",lastChecked:Date.now(),error:i}),!1}},resetToDefault:()=>{e({backendUrl:Mb,status:"disconnected",error:null})}}),{name:"finalyst-backend",partialize:e=>({backendUrl:e.backendUrl})}));function Kf(){return Hf(t=>t.status)!=="connected"}function AM({isOpen:e,onClose:t}){const{backendUrl:r,status:n,error:i,setBackendUrl:s,checkConnection:o,resetToDefault:l}=Hf(),[c,u]=O.useState(r),[f,d]=O.useState(!1),[h,m]=O.useState(null);O.useEffect(()=>{e&&(u(r),m(null))},[e,r]);const x=async()=>{if(!c.trim()){m("error");return}d(!0),m(null);try{const p=new AbortController,y=setTimeout(()=>p.abort(),5e3),j=await fetch(`${c.trim()}/api/health`,{method:"GET",signal:p.signal});clearTimeout(y),m(j.ok?"success":"error")}catch{m("error")}finally{d(!1)}},g=async()=>{s(c.trim()),await o(),t()},v=()=>{l(),u(""),m(null)};return e?a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:t}),a.jsxs("div",{className:"relative w-full max-w-lg bg-white rounded-xl shadow-2xl",children:[a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(BT,{className:"w-5 h-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Backend Connection"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Configure the backend API URL"})]})]}),a.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(Wt,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"px-6 py-4 space-y-4",children:[a.jsxs("div",{className:`p-3 rounded-lg ${n==="connected"?"bg-green-50 border border-green-200":"bg-gray-50 border border-gray-200"}`,children:[a.jsx("div",{className:"flex items-center gap-2",children:n==="connected"?a.jsxs(a.Fragment,{children:[a.jsx(Ds,{className:"w-4 h-4 text-green-600"}),a.jsx("span",{className:"text-sm font-medium text-green-700",children:"Currently connected"})]}):n==="checking"?a.jsxs(a.Fragment,{children:[a.jsx(Ee,{className:"w-4 h-4 text-blue-600 animate-spin"}),a.jsx("span",{className:"text-sm font-medium text-blue-700",children:"Checking connection..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(gd,{className:"w-4 h-4 text-gray-500"}),a.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Not connected - read-only mode"})]})}),i&&a.jsx("p",{className:"mt-1 text-xs text-red-600",children:i})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Backend API URL"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:c,onChange:p=>{u(p.target.value),m(null)},placeholder:"https://api.example.com",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.jsx("button",{onClick:x,disabled:f||!c.trim(),className:"px-4 py-2 text-sm font-medium text-blue-600 border border-blue-300 rounded-lg hover:bg-blue-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:f?a.jsx(Ee,{className:"w-4 h-4 animate-spin"}):"Test"})]}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Enter the base URL of your backend API (without /api/health)"}),h&&a.jsx("div",{className:`mt-2 flex items-center gap-2 text-sm ${h==="success"?"text-green-600":"text-red-600"}`,children:h==="success"?a.jsxs(a.Fragment,{children:[a.jsx(Ds,{className:"w-4 h-4"}),"Connection successful"]}):a.jsxs(a.Fragment,{children:[a.jsx(gd,{className:"w-4 h-4"}),"Connection failed - check URL and try again"]})})]}),a.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg text-xs text-gray-600",children:[a.jsx("p",{className:"font-medium mb-1",children:"When connected:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-0.5",children:[a.jsx("li",{children:"Full UI functionality is available"}),a.jsx("li",{children:"Settings can be modified and saved"}),a.jsx("li",{children:"Experiments can be created and run"}),a.jsx("li",{children:"Transaction search is enabled"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-gray-50 rounded-b-xl",children:[a.jsxs("button",{onClick:v,className:"flex items-center gap-2 px-3 py-2 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[a.jsx(Fy,{className:"w-4 h-4"}),"Reset to Default"]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:t,className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),a.jsx("button",{onClick:g,className:"px-4 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Save & Connect"})]})]})]})]}):null}const kM=[{name:"Reports",href:"/",icon:Ri},{name:"Merchants",href:"/merchants",icon:VS},{name:"Transactions",href:"/transactions",icon:WS},{name:"Experiments",href:"/experiments",icon:Uf}];function EM({status:e,onClick:t}){const r={connected:{icon:VT,bg:"bg-green-50",iconColor:"text-green-600",textColor:"text-green-700",label:"Connected"},disconnected:{icon:qT,bg:"bg-gray-50",iconColor:"text-gray-400",textColor:"text-gray-500",label:"Offline"},checking:{icon:Ee,bg:"bg-blue-50",iconColor:"text-blue-600",textColor:"text-blue-700",label:"Checking..."}}[e],n=r.icon;return a.jsxs("button",{onClick:t,className:G("w-full flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-colors",r.bg,"hover:opacity-80"),title:e==="connected"?"Click to configure":"Click to connect",children:[a.jsx(n,{className:G("h-5 w-5",r.iconColor,e==="checking"&&"animate-spin")}),a.jsx("span",{className:r.textColor,children:r.label})]})}function $M({currentPath:e}){const[t,r]=O.useState(!1),{status:n,checkConnection:i}=Hf(),s=async()=>{n!=="checking"&&(n==="disconnected"&&await i()||r(!0))};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-gray-200 space-y-2",children:[a.jsx(EM,{status:n,onClick:s}),a.jsxs(De,{to:"/settings",className:G("flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-colors",e==="/settings"?"bg-primary-50 text-primary-700":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"),children:[a.jsx(By,{className:"h-5 w-5"}),"Settings"]})]}),a.jsx(AM,{isOpen:t,onClose:()=>r(!1)})]})}function TM({children:e}){const t=xo(),[r,n]=O.useState([]),[i,s]=O.useState(""),[o,l]=O.useState(!1),[c,u]=O.useState(!0),[f,d]=O.useState(!1);O.useEffect(()=>{async function x(){try{const g=await fetch("/api/client/versions");if(g.ok){const v=await g.json();n(v.versions),s(v.current)}}catch(g){console.error("Failed to fetch versions:",g)}finally{u(!1)}}x()},[]);async function h(x){if(!(x===i||f)){d(!0);try{(await fetch("/api/version",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({version:x})})).ok&&window.location.reload()}catch(g){console.error("Failed to switch version:",g)}finally{d(!1),l(!1)}}}const m=r.find(x=>x.id===i);return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsxs("aside",{className:"fixed inset-y-0 left-0 z-50 w-64 bg-white border-r border-gray-200",children:[a.jsx("div",{className:"flex h-16 items-center px-6 border-b border-gray-200",children:a.jsx("img",{src:"/logo.svg",alt:"Finalyst",className:"h-8"})}),a.jsx("div",{className:"p-4 border-b border-gray-100",children:a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>l(!o),disabled:c||f||r.length<=1,className:G("w-full flex items-center justify-between gap-2 px-3 py-2 bg-gray-50 rounded-lg transition-colors",r.length>1?"hover:bg-gray-100 cursor-pointer":"cursor-default",(c||f)&&"opacity-50"),children:[a.jsxs("div",{className:"flex items-center gap-2",children:[f?a.jsx(Ee,{className:"h-4 w-4 text-gray-500 animate-spin"}):a.jsx(Ly,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:c?"Loading...":(m==null?void 0:m.name)||i||"Mainline"})]}),r.length>1&&a.jsx(Ge,{className:G("h-4 w-4 text-gray-400 transition-transform",o&&"rotate-180")})]}),o&&r.length>1&&a.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-10 py-1",children:r.map(x=>a.jsxs("button",{onClick:()=>h(x.id),disabled:f,className:G("w-full text-left px-3 py-2 hover:bg-gray-50",i===x.id&&"bg-blue-50"),children:[a.jsx("div",{className:"text-sm font-medium text-gray-700",children:x.name}),x.description&&a.jsx("div",{className:"text-xs text-gray-500",children:x.description})]},x.id))})]})}),a.jsx("nav",{className:"flex flex-col gap-1 p-4",children:kM.map(x=>{const g=t.pathname===x.href;return a.jsxs(De,{to:x.href,className:G("flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-colors",g?"bg-primary-50 text-primary-700":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"),children:[a.jsx(x.icon,{className:"h-5 w-5"}),x.name]},x.name)})}),a.jsx($M,{currentPath:t.pathname})]}),a.jsx("main",{className:"pl-64",children:a.jsx("div",{className:"p-8",children:e})})]})}const JS="/api";async function he(e,t){const r=await fetch(`${JS}${e}`,{...t,headers:{"Content-Type":"application/json",...t==null?void 0:t.headers}});if(!r.ok){const n=await r.json().catch(()=>({detail:"Request failed"}));throw new Error(n.detail||"Request failed")}return r.json()}const ie={health:()=>he("/health"),searchTransactions:e=>he(`/transactions/search?q=${encodeURIComponent(e)}`),getTransaction:e=>he(`/transactions/${e}`),getTransactionWhy:e=>he(`/transactions/${e}/why`),refreshTransaction:e=>he(`/transactions/${e}/refresh`,{method:"POST"}),getMerchants:()=>he("/merchants"),getMerchant:e=>he(`/merchants/${e}`),getMerchantMonthly:e=>he(`/merchants/${e}/monthly`),getMerchantDynamics:e=>he(`/merchants/${e}/dynamics`),getPlanDailyData:(e,t,r)=>he(`/merchants/${e}/plan-daily?plan_id=${encodeURIComponent(t)}&month=${r}`),getPlanDynamics:(e,t)=>he(`/merchants/${e}/plan-dynamics/${encodeURIComponent(t)}`),getMerchantRatePlanAnalysis:(e,t,r)=>{const n=new URLSearchParams;r&&n.append("contract_id",r),t&&(t.rate_precision!==void 0&&n.append("rate_precision",String(t.rate_precision)),t.fixed_tolerance!==void 0&&n.append("fixed_tolerance",String(t.fixed_tolerance)),t.match_tolerance!==void 0&&n.append("match_tolerance",String(t.match_tolerance)),t.min_confidence!==void 0&&n.append("min_confidence",String(t.min_confidence)),t.max_variants!==void 0&&n.append("max_variants",String(t.max_variants)),t.min_period_days!==void 0&&n.append("min_period_days",String(t.min_period_days)),t.min_transactions!==void 0&&n.append("min_transactions",String(t.min_transactions)),t.prefer_lower_rate!==void 0&&n.append("prefer_lower_rate",String(t.prefer_lower_rate)));const i=n.toString();return he(`/merchants/${e}/rate-plan-analysis${i?"?"+i:""}`)},refreshMerchant:e=>he(`/merchants/${e}/refresh`,{method:"POST"}),recreateRatePlans:e=>he(`/merchants/${e}/recreate-rate-plans`,{method:"POST"}),applyContractRates:e=>he(`/merchants/${e}/apply-contract-rates`,{method:"POST"}),getMerchantAnalysisConfig:e=>he(`/merchants/${e}/analysis-config`),saveMerchantAnalysisConfig:(e,t)=>he(`/merchants/${e}/analysis-config`,{method:"PUT",body:JSON.stringify(t)}),getContracts:e=>he(`/contracts/${e}`),getContract:(e,t)=>he(`/contracts/${e}/${encodeURIComponent(t)}`),uploadContract:async(e,t)=>{const r=new FormData;r.append("file",t);const n=await fetch(`${JS}/contracts/convert?merchant_id=${e}`,{method:"POST",body:r});if(!n.ok){const i=await n.json().catch(()=>({detail:"Upload failed"}));throw new Error(i.detail||"Upload failed")}return n.json()},deleteContract:(e,t)=>he(`/contracts/${e}/${encodeURIComponent(t)}`,{method:"DELETE"}),getPlanStats:(e,t)=>he(`/merchants/${e}/plan-stats/${encodeURIComponent(t)}`),getContractPlans:e=>he(`/merchants/${e}/contract-plans`),getContractMapping:(e,t,r,n=!1)=>he(`/contracts/${e}/${encodeURIComponent(t)}/mapping`,{method:"POST",body:JSON.stringify({fees:r,force_recalculate:n})}),testFormula:(e,t,r,n,i=.05)=>he(`/merchants/${e}/test-formula/${encodeURIComponent(t)}?rate=${r}&fixed=${n}&tolerance=${i}`),getReportsList:()=>he("/reports/list"),getDeviationReport:()=>he("/reports/deviation"),getUnderpaymentReport:()=>he("/reports/deviation/underpay"),getContractMismatchReport:()=>he("/reports/contract-mismatch"),getAnomaliesReport:()=>he("/reports/anomalies"),getReconciliationDeviationReport:()=>he("/reports/reconciliation-deviation"),getCommissionComplianceReport:()=>he("/reports/underpayment-v2"),getOverviewConfig:()=>he("/overview/config"),getOverviewGrid:(e,t,r)=>he(`/overview?year=${e}&op=${encodeURIComponent(t)}&method=${encodeURIComponent(r)}`),getOverview:()=>he("/overview"),getCases:()=>he("/cases"),getCase:e=>he(`/cases/${e}`),getMerchantByShortname:e=>he(`/merchant/${e}`),getMerchantStream:(e,t)=>he(`/merchant/${e}/streams/${t}`),getDynamicsByShortname:e=>he(`/merchant/${e}/dynamics`),getAnalysisByShortname:(e,t)=>{const r=new URLSearchParams;t&&(t.rate_precision!==void 0&&r.append("rate_precision",String(t.rate_precision)),t.fixed_tolerance!==void 0&&r.append("fixed_tolerance",String(t.fixed_tolerance)),t.match_tolerance!==void 0&&r.append("match_tolerance",String(t.match_tolerance)),t.min_confidence!==void 0&&r.append("min_confidence",String(t.min_confidence)),t.max_variants!==void 0&&r.append("max_variants",String(t.max_variants)),t.min_period_days!==void 0&&r.append("min_period_days",String(t.min_period_days)),t.min_transactions!==void 0&&r.append("min_transactions",String(t.min_transactions)),t.prefer_lower_rate!==void 0&&r.append("prefer_lower_rate",String(t.prefer_lower_rate)));const n=r.toString();return he(`/merchant/${e}/rate-plan-analysis${n?"?"+n:""}`)},getContractsByShortname:e=>he(`/merchant/${e}/contracts`),getContractByShortname:(e,t)=>he(`/merchant/${e}/contracts/${encodeURIComponent(t)}`),getContractPlansByShortname:e=>he(`/merchant/${e}/contract-plans`),getAnalysisConfigByShortname:e=>he(`/merchant/${e}/analysis-config`),getPlanDynamicsByShortname:(e,t)=>he(`/merchant/${e}/plan-dynamics/${encodeURIComponent(t)}`)};function ne({children:e,title:t,className:r,actions:n}){return a.jsxs("div",{className:G("bg-white rounded-xl border border-gray-200 shadow-sm",r),children:[(t||n)&&a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[t&&a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t}),n&&a.jsx("div",{children:n})]}),a.jsx("div",{className:"p-6",children:e})]})}const MM={TrendingDown:Dc,FileWarning:MT,AlertTriangle:nt,FileCheck:FS,CheckCircle:Ta};function RM(){var v;const{data:e,isLoading:t}=pe({queryKey:["reports","list"],queryFn:ie.getReportsList}),{data:r,isLoading:n}=pe({queryKey:["reports","deviation"],queryFn:ie.getDeviationReport}),{data:i,isLoading:s}=pe({queryKey:["reports","contract-mismatch"],queryFn:ie.getContractMismatchReport}),{data:o,isLoading:l}=pe({queryKey:["reports","anomalies"],queryFn:ie.getAnomaliesReport}),c=t||n||s||l,u=r!=null&&r.merchant_summary?{totalLoss:-Object.values(r.merchant_summary).reduce((p,y)=>p+y.underpay_volume,0),transactions:Object.values(r.merchant_summary).reduce((p,y)=>p+y.underpay_count,0)}:null,f=i!=null&&i.match_quality?{totalDeviation:i.match_quality.total_deviation??0,transactions:i.match_quality.total??0,criticalCount:typeof i.match_quality.critical=="object"?((v=i.match_quality.critical)==null?void 0:v.count)??0:i.match_quality.critical??0}:null,d=o?{zeroCommission:o.zero_commission.total_count,totalAnomalies:o.zero_commission.total_count+o.fixed_fee_mismatch.total_count+o.manual_transactions.total_count}:null,h={"underpayment-analysis":{bg:"bg-red-100",color:"text-red-600"},"contract-mismatch":{bg:"bg-amber-100",color:"text-amber-600"},anomalies:{bg:"bg-purple-100",color:"text-purple-600"},"reconciliation-deviation":{bg:"bg-blue-100",color:"text-blue-600"},"commission-compliance":{bg:"bg-green-100",color:"text-green-600"}},m=p=>{switch(p){case"underpayment-analysis":return u?{totalLoss:u.totalLoss,transactions:u.transactions,criticalIssues:u.totalLoss<-1e3?1:0}:null;case"contract-mismatch":return f?{totalLoss:f.totalDeviation,transactions:f.transactions,criticalIssues:f.criticalCount>1e5?1:0}:null;case"anomalies":return d?{totalLoss:null,transactions:d.totalAnomalies,criticalIssues:d.zeroCommission}:null;default:return null}},x=p=>{switch(p){case"underpayment-analysis":return u&&u.totalLoss<-1e3?"critical":"ok";case"contract-mismatch":return f&&f.criticalCount>1e5?"critical":"ok";case"anomalies":return d&&d.totalAnomalies>1e3?"warning":"ok";default:return"ok"}},g=((e==null?void 0:e.reports)||[]).filter(p=>p.available).map(p=>{var y,j,w;return{id:p.id,title:p.title,description:p.description,icon:MM[p.icon]||nt,iconBg:((y=h[p.id])==null?void 0:y.bg)||"bg-gray-100",iconColor:((j=h[p.id])==null?void 0:j.color)||"text-gray-600",href:p.href,stats:m(p.id),status:x(p.id),lastUpdated:((w=p.generated_at)==null?void 0:w.split("T")[0])||"-"}});return c?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(Ee,{className:"h-8 w-8 text-gray-400 animate-spin"})}):a.jsxs("div",{children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Reports"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Commission analysis and deviation reports"})]})}),a.jsx("div",{className:"grid grid-cols-1 gap-6",children:g.map(p=>{const y=p.icon;return a.jsx(De,{to:p.href,className:"block",children:a.jsxs(ne,{className:"hover:shadow-md transition-shadow cursor-pointer",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:G("p-3 rounded-lg",p.iconBg),children:a.jsx(y,{className:G("h-6 w-6",p.iconColor)})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:p.title}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:p.description}),p.stats&&a.jsxs("div",{className:"flex items-center gap-6 mt-4",children:[p.stats.totalLoss!=null&&a.jsxs("div",{children:[a.jsx("div",{className:G("text-lg font-semibold",p.id==="underpayment-analysis"?"text-red-600":"text-orange-600"),children:q(Math.abs(p.stats.totalLoss))}),a.jsx("div",{className:"text-xs text-gray-500",children:p.id==="underpayment-analysis"?"Revenue Loss":"Total Deviation"})]}),p.stats.transactions>0&&a.jsxs("div",{children:[a.jsx("div",{className:"text-lg font-semibold text-gray-900",children:p.stats.transactions.toLocaleString()}),a.jsx("div",{className:"text-xs text-gray-500",children:"Transactions"})]}),p.stats.criticalIssues>0&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(nt,{className:"h-4 w-4 text-amber-500"}),a.jsxs("span",{className:"text-sm font-medium text-amber-600",children:[p.stats.criticalIssues," ",p.id==="anomalies"?"anomalies":"critical issues"]})]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[p.status==="critical"&&a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-red-100 text-red-700",children:"Needs Attention"}),p.status==="warning"&&a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-amber-100 text-amber-700",children:"Review Required"}),a.jsx(Ry,{className:"h-5 w-5 text-gray-400"})]})]}),a.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 text-xs text-gray-400",children:["Last updated: ",p.lastUpdated]})]})},p.id)})})]})}function IM({title:e,fields:t,isOpen:r,onToggle:n}){return a.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[a.jsxs("button",{onClick:n,className:"w-full px-4 py-2 flex items-center justify-between bg-gray-50 hover:bg-gray-100 transition-colors",children:[a.jsx("span",{className:"font-medium text-gray-700",children:e}),r?a.jsx(Ge,{className:"h-4 w-4 text-gray-400"}):a.jsx(Qr,{className:"h-4 w-4 text-gray-400"})]}),r&&a.jsx("div",{className:"px-4 py-3 bg-white",children:a.jsx("div",{className:"grid grid-cols-2 gap-x-8 gap-y-2 text-sm",children:t.map(i=>a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:i.label}),a.jsx("span",{className:"font-medium text-gray-900",children:i.value??"-"})]},i.label))})})]})}function DM(){return a.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:a.jsx("div",{className:"px-4 py-2 bg-gray-50",children:a.jsx("div",{className:"h-5 w-32 bg-gray-200 rounded animate-pulse"})})})}function vn({title:e,fields:t,defaultOpen:r=!1,isLoading:n=!1,className:i}){const[s,o]=O.useState(r);return n?a.jsx(DM,{}):a.jsx("div",{className:i,children:a.jsx(IM,{title:e,fields:t,isOpen:s,onToggle:()=>o(!s)})})}const LM={success:"bg-green-100 text-green-700",error:"bg-red-100 text-red-700",warning:"bg-orange-100 text-orange-700",info:"bg-blue-100 text-blue-700",default:"bg-gray-100 text-gray-700"};function eO({children:e,variant:t="default",className:r}){return a.jsx("span",{className:G("px-2 py-0.5 text-xs font-medium rounded",LM[t],r),children:e})}function FM({status:e}){const t=e==="approved"?"success":e==="declined"?"error":"default";return a.jsx(eO,{variant:t,children:e})}function BM({type:e}){return a.jsx(eO,{variant:"info",children:e})}const Bs=O.forwardRef(({className:e,variant:t="primary",size:r="md",disabled:n,children:i,...s},o)=>a.jsx("button",{ref:o,disabled:n,className:G("inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2",{"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500":t==="primary","bg-gray-100 text-gray-700 hover:bg-gray-200 focus:ring-gray-500":t==="secondary","text-gray-600 hover:bg-gray-100 hover:text-gray-900 focus:ring-gray-500":t==="ghost","bg-red-600 text-white hover:bg-red-700 focus:ring-red-500":t==="danger","px-3 py-1.5 text-sm":r==="sm","px-4 py-2 text-sm":r==="md","px-6 py-3 text-base":r==="lg","opacity-50 cursor-not-allowed":n},e),...s,children:i}));Bs.displayName="Button";function ge({className:e}){return a.jsx("div",{className:G("animate-pulse rounded bg-gray-200",e)})}const zM={default:"bg-gray-50",success:"bg-green-50",warning:"bg-amber-50",danger:"bg-red-50"},UM={default:"text-gray-900",success:"text-green-700",warning:"text-amber-700",danger:"text-red-700"};function wr({label:e,value:t,subValue:r,variant:n="default",className:i}){return a.jsxs("div",{className:G("rounded-lg p-4",zM[n],i),children:[a.jsx("div",{className:G("text-2xl font-semibold",UM[n]),children:t}),a.jsx("div",{className:"text-sm text-gray-500",children:e}),r&&a.jsx("div",{className:"text-xs text-gray-400 mt-1",children:r})]})}function tO({children:e,columns:t=4,className:r}){const n={2:"grid-cols-2",3:"grid-cols-3",4:"grid-cols-4"};return a.jsx("div",{className:G("grid gap-4",n[t],r),children:e})}function WM({value:e,onChange:t,onSubmit:r,placeholder:n="Enter transaction_id or order_id...",helpText:i="Enter a transaction UUID or numeric order ID to search",disabled:s=!1}){const o=l=>{l.preventDefault(),s||r()};return a.jsx(ne,{className:"mb-6",children:a.jsxs("form",{onSubmit:o,children:[a.jsxs("div",{className:"relative",children:[a.jsx(qS,{className:`absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 ${s?"text-gray-300":"text-gray-400"}`}),a.jsx("input",{type:"text",value:e,onChange:l=>t(l.target.value),placeholder:s?"Connect to backend to search":n,disabled:s,className:`w-full pl-10 pr-4 py-3 border rounded-lg outline-none ${s?"border-gray-200 bg-gray-50 text-gray-400 cursor-not-allowed":"border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}`})]}),a.jsx("p",{className:"mt-2 text-sm text-gray-500",children:s?"Connect to backend to enable transaction search":i})]})})}function HM({results:e,title:t,count:r}){return a.jsxs("div",{children:[a.jsxs("h2",{className:"text-sm font-medium text-gray-700 mb-3",children:[t,a.jsxs("span",{className:"ml-2 text-gray-400",children:["(",r," found)"]})]}),a.jsx("div",{className:"space-y-2",children:e.map(n=>a.jsx(KM,{transaction:n},n.transaction_id))})]})}function KM({transaction:e}){return a.jsx(De,{to:`/transaction/${e.transaction_id}`,className:"block",children:a.jsx(ne,{className:"hover:border-gray-300 hover:shadow-md transition-all cursor-pointer",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[a.jsx("span",{className:"font-mono text-sm text-gray-700",children:e.transaction_id}),a.jsx(FM,{status:e.status||"unknown"}),e.transaction_type&&a.jsx(BM,{type:e.transaction_type})]}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[a.jsx("span",{children:q(e.amount_eur)}),e.currency&&e.currency!=="EUR"&&a.jsx("span",{className:"text-orange-600",children:e.currency}),e.card_brand&&a.jsx("span",{children:e.card_brand}),a.jsx("span",{children:DS(e.created_date)}),e.merchant_name&&a.jsx("span",{className:"text-gray-400",children:e.merchant_name})]})]}),a.jsx(Qr,{className:"h-5 w-5 text-gray-400"})]})})})}function qM({query:e}){return a.jsxs("div",{className:"text-gray-500 text-center py-8",children:['No transactions found for "',e,'"']})}function VM({error:e}){return a.jsxs("div",{className:"text-red-500 text-center py-8",children:["Error: ",e]})}function GM(){return a.jsx("div",{className:"text-gray-500 text-center py-8",children:"Searching..."})}function XM({className:e}){const t=Kf(),[r,n]=O.useState(""),[i,s]=O.useState(""),{data:o,isLoading:l,error:c}=pe({queryKey:["transactions-search",i],queryFn:()=>ie.searchTransactions(i),enabled:i.length>0}),u=()=>{r.trim()&&s(r.trim())},f=i&&/^\d+$/.test(i),d=()=>f?`Transactions for Order #${i}`:`Results for "${i}"`;return a.jsxs("div",{className:e,children:[a.jsx(WM,{value:r,onChange:n,onSubmit:u,disabled:t}),i&&a.jsx(QM,{isLoading:l,error:c,results:o,query:i,title:d()})]})}function QM({isLoading:e,error:t,results:r,query:n,title:i}){return e?a.jsx(GM,{}):t?a.jsx(VM,{error:t.message}):!r||r.length===0?a.jsx(qM,{query:n}):a.jsx(HM,{results:r,title:i,count:r.length})}function YM({transactionId:e,orderId:t,merchantName:r,backUrl:n="/transactions"}){return a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx(De,{to:n,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(kr,{className:"h-5 w-5 text-gray-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h1",{className:"text-lg font-semibold text-gray-900 font-mono",children:e}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[a.jsxs("span",{children:["Order #",t]}),a.jsx("span",{children:"-"}),a.jsx("span",{children:r})]})]})]})}function ZM(){return a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx(ge,{className:"h-9 w-9 rounded-lg"}),a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx(ge,{className:"h-6 w-80"}),a.jsx(ge,{className:"h-4 w-48"})]})]})}function JM({appliedPlan:e,transactionId:t,ratePlanId:r,merchantId:n,currency:i,transactionType:s,onSelectPlan:o}){var m;const[l,c]=O.useState(!1),{data:u}=pe({queryKey:["contract-plans",n],queryFn:()=>ie.getContractPlans(n),enabled:!!n&&!e&&!!r}),f=u==null?void 0:u.find(x=>x.plan_key===r),d=()=>{if(!e||e.volume_min==null&&e.volume_max==null)return null;const x=p=>p>=1e6?`${(p/1e6).toFixed(0)}M`:p>=1e3?`${(p/1e3).toFixed(0)}K`:p.toFixed(0),g=e.volume_min||0,v=e.volume_max;return v?`${x(g)}-${x(v)}`:`${x(g)}+`},h=(e==null?void 0:e.plan_rate)!=null;return a.jsxs(ne,{title:"Applied Plan",className:"mb-6",children:[e?a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium text-gray-900",children:e.plan_key}),h&&a.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-0.5 rounded",children:"from contract"})]}),a.jsx("div",{className:"text-sm text-gray-500 mt-1",children:[e.operation_type,e.payment_type,e.currency||e.currency_type,e.region,d()].filter(Boolean).join(" / ")})]}),a.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-1 px-3 py-1.5 text-sm font-medium text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:[a.jsx(vo,{className:"h-4 w-4"}),"Why?"]})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Operation"}),a.jsx("div",{className:"font-medium",children:e.operation_type||"-"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Payment Type"}),a.jsx("div",{className:"font-medium",children:e.payment_type||"-"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Currency"}),a.jsx("div",{className:"font-medium",children:e.currency||e.currency_type||"-"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Region"}),a.jsx("div",{className:"font-medium",children:e.region||"*"})]}),e.apm_type&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"APM Type"}),a.jsx("div",{className:"font-medium",children:e.apm_type})]}),d()&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Volume Tier"}),a.jsx("div",{className:"font-medium",children:d()})]}),e.traffic_type&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Traffic Type"}),a.jsx("div",{className:"font-medium",children:e.traffic_type})]}),e.card_brand&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Card Brand"}),a.jsx("div",{className:"font-medium",children:e.card_brand})]})]}),h&&a.jsx("div",{className:"border-t border-gray-200 mt-4 pt-4",children:a.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm",children:[s==="reversal"||s==="refund"?a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Refund Fee"}),a.jsx("div",{className:"font-medium text-green-600",children:e.refund_fee!=null?q(e.refund_fee):"-"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Contract Rate"}),a.jsx("div",{className:"font-medium text-green-600",children:lt(e.plan_rate,2)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Contract Fixed"}),a.jsx("div",{className:"font-medium text-green-600",children:e.plan_fixed!=null?q(e.plan_fixed):"-"})]})]}),e.fx_rate!=null&&e.fx_rate!==1&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"FX Rate"}),a.jsx("div",{className:"font-medium",children:(m=e.fx_rate)==null?void 0:m.toFixed(6)})]})]})})]}):f?a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-900",children:f.plan_key}),a.jsx("span",{className:"ml-2 text-xs bg-yellow-100 text-yellow-700 px-2 py-0.5 rounded",children:"From Contract"}),a.jsx("div",{className:"text-sm text-gray-500 mt-1",children:[f.operation_type,f.payment_type,f.currency,f.region].filter(Boolean).join(" / ")})]}),a.jsx(Bs,{variant:"primary",size:"sm",onClick:o,children:"Select Plan"})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm mb-4",children:[f.operation_type==="outgoing"?a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Payout Rate"}),a.jsx("div",{className:"font-medium",children:lt(f.payout_percent)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Payout Fixed"}),a.jsx("div",{className:"font-medium",children:f.payout_fixed!=null?`${f.payout_fixed} ${i||f.currency||""}`:"-"})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"WL Rate"}),a.jsx("div",{className:"font-medium",children:lt(f.wl_percent)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Fixed Fee"}),a.jsx("div",{className:"font-medium",children:f.fixed_fee!=null?`${f.fixed_fee} ${i||f.currency||""}`:"-"})]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Exchange Fee"}),a.jsx("div",{className:"font-medium",children:lt(f.exchange_fee_percent)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"APM Type"}),a.jsx("div",{className:"font-medium",children:f.apm_type||"-"})]})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Region"}),a.jsx("div",{className:"font-medium",children:f.region||"-"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Currency"}),a.jsx("div",{className:"font-medium",children:f.currency||"-"})]}),f.refund_fee!=null&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Refund Fee"}),a.jsxs("div",{className:"font-medium",children:[f.refund_fee," ",i||f.currency||""]})]})]})]}):a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-500",children:r?`Plan ID: ${r} (not found in contracts)`:"No plan applied to this transaction"}),a.jsx(Bs,{variant:"primary",size:"sm",onClick:o,children:"Select Plan"})]}),l&&a.jsx(e3,{transactionId:t,onClose:()=>c(!1)})]})}function e3({transactionId:e,onClose:t}){const{data:r,isLoading:n}=pe({queryKey:["transaction-why",e],queryFn:()=>ie.getTransactionWhy(e)});return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-lg w-full mx-4",children:[a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Why This Plan Was Selected"}),a.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:a.jsx(Wt,{className:"h-5 w-5 text-gray-500"})})]}),a.jsx("div",{className:"p-6",children:n?a.jsx("div",{className:"text-gray-500 text-center py-4",children:"Loading..."}):r&&r.length>0?a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"text-left py-2 font-medium text-gray-600",children:"Transaction Field"}),a.jsx("th",{className:"text-left py-2 font-medium text-gray-600",children:"Plan Condition"}),a.jsx("th",{className:"text-center py-2 font-medium text-gray-600",children:"Match"})]})}),a.jsx("tbody",{children:r.map(i=>a.jsxs("tr",{className:"border-b border-gray-100",children:[a.jsxs("td",{className:"py-2",children:[a.jsxs("span",{className:"text-gray-500",children:[i.field,":"]})," ",a.jsx("span",{className:"font-medium",children:i.transaction_value||"-"})]}),a.jsx("td",{className:"py-2",children:i.plan_condition}),a.jsx("td",{className:"py-2 text-center",children:i.match?a.jsx(Ds,{className:"h-5 w-5 text-green-500 inline"}):a.jsx(Wt,{className:"h-5 w-5 text-red-500 inline"})})]},i.field))})]}):a.jsx("div",{className:"text-gray-500 text-center py-4",children:"No plan matching explanation available"})})]})})}function t3(){return a.jsxs(ne,{title:"Applied Plan",className:"mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ge,{className:"h-5 w-48"}),a.jsx(ge,{className:"h-4 w-32"})]}),a.jsx(ge,{className:"h-8 w-16"})]}),a.jsx("div",{className:"grid grid-cols-4 gap-4",children:[1,2,3,4].map(e=>a.jsxs("div",{children:[a.jsx(ge,{className:"h-4 w-16 mb-1"}),a.jsx(ge,{className:"h-5 w-20"})]},e))})]})}function r3({commissionFields:e,deviation:t,calculation:r,currency:n,isNonEur:i,planFixed:s}){const o=(e==null?void 0:e.comission_eur)!=null,l=[{label:"Commission EUR",value:e==null?void 0:e.comission_eur},{label:`Transaction Commission (${n||"EUR"})`,value:e==null?void 0:e.transaction_comission},{label:"Fixed EUR",value:e==null?void 0:e.fixed_eur},{label:"FX Rate",value:e==null?void 0:e.fx_rate},{label:"FX Date",value:e==null?void 0:e.fx_date}],c=(e==null?void 0:e.fx_rate)||1;let u;const f=t&&t.calculated!=null,h=!((r==null?void 0:r.type)==="refund")&&(t==null?void 0:t.effective_rate)!=null&&(t==null?void 0:t.plan_rate)!=null?t.effective_rate-t.plan_rate:null,m=s!=null&&(e==null?void 0:e.fixed_eur)!=null?e.fixed_eur-s:null,g=t&&Math.abs(t.difference)<.01;if(f)if(i){const v=e==null?void 0:e.transaction_comission,p=t.expected_local??t.calculated*c,y=t.deviation_local??t.difference*c;u=[{label:"Actual",value:`${v==null?void 0:v.toFixed(2)} ${n}`,subLabel:`(${q(e==null?void 0:e.comission_eur)})`},{label:"Calculated",value:`${p==null?void 0:p.toFixed(2)} ${n}`,subLabel:`(${q(t.calculated)})`},{label:"Difference",value:g?`0.00 ${n} (0%)`:`${y>0?"+":""}${y==null?void 0:y.toFixed(2)} ${n} (${t.percent!=null?(t.percent>0?"+":"")+lt(t.percent):""})`,subLabel:g?void 0:`(${t.difference>0?"+":""}${q(t.difference)})`,colorClass:g?"text-gray-500":t.difference<0?"text-red-600":"text-green-600"}]}else u=[{label:"Actual",value:q(e==null?void 0:e.comission_eur)},{label:"Calculated",value:q(t.calculated)},{label:"Difference",value:g?"0.00 (0%)":`${t.difference>0?"+":""}${q(t.difference)} (${t.percent!=null?(t.percent>0?"+":"")+lt(t.percent):""})`,colorClass:g?"text-gray-500":t.difference<0?"text-red-600":"text-green-600"}];else if(i){const v=e==null?void 0:e.transaction_comission,p=(e==null?void 0:e.fixed_eur)!=null?e.fixed_eur*c:null;u=[{label:"Commission",value:`${v==null?void 0:v.toFixed(2)} ${n}`,subLabel:`(${q(e==null?void 0:e.comission_eur)})`},{label:"Fixed Fee",value:p!=null?`${p.toFixed(2)} ${n}`:"-",subLabel:(e==null?void 0:e.fixed_eur)!=null?`(${q(e.fixed_eur)})`:void 0},{label:"Effective Rate",value:(r==null?void 0:r.effective_rate)!=null?lt(r.effective_rate):"-"}]}else u=[{label:"Commission",value:q(e==null?void 0:e.comission_eur)},{label:"Fixed Fee",value:q(e==null?void 0:e.fixed_eur)},{label:"Effective Rate",value:(r==null?void 0:r.effective_rate)!=null?lt(r.effective_rate):"-"}];return a.jsx(ne,{title:"Commission",className:"mb-6",children:o?a.jsxs("div",{children:[a.jsx("div",{className:"grid grid-cols-3 gap-6 mb-4",children:u.map((v,p)=>a.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[a.jsx("div",{className:"text-sm text-gray-500 mb-1",children:v.label}),a.jsx("div",{className:`text-2xl font-semibold ${v.colorClass||"text-gray-900"}`,children:v.value}),v.subLabel&&a.jsx("div",{className:"text-sm text-gray-500 mt-1",children:v.subLabel})]},p))}),f&&!i&&(m!=null||h!=null)&&a.jsxs("div",{className:"space-y-2 mb-4",children:[m!=null&&Math.abs(m)>.001&&a.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-amber-50 rounded-lg text-sm",children:[a.jsx("span",{className:"text-amber-700",children:"Fixed Fee Difference"}),a.jsxs("span",{className:`font-medium ${m<0?"text-red-600":"text-green-600"}`,children:[m>0?"+":"",q(m)]})]}),h!=null&&Math.abs(h)>.001&&a.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-amber-50 rounded-lg text-sm",children:[a.jsx("span",{className:"text-amber-700",children:"Rate Difference"}),a.jsxs("span",{className:`font-medium ${h<0?"text-red-600":"text-green-600"}`,children:[h>0?"+":"",lt(h)]})]})]}),f&&i&&m!=null&&Math.abs(m)>.001&&a.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-amber-50 rounded-lg mb-4 text-sm",children:[a.jsx("span",{className:"text-amber-700",children:"Fixed Fee Difference"}),a.jsxs("span",{className:`font-medium ${m<0?"text-red-600":"text-green-600"}`,children:[m>0?"+":"",q(m),c!==1&&` (${m>0?"+":""}${(m*c).toFixed(2)} ${n})`]})]}),a.jsx(vn,{title:"Commission Fields",fields:l}),r&&a.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:r.description}),a.jsx("span",{className:"text-xs text-gray-400 bg-gray-100 px-1.5 py-0.5 rounded",children:r.type})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsx("div",{className:"text-sm text-gray-600 font-mono mb-3",children:r.formula}),a.jsx("div",{className:"space-y-2 text-sm font-mono",children:r.steps.map((v,p)=>{const y=r.currency||"EUR",j=r.value_local,w=r.value,b=j&&w?j/w:null,N=i&&b!=null&&v.value!=null,_=N?v.value*b:null;return a.jsxs("div",{className:`flex justify-between ${v.label==="Total"?"border-t border-gray-300 pt-2 font-medium":""}`,children:[a.jsxs("span",{className:"text-gray-600",children:[v.label,":"]}),a.jsx("span",{children:N&&_!=null?a.jsxs(a.Fragment,{children:[_.toFixed(2)," ",y,a.jsxs("span",{className:"text-gray-400 ml-1",children:["(",v.formatted,")"]})]}):v.formatted})]},p)})})]})]})})]}):a.jsx("div",{className:"text-gray-500",children:"No commission data available"})})}function n3(){return a.jsxs(ne,{title:"Commission",className:"mb-6",children:[a.jsx("div",{className:"grid grid-cols-3 gap-6 mb-4",children:[1,2,3].map(e=>a.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[a.jsx(ge,{className:"h-4 w-16 mx-auto mb-2"}),a.jsx(ge,{className:"h-8 w-24 mx-auto"})]},e))}),a.jsx(ge,{className:"h-10 w-full rounded-lg"})]})}function a3({costFields:e}){const t=e?[{label:"Base EUR",value:e.base_eur},{label:"MDR",value:e.mdr},{label:"MDR EUR",value:e.mdr_eur},{label:"Agent EUR",value:e.agent_eur},{label:"Agent",value:e.agent},{label:"Tax Reserved EUR",value:e.tax_reserved_eur},{label:"Tax Reserve Cost",value:e.tax_reserve_cost},{label:"Settle EUR",value:e.settle_eur},{label:"Settlement",value:e.settlement},{label:"TRX (Exchange)",value:e.trx}]:[];return a.jsx(ne,{title:"Cost Analysis",className:"mb-6",children:e?a.jsx(vn,{title:"Cost Fields",fields:t}):a.jsx("div",{className:"text-gray-500",children:"No cost data available"})})}function i3(){return a.jsx(ne,{title:"Cost Analysis",className:"mb-6",children:a.jsx(ge,{className:"h-10 w-full rounded-lg"})})}function s3({transactionId:e}){const[t,r]=O.useState(!1),{data:n,isLoading:i,error:s}=pe({queryKey:["transaction",e],queryFn:()=>ie.getTransaction(e),enabled:!!e});if(i)return a.jsx(o3,{});if(s||!n)return a.jsx(l3,{message:s?s.message:"Transaction not found"});const{transaction:o,order_details:l,payment_method:c,processing:u,merchant:f,commission_fields:d,cost_fields:h,other:m,applied_plan:x,deviation:g,calculation:v}=n,p=(o==null?void 0:o.transaction_status)==="declined",y=!!(o!=null&&o.error_code&&o.error_code!==0&&(o!=null&&o.error_message)&&o.error_message!=="0"),j=!!(l!=null&&l.currency&&l.currency!=="EUR"),w=[o==null?void 0:o.transaction_type,o==null?void 0:o.type].filter(Boolean).join(" / ");return a.jsxs("div",{children:[a.jsx(YM,{transactionId:o==null?void 0:o.transaction_id,orderId:l==null?void 0:l.order_id,merchantName:f==null?void 0:f.merchant_name}),a.jsxs(ne,{title:"General",className:"mb-6",children:[a.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-500 block",children:"Status"}),a.jsx("span",{className:`mt-1 inline-block px-2 py-1 text-sm font-medium rounded ${(o==null?void 0:o.transaction_status)==="approved"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:o==null?void 0:o.transaction_status})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Type"}),a.jsx("div",{className:"mt-1 font-medium",children:w||"-"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Date"}),a.jsx("div",{className:"mt-1 font-medium",children:DS(o==null?void 0:o.created_date)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Amount"}),a.jsx("div",{className:"mt-1 font-medium",children:j?a.jsxs(a.Fragment,{children:[a.jsxs("span",{children:[l==null?void 0:l.amount," ",l==null?void 0:l.currency]}),a.jsxs("span",{className:"ml-1 text-gray-500",children:["(",q(l==null?void 0:l.amount_eur),")"]})]}):q(l==null?void 0:l.amount_eur)})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(vn,{title:"Transaction Details",defaultOpen:!0,fields:[{label:"Transaction ID",value:o==null?void 0:o.transaction_id},{label:"Status",value:o==null?void 0:o.status},{label:"Transaction Status",value:o==null?void 0:o.transaction_status},{label:"Type",value:o==null?void 0:o.type},{label:"Transaction Type",value:o==null?void 0:o.transaction_type},{label:"Created Date",value:o==null?void 0:o.created_date},{label:"Created Date (no time)",value:o==null?void 0:o.created_date_no_time}]}),(p||y)&&a.jsx(vn,{title:"Error",defaultOpen:p,fields:[{label:"Error Code",value:o==null?void 0:o.error_code},{label:"Error Message",value:o==null?void 0:o.error_message},{label:"External Error Code",value:o==null?void 0:o.external_error_code},{label:"External Error Message",value:o==null?void 0:o.external_error_message}]}),a.jsx(vn,{title:"Order Details",fields:[{label:"Order ID",value:l==null?void 0:l.order_id},{label:"User ID",value:l==null?void 0:l.user_id},{label:"Item ID",value:l==null?void 0:l.item_id},{label:"Amount",value:l==null?void 0:l.amount},{label:"Amount EUR",value:l==null?void 0:l.amount_eur},{label:"Currency",value:l==null?void 0:l.currency},{label:"Country",value:l==null?void 0:l.country},{label:"European Union",value:l==null?void 0:l.european_union},{label:"EEA",value:l==null?void 0:l.eea},{label:"Requisites Country",value:l==null?void 0:l.requisites_country}]}),a.jsx(vn,{title:"Payment Method",fields:[{label:"Card Brand Group",value:c==null?void 0:c.card_brand_group},{label:"Card Type",value:c==null?void 0:c.card_type},{label:"Traffic Type Group",value:c==null?void 0:c.traffic_type_group},{label:"Gate Name",value:c==null?void 0:c.gate_name},{label:"Gate ID",value:c==null?void 0:c.gate_id},{label:"Gate Descriptor",value:c==null?void 0:c.gate_descriptor},{label:"Main Requisite",value:c==null?void 0:c.main_requisite}]}),a.jsx(vn,{title:"Processing",fields:[{label:"Processor Name",value:u==null?void 0:u.processor_name},{label:"Processor ID",value:u==null?void 0:u.processor_id},{label:"Proc Group",value:u==null?void 0:u.proc_group},{label:"Acquirer",value:u==null?void 0:u.acquirer_name},{label:"Endpoint ID",value:u==null?void 0:u.endpoint_id},{label:"Descr Group",value:u==null?void 0:u.descr_group},{label:"Source",value:u==null?void 0:u.source}]}),a.jsx(vn,{title:"Merchant",fields:[{label:"Merchant ID",value:f==null?void 0:f.merchant_id},{label:"Merchant Name",value:f==null?void 0:f.merchant_name},{label:"Merchant",value:f==null?void 0:f.merchant},{label:"Merchant Group",value:f==null?void 0:f.merchant_group},{label:"Company ID",value:f==null?void 0:f.company_id},{label:"Company Name",value:f==null?void 0:f.company_name},{label:"Legal Entity Abb",value:f==null?void 0:f.legal_entity_abb},{label:"White Label ID",value:f==null?void 0:f.white_label_id},{label:"KAM",value:f==null?void 0:f.kam}]}),a.jsx(vn,{title:"Other",fields:[{label:"Rate Plan ID",value:m==null?void 0:m.rate_plan_id},{label:"Running Sum",value:m==null?void 0:m.running_sum},{label:"Balance Mapping",value:m==null?void 0:m.balance_mapping},{label:"Mapping",value:m==null?void 0:m.mapping}]})]})]}),a.jsx(JM,{appliedPlan:x,transactionId:o==null?void 0:o.transaction_id,ratePlanId:m==null?void 0:m.rate_plan_id,merchantId:f==null?void 0:f.merchant_id,currency:l==null?void 0:l.currency,transactionType:o==null?void 0:o.transaction_type,onSelectPlan:()=>r(!0)}),a.jsx(r3,{commissionFields:d,deviation:g,calculation:v,currency:l==null?void 0:l.currency,isNonEur:j,planFixed:g==null?void 0:g.plan_fixed}),a.jsx(a3,{costFields:h}),t&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-lg w-full mx-4 p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Select Plan"}),a.jsx("p",{className:"text-gray-500 mb-4",children:"Plan selection modal will be implemented here."}),a.jsx("button",{onClick:()=>r(!1),className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Close"})]})})]})}function o3(){return a.jsxs("div",{children:[a.jsx(ZM,{}),a.jsxs(ne,{title:"General",className:"mb-6",children:[a.jsx("div",{className:"grid grid-cols-4 gap-4 mb-4",children:[1,2,3,4].map(e=>a.jsxs("div",{children:[a.jsx(ge,{className:"h-4 w-16 mb-2"}),a.jsx(ge,{className:"h-6 w-24"})]},e))}),a.jsx("div",{className:"space-y-2",children:[1,2,3,4,5,6,7].map(e=>a.jsx(ge,{className:"h-10 w-full rounded-lg"},e))})]}),a.jsx(t3,{}),a.jsx(n3,{}),a.jsx(i3,{})]})}function l3({message:e}){return a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"text-red-500",children:e})})}var c3=Array.isArray,er=c3,u3=typeof Xc=="object"&&Xc&&Xc.Object===Object&&Xc,rO=u3,d3=rO,f3=typeof self=="object"&&self&&self.Object===Object&&self,h3=d3||f3||Function("return this")(),fn=h3,m3=fn,p3=m3.Symbol,Lc=p3,Rb=Lc,nO=Object.prototype,x3=nO.hasOwnProperty,g3=nO.toString,Wo=Rb?Rb.toStringTag:void 0;function y3(e){var t=x3.call(e,Wo),r=e[Wo];try{e[Wo]=void 0;var n=!0}catch{}var i=g3.call(e);return n&&(t?e[Wo]=r:delete e[Wo]),i}var v3=y3,b3=Object.prototype,j3=b3.toString;function w3(e){return j3.call(e)}var N3=w3,Ib=Lc,_3=v3,S3=N3,O3="[object Null]",C3="[object Undefined]",Db=Ib?Ib.toStringTag:void 0;function P3(e){return e==null?e===void 0?C3:O3:Db&&Db in Object(e)?_3(e):S3(e)}var qn=P3;function A3(e){return e!=null&&typeof e=="object"}var Vn=A3,k3=qn,E3=Vn,$3="[object Symbol]";function T3(e){return typeof e=="symbol"||E3(e)&&k3(e)==$3}var bo=T3,M3=er,R3=bo,I3=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,D3=/^\w*$/;function L3(e,t){if(M3(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||R3(e)?!0:D3.test(e)||!I3.test(e)||t!=null&&e in Object(t)}var Wy=L3;function F3(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var La=F3;const jo=Le(La);var B3=qn,z3=La,U3="[object AsyncFunction]",W3="[object Function]",H3="[object GeneratorFunction]",K3="[object Proxy]";function q3(e){if(!z3(e))return!1;var t=B3(e);return t==W3||t==H3||t==U3||t==K3}var Hy=q3;const be=Le(Hy);var V3=fn,G3=V3["__core-js_shared__"],X3=G3,dm=X3,Lb=function(){var e=/[^.]+$/.exec(dm&&dm.keys&&dm.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Q3(e){return!!Lb&&Lb in e}var Y3=Q3,Z3=Function.prototype,J3=Z3.toString;function e4(e){if(e!=null){try{return J3.call(e)}catch{}try{return e+""}catch{}}return""}var aO=e4,t4=Hy,r4=Y3,n4=La,a4=aO,i4=/[\\^$.*+?()[\]{}|]/g,s4=/^\[object .+?Constructor\]$/,o4=Function.prototype,l4=Object.prototype,c4=o4.toString,u4=l4.hasOwnProperty,d4=RegExp("^"+c4.call(u4).replace(i4,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f4(e){if(!n4(e)||r4(e))return!1;var t=t4(e)?d4:s4;return t.test(a4(e))}var h4=f4;function m4(e,t){return e==null?void 0:e[t]}var p4=m4,x4=h4,g4=p4;function y4(e,t){var r=g4(e,t);return x4(r)?r:void 0}var Ii=y4,v4=Ii,b4=v4(Object,"create"),qf=b4,Fb=qf;function j4(){this.__data__=Fb?Fb(null):{},this.size=0}var w4=j4;function N4(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var _4=N4,S4=qf,O4="__lodash_hash_undefined__",C4=Object.prototype,P4=C4.hasOwnProperty;function A4(e){var t=this.__data__;if(S4){var r=t[e];return r===O4?void 0:r}return P4.call(t,e)?t[e]:void 0}var k4=A4,E4=qf,$4=Object.prototype,T4=$4.hasOwnProperty;function M4(e){var t=this.__data__;return E4?t[e]!==void 0:T4.call(t,e)}var R4=M4,I4=qf,D4="__lodash_hash_undefined__";function L4(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=I4&&t===void 0?D4:t,this}var F4=L4,B4=w4,z4=_4,U4=k4,W4=R4,H4=F4;function wo(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}wo.prototype.clear=B4;wo.prototype.delete=z4;wo.prototype.get=U4;wo.prototype.has=W4;wo.prototype.set=H4;var K4=wo;function q4(){this.__data__=[],this.size=0}var V4=q4;function G4(e,t){return e===t||e!==e&&t!==t}var Ky=G4,X4=Ky;function Q4(e,t){for(var r=e.length;r--;)if(X4(e[r][0],t))return r;return-1}var Vf=Q4,Y4=Vf,Z4=Array.prototype,J4=Z4.splice;function e6(e){var t=this.__data__,r=Y4(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():J4.call(t,r,1),--this.size,!0}var t6=e6,r6=Vf;function n6(e){var t=this.__data__,r=r6(t,e);return r<0?void 0:t[r][1]}var a6=n6,i6=Vf;function s6(e){return i6(this.__data__,e)>-1}var o6=s6,l6=Vf;function c6(e,t){var r=this.__data__,n=l6(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var u6=c6,d6=V4,f6=t6,h6=a6,m6=o6,p6=u6;function No(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}No.prototype.clear=d6;No.prototype.delete=f6;No.prototype.get=h6;No.prototype.has=m6;No.prototype.set=p6;var Gf=No,x6=Ii,g6=fn,y6=x6(g6,"Map"),qy=y6,Bb=K4,v6=Gf,b6=qy;function j6(){this.size=0,this.__data__={hash:new Bb,map:new(b6||v6),string:new Bb}}var w6=j6;function N6(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var _6=N6,S6=_6;function O6(e,t){var r=e.__data__;return S6(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Xf=O6,C6=Xf;function P6(e){var t=C6(this,e).delete(e);return this.size-=t?1:0,t}var A6=P6,k6=Xf;function E6(e){return k6(this,e).get(e)}var $6=E6,T6=Xf;function M6(e){return T6(this,e).has(e)}var R6=M6,I6=Xf;function D6(e,t){var r=I6(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var L6=D6,F6=w6,B6=A6,z6=$6,U6=R6,W6=L6;function _o(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}_o.prototype.clear=F6;_o.prototype.delete=B6;_o.prototype.get=z6;_o.prototype.has=U6;_o.prototype.set=W6;var Vy=_o,iO=Vy,H6="Expected a function";function Gy(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(H6);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var o=e.apply(this,n);return r.cache=s.set(i,o)||s,o};return r.cache=new(Gy.Cache||iO),r}Gy.Cache=iO;var sO=Gy;const K6=Le(sO);var q6=sO,V6=500;function G6(e){var t=q6(e,function(n){return r.size===V6&&r.clear(),n}),r=t.cache;return t}var X6=G6,Q6=X6,Y6=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Z6=/\\(\\)?/g,J6=Q6(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Y6,function(r,n,i,s){t.push(i?s.replace(Z6,"$1"):n||r)}),t}),eR=J6;function tR(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var Xy=tR,zb=Lc,rR=Xy,nR=er,aR=bo,Ub=zb?zb.prototype:void 0,Wb=Ub?Ub.toString:void 0;function oO(e){if(typeof e=="string")return e;if(nR(e))return rR(e,oO)+"";if(aR(e))return Wb?Wb.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var iR=oO,sR=iR;function oR(e){return e==null?"":sR(e)}var lO=oR,lR=er,cR=Wy,uR=eR,dR=lO;function fR(e,t){return lR(e)?e:cR(e,t)?[e]:uR(dR(e))}var cO=fR,hR=bo;function mR(e){if(typeof e=="string"||hR(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Qf=mR,pR=cO,xR=Qf;function gR(e,t){t=pR(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[xR(t[r++])];return r&&r==n?e:void 0}var Qy=gR,yR=Qy;function vR(e,t,r){var n=e==null?void 0:yR(e,t);return n===void 0?r:n}var uO=vR;const Sr=Le(uO);function bR(e){return e==null}var jR=bR;const je=Le(jR);var wR=qn,NR=er,_R=Vn,SR="[object String]";function OR(e){return typeof e=="string"||!NR(e)&&_R(e)&&wR(e)==SR}var CR=OR;const Ci=Le(CR);var dO={exports:{}},Re={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yy=Symbol.for("react.element"),Zy=Symbol.for("react.portal"),Yf=Symbol.for("react.fragment"),Zf=Symbol.for("react.strict_mode"),Jf=Symbol.for("react.profiler"),eh=Symbol.for("react.provider"),th=Symbol.for("react.context"),PR=Symbol.for("react.server_context"),rh=Symbol.for("react.forward_ref"),nh=Symbol.for("react.suspense"),ah=Symbol.for("react.suspense_list"),ih=Symbol.for("react.memo"),sh=Symbol.for("react.lazy"),AR=Symbol.for("react.offscreen"),fO;fO=Symbol.for("react.module.reference");function Er(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Yy:switch(e=e.type,e){case Yf:case Jf:case Zf:case nh:case ah:return e;default:switch(e=e&&e.$$typeof,e){case PR:case th:case rh:case sh:case ih:case eh:return e;default:return t}}case Zy:return t}}}Re.ContextConsumer=th;Re.ContextProvider=eh;Re.Element=Yy;Re.ForwardRef=rh;Re.Fragment=Yf;Re.Lazy=sh;Re.Memo=ih;Re.Portal=Zy;Re.Profiler=Jf;Re.StrictMode=Zf;Re.Suspense=nh;Re.SuspenseList=ah;Re.isAsyncMode=function(){return!1};Re.isConcurrentMode=function(){return!1};Re.isContextConsumer=function(e){return Er(e)===th};Re.isContextProvider=function(e){return Er(e)===eh};Re.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Yy};Re.isForwardRef=function(e){return Er(e)===rh};Re.isFragment=function(e){return Er(e)===Yf};Re.isLazy=function(e){return Er(e)===sh};Re.isMemo=function(e){return Er(e)===ih};Re.isPortal=function(e){return Er(e)===Zy};Re.isProfiler=function(e){return Er(e)===Jf};Re.isStrictMode=function(e){return Er(e)===Zf};Re.isSuspense=function(e){return Er(e)===nh};Re.isSuspenseList=function(e){return Er(e)===ah};Re.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Yf||e===Jf||e===Zf||e===nh||e===ah||e===AR||typeof e=="object"&&e!==null&&(e.$$typeof===sh||e.$$typeof===ih||e.$$typeof===eh||e.$$typeof===th||e.$$typeof===rh||e.$$typeof===fO||e.getModuleId!==void 0)};Re.typeOf=Er;dO.exports=Re;var kR=dO.exports,ER=qn,$R=Vn,TR="[object Number]";function MR(e){return typeof e=="number"||$R(e)&&ER(e)==TR}var hO=MR;const RR=Le(hO);var IR=hO;function DR(e){return IR(e)&&e!=+e}var LR=DR;const Fc=Le(LR);var qr=function(t){return t===0?0:t>0?1:-1},ei=function(t){return Ci(t)&&t.indexOf("%")===t.length-1},Z=function(t){return RR(t)&&!Fc(t)},FR=function(t){return je(t)},gt=function(t){return Z(t)||Ci(t)},BR=0,Bc=function(t){var r=++BR;return"".concat(t||"").concat(r)},Pi=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Z(t)&&!Ci(t))return n;var s;if(ei(t)){var o=t.indexOf("%");s=r*parseFloat(t.slice(0,o))/100}else s=+t;return Fc(s)&&(s=n),i&&s>r&&(s=r),s},aa=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},zR=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},i=0;i<r;i++)if(!n[t[i]])n[t[i]]=!0;else return!0;return!1},Hr=function(t,r){return Z(t)&&Z(r)?function(n){return t+n*(r-t)}:function(){return r}};function vd(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Sr(n,t))===r})}var UR=function(t,r){return Z(t)&&Z(r)?t-r:Ci(t)&&Ci(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function ms(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function sx(e){"@babel/helpers - typeof";return sx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sx(e)}var WR=["viewBox","children"],HR=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Hb=["points","pathLength"],fm={svg:WR,polygon:Hb,polyline:Hb},Jy=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],bd=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(O.isValidElement(t)&&(n=t.props),!jo(n))return null;var i={};return Object.keys(n).forEach(function(s){Jy.includes(s)&&(i[s]=r||function(o){return n[s](n,o)})}),i},KR=function(t,r,n){return function(i){return t(r,n,i),null}},jd=function(t,r,n){if(!jo(t)||sx(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(s){var o=t[s];Jy.includes(s)&&typeof o=="function"&&(i||(i={}),i[s]=KR(o,r,n))}),i},qR=["children"],VR=["children"];function Kb(e,t){if(e==null)return{};var r=GR(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function GR(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ox(e){"@babel/helpers - typeof";return ox=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ox(e)}var qb={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Tn=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},Vb=null,hm=null,e0=function e(t){if(t===Vb&&Array.isArray(hm))return hm;var r=[];return O.Children.forEach(t,function(n){je(n)||(kR.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),hm=r,Vb=t,r};function Or(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(i){return Tn(i)}):n=[Tn(t)],e0(e).forEach(function(i){var s=Sr(i,"type.displayName")||Sr(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}function ir(e,t){var r=Or(e,t);return r&&r[0]}var Gb=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,i=r.height;return!(!Z(n)||n<=0||!Z(i)||i<=0)},XR=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],QR=function(t){return t&&t.type&&Ci(t.type)&&XR.indexOf(t.type)>=0},YR=function(t){return t&&ox(t)==="object"&&"clipDot"in t},ZR=function(t,r,n,i){var s,o=(s=fm==null?void 0:fm[i])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!be(t)&&(i&&o.includes(r)||HR.includes(r))||n&&Jy.includes(r)},Oe=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(O.isValidElement(t)&&(i=t.props),!jo(i))return null;var s={};return Object.keys(i).forEach(function(o){var l;ZR((l=i)===null||l===void 0?void 0:l[o],o,r,n)&&(s[o]=i[o])}),s},lx=function e(t,r){if(t===r)return!0;var n=O.Children.count(t);if(n!==O.Children.count(r))return!1;if(n===0)return!0;if(n===1)return Xb(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var s=t[i],o=r[i];if(Array.isArray(s)||Array.isArray(o)){if(!e(s,o))return!1}else if(!Xb(s,o))return!1}return!0},Xb=function(t,r){if(je(t)&&je(r))return!0;if(!je(t)&&!je(r)){var n=t.props||{},i=n.children,s=Kb(n,qR),o=r.props||{},l=o.children,c=Kb(o,VR);return i&&l?ms(s,c)&&lx(i,l):!i&&!l?ms(s,c):!1}return!1},Qb=function(t,r){var n=[],i={};return e0(t).forEach(function(s,o){if(QR(s))n.push(s);else if(s){var l=Tn(s.type),c=r[l]||{},u=c.handler,f=c.once;if(u&&(!f||!i[l])){var d=u(s,l,o);n.push(d),i[l]=!0}}}),n},JR=function(t){var r=t&&t.type;return r&&qb[r]?qb[r]:null},eI=function(t,r){return e0(r).indexOf(t)},tI=["children","width","height","viewBox","className","style","title","desc"];function cx(){return cx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cx.apply(this,arguments)}function rI(e,t){if(e==null)return{};var r=nI(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nI(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ux(e){var t=e.children,r=e.width,n=e.height,i=e.viewBox,s=e.className,o=e.style,l=e.title,c=e.desc,u=rI(e,tI),f=i||{width:r,height:n,x:0,y:0},d=Ce("recharts-surface",s);return R.createElement("svg",cx({},Oe(u,!0,"svg"),{className:d,width:r,height:n,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),R.createElement("title",null,l),R.createElement("desc",null,c),t)}var aI=["children","className"];function dx(){return dx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dx.apply(this,arguments)}function iI(e,t){if(e==null)return{};var r=sI(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sI(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var it=R.forwardRef(function(e,t){var r=e.children,n=e.className,i=iI(e,aI),s=Ce("recharts-layer",n);return R.createElement("g",dx({className:s},Oe(i,!0),{ref:t}),r)}),Mn=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]};function oI(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),r=r>i?i:r,r<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(i);++n<i;)s[n]=e[n+t];return s}var lI=oI,cI=lI;function uI(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:cI(e,t,r)}var dI=uI,fI="\\ud800-\\udfff",hI="\\u0300-\\u036f",mI="\\ufe20-\\ufe2f",pI="\\u20d0-\\u20ff",xI=hI+mI+pI,gI="\\ufe0e\\ufe0f",yI="\\u200d",vI=RegExp("["+yI+fI+xI+gI+"]");function bI(e){return vI.test(e)}var mO=bI;function jI(e){return e.split("")}var wI=jI,pO="\\ud800-\\udfff",NI="\\u0300-\\u036f",_I="\\ufe20-\\ufe2f",SI="\\u20d0-\\u20ff",OI=NI+_I+SI,CI="\\ufe0e\\ufe0f",PI="["+pO+"]",fx="["+OI+"]",hx="\\ud83c[\\udffb-\\udfff]",AI="(?:"+fx+"|"+hx+")",xO="[^"+pO+"]",gO="(?:\\ud83c[\\udde6-\\uddff]){2}",yO="[\\ud800-\\udbff][\\udc00-\\udfff]",kI="\\u200d",vO=AI+"?",bO="["+CI+"]?",EI="(?:"+kI+"(?:"+[xO,gO,yO].join("|")+")"+bO+vO+")*",$I=bO+vO+EI,TI="(?:"+[xO+fx+"?",fx,gO,yO,PI].join("|")+")",MI=RegExp(hx+"(?="+hx+")|"+TI+$I,"g");function RI(e){return e.match(MI)||[]}var II=RI,DI=wI,LI=mO,FI=II;function BI(e){return LI(e)?FI(e):DI(e)}var zI=BI,UI=dI,WI=mO,HI=zI,KI=lO;function qI(e){return function(t){t=KI(t);var r=WI(t)?HI(t):void 0,n=r?r[0]:t.charAt(0),i=r?UI(r,1).join(""):t.slice(1);return n[e]()+i}}var VI=qI,GI=VI,XI=GI("toUpperCase"),QI=XI;const oh=Le(QI);function Be(e){return function(){return e}}const jO=Math.cos,wd=Math.sin,Yr=Math.sqrt,Nd=Math.PI,lh=2*Nd,mx=Math.PI,px=2*mx,Va=1e-6,YI=px-Va;function wO(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function ZI(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return wO;const r=10**t;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class JI{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?wO:ZI(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,s,o){this._append`C${+t},${+r},${+n},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(t,r,n,i,s){if(t=+t,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,c=n-t,u=i-r,f=o-t,d=l-r,h=f*f+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Va)if(!(Math.abs(d*c-u*f)>Va)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,x=i-l,g=c*c+u*u,v=m*m+x*x,p=Math.sqrt(g),y=Math.sqrt(h),j=s*Math.tan((mx-Math.acos((g+h-v)/(2*p*y)))/2),w=j/y,b=j/p;Math.abs(w-1)>Va&&this._append`L${t+w*f},${r+w*d}`,this._append`A${s},${s},0,0,${+(d*m>f*x)},${this._x1=t+b*c},${this._y1=r+b*u}`}}arc(t,r,n,i,s,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),u=t+l,f=r+c,d=1^o,h=o?i-s:s-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>Va||Math.abs(this._y1-f)>Va)&&this._append`L${u},${f}`,n&&(h<0&&(h=h%px+px),h>YI?this._append`A${n},${n},0,1,${d},${t-l},${r-c}A${n},${n},0,1,${d},${this._x1=u},${this._y1=f}`:h>Va&&this._append`A${n},${n},0,${+(h>=mx)},${d},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function t0(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new JI(t)}function r0(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function NO(e){this._context=e}NO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ch(e){return new NO(e)}function _O(e){return e[0]}function SO(e){return e[1]}function OO(e,t){var r=Be(!0),n=null,i=ch,s=null,o=t0(l);e=typeof e=="function"?e:e===void 0?_O:Be(e),t=typeof t=="function"?t:t===void 0?SO:Be(t);function l(c){var u,f=(c=r0(c)).length,d,h=!1,m;for(n==null&&(s=i(m=o())),u=0;u<=f;++u)!(u<f&&r(d=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(d,u,c),+t(d,u,c));if(m)return s=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Be(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Be(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Be(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(s=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=s=null:s=i(n=c),l):n},l}function mu(e,t,r){var n=null,i=Be(!0),s=null,o=ch,l=null,c=t0(u);e=typeof e=="function"?e:e===void 0?_O:Be(+e),t=typeof t=="function"?t:Be(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?SO:Be(+r);function u(d){var h,m,x,g=(d=r0(d)).length,v,p=!1,y,j=new Array(g),w=new Array(g);for(s==null&&(l=o(y=c())),h=0;h<=g;++h){if(!(h<g&&i(v=d[h],h,d))===p)if(p=!p)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=h-1;x>=m;--x)l.point(j[x],w[x]);l.lineEnd(),l.areaEnd()}p&&(j[h]=+e(v,h,d),w[h]=+t(v,h,d),l.point(n?+n(v,h,d):j[h],r?+r(v,h,d):w[h]))}if(y)return l=null,y+""||null}function f(){return OO().defined(i).curve(o).context(s)}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:Be(+d),n=null,u):e},u.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Be(+d),u):e},u.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Be(+d),u):n},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:Be(+d),r=null,u):t},u.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Be(+d),u):t},u.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Be(+d),u):r},u.lineX0=u.lineY0=function(){return f().x(e).y(t)},u.lineY1=function(){return f().x(e).y(r)},u.lineX1=function(){return f().x(n).y(t)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Be(!!d),u):i},u.curve=function(d){return arguments.length?(o=d,s!=null&&(l=o(s)),u):o},u.context=function(d){return arguments.length?(d==null?s=l=null:l=o(s=d),u):s},u}class CO{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function eD(e){return new CO(e,!0)}function tD(e){return new CO(e,!1)}const n0={draw(e,t){const r=Yr(t/Nd);e.moveTo(r,0),e.arc(0,0,r,0,lh)}},rD={draw(e,t){const r=Yr(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},PO=Yr(1/3),nD=PO*2,aD={draw(e,t){const r=Yr(t/nD),n=r*PO;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},iD={draw(e,t){const r=Yr(t),n=-r/2;e.rect(n,n,r,r)}},sD=.8908130915292852,AO=wd(Nd/10)/wd(7*Nd/10),oD=wd(lh/10)*AO,lD=-jO(lh/10)*AO,cD={draw(e,t){const r=Yr(t*sD),n=oD*r,i=lD*r;e.moveTo(0,-r),e.lineTo(n,i);for(let s=1;s<5;++s){const o=lh*s/5,l=jO(o),c=wd(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*i,c*n+l*i)}e.closePath()}},mm=Yr(3),uD={draw(e,t){const r=-Yr(t/(mm*3));e.moveTo(0,r*2),e.lineTo(-mm*r,-r),e.lineTo(mm*r,-r),e.closePath()}},mr=-.5,pr=Yr(3)/2,xx=1/Yr(12),dD=(xx/2+1)*3,fD={draw(e,t){const r=Yr(t/dD),n=r/2,i=r*xx,s=n,o=r*xx+r,l=-s,c=o;e.moveTo(n,i),e.lineTo(s,o),e.lineTo(l,c),e.lineTo(mr*n-pr*i,pr*n+mr*i),e.lineTo(mr*s-pr*o,pr*s+mr*o),e.lineTo(mr*l-pr*c,pr*l+mr*c),e.lineTo(mr*n+pr*i,mr*i-pr*n),e.lineTo(mr*s+pr*o,mr*o-pr*s),e.lineTo(mr*l+pr*c,mr*c-pr*l),e.closePath()}};function hD(e,t){let r=null,n=t0(i);e=typeof e=="function"?e:Be(e||n0),t=typeof t=="function"?t:Be(t===void 0?64:+t);function i(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:Be(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:Be(+s),i):t},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function _d(){}function Sd(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function kO(e){this._context=e}kO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Sd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Sd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function mD(e){return new kO(e)}function EO(e){this._context=e}EO.prototype={areaStart:_d,areaEnd:_d,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Sd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function pD(e){return new EO(e)}function $O(e){this._context=e}$O.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Sd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function xD(e){return new $O(e)}function TO(e){this._context=e}TO.prototype={areaStart:_d,areaEnd:_d,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function gD(e){return new TO(e)}function Yb(e){return e<0?-1:1}function Zb(e,t,r){var n=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),l=(s*i+o*n)/(n+i);return(Yb(s)+Yb(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function Jb(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function pm(e,t,r){var n=e._x0,i=e._y0,s=e._x1,o=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,i+l*t,s-l,o-l*r,s,o)}function Od(e){this._context=e}Od.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:pm(this,this._t0,Jb(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,pm(this,Jb(this,r=Zb(this,e,t)),r);break;default:pm(this,this._t0,r=Zb(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function MO(e){this._context=new RO(e)}(MO.prototype=Object.create(Od.prototype)).point=function(e,t){Od.prototype.point.call(this,t,e)};function RO(e){this._context=e}RO.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,s){this._context.bezierCurveTo(t,e,n,r,s,i)}};function yD(e){return new Od(e)}function vD(e){return new MO(e)}function IO(e){this._context=e}IO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=ej(e),i=ej(t),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function ej(e){var t,r=e.length-1,n,i=new Array(r),s=new Array(r),o=new Array(r);for(i[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,s[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/s[t-1],s[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/s[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/s[t];for(s[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function bD(e){return new IO(e)}function uh(e,t){this._context=e,this._t=t}uh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function jD(e){return new uh(e,.5)}function wD(e){return new uh(e,0)}function ND(e){return new uh(e,1)}function zs(e,t){if((o=e.length)>1)for(var r=1,n,i,s=e[t[0]],o,l=s.length;r<o;++r)for(i=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function gx(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function _D(e,t){return e[t]}function SD(e){const t=[];return t.key=e,t}function OD(){var e=Be([]),t=gx,r=zs,n=_D;function i(s){var o=Array.from(e.apply(this,arguments),SD),l,c=o.length,u=-1,f;for(const d of s)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(d,o[l].key,u,s)]).data=d;for(l=0,f=r0(t(o));l<c;++l)o[f[l]].index=l;return r(o,f),o}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Be(Array.from(s)),i):e},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:Be(+s),i):n},i.order=function(s){return arguments.length?(t=s==null?gx:typeof s=="function"?s:Be(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(r=s??zs,i):r},i}function CD(e,t){if((n=e.length)>0){for(var r,n,i=0,s=e[0].length,o;i<s;++i){for(o=r=0;r<n;++r)o+=e[r][i][1]||0;if(o)for(r=0;r<n;++r)e[r][i][1]/=o}zs(e,t)}}function PD(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,s=n.length;r<s;++r){for(var o=0,l=0;o<i;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}zs(e,t)}}function AD(e,t){if(!(!((o=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,s,o;n<s;++n){for(var l=0,c=0,u=0;l<o;++l){for(var f=e[t[l]],d=f[n][1]||0,h=f[n-1][1]||0,m=(d-h)/2,x=0;x<l;++x){var g=e[t[x]],v=g[n][1]||0,p=g[n-1][1]||0;m+=v-p}c+=d,u+=m*d}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,zs(e,t)}}function Wl(e){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wl(e)}var kD=["type","size","sizeType"];function yx(){return yx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yx.apply(this,arguments)}function tj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tj(Object(r),!0).forEach(function(n){ED(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ED(e,t,r){return t=$D(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $D(e){var t=TD(e,"string");return Wl(t)=="symbol"?t:t+""}function TD(e,t){if(Wl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MD(e,t){if(e==null)return{};var r=RD(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function RD(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var DO={symbolCircle:n0,symbolCross:rD,symbolDiamond:aD,symbolSquare:iD,symbolStar:cD,symbolTriangle:uD,symbolWye:fD},ID=Math.PI/180,DD=function(t){var r="symbol".concat(oh(t));return DO[r]||n0},LD=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*ID;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},FD=function(t,r){DO["symbol".concat(oh(t))]=r},a0=function(t){var r=t.type,n=r===void 0?"circle":r,i=t.size,s=i===void 0?64:i,o=t.sizeType,l=o===void 0?"area":o,c=MD(t,kD),u=rj(rj({},c),{},{type:n,size:s,sizeType:l}),f=function(){var v=DD(n),p=hD().type(v).size(LD(s,l,n));return p()},d=u.className,h=u.cx,m=u.cy,x=Oe(u,!0);return h===+h&&m===+m&&s===+s?R.createElement("path",yx({},x,{className:Ce("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(m,")"),d:f()})):null};a0.registerSymbol=FD;function Us(e){"@babel/helpers - typeof";return Us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Us(e)}function vx(){return vx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vx.apply(this,arguments)}function nj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function BD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nj(Object(r),!0).forEach(function(n){Hl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,FO(n.key),n)}}function WD(e,t,r){return t&&UD(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function HD(e,t,r){return t=Cd(t),KD(e,LO()?Reflect.construct(t,r||[],Cd(e).constructor):t.apply(e,r))}function KD(e,t){if(t&&(Us(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qD(e)}function qD(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LO=function(){return!!e})()}function Cd(e){return Cd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cd(e)}function VD(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bx(e,t)}function bx(e,t){return bx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},bx(e,t)}function Hl(e,t,r){return t=FO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FO(e){var t=GD(e,"string");return Us(t)=="symbol"?t:t+""}function GD(e,t){if(Us(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Us(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var xr=32,i0=function(e){function t(){return zD(this,t),HD(this,t,arguments)}return VD(t,e),WD(t,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,s=xr/2,o=xr/6,l=xr/3,c=n.inactive?i:n.color;if(n.type==="plainline")return R.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:xr,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return R.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(xr,"M").concat(2*l,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return R.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(xr/8,"h").concat(xr,"v").concat(xr*3/4,"h").concat(-xr,"z"),className:"recharts-legend-icon"});if(R.isValidElement(n.legendIcon)){var u=BD({},n);return delete u.legendIcon,R.cloneElement(n.legendIcon,u)}return R.createElement(a0,{fill:c,cx:s,cy:s,size:xr,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,s=i.payload,o=i.iconSize,l=i.layout,c=i.formatter,u=i.inactiveColor,f={x:0,y:0,width:xr,height:xr},d={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(m,x){var g=m.formatter||c,v=Ce(Hl(Hl({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",m.inactive));if(m.type==="none")return null;var p=be(m.value)?null:m.value;Mn(!be(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=m.inactive?u:m.color;return R.createElement("li",vx({className:v,style:d,key:"legend-item-".concat(x)},jd(n.props,m,x)),R.createElement(ux,{width:o,height:o,viewBox:f,style:h},n.renderIcon(m)),R.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},g?g(p,m,x):p))})}},{key:"render",value:function(){var n=this.props,i=n.payload,s=n.layout,o=n.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return R.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(O.PureComponent);Hl(i0,"displayName","Legend");Hl(i0,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var XD=Gf;function QD(){this.__data__=new XD,this.size=0}var YD=QD;function ZD(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var JD=ZD;function eL(e){return this.__data__.get(e)}var tL=eL;function rL(e){return this.__data__.has(e)}var nL=rL,aL=Gf,iL=qy,sL=Vy,oL=200;function lL(e,t){var r=this.__data__;if(r instanceof aL){var n=r.__data__;if(!iL||n.length<oL-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new sL(n)}return r.set(e,t),this.size=r.size,this}var cL=lL,uL=Gf,dL=YD,fL=JD,hL=tL,mL=nL,pL=cL;function So(e){var t=this.__data__=new uL(e);this.size=t.size}So.prototype.clear=dL;So.prototype.delete=fL;So.prototype.get=hL;So.prototype.has=mL;So.prototype.set=pL;var BO=So,xL="__lodash_hash_undefined__";function gL(e){return this.__data__.set(e,xL),this}var yL=gL;function vL(e){return this.__data__.has(e)}var bL=vL,jL=Vy,wL=yL,NL=bL;function Pd(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new jL;++t<r;)this.add(e[t])}Pd.prototype.add=Pd.prototype.push=wL;Pd.prototype.has=NL;var zO=Pd;function _L(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var UO=_L;function SL(e,t){return e.has(t)}var WO=SL,OL=zO,CL=UO,PL=WO,AL=1,kL=2;function EL(e,t,r,n,i,s){var o=r&AL,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=s.get(e),f=s.get(t);if(u&&f)return u==t&&f==e;var d=-1,h=!0,m=r&kL?new OL:void 0;for(s.set(e,t),s.set(t,e);++d<l;){var x=e[d],g=t[d];if(n)var v=o?n(g,x,d,t,e,s):n(x,g,d,e,t,s);if(v!==void 0){if(v)continue;h=!1;break}if(m){if(!CL(t,function(p,y){if(!PL(m,y)&&(x===p||i(x,p,r,n,s)))return m.push(y)})){h=!1;break}}else if(!(x===g||i(x,g,r,n,s))){h=!1;break}}return s.delete(e),s.delete(t),h}var HO=EL,$L=fn,TL=$L.Uint8Array,ML=TL;function RL(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}var IL=RL;function DL(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var s0=DL,aj=Lc,ij=ML,LL=Ky,FL=HO,BL=IL,zL=s0,UL=1,WL=2,HL="[object Boolean]",KL="[object Date]",qL="[object Error]",VL="[object Map]",GL="[object Number]",XL="[object RegExp]",QL="[object Set]",YL="[object String]",ZL="[object Symbol]",JL="[object ArrayBuffer]",eF="[object DataView]",sj=aj?aj.prototype:void 0,xm=sj?sj.valueOf:void 0;function tF(e,t,r,n,i,s,o){switch(r){case eF:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case JL:return!(e.byteLength!=t.byteLength||!s(new ij(e),new ij(t)));case HL:case KL:case GL:return LL(+e,+t);case qL:return e.name==t.name&&e.message==t.message;case XL:case YL:return e==t+"";case VL:var l=BL;case QL:var c=n&UL;if(l||(l=zL),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=WL,o.set(e,t);var f=FL(l(e),l(t),n,i,s,o);return o.delete(e),f;case ZL:if(xm)return xm.call(e)==xm.call(t)}return!1}var rF=tF;function nF(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var KO=nF,aF=KO,iF=er;function sF(e,t,r){var n=t(e);return iF(e)?n:aF(n,r(e))}var oF=sF;function lF(e,t){for(var r=-1,n=e==null?0:e.length,i=0,s=[];++r<n;){var o=e[r];t(o,r,e)&&(s[i++]=o)}return s}var cF=lF;function uF(){return[]}var dF=uF,fF=cF,hF=dF,mF=Object.prototype,pF=mF.propertyIsEnumerable,oj=Object.getOwnPropertySymbols,xF=oj?function(e){return e==null?[]:(e=Object(e),fF(oj(e),function(t){return pF.call(e,t)}))}:hF,gF=xF;function yF(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var vF=yF,bF=qn,jF=Vn,wF="[object Arguments]";function NF(e){return jF(e)&&bF(e)==wF}var _F=NF,lj=_F,SF=Vn,qO=Object.prototype,OF=qO.hasOwnProperty,CF=qO.propertyIsEnumerable,PF=lj(function(){return arguments}())?lj:function(e){return SF(e)&&OF.call(e,"callee")&&!CF.call(e,"callee")},o0=PF,Ad={exports:{}};function AF(){return!1}var kF=AF;Ad.exports;(function(e,t){var r=fn,n=kF,i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===i,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(Ad,Ad.exports);var VO=Ad.exports,EF=9007199254740991,$F=/^(?:0|[1-9]\d*)$/;function TF(e,t){var r=typeof e;return t=t??EF,!!t&&(r=="number"||r!="symbol"&&$F.test(e))&&e>-1&&e%1==0&&e<t}var l0=TF,MF=9007199254740991;function RF(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=MF}var c0=RF,IF=qn,DF=c0,LF=Vn,FF="[object Arguments]",BF="[object Array]",zF="[object Boolean]",UF="[object Date]",WF="[object Error]",HF="[object Function]",KF="[object Map]",qF="[object Number]",VF="[object Object]",GF="[object RegExp]",XF="[object Set]",QF="[object String]",YF="[object WeakMap]",ZF="[object ArrayBuffer]",JF="[object DataView]",e8="[object Float32Array]",t8="[object Float64Array]",r8="[object Int8Array]",n8="[object Int16Array]",a8="[object Int32Array]",i8="[object Uint8Array]",s8="[object Uint8ClampedArray]",o8="[object Uint16Array]",l8="[object Uint32Array]",Ke={};Ke[e8]=Ke[t8]=Ke[r8]=Ke[n8]=Ke[a8]=Ke[i8]=Ke[s8]=Ke[o8]=Ke[l8]=!0;Ke[FF]=Ke[BF]=Ke[ZF]=Ke[zF]=Ke[JF]=Ke[UF]=Ke[WF]=Ke[HF]=Ke[KF]=Ke[qF]=Ke[VF]=Ke[GF]=Ke[XF]=Ke[QF]=Ke[YF]=!1;function c8(e){return LF(e)&&DF(e.length)&&!!Ke[IF(e)]}var u8=c8;function d8(e){return function(t){return e(t)}}var GO=d8,kd={exports:{}};kd.exports;(function(e,t){var r=rO,n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===n,o=s&&r.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(kd,kd.exports);var f8=kd.exports,h8=u8,m8=GO,cj=f8,uj=cj&&cj.isTypedArray,p8=uj?m8(uj):h8,XO=p8,x8=vF,g8=o0,y8=er,v8=VO,b8=l0,j8=XO,w8=Object.prototype,N8=w8.hasOwnProperty;function _8(e,t){var r=y8(e),n=!r&&g8(e),i=!r&&!n&&v8(e),s=!r&&!n&&!i&&j8(e),o=r||n||i||s,l=o?x8(e.length,String):[],c=l.length;for(var u in e)(t||N8.call(e,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||b8(u,c)))&&l.push(u);return l}var S8=_8,O8=Object.prototype;function C8(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||O8;return e===r}var P8=C8;function A8(e,t){return function(r){return e(t(r))}}var QO=A8,k8=QO,E8=k8(Object.keys,Object),$8=E8,T8=P8,M8=$8,R8=Object.prototype,I8=R8.hasOwnProperty;function D8(e){if(!T8(e))return M8(e);var t=[];for(var r in Object(e))I8.call(e,r)&&r!="constructor"&&t.push(r);return t}var L8=D8,F8=Hy,B8=c0;function z8(e){return e!=null&&B8(e.length)&&!F8(e)}var zc=z8,U8=S8,W8=L8,H8=zc;function K8(e){return H8(e)?U8(e):W8(e)}var dh=K8,q8=oF,V8=gF,G8=dh;function X8(e){return q8(e,G8,V8)}var Q8=X8,dj=Q8,Y8=1,Z8=Object.prototype,J8=Z8.hasOwnProperty;function e7(e,t,r,n,i,s){var o=r&Y8,l=dj(e),c=l.length,u=dj(t),f=u.length;if(c!=f&&!o)return!1;for(var d=c;d--;){var h=l[d];if(!(o?h in t:J8.call(t,h)))return!1}var m=s.get(e),x=s.get(t);if(m&&x)return m==t&&x==e;var g=!0;s.set(e,t),s.set(t,e);for(var v=o;++d<c;){h=l[d];var p=e[h],y=t[h];if(n)var j=o?n(y,p,h,t,e,s):n(p,y,h,e,t,s);if(!(j===void 0?p===y||i(p,y,r,n,s):j)){g=!1;break}v||(v=h=="constructor")}if(g&&!v){var w=e.constructor,b=t.constructor;w!=b&&"constructor"in e&&"constructor"in t&&!(typeof w=="function"&&w instanceof w&&typeof b=="function"&&b instanceof b)&&(g=!1)}return s.delete(e),s.delete(t),g}var t7=e7,r7=Ii,n7=fn,a7=r7(n7,"DataView"),i7=a7,s7=Ii,o7=fn,l7=s7(o7,"Promise"),c7=l7,u7=Ii,d7=fn,f7=u7(d7,"Set"),YO=f7,h7=Ii,m7=fn,p7=h7(m7,"WeakMap"),x7=p7,jx=i7,wx=qy,Nx=c7,_x=YO,Sx=x7,ZO=qn,Oo=aO,fj="[object Map]",g7="[object Object]",hj="[object Promise]",mj="[object Set]",pj="[object WeakMap]",xj="[object DataView]",y7=Oo(jx),v7=Oo(wx),b7=Oo(Nx),j7=Oo(_x),w7=Oo(Sx),Ga=ZO;(jx&&Ga(new jx(new ArrayBuffer(1)))!=xj||wx&&Ga(new wx)!=fj||Nx&&Ga(Nx.resolve())!=hj||_x&&Ga(new _x)!=mj||Sx&&Ga(new Sx)!=pj)&&(Ga=function(e){var t=ZO(e),r=t==g7?e.constructor:void 0,n=r?Oo(r):"";if(n)switch(n){case y7:return xj;case v7:return fj;case b7:return hj;case j7:return mj;case w7:return pj}return t});var N7=Ga,gm=BO,_7=HO,S7=rF,O7=t7,gj=N7,yj=er,vj=VO,C7=XO,P7=1,bj="[object Arguments]",jj="[object Array]",pu="[object Object]",A7=Object.prototype,wj=A7.hasOwnProperty;function k7(e,t,r,n,i,s){var o=yj(e),l=yj(t),c=o?jj:gj(e),u=l?jj:gj(t);c=c==bj?pu:c,u=u==bj?pu:u;var f=c==pu,d=u==pu,h=c==u;if(h&&vj(e)){if(!vj(t))return!1;o=!0,f=!1}if(h&&!f)return s||(s=new gm),o||C7(e)?_7(e,t,r,n,i,s):S7(e,t,c,r,n,i,s);if(!(r&P7)){var m=f&&wj.call(e,"__wrapped__"),x=d&&wj.call(t,"__wrapped__");if(m||x){var g=m?e.value():e,v=x?t.value():t;return s||(s=new gm),i(g,v,r,n,s)}}return h?(s||(s=new gm),O7(e,t,r,n,i,s)):!1}var E7=k7,$7=E7,Nj=Vn;function JO(e,t,r,n,i){return e===t?!0:e==null||t==null||!Nj(e)&&!Nj(t)?e!==e&&t!==t:$7(e,t,r,n,JO,i)}var u0=JO,T7=BO,M7=u0,R7=1,I7=2;function D7(e,t,r,n){var i=r.length,s=i,o=!n;if(e==null)return!s;for(e=Object(e);i--;){var l=r[i];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<s;){l=r[i];var c=l[0],u=e[c],f=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var d=new T7;if(n)var h=n(u,f,c,e,t,d);if(!(h===void 0?M7(f,u,R7|I7,n,d):h))return!1}}return!0}var L7=D7,F7=La;function B7(e){return e===e&&!F7(e)}var eC=B7,z7=eC,U7=dh;function W7(e){for(var t=U7(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,z7(i)]}return t}var H7=W7;function K7(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var tC=K7,q7=L7,V7=H7,G7=tC;function X7(e){var t=V7(e);return t.length==1&&t[0][2]?G7(t[0][0],t[0][1]):function(r){return r===e||q7(r,e,t)}}var Q7=X7;function Y7(e,t){return e!=null&&t in Object(e)}var Z7=Y7,J7=cO,eB=o0,tB=er,rB=l0,nB=c0,aB=Qf;function iB(e,t,r){t=J7(t,e);for(var n=-1,i=t.length,s=!1;++n<i;){var o=aB(t[n]);if(!(s=e!=null&&r(e,o)))break;e=e[o]}return s||++n!=i?s:(i=e==null?0:e.length,!!i&&nB(i)&&rB(o,i)&&(tB(e)||eB(e)))}var sB=iB,oB=Z7,lB=sB;function cB(e,t){return e!=null&&lB(e,t,oB)}var uB=cB,dB=u0,fB=uO,hB=uB,mB=Wy,pB=eC,xB=tC,gB=Qf,yB=1,vB=2;function bB(e,t){return mB(e)&&pB(t)?xB(gB(e),t):function(r){var n=fB(r,e);return n===void 0&&n===t?hB(r,e):dB(t,n,yB|vB)}}var jB=bB;function wB(e){return e}var Co=wB;function NB(e){return function(t){return t==null?void 0:t[e]}}var _B=NB,SB=Qy;function OB(e){return function(t){return SB(t,e)}}var CB=OB,PB=_B,AB=CB,kB=Wy,EB=Qf;function $B(e){return kB(e)?PB(EB(e)):AB(e)}var TB=$B,MB=Q7,RB=jB,IB=Co,DB=er,LB=TB;function FB(e){return typeof e=="function"?e:e==null?IB:typeof e=="object"?DB(e)?RB(e[0],e[1]):MB(e):LB(e)}var Fa=FB;function BB(e,t,r,n){for(var i=e.length,s=r+(n?1:-1);n?s--:++s<i;)if(t(e[s],s,e))return s;return-1}var rC=BB;function zB(e){return e!==e}var UB=zB;function WB(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}var HB=WB,KB=rC,qB=UB,VB=HB;function GB(e,t,r){return t===t?VB(e,t,r):KB(e,qB,r)}var XB=GB,QB=XB;function YB(e,t){var r=e==null?0:e.length;return!!r&&QB(e,t,0)>-1}var ZB=YB;function JB(e,t,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}var ez=JB;function tz(){}var rz=tz,ym=YO,nz=rz,az=s0,iz=1/0,sz=ym&&1/az(new ym([,-0]))[1]==iz?function(e){return new ym(e)}:nz,oz=sz,lz=zO,cz=ZB,uz=ez,dz=WO,fz=oz,hz=s0,mz=200;function pz(e,t,r){var n=-1,i=cz,s=e.length,o=!0,l=[],c=l;if(r)o=!1,i=uz;else if(s>=mz){var u=t?null:fz(e);if(u)return hz(u);o=!1,i=dz,c=new lz}else c=t?[]:l;e:for(;++n<s;){var f=e[n],d=t?t(f):f;if(f=r||f!==0?f:0,o&&d===d){for(var h=c.length;h--;)if(c[h]===d)continue e;t&&c.push(d),l.push(f)}else i(c,d,r)||(c!==l&&c.push(d),l.push(f))}return l}var xz=pz,gz=Fa,yz=xz;function vz(e,t){return e&&e.length?yz(e,gz(t)):[]}var bz=vz;const _j=Le(bz);function nC(e,t,r){return t===!0?_j(e,r):be(t)?_j(e,t):e}function Ws(e){"@babel/helpers - typeof";return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ws(e)}var jz=["ref"];function Sj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sj(Object(r),!0).forEach(function(n){fh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iC(n.key),n)}}function Nz(e,t,r){return t&&Oj(e.prototype,t),r&&Oj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _z(e,t,r){return t=Ed(t),Sz(e,aC()?Reflect.construct(t,r||[],Ed(e).constructor):t.apply(e,r))}function Sz(e,t){if(t&&(Ws(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oz(e)}function Oz(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aC=function(){return!!e})()}function Ed(e){return Ed=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ed(e)}function Cz(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ox(e,t)}function Ox(e,t){return Ox=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ox(e,t)}function fh(e,t,r){return t=iC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iC(e){var t=Pz(e,"string");return Ws(t)=="symbol"?t:t+""}function Pz(e,t){if(Ws(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ws(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Az(e,t){if(e==null)return{};var r=kz(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kz(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ez(e){return e.value}function $z(e,t){if(R.isValidElement(e))return R.cloneElement(e,t);if(typeof e=="function")return R.createElement(e,t);t.ref;var r=Az(t,jz);return R.createElement(i0,r)}var Cj=1,xi=function(e){function t(){var r;wz(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=_z(this,t,[].concat(i)),fh(r,"lastBoundingBox",{width:-1,height:-1}),r}return Cz(t,e),Nz(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>Cj||Math.abs(i.height-this.lastBoundingBox.height)>Cj)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?pn({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,s=i.layout,o=i.align,l=i.verticalAlign,c=i.margin,u=i.chartWidth,f=i.chartHeight,d,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&s==="vertical"){var m=this.getBBoxSnapshot();d={left:((u||0)-m.width)/2}}else d=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var x=this.getBBoxSnapshot();h={top:((f||0)-x.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return pn(pn({},d),h)}},{key:"render",value:function(){var n=this,i=this.props,s=i.content,o=i.width,l=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,f=i.payload,d=pn(pn({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return R.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(m){n.wrapperNode=m}},$z(s,pn(pn({},this.props),{},{payload:nC(f,u,Ez)})))}}],[{key:"getWithHeight",value:function(n,i){var s=pn(pn({},this.defaultProps),n.props),o=s.layout;return o==="vertical"&&Z(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])}(O.PureComponent);fh(xi,"displayName","Legend");fh(xi,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Pj=Lc,Tz=o0,Mz=er,Aj=Pj?Pj.isConcatSpreadable:void 0;function Rz(e){return Mz(e)||Tz(e)||!!(Aj&&e&&e[Aj])}var Iz=Rz,Dz=KO,Lz=Iz;function sC(e,t,r,n,i){var s=-1,o=e.length;for(r||(r=Lz),i||(i=[]);++s<o;){var l=e[s];t>0&&r(l)?t>1?sC(l,t-1,r,n,i):Dz(i,l):n||(i[i.length]=l)}return i}var oC=sC;function Fz(e){return function(t,r,n){for(var i=-1,s=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++i];if(r(s[c],c,s)===!1)break}return t}}var Bz=Fz,zz=Bz,Uz=zz(),Wz=Uz,Hz=Wz,Kz=dh;function qz(e,t){return e&&Hz(e,t,Kz)}var lC=qz,Vz=zc;function Gz(e,t){return function(r,n){if(r==null)return r;if(!Vz(r))return e(r,n);for(var i=r.length,s=t?i:-1,o=Object(r);(t?s--:++s<i)&&n(o[s],s,o)!==!1;);return r}}var Xz=Gz,Qz=lC,Yz=Xz,Zz=Yz(Qz),d0=Zz,Jz=d0,e9=zc;function t9(e,t){var r=-1,n=e9(e)?Array(e.length):[];return Jz(e,function(i,s,o){n[++r]=t(i,s,o)}),n}var cC=t9;function r9(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var n9=r9,kj=bo;function a9(e,t){if(e!==t){var r=e!==void 0,n=e===null,i=e===e,s=kj(e),o=t!==void 0,l=t===null,c=t===t,u=kj(t);if(!l&&!u&&!s&&e>t||s&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!i)return 1;if(!n&&!s&&!u&&e<t||u&&r&&i&&!n&&!s||l&&r&&i||!o&&i||!c)return-1}return 0}var i9=a9,s9=i9;function o9(e,t,r){for(var n=-1,i=e.criteria,s=t.criteria,o=i.length,l=r.length;++n<o;){var c=s9(i[n],s[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var l9=o9,vm=Xy,c9=Qy,u9=Fa,d9=cC,f9=n9,h9=GO,m9=l9,p9=Co,x9=er;function g9(e,t,r){t.length?t=vm(t,function(s){return x9(s)?function(o){return c9(o,s.length===1?s[0]:s)}:s}):t=[p9];var n=-1;t=vm(t,h9(u9));var i=d9(e,function(s,o,l){var c=vm(t,function(u){return u(s)});return{criteria:c,index:++n,value:s}});return f9(i,function(s,o){return m9(s,o,r)})}var y9=g9;function v9(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var b9=v9,j9=b9,Ej=Math.max;function w9(e,t,r){return t=Ej(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,s=Ej(n.length-t,0),o=Array(s);++i<s;)o[i]=n[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=n[i];return l[t]=r(o),j9(e,this,l)}}var N9=w9;function _9(e){return function(){return e}}var S9=_9,O9=Ii,C9=function(){try{var e=O9(Object,"defineProperty");return e({},"",{}),e}catch{}}(),uC=C9,P9=S9,$j=uC,A9=Co,k9=$j?function(e,t){return $j(e,"toString",{configurable:!0,enumerable:!1,value:P9(t),writable:!0})}:A9,E9=k9,$9=800,T9=16,M9=Date.now;function R9(e){var t=0,r=0;return function(){var n=M9(),i=T9-(n-r);if(r=n,i>0){if(++t>=$9)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var I9=R9,D9=E9,L9=I9,F9=L9(D9),B9=F9,z9=Co,U9=N9,W9=B9;function H9(e,t){return W9(U9(e,t,z9),e+"")}var K9=H9,q9=Ky,V9=zc,G9=l0,X9=La;function Q9(e,t,r){if(!X9(r))return!1;var n=typeof t;return(n=="number"?V9(r)&&G9(t,r.length):n=="string"&&t in r)?q9(r[t],e):!1}var hh=Q9,Y9=oC,Z9=y9,J9=K9,Tj=hh,eU=J9(function(e,t){if(e==null)return[];var r=t.length;return r>1&&Tj(e,t[0],t[1])?t=[]:r>2&&Tj(t[0],t[1],t[2])&&(t=[t[0]]),Z9(e,Y9(t,1),[])}),tU=eU;const f0=Le(tU);function Kl(e){"@babel/helpers - typeof";return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kl(e)}function Cx(){return Cx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cx.apply(this,arguments)}function rU(e,t){return sU(e)||iU(e,t)||aU(e,t)||nU()}function nU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aU(e,t){if(e){if(typeof e=="string")return Mj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mj(e,t)}}function Mj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function iU(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function sU(e){if(Array.isArray(e))return e}function Rj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rj(Object(r),!0).forEach(function(n){oU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oU(e,t,r){return t=lU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lU(e){var t=cU(e,"string");return Kl(t)=="symbol"?t:t+""}function cU(e,t){if(Kl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uU(e){return Array.isArray(e)&&gt(e[0])&&gt(e[1])?e.join(" ~ "):e}var dU=function(t){var r=t.separator,n=r===void 0?" : ":r,i=t.contentStyle,s=i===void 0?{}:i,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,f=t.payload,d=t.formatter,h=t.itemSorter,m=t.wrapperClassName,x=t.labelClassName,g=t.label,v=t.labelFormatter,p=t.accessibilityLayer,y=p===void 0?!1:p,j=function(){if(f&&f.length){var E={padding:0,margin:0},L=(h?f0(f,h):f).map(function(F,U){if(F.type==="none")return null;var T=bm({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},l),B=F.formatter||d||uU,M=F.value,z=F.name,k=M,I=z;if(B&&k!=null&&I!=null){var D=B(M,z,F,U,f);if(Array.isArray(D)){var V=rU(D,2);k=V[0],I=V[1]}else k=D}return R.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(U),style:T},gt(I)?R.createElement("span",{className:"recharts-tooltip-item-name"},I):null,gt(I)?R.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,R.createElement("span",{className:"recharts-tooltip-item-value"},k),R.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return R.createElement("ul",{className:"recharts-tooltip-item-list",style:E},L)}return null},w=bm({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),b=bm({margin:0},u),N=!je(g),_=N?g:"",S=Ce("recharts-default-tooltip",m),C=Ce("recharts-tooltip-label",x);N&&v&&f!==void 0&&f!==null&&(_=v(g,f));var P=y?{role:"status","aria-live":"assertive"}:{};return R.createElement("div",Cx({className:S,style:w},P),R.createElement("p",{className:C,style:b},R.isValidElement(_)?_:"".concat(_)),j())};function ql(e){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ql(e)}function xu(e,t,r){return t=fU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fU(e){var t=hU(e,"string");return ql(t)=="symbol"?t:t+""}function hU(e,t){if(ql(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ql(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ho="recharts-tooltip-wrapper",mU={visibility:"hidden"};function pU(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Ce(Ho,xu(xu(xu(xu({},"".concat(Ho,"-right"),Z(r)&&t&&Z(t.x)&&r>=t.x),"".concat(Ho,"-left"),Z(r)&&t&&Z(t.x)&&r<t.x),"".concat(Ho,"-bottom"),Z(n)&&t&&Z(t.y)&&n>=t.y),"".concat(Ho,"-top"),Z(n)&&t&&Z(t.y)&&n<t.y))}function Ij(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,i=e.offsetTopLeft,s=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(s&&Z(s[n]))return s[n];var f=r[n]-l-i,d=r[n]+i;if(t[n])return o[n]?f:d;if(o[n]){var h=f,m=c[n];return h<m?Math.max(d,c[n]):Math.max(f,c[n])}var x=d+l,g=c[n]+u;return x>g?Math.max(f,c[n]):Math.max(d,c[n])}function xU(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function gU(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,i=e.position,s=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,f,d;return o.height>0&&o.width>0&&r?(f=Ij({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),d=Ij({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=xU({translateX:f,translateY:d,useTranslate3d:l})):u=mU,{cssProperties:u,cssClasses:pU({translateX:f,translateY:d,coordinate:r})}}function Hs(e){"@babel/helpers - typeof";return Hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hs(e)}function Dj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Lj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dj(Object(r),!0).forEach(function(n){Ax(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vU(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fC(n.key),n)}}function bU(e,t,r){return t&&vU(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function jU(e,t,r){return t=$d(t),wU(e,dC()?Reflect.construct(t,r||[],$d(e).constructor):t.apply(e,r))}function wU(e,t){if(t&&(Hs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NU(e)}function NU(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dC=function(){return!!e})()}function $d(e){return $d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$d(e)}function _U(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Px(e,t)}function Px(e,t){return Px=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Px(e,t)}function Ax(e,t,r){return t=fC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fC(e){var t=SU(e,"string");return Hs(t)=="symbol"?t:t+""}function SU(e,t){if(Hs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Fj=1,OU=function(e){function t(){var r;yU(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=jU(this,t,[].concat(i)),Ax(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Ax(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&u!==void 0?u:0}})}}),r}return _U(t,e),bU(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>Fj||Math.abs(n.height-this.state.lastBoundingBox.height)>Fj)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.children,f=i.coordinate,d=i.hasPayload,h=i.isAnimationActive,m=i.offset,x=i.position,g=i.reverseDirection,v=i.useTranslate3d,p=i.viewBox,y=i.wrapperStyle,j=gU({allowEscapeViewBox:o,coordinate:f,offsetTopLeft:m,position:x,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:p}),w=j.cssClasses,b=j.cssProperties,N=Lj(Lj({transition:h&&s?"transform ".concat(l,"ms ").concat(c):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&d?"visible":"hidden",position:"absolute",top:0,left:0},y);return R.createElement("div",{tabIndex:-1,className:w,style:N,ref:function(S){n.wrapperNode=S}},u)}}])}(O.PureComponent),CU=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Po={isSsr:CU()};function Ks(e){"@babel/helpers - typeof";return Ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ks(e)}function Bj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bj(Object(r),!0).forEach(function(n){h0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AU(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mC(n.key),n)}}function kU(e,t,r){return t&&AU(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function EU(e,t,r){return t=Td(t),$U(e,hC()?Reflect.construct(t,r||[],Td(e).constructor):t.apply(e,r))}function $U(e,t){if(t&&(Ks(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TU(e)}function TU(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hC=function(){return!!e})()}function Td(e){return Td=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Td(e)}function MU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kx(e,t)}function kx(e,t){return kx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},kx(e,t)}function h0(e,t,r){return t=mC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mC(e){var t=RU(e,"string");return Ks(t)=="symbol"?t:t+""}function RU(e,t){if(Ks(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ks(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function IU(e){return e.dataKey}function DU(e,t){return R.isValidElement(e)?R.cloneElement(e,t):typeof e=="function"?R.createElement(e,t):R.createElement(dU,t)}var en=function(e){function t(){return PU(this,t),EU(this,t,arguments)}return MU(t,e),kU(t,[{key:"render",value:function(){var n=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.content,f=i.coordinate,d=i.filterNull,h=i.isAnimationActive,m=i.offset,x=i.payload,g=i.payloadUniqBy,v=i.position,p=i.reverseDirection,y=i.useTranslate3d,j=i.viewBox,w=i.wrapperStyle,b=x??[];d&&b.length&&(b=nC(x.filter(function(_){return _.value!=null&&(_.hide!==!0||n.props.includeHidden)}),g,IU));var N=b.length>0;return R.createElement(OU,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:s,coordinate:f,hasPayload:N,offset:m,position:v,reverseDirection:p,useTranslate3d:y,viewBox:j,wrapperStyle:w},DU(u,zj(zj({},this.props),{},{payload:b})))}}])}(O.PureComponent);h0(en,"displayName","Tooltip");h0(en,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Po.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var LU=fn,FU=function(){return LU.Date.now()},BU=FU,zU=/\s/;function UU(e){for(var t=e.length;t--&&zU.test(e.charAt(t)););return t}var WU=UU,HU=WU,KU=/^\s+/;function qU(e){return e&&e.slice(0,HU(e)+1).replace(KU,"")}var VU=qU,GU=VU,Uj=La,XU=bo,Wj=NaN,QU=/^[-+]0x[0-9a-f]+$/i,YU=/^0b[01]+$/i,ZU=/^0o[0-7]+$/i,JU=parseInt;function eW(e){if(typeof e=="number")return e;if(XU(e))return Wj;if(Uj(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Uj(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=GU(e);var r=YU.test(e);return r||ZU.test(e)?JU(e.slice(2),r?2:8):QU.test(e)?Wj:+e}var pC=eW,tW=La,jm=BU,Hj=pC,rW="Expected a function",nW=Math.max,aW=Math.min;function iW(e,t,r){var n,i,s,o,l,c,u=0,f=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(rW);t=Hj(t)||0,tW(r)&&(f=!!r.leading,d="maxWait"in r,s=d?nW(Hj(r.maxWait)||0,t):s,h="trailing"in r?!!r.trailing:h);function m(N){var _=n,S=i;return n=i=void 0,u=N,o=e.apply(S,_),o}function x(N){return u=N,l=setTimeout(p,t),f?m(N):o}function g(N){var _=N-c,S=N-u,C=t-_;return d?aW(C,s-S):C}function v(N){var _=N-c,S=N-u;return c===void 0||_>=t||_<0||d&&S>=s}function p(){var N=jm();if(v(N))return y(N);l=setTimeout(p,g(N))}function y(N){return l=void 0,h&&n?m(N):(n=i=void 0,o)}function j(){l!==void 0&&clearTimeout(l),u=0,n=c=i=l=void 0}function w(){return l===void 0?o:y(jm())}function b(){var N=jm(),_=v(N);if(n=arguments,i=this,c=N,_){if(l===void 0)return x(c);if(d)return clearTimeout(l),l=setTimeout(p,t),m(c)}return l===void 0&&(l=setTimeout(p,t)),o}return b.cancel=j,b.flush=w,b}var sW=iW,oW=sW,lW=La,cW="Expected a function";function uW(e,t,r){var n=!0,i=!0;if(typeof e!="function")throw new TypeError(cW);return lW(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),oW(e,t,{leading:n,maxWait:t,trailing:i})}var dW=uW;const xC=Le(dW);function Vl(e){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vl(e)}function Kj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kj(Object(r),!0).forEach(function(n){fW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fW(e,t,r){return t=hW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hW(e){var t=mW(e,"string");return Vl(t)=="symbol"?t:t+""}function mW(e,t){if(Vl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pW(e,t){return vW(e)||yW(e,t)||gW(e,t)||xW()}function xW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gW(e,t){if(e){if(typeof e=="string")return qj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qj(e,t)}}function qj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yW(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function vW(e){if(Array.isArray(e))return e}var bW=O.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,i=n===void 0?{width:-1,height:-1}:n,s=e.width,o=s===void 0?"100%":s,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,f=u===void 0?0:u,d=e.minHeight,h=e.maxHeight,m=e.children,x=e.debounce,g=x===void 0?0:x,v=e.id,p=e.className,y=e.onResize,j=e.style,w=j===void 0?{}:j,b=O.useRef(null),N=O.useRef();N.current=y,O.useImperativeHandle(t,function(){return Object.defineProperty(b.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),b.current},configurable:!0})});var _=O.useState({containerWidth:i.width,containerHeight:i.height}),S=pW(_,2),C=S[0],P=S[1],A=O.useCallback(function(L,F){P(function(U){var T=Math.round(L),B=Math.round(F);return U.containerWidth===T&&U.containerHeight===B?U:{containerWidth:T,containerHeight:B}})},[]);O.useEffect(function(){var L=function(z){var k,I=z[0].contentRect,D=I.width,V=I.height;A(D,V),(k=N.current)===null||k===void 0||k.call(N,D,V)};g>0&&(L=xC(L,g,{trailing:!0,leading:!1}));var F=new ResizeObserver(L),U=b.current.getBoundingClientRect(),T=U.width,B=U.height;return A(T,B),F.observe(b.current),function(){F.disconnect()}},[A,g]);var E=O.useMemo(function(){var L=C.containerWidth,F=C.containerHeight;if(L<0||F<0)return null;Mn(ei(o)||ei(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Mn(!r||r>0,"The aspect(%s) must be greater than zero.",r);var U=ei(o)?L:o,T=ei(c)?F:c;r&&r>0&&(U?T=U/r:T&&(U=T*r),h&&T>h&&(T=h)),Mn(U>0||T>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,U,T,o,c,f,d,r);var B=!Array.isArray(m)&&Tn(m.type).endsWith("Chart");return R.Children.map(m,function(M){return R.isValidElement(M)?O.cloneElement(M,gu({width:U,height:T},B?{style:gu({height:"100%",width:"100%",maxHeight:T,maxWidth:U},M.props.style)}:{})):M})},[r,m,c,h,d,f,C,o]);return R.createElement("div",{id:v?"".concat(v):void 0,className:Ce("recharts-responsive-container",p),style:gu(gu({},w),{},{width:o,height:c,minWidth:f,minHeight:d,maxHeight:h}),ref:b},E)}),gC=function(t){return null};gC.displayName="Cell";function Gl(e){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gl(e)}function Vj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ex(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vj(Object(r),!0).forEach(function(n){jW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jW(e,t,r){return t=wW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wW(e){var t=NW(e,"string");return Gl(t)=="symbol"?t:t+""}function NW(e,t){if(Gl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ui={widthCache:{},cacheCount:0},_W=2e3,SW={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Gj="recharts_measurement_span";function OW(e){var t=Ex({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var gl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Po.isSsr)return{width:0,height:0};var n=OW(r),i=JSON.stringify({text:t,copyStyle:n});if(Ui.widthCache[i])return Ui.widthCache[i];try{var s=document.getElementById(Gj);s||(s=document.createElement("span"),s.setAttribute("id",Gj),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=Ex(Ex({},SW),n);Object.assign(s.style,o),s.textContent="".concat(t);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return Ui.widthCache[i]=c,++Ui.cacheCount>_W&&(Ui.cacheCount=0,Ui.widthCache={}),c}catch{return{width:0,height:0}}},CW=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Xl(e){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xl(e)}function Md(e,t){return EW(e)||kW(e,t)||AW(e,t)||PW()}function PW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AW(e,t){if(e){if(typeof e=="string")return Xj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xj(e,t)}}function Xj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kW(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function EW(e){if(Array.isArray(e))return e}function $W(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,MW(n.key),n)}}function TW(e,t,r){return t&&Qj(e.prototype,t),r&&Qj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function MW(e){var t=RW(e,"string");return Xl(t)=="symbol"?t:t+""}function RW(e,t){if(Xl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Yj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Zj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,IW=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,DW=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,yC={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},LW=Object.keys(yC),as="NaN";function FW(e,t){return e*yC[t]}var yu=function(){function e(t,r){$W(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!IW.test(r)&&(this.num=NaN,this.unit=""),LW.includes(r)&&(this.num=FW(t,r),this.unit="px")}return TW(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=DW.exec(r))!==null&&n!==void 0?n:[],s=Md(i,3),o=s[1],l=s[2];return new e(parseFloat(o),l??"")}}])}();function vC(e){if(e.includes(as))return as;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=Yj.exec(t))!==null&&r!==void 0?r:[],i=Md(n,4),s=i[1],o=i[2],l=i[3],c=yu.parse(s??""),u=yu.parse(l??""),f=o==="*"?c.multiply(u):c.divide(u);if(f.isNaN())return as;t=t.replace(Yj,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,h=(d=Zj.exec(t))!==null&&d!==void 0?d:[],m=Md(h,4),x=m[1],g=m[2],v=m[3],p=yu.parse(x??""),y=yu.parse(v??""),j=g==="+"?p.add(y):p.subtract(y);if(j.isNaN())return as;t=t.replace(Zj,j.toString())}return t}var Jj=/\(([^()]*)\)/;function BW(e){for(var t=e;t.includes("(");){var r=Jj.exec(t),n=Md(r,2),i=n[1];t=t.replace(Jj,vC(i))}return t}function zW(e){var t=e.replace(/\s+/g,"");return t=BW(t),t=vC(t),t}function UW(e){try{return zW(e)}catch{return as}}function wm(e){var t=UW(e.slice(5,-1));return t===as?"":t}var WW=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],HW=["dx","dy","angle","className","breakAll"];function $x(){return $x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$x.apply(this,arguments)}function e1(e,t){if(e==null)return{};var r=KW(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function KW(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function t1(e,t){return XW(e)||GW(e,t)||VW(e,t)||qW()}function qW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VW(e,t){if(e){if(typeof e=="string")return r1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return r1(e,t)}}function r1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function GW(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function XW(e){if(Array.isArray(e))return e}var bC=/[ \f\n\r\t\v\u2028\u2029]+/,jC=function(t){var r=t.children,n=t.breakAll,i=t.style;try{var s=[];je(r)||(n?s=r.toString().split(""):s=r.toString().split(bC));var o=s.map(function(c){return{word:c,width:gl(c,i).width}}),l=n?0:gl("",i).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},QW=function(t,r,n,i,s){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,f=Z(o),d=l,h=function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return U.reduce(function(T,B){var M=B.word,z=B.width,k=T[T.length-1];if(k&&(i==null||s||k.width+z+n<Number(i)))k.words.push(M),k.width+=z+n;else{var I={words:[M],width:z};T.push(I)}return T},[])},m=h(r),x=function(U){return U.reduce(function(T,B){return T.width>B.width?T:B})};if(!f)return m;for(var g="",v=function(U){var T=d.slice(0,U),B=jC({breakAll:u,style:c,children:T+g}).wordsWithComputedWidth,M=h(B),z=M.length>o||x(M).width>Number(i);return[z,M]},p=0,y=d.length-1,j=0,w;p<=y&&j<=d.length-1;){var b=Math.floor((p+y)/2),N=b-1,_=v(N),S=t1(_,2),C=S[0],P=S[1],A=v(b),E=t1(A,1),L=E[0];if(!C&&!L&&(p=b+1),C&&L&&(y=b-1),!C&&L){w=P;break}j++}return w||m},n1=function(t){var r=je(t)?[]:t.toString().split(bC);return[{words:r}]},YW=function(t){var r=t.width,n=t.scaleToFit,i=t.children,s=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!Po.isSsr){var c,u,f=jC({breakAll:o,children:i,style:s});if(f){var d=f.wordsWithComputedWidth,h=f.spaceWidth;c=d,u=h}else return n1(i);return QW({breakAll:o,children:i,maxLines:l,style:s},c,u,r,n)}return n1(i)},a1="#808080",Rd=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,s=i===void 0?0:i,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,f=t.scaleToFit,d=f===void 0?!1:f,h=t.textAnchor,m=h===void 0?"start":h,x=t.verticalAnchor,g=x===void 0?"end":x,v=t.fill,p=v===void 0?a1:v,y=e1(t,WW),j=O.useMemo(function(){return YW({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:d,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,d,y.style,y.width]),w=y.dx,b=y.dy,N=y.angle,_=y.className,S=y.breakAll,C=e1(y,HW);if(!gt(n)||!gt(s))return null;var P=n+(Z(w)?w:0),A=s+(Z(b)?b:0),E;switch(g){case"start":E=wm("calc(".concat(u,")"));break;case"middle":E=wm("calc(".concat((j.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:E=wm("calc(".concat(j.length-1," * -").concat(l,")"));break}var L=[];if(d){var F=j[0].width,U=y.width;L.push("scale(".concat((Z(U)?U/F:1)/F,")"))}return N&&L.push("rotate(".concat(N,", ").concat(P,", ").concat(A,")")),L.length&&(C.transform=L.join(" ")),R.createElement("text",$x({},Oe(C,!0),{x:P,y:A,className:Ce("recharts-text",_),textAnchor:m,fill:p.includes("url")?a1:p}),j.map(function(T,B){var M=T.words.join(S?"":" ");return R.createElement("tspan",{x:P,dy:B===0?E:l,key:"".concat(M,"-").concat(B)},M)}))};function Aa(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ZW(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function m0(e){let t,r,n;e.length!==2?(t=Aa,r=(l,c)=>Aa(e(l),c),n=(l,c)=>e(l)-c):(t=e===Aa||e===ZW?e:JW,r=e,n=e);function i(l,c,u=0,f=l.length){if(u<f){if(t(c,c)!==0)return f;do{const d=u+f>>>1;r(l[d],c)<0?u=d+1:f=d}while(u<f)}return u}function s(l,c,u=0,f=l.length){if(u<f){if(t(c,c)!==0)return f;do{const d=u+f>>>1;r(l[d],c)<=0?u=d+1:f=d}while(u<f)}return u}function o(l,c,u=0,f=l.length){const d=i(l,c,u,f-1);return d>u&&n(l[d-1],c)>-n(l[d],c)?d-1:d}return{left:i,center:o,right:s}}function JW(){return 0}function wC(e){return e===null?NaN:+e}function*eH(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const tH=m0(Aa),Uc=tH.right;m0(wC).center;class i1 extends Map{constructor(t,r=aH){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(s1(this,t))}has(t){return super.has(s1(this,t))}set(t,r){return super.set(rH(this,t),r)}delete(t){return super.delete(nH(this,t))}}function s1({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function rH({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function nH({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function aH(e){return e!==null&&typeof e=="object"?e.valueOf():e}function iH(e=Aa){if(e===Aa)return NC;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function NC(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const sH=Math.sqrt(50),oH=Math.sqrt(10),lH=Math.sqrt(2);function Id(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),o=s>=sH?10:s>=oH?5:s>=lH?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?Id(e,t,r*2):[l,c,u]}function Tx(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,s,o]=n?Id(t,e,r):Id(e,t,r);if(!(s>=i))return[];const l=s-i+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(s-u)/-o;else for(let u=0;u<l;++u)c[u]=(s-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(i+u)/-o;else for(let u=0;u<l;++u)c[u]=(i+u)*o;return c}function Mx(e,t,r){return t=+t,e=+e,r=+r,Id(e,t,r)[2]}function Rx(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?Mx(t,e,r):Mx(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function o1(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function l1(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function _C(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?NC:iH(i);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,f=Math.log(c),d=.5*Math.exp(2*f/3),h=.5*Math.sqrt(f*d*(c-d)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*d/c+h)),x=Math.min(n,Math.floor(t+(c-u)*d/c+h));_C(e,t,m,x,i)}const s=e[t];let o=r,l=n;for(Ko(e,r,t),i(e[n],s)>0&&Ko(e,r,n);o<l;){for(Ko(e,o,l),++o,--l;i(e[o],s)<0;)++o;for(;i(e[l],s)>0;)--l}i(e[r],s)===0?Ko(e,r,l):(++l,Ko(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Ko(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function cH(e,t,r){if(e=Float64Array.from(eH(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return l1(e);if(t>=1)return o1(e);var n,i=(n-1)*t,s=Math.floor(i),o=o1(_C(e,s).subarray(0,s+1)),l=l1(e.subarray(s+1));return o+(l-o)*(i-s)}}function uH(e,t,r=wC){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,s=Math.floor(i),o=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return o+(l-o)*(i-s)}}function dH(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(i);++n<i;)s[n]=e+n*r;return s}function $r(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Gn(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Ix=Symbol("implicit");function p0(){var e=new i1,t=[],r=[],n=Ix;function i(s){let o=e.get(s);if(o===void 0){if(n!==Ix)return n;e.set(s,o=t.push(s)-1)}return r[o%r.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new i1;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return p0(t,r).unknown(n)},$r.apply(i,arguments),i}function Ql(){var e=p0().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,s,o,l=!1,c=0,u=0,f=.5;delete e.unknown;function d(){var h=t().length,m=i<n,x=m?i:n,g=m?n:i;s=(g-x)/Math.max(1,h-c+u*2),l&&(s=Math.floor(s)),x+=(g-x-s*(h-c))*f,o=s*(1-c),l&&(x=Math.round(x),o=Math.round(o));var v=dH(h).map(function(p){return x+s*p});return r(m?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,d()):[n,i]},e.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,l=!0,d()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(h){return arguments.length?(l=!!h,d()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),d()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),d()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},e.align=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),d()):f},e.copy=function(){return Ql(t(),[n,i]).round(l).paddingInner(c).paddingOuter(u).align(f)},$r.apply(d(),arguments)}function SC(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return SC(t())},e}function yl(){return SC(Ql.apply(null,arguments).paddingInner(1))}function x0(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function OC(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Wc(){}var Yl=.7,Dd=1/Yl,ps="\\s*([+-]?\\d+)\\s*",Zl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",cn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fH=/^#([0-9a-f]{3,8})$/,hH=new RegExp(`^rgb\\(${ps},${ps},${ps}\\)$`),mH=new RegExp(`^rgb\\(${cn},${cn},${cn}\\)$`),pH=new RegExp(`^rgba\\(${ps},${ps},${ps},${Zl}\\)$`),xH=new RegExp(`^rgba\\(${cn},${cn},${cn},${Zl}\\)$`),gH=new RegExp(`^hsl\\(${Zl},${cn},${cn}\\)$`),yH=new RegExp(`^hsla\\(${Zl},${cn},${cn},${Zl}\\)$`),c1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};x0(Wc,Jl,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:u1,formatHex:u1,formatHex8:vH,formatHsl:bH,formatRgb:d1,toString:d1});function u1(){return this.rgb().formatHex()}function vH(){return this.rgb().formatHex8()}function bH(){return CC(this).formatHsl()}function d1(){return this.rgb().formatRgb()}function Jl(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=fH.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?f1(t):r===3?new Qt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?vu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?vu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=hH.exec(e))?new Qt(t[1],t[2],t[3],1):(t=mH.exec(e))?new Qt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=pH.exec(e))?vu(t[1],t[2],t[3],t[4]):(t=xH.exec(e))?vu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=gH.exec(e))?p1(t[1],t[2]/100,t[3]/100,1):(t=yH.exec(e))?p1(t[1],t[2]/100,t[3]/100,t[4]):c1.hasOwnProperty(e)?f1(c1[e]):e==="transparent"?new Qt(NaN,NaN,NaN,0):null}function f1(e){return new Qt(e>>16&255,e>>8&255,e&255,1)}function vu(e,t,r,n){return n<=0&&(e=t=r=NaN),new Qt(e,t,r,n)}function jH(e){return e instanceof Wc||(e=Jl(e)),e?(e=e.rgb(),new Qt(e.r,e.g,e.b,e.opacity)):new Qt}function Dx(e,t,r,n){return arguments.length===1?jH(e):new Qt(e,t,r,n??1)}function Qt(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}x0(Qt,Dx,OC(Wc,{brighter(e){return e=e==null?Dd:Math.pow(Dd,e),new Qt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Yl:Math.pow(Yl,e),new Qt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Qt(gi(this.r),gi(this.g),gi(this.b),Ld(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:h1,formatHex:h1,formatHex8:wH,formatRgb:m1,toString:m1}));function h1(){return`#${ti(this.r)}${ti(this.g)}${ti(this.b)}`}function wH(){return`#${ti(this.r)}${ti(this.g)}${ti(this.b)}${ti((isNaN(this.opacity)?1:this.opacity)*255)}`}function m1(){const e=Ld(this.opacity);return`${e===1?"rgb(":"rgba("}${gi(this.r)}, ${gi(this.g)}, ${gi(this.b)}${e===1?")":`, ${e})`}`}function Ld(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function gi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ti(e){return e=gi(e),(e<16?"0":"")+e.toString(16)}function p1(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Kr(e,t,r,n)}function CC(e){if(e instanceof Kr)return new Kr(e.h,e.s,e.l,e.opacity);if(e instanceof Wc||(e=Jl(e)),!e)return new Kr;if(e instanceof Kr)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,l=s-i,c=(s+i)/2;return l?(t===s?o=(r-n)/l+(r<n)*6:r===s?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?s+i:2-s-i,o*=60):l=c>0&&c<1?0:o,new Kr(o,l,c,e.opacity)}function NH(e,t,r,n){return arguments.length===1?CC(e):new Kr(e,t,r,n??1)}function Kr(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}x0(Kr,NH,OC(Wc,{brighter(e){return e=e==null?Dd:Math.pow(Dd,e),new Kr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Yl:Math.pow(Yl,e),new Kr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Qt(Nm(e>=240?e-240:e+120,i,n),Nm(e,i,n),Nm(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Kr(x1(this.h),bu(this.s),bu(this.l),Ld(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ld(this.opacity);return`${e===1?"hsl(":"hsla("}${x1(this.h)}, ${bu(this.s)*100}%, ${bu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function x1(e){return e=(e||0)%360,e<0?e+360:e}function bu(e){return Math.max(0,Math.min(1,e||0))}function Nm(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const g0=e=>()=>e;function _H(e,t){return function(r){return e+r*t}}function SH(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function OH(e){return(e=+e)==1?PC:function(t,r){return r-t?SH(t,r,e):g0(isNaN(t)?r:t)}}function PC(e,t){var r=t-e;return r?_H(e,r):g0(isNaN(e)?t:e)}const g1=function e(t){var r=OH(t);function n(i,s){var o=r((i=Dx(i)).r,(s=Dx(s)).r),l=r(i.g,s.g),c=r(i.b,s.b),u=PC(i.opacity,s.opacity);return function(f){return i.r=o(f),i.g=l(f),i.b=c(f),i.opacity=u(f),i+""}}return n.gamma=e,n}(1);function CH(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=e[i]*(1-s)+t[i]*s;return n}}function PH(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function AH(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)i[o]=Ao(e[o],t[o]);for(;o<r;++o)s[o]=t[o];return function(l){for(o=0;o<n;++o)s[o]=i[o](l);return s}}function kH(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Fd(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function EH(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Ao(e[i],t[i]):n[i]=t[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var Lx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_m=new RegExp(Lx.source,"g");function $H(e){return function(){return e}}function TH(e){return function(t){return e(t)+""}}function MH(e,t){var r=Lx.lastIndex=_m.lastIndex=0,n,i,s,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=Lx.exec(e))&&(i=_m.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),l[o]?l[o]+=s:l[++o]=s),(n=n[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:Fd(n,i)})),r=_m.lastIndex;return r<t.length&&(s=t.slice(r),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?TH(c[0].x):$H(t):(t=c.length,function(u){for(var f=0,d;f<t;++f)l[(d=c[f]).i]=d.x(u);return l.join("")})}function Ao(e,t){var r=typeof t,n;return t==null||r==="boolean"?g0(t):(r==="number"?Fd:r==="string"?(n=Jl(t))?(t=n,g1):MH:t instanceof Jl?g1:t instanceof Date?kH:PH(t)?CH:Array.isArray(t)?AH:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?EH:Fd)(e,t)}function y0(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function RH(e,t){t===void 0&&(t=e,e=Ao);for(var r=0,n=t.length-1,i=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(i,i=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[l](o-l)}}function IH(e){return function(){return e}}function Bd(e){return+e}var y1=[0,1];function zt(e){return e}function Fx(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:IH(isNaN(t)?NaN:.5)}function DH(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function LH(e,t,r){var n=e[0],i=e[1],s=t[0],o=t[1];return i<n?(n=Fx(i,n),s=r(o,s)):(n=Fx(n,i),s=r(s,o)),function(l){return s(n(l))}}function FH(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),s=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=Fx(e[o],e[o+1]),s[o]=r(t[o],t[o+1]);return function(l){var c=Uc(e,l,1,n)-1;return s[c](i[c](l))}}function Hc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function mh(){var e=y1,t=y1,r=Ao,n,i,s,o=zt,l,c,u;function f(){var h=Math.min(e.length,t.length);return o!==zt&&(o=DH(e[0],e[h-1])),l=h>2?FH:LH,c=u=null,d}function d(h){return h==null||isNaN(h=+h)?s:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return d.invert=function(h){return o(i((u||(u=l(t,e.map(n),Fd)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,Bd),f()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),f()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),r=y0,f()},d.clamp=function(h){return arguments.length?(o=h?!0:zt,f()):o!==zt},d.interpolate=function(h){return arguments.length?(r=h,f()):r},d.unknown=function(h){return arguments.length?(s=h,d):s},function(h,m){return n=h,i=m,f()}}function v0(){return mh()(zt,zt)}function BH(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function zd(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function qs(e){return e=zd(Math.abs(e)),e?e[1]:NaN}function zH(e,t){return function(r,n){for(var i=r.length,s=[],o=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return s.reverse().join(t)}}function UH(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var WH=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ec(e){if(!(t=WH.exec(e)))throw new Error("invalid format: "+e);var t;return new b0({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ec.prototype=b0.prototype;function b0(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}b0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function HH(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var AC;function KH(e,t){var r=zd(e,t);if(!r)return e+"";var n=r[0],i=r[1],s=i-(AC=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+zd(e,Math.max(0,t+s-1))[0]}function v1(e,t){var r=zd(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const b1={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:BH,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>v1(e*100,t),r:v1,s:KH,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function j1(e){return e}var w1=Array.prototype.map,N1=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function qH(e){var t=e.grouping===void 0||e.thousands===void 0?j1:zH(w1.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?j1:UH(w1.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(d){d=ec(d);var h=d.fill,m=d.align,x=d.sign,g=d.symbol,v=d.zero,p=d.width,y=d.comma,j=d.precision,w=d.trim,b=d.type;b==="n"?(y=!0,b="g"):b1[b]||(j===void 0&&(j=12),w=!0,b="g"),(v||h==="0"&&m==="=")&&(v=!0,h="0",m="=");var N=g==="$"?r:g==="#"&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",_=g==="$"?n:/[%p]/.test(b)?o:"",S=b1[b],C=/[defgprs%]/.test(b);j=j===void 0?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function P(A){var E=N,L=_,F,U,T;if(b==="c")L=S(A)+L,A="";else{A=+A;var B=A<0||1/A<0;if(A=isNaN(A)?c:S(Math.abs(A),j),w&&(A=HH(A)),B&&+A==0&&x!=="+"&&(B=!1),E=(B?x==="("?x:l:x==="-"||x==="("?"":x)+E,L=(b==="s"?N1[8+AC/3]:"")+L+(B&&x==="("?")":""),C){for(F=-1,U=A.length;++F<U;)if(T=A.charCodeAt(F),48>T||T>57){L=(T===46?i+A.slice(F+1):A.slice(F))+L,A=A.slice(0,F);break}}}y&&!v&&(A=t(A,1/0));var M=E.length+A.length+L.length,z=M<p?new Array(p-M+1).join(h):"";switch(y&&v&&(A=t(z+A,z.length?p-L.length:1/0),z=""),m){case"<":A=E+A+L+z;break;case"=":A=E+z+A+L;break;case"^":A=z.slice(0,M=z.length>>1)+E+A+L+z.slice(M);break;default:A=z+E+A+L;break}return s(A)}return P.toString=function(){return d+""},P}function f(d,h){var m=u((d=ec(d),d.type="f",d)),x=Math.max(-8,Math.min(8,Math.floor(qs(h)/3)))*3,g=Math.pow(10,-x),v=N1[8+x/3];return function(p){return m(g*p)+v}}return{format:u,formatPrefix:f}}var ju,j0,kC;VH({thousands:",",grouping:[3],currency:["$",""]});function VH(e){return ju=qH(e),j0=ju.format,kC=ju.formatPrefix,ju}function GH(e){return Math.max(0,-qs(Math.abs(e)))}function XH(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(qs(t)/3)))*3-qs(Math.abs(e)))}function QH(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,qs(t)-qs(e))+1}function EC(e,t,r,n){var i=Rx(e,t,r),s;switch(n=ec(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=XH(i,o))&&(n.precision=s),kC(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=QH(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=GH(i))&&(n.precision=s-(n.type==="%")*2);break}}return j0(n)}function Ba(e){var t=e.domain;return e.ticks=function(r){var n=t();return Tx(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return EC(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,s=n.length-1,o=n[i],l=n[s],c,u,f=10;for(l<o&&(u=o,o=l,l=u,u=i,i=s,s=u);f-- >0;){if(u=Mx(o,l,r),u===c)return n[i]=o,n[s]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function Ud(){var e=v0();return e.copy=function(){return Hc(e,Ud())},$r.apply(e,arguments),Ba(e)}function $C(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Bd),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return $C(e).unknown(t)},e=arguments.length?Array.from(e,Bd):[0,1],Ba(r)}function TC(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],s=e[n],o;return s<i&&(o=r,r=n,n=o,o=i,i=s,s=o),e[r]=t.floor(i),e[n]=t.ceil(s),e}function _1(e){return Math.log(e)}function S1(e){return Math.exp(e)}function YH(e){return-Math.log(-e)}function ZH(e){return-Math.exp(-e)}function JH(e){return isFinite(e)?+("1e"+e):e<0?0:e}function eK(e){return e===10?JH:e===Math.E?Math.exp:t=>Math.pow(e,t)}function tK(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function O1(e){return(t,r)=>-e(-t,r)}function w0(e){const t=e(_1,S1),r=t.domain;let n=10,i,s;function o(){return i=tK(n),s=eK(n),r()[0]<0?(i=O1(i),s=O1(s),e(YH,ZH)):e(_1,S1),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],f=c[c.length-1];const d=f<u;d&&([u,f]=[f,u]);let h=i(u),m=i(f),x,g;const v=l==null?10:+l;let p=[];if(!(n%1)&&m-h<v){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(x=1;x<n;++x)if(g=h<0?x/s(-h):x*s(h),!(g<u)){if(g>f)break;p.push(g)}}else for(;h<=m;++h)for(x=n-1;x>=1;--x)if(g=h>0?x/s(-h):x*s(h),!(g<u)){if(g>f)break;p.push(g)}p.length*2<v&&(p=Tx(u,f,v))}else p=Tx(h,m,Math.min(m-h,v)).map(s);return d?p.reverse():p},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=ec(c)).precision==null&&(c.trim=!0),c=j0(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return f=>{let d=f/s(Math.round(i(f)));return d*n<n-.5&&(d*=n),d<=u?c(f):""}},t.nice=()=>r(TC(r(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),t}function MC(){const e=w0(mh()).domain([1,10]);return e.copy=()=>Hc(e,MC()).base(e.base()),$r.apply(e,arguments),e}function C1(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function P1(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function N0(e){var t=1,r=e(C1(t),P1(t));return r.constant=function(n){return arguments.length?e(C1(t=+n),P1(t)):t},Ba(r)}function RC(){var e=N0(mh());return e.copy=function(){return Hc(e,RC()).constant(e.constant())},$r.apply(e,arguments)}function A1(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function rK(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function nK(e){return e<0?-e*e:e*e}function _0(e){var t=e(zt,zt),r=1;function n(){return r===1?e(zt,zt):r===.5?e(rK,nK):e(A1(r),A1(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Ba(t)}function S0(){var e=_0(mh());return e.copy=function(){return Hc(e,S0()).exponent(e.exponent())},$r.apply(e,arguments),e}function aK(){return S0.apply(null,arguments).exponent(.5)}function k1(e){return Math.sign(e)*e*e}function iK(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function IC(){var e=v0(),t=[0,1],r=!1,n;function i(s){var o=iK(e(s));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(s){return e.invert(k1(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,Bd)).map(k1)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return IC(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},$r.apply(i,arguments),Ba(i)}function DC(){var e=[],t=[],r=[],n;function i(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=uH(e,o/l);return s}function s(o){return o==null||isNaN(o=+o)?n:t[Uc(r,o)]}return s.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Aa),i()},s.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return DC().domain(e).range(t).unknown(n)},$r.apply(s,arguments)}function LC(){var e=0,t=1,r=1,n=[.5],i=[0,1],s;function o(c){return c!=null&&c<=c?i[Uc(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return LC().domain([e,t]).range(i).unknown(s)},$r.apply(Ba(o),arguments)}function FC(){var e=[.5],t=[0,1],r,n=1;function i(s){return s!=null&&s<=s?t[Uc(e,s,0,n)]:r}return i.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return FC().domain(e).range(t).unknown(r)},$r.apply(i,arguments)}const Sm=new Date,Om=new Date;function yt(e,t,r,n){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const o=i(s),l=i.ceil(s);return s-o<l-s?o:l},i.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,l)=>{const c=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return c;let u;do c.push(u=new Date(+s)),t(s,l),e(s);while(u<s&&s<o);return c},i.filter=s=>yt(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!s(o););else for(;--l>=0;)for(;t(o,1),!s(o););}),r&&(i.count=(s,o)=>(Sm.setTime(+s),Om.setTime(+o),e(Sm),e(Om),Math.floor(r(Sm,Om))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?o=>n(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const Wd=yt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Wd.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?yt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Wd);Wd.range;const An=1e3,Nr=An*60,kn=Nr*60,zn=kn*24,O0=zn*7,E1=zn*30,Cm=zn*365,ri=yt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*An)},(e,t)=>(t-e)/An,e=>e.getUTCSeconds());ri.range;const C0=yt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*An)},(e,t)=>{e.setTime(+e+t*Nr)},(e,t)=>(t-e)/Nr,e=>e.getMinutes());C0.range;const P0=yt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Nr)},(e,t)=>(t-e)/Nr,e=>e.getUTCMinutes());P0.range;const A0=yt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*An-e.getMinutes()*Nr)},(e,t)=>{e.setTime(+e+t*kn)},(e,t)=>(t-e)/kn,e=>e.getHours());A0.range;const k0=yt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*kn)},(e,t)=>(t-e)/kn,e=>e.getUTCHours());k0.range;const Kc=yt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Nr)/zn,e=>e.getDate()-1);Kc.range;const ph=yt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/zn,e=>e.getUTCDate()-1);ph.range;const BC=yt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/zn,e=>Math.floor(e/zn));BC.range;function Di(e){return yt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Nr)/O0)}const xh=Di(0),Hd=Di(1),sK=Di(2),oK=Di(3),Vs=Di(4),lK=Di(5),cK=Di(6);xh.range;Hd.range;sK.range;oK.range;Vs.range;lK.range;cK.range;function Li(e){return yt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/O0)}const gh=Li(0),Kd=Li(1),uK=Li(2),dK=Li(3),Gs=Li(4),fK=Li(5),hK=Li(6);gh.range;Kd.range;uK.range;dK.range;Gs.range;fK.range;hK.range;const E0=yt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());E0.range;const $0=yt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());$0.range;const Un=yt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Un.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:yt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Un.range;const Wn=yt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Wn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:yt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Wn.range;function zC(e,t,r,n,i,s){const o=[[ri,1,An],[ri,5,5*An],[ri,15,15*An],[ri,30,30*An],[s,1,Nr],[s,5,5*Nr],[s,15,15*Nr],[s,30,30*Nr],[i,1,kn],[i,3,3*kn],[i,6,6*kn],[i,12,12*kn],[n,1,zn],[n,2,2*zn],[r,1,O0],[t,1,E1],[t,3,3*E1],[e,1,Cm]];function l(u,f,d){const h=f<u;h&&([u,f]=[f,u]);const m=d&&typeof d.range=="function"?d:c(u,f,d),x=m?m.range(u,+f+1):[];return h?x.reverse():x}function c(u,f,d){const h=Math.abs(f-u)/d,m=m0(([,,v])=>v).right(o,h);if(m===o.length)return e.every(Rx(u/Cm,f/Cm,d));if(m===0)return Wd.every(Math.max(Rx(u,f,d),1));const[x,g]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return x.every(g)}return[l,c]}const[mK,pK]=zC(Wn,$0,gh,BC,k0,P0),[xK,gK]=zC(Un,E0,xh,Kc,A0,C0);function Pm(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Am(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function qo(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function yK(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,s=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Vo(i),f=Go(i),d=Vo(s),h=Go(s),m=Vo(o),x=Go(o),g=Vo(l),v=Go(l),p=Vo(c),y=Go(c),j={a:B,A:M,b:z,B:k,c:null,d:D1,e:D1,f:zK,g:YK,G:JK,H:LK,I:FK,j:BK,L:UC,m:UK,M:WK,p:I,q:D,Q:B1,s:z1,S:HK,u:KK,U:qK,V:VK,w:GK,W:XK,x:null,X:null,y:QK,Y:ZK,Z:eq,"%":F1},w={a:V,A:Y,b:le,B:me,c:null,d:L1,e:L1,f:aq,g:mq,G:xq,H:tq,I:rq,j:nq,L:HC,m:iq,M:sq,p:oe,q:ce,Q:B1,s:z1,S:oq,u:lq,U:cq,V:uq,w:dq,W:fq,x:null,X:null,y:hq,Y:pq,Z:gq,"%":F1},b={a:P,A,b:E,B:L,c:F,d:R1,e:R1,f:MK,g:M1,G:T1,H:I1,I:I1,j:kK,L:TK,m:AK,M:EK,p:C,q:PK,Q:IK,s:DK,S:$K,u:NK,U:_K,V:SK,w:wK,W:OK,x:U,X:T,y:M1,Y:T1,Z:CK,"%":RK};j.x=N(r,j),j.X=N(n,j),j.c=N(t,j),w.x=N(r,w),w.X=N(n,w),w.c=N(t,w);function N(Q,H){return function(J){var W=[],ve=-1,fe=0,de=Q.length,_e,Ue,Tr;for(J instanceof Date||(J=new Date(+J));++ve<de;)Q.charCodeAt(ve)===37&&(W.push(Q.slice(fe,ve)),(Ue=$1[_e=Q.charAt(++ve)])!=null?_e=Q.charAt(++ve):Ue=_e==="e"?" ":"0",(Tr=H[_e])&&(_e=Tr(J,Ue)),W.push(_e),fe=ve+1);return W.push(Q.slice(fe,ve)),W.join("")}}function _(Q,H){return function(J){var W=qo(1900,void 0,1),ve=S(W,Q,J+="",0),fe,de;if(ve!=J.length)return null;if("Q"in W)return new Date(W.Q);if("s"in W)return new Date(W.s*1e3+("L"in W?W.L:0));if(H&&!("Z"in W)&&(W.Z=0),"p"in W&&(W.H=W.H%12+W.p*12),W.m===void 0&&(W.m="q"in W?W.q:0),"V"in W){if(W.V<1||W.V>53)return null;"w"in W||(W.w=1),"Z"in W?(fe=Am(qo(W.y,0,1)),de=fe.getUTCDay(),fe=de>4||de===0?Kd.ceil(fe):Kd(fe),fe=ph.offset(fe,(W.V-1)*7),W.y=fe.getUTCFullYear(),W.m=fe.getUTCMonth(),W.d=fe.getUTCDate()+(W.w+6)%7):(fe=Pm(qo(W.y,0,1)),de=fe.getDay(),fe=de>4||de===0?Hd.ceil(fe):Hd(fe),fe=Kc.offset(fe,(W.V-1)*7),W.y=fe.getFullYear(),W.m=fe.getMonth(),W.d=fe.getDate()+(W.w+6)%7)}else("W"in W||"U"in W)&&("w"in W||(W.w="u"in W?W.u%7:"W"in W?1:0),de="Z"in W?Am(qo(W.y,0,1)).getUTCDay():Pm(qo(W.y,0,1)).getDay(),W.m=0,W.d="W"in W?(W.w+6)%7+W.W*7-(de+5)%7:W.w+W.U*7-(de+6)%7);return"Z"in W?(W.H+=W.Z/100|0,W.M+=W.Z%100,Am(W)):Pm(W)}}function S(Q,H,J,W){for(var ve=0,fe=H.length,de=J.length,_e,Ue;ve<fe;){if(W>=de)return-1;if(_e=H.charCodeAt(ve++),_e===37){if(_e=H.charAt(ve++),Ue=b[_e in $1?H.charAt(ve++):_e],!Ue||(W=Ue(Q,J,W))<0)return-1}else if(_e!=J.charCodeAt(W++))return-1}return W}function C(Q,H,J){var W=u.exec(H.slice(J));return W?(Q.p=f.get(W[0].toLowerCase()),J+W[0].length):-1}function P(Q,H,J){var W=m.exec(H.slice(J));return W?(Q.w=x.get(W[0].toLowerCase()),J+W[0].length):-1}function A(Q,H,J){var W=d.exec(H.slice(J));return W?(Q.w=h.get(W[0].toLowerCase()),J+W[0].length):-1}function E(Q,H,J){var W=p.exec(H.slice(J));return W?(Q.m=y.get(W[0].toLowerCase()),J+W[0].length):-1}function L(Q,H,J){var W=g.exec(H.slice(J));return W?(Q.m=v.get(W[0].toLowerCase()),J+W[0].length):-1}function F(Q,H,J){return S(Q,t,H,J)}function U(Q,H,J){return S(Q,r,H,J)}function T(Q,H,J){return S(Q,n,H,J)}function B(Q){return o[Q.getDay()]}function M(Q){return s[Q.getDay()]}function z(Q){return c[Q.getMonth()]}function k(Q){return l[Q.getMonth()]}function I(Q){return i[+(Q.getHours()>=12)]}function D(Q){return 1+~~(Q.getMonth()/3)}function V(Q){return o[Q.getUTCDay()]}function Y(Q){return s[Q.getUTCDay()]}function le(Q){return c[Q.getUTCMonth()]}function me(Q){return l[Q.getUTCMonth()]}function oe(Q){return i[+(Q.getUTCHours()>=12)]}function ce(Q){return 1+~~(Q.getUTCMonth()/3)}return{format:function(Q){var H=N(Q+="",j);return H.toString=function(){return Q},H},parse:function(Q){var H=_(Q+="",!1);return H.toString=function(){return Q},H},utcFormat:function(Q){var H=N(Q+="",w);return H.toString=function(){return Q},H},utcParse:function(Q){var H=_(Q+="",!0);return H.toString=function(){return Q},H}}}var $1={"-":"",_:" ",0:"0"},_t=/^\s*\d+/,vK=/^%/,bK=/[\\^$*+?|[\]().{}]/g;function Ae(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(t)+i:i)}function jK(e){return e.replace(bK,"\\$&")}function Vo(e){return new RegExp("^(?:"+e.map(jK).join("|")+")","i")}function Go(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function wK(e,t,r){var n=_t.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function NK(e,t,r){var n=_t.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function _K(e,t,r){var n=_t.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function SK(e,t,r){var n=_t.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function OK(e,t,r){var n=_t.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function T1(e,t,r){var n=_t.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function M1(e,t,r){var n=_t.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function CK(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function PK(e,t,r){var n=_t.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function AK(e,t,r){var n=_t.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function R1(e,t,r){var n=_t.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function kK(e,t,r){var n=_t.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function I1(e,t,r){var n=_t.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function EK(e,t,r){var n=_t.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function $K(e,t,r){var n=_t.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function TK(e,t,r){var n=_t.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function MK(e,t,r){var n=_t.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function RK(e,t,r){var n=vK.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function IK(e,t,r){var n=_t.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function DK(e,t,r){var n=_t.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function D1(e,t){return Ae(e.getDate(),t,2)}function LK(e,t){return Ae(e.getHours(),t,2)}function FK(e,t){return Ae(e.getHours()%12||12,t,2)}function BK(e,t){return Ae(1+Kc.count(Un(e),e),t,3)}function UC(e,t){return Ae(e.getMilliseconds(),t,3)}function zK(e,t){return UC(e,t)+"000"}function UK(e,t){return Ae(e.getMonth()+1,t,2)}function WK(e,t){return Ae(e.getMinutes(),t,2)}function HK(e,t){return Ae(e.getSeconds(),t,2)}function KK(e){var t=e.getDay();return t===0?7:t}function qK(e,t){return Ae(xh.count(Un(e)-1,e),t,2)}function WC(e){var t=e.getDay();return t>=4||t===0?Vs(e):Vs.ceil(e)}function VK(e,t){return e=WC(e),Ae(Vs.count(Un(e),e)+(Un(e).getDay()===4),t,2)}function GK(e){return e.getDay()}function XK(e,t){return Ae(Hd.count(Un(e)-1,e),t,2)}function QK(e,t){return Ae(e.getFullYear()%100,t,2)}function YK(e,t){return e=WC(e),Ae(e.getFullYear()%100,t,2)}function ZK(e,t){return Ae(e.getFullYear()%1e4,t,4)}function JK(e,t){var r=e.getDay();return e=r>=4||r===0?Vs(e):Vs.ceil(e),Ae(e.getFullYear()%1e4,t,4)}function eq(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ae(t/60|0,"0",2)+Ae(t%60,"0",2)}function L1(e,t){return Ae(e.getUTCDate(),t,2)}function tq(e,t){return Ae(e.getUTCHours(),t,2)}function rq(e,t){return Ae(e.getUTCHours()%12||12,t,2)}function nq(e,t){return Ae(1+ph.count(Wn(e),e),t,3)}function HC(e,t){return Ae(e.getUTCMilliseconds(),t,3)}function aq(e,t){return HC(e,t)+"000"}function iq(e,t){return Ae(e.getUTCMonth()+1,t,2)}function sq(e,t){return Ae(e.getUTCMinutes(),t,2)}function oq(e,t){return Ae(e.getUTCSeconds(),t,2)}function lq(e){var t=e.getUTCDay();return t===0?7:t}function cq(e,t){return Ae(gh.count(Wn(e)-1,e),t,2)}function KC(e){var t=e.getUTCDay();return t>=4||t===0?Gs(e):Gs.ceil(e)}function uq(e,t){return e=KC(e),Ae(Gs.count(Wn(e),e)+(Wn(e).getUTCDay()===4),t,2)}function dq(e){return e.getUTCDay()}function fq(e,t){return Ae(Kd.count(Wn(e)-1,e),t,2)}function hq(e,t){return Ae(e.getUTCFullYear()%100,t,2)}function mq(e,t){return e=KC(e),Ae(e.getUTCFullYear()%100,t,2)}function pq(e,t){return Ae(e.getUTCFullYear()%1e4,t,4)}function xq(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Gs(e):Gs.ceil(e),Ae(e.getUTCFullYear()%1e4,t,4)}function gq(){return"+0000"}function F1(){return"%"}function B1(e){return+e}function z1(e){return Math.floor(+e/1e3)}var Wi,qC,VC;yq({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function yq(e){return Wi=yK(e),qC=Wi.format,Wi.parse,VC=Wi.utcFormat,Wi.utcParse,Wi}function vq(e){return new Date(e)}function bq(e){return e instanceof Date?+e:+new Date(+e)}function T0(e,t,r,n,i,s,o,l,c,u){var f=v0(),d=f.invert,h=f.domain,m=u(".%L"),x=u(":%S"),g=u("%I:%M"),v=u("%I %p"),p=u("%a %d"),y=u("%b %d"),j=u("%B"),w=u("%Y");function b(N){return(c(N)<N?m:l(N)<N?x:o(N)<N?g:s(N)<N?v:n(N)<N?i(N)<N?p:y:r(N)<N?j:w)(N)}return f.invert=function(N){return new Date(d(N))},f.domain=function(N){return arguments.length?h(Array.from(N,bq)):h().map(vq)},f.ticks=function(N){var _=h();return e(_[0],_[_.length-1],N??10)},f.tickFormat=function(N,_){return _==null?b:u(_)},f.nice=function(N){var _=h();return(!N||typeof N.range!="function")&&(N=t(_[0],_[_.length-1],N??10)),N?h(TC(_,N)):f},f.copy=function(){return Hc(f,T0(e,t,r,n,i,s,o,l,c,u))},f}function jq(){return $r.apply(T0(xK,gK,Un,E0,xh,Kc,A0,C0,ri,qC).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function wq(){return $r.apply(T0(mK,pK,Wn,$0,gh,ph,k0,P0,ri,VC).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function yh(){var e=0,t=1,r,n,i,s,o=zt,l=!1,c;function u(d){return d==null||isNaN(d=+d)?c:o(i===0?.5:(d=(s(d)-r)*i,l?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([e,t]=d,r=s(e=+e),n=s(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(d){return arguments.length?(l=!!d,u):l},u.interpolator=function(d){return arguments.length?(o=d,u):o};function f(d){return function(h){var m,x;return arguments.length?([m,x]=h,o=d(m,x),u):[o(0),o(1)]}}return u.range=f(Ao),u.rangeRound=f(y0),u.unknown=function(d){return arguments.length?(c=d,u):c},function(d){return s=d,r=d(e),n=d(t),i=r===n?0:1/(n-r),u}}function za(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function GC(){var e=Ba(yh()(zt));return e.copy=function(){return za(e,GC())},Gn.apply(e,arguments)}function XC(){var e=w0(yh()).domain([1,10]);return e.copy=function(){return za(e,XC()).base(e.base())},Gn.apply(e,arguments)}function QC(){var e=N0(yh());return e.copy=function(){return za(e,QC()).constant(e.constant())},Gn.apply(e,arguments)}function M0(){var e=_0(yh());return e.copy=function(){return za(e,M0()).exponent(e.exponent())},Gn.apply(e,arguments)}function Nq(){return M0.apply(null,arguments).exponent(.5)}function YC(){var e=[],t=zt;function r(n){if(n!=null&&!isNaN(n=+n))return t((Uc(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Aa),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>cH(e,s/n))},r.copy=function(){return YC(t).domain(e)},Gn.apply(r,arguments)}function vh(){var e=0,t=.5,r=1,n=1,i,s,o,l,c,u=zt,f,d=!1,h;function m(g){return isNaN(g=+g)?h:(g=.5+((g=+f(g))-s)*(n*g<n*s?l:c),u(d?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([e,t,r]=g,i=f(e=+e),s=f(t=+t),o=f(r=+r),l=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),n=s<i?-1:1,m):[e,t,r]},m.clamp=function(g){return arguments.length?(d=!!g,m):d},m.interpolator=function(g){return arguments.length?(u=g,m):u};function x(g){return function(v){var p,y,j;return arguments.length?([p,y,j]=v,u=RH(g,[p,y,j]),m):[u(0),u(.5),u(1)]}}return m.range=x(Ao),m.rangeRound=x(y0),m.unknown=function(g){return arguments.length?(h=g,m):h},function(g){return f=g,i=g(e),s=g(t),o=g(r),l=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),n=s<i?-1:1,m}}function ZC(){var e=Ba(vh()(zt));return e.copy=function(){return za(e,ZC())},Gn.apply(e,arguments)}function JC(){var e=w0(vh()).domain([.1,1,10]);return e.copy=function(){return za(e,JC()).base(e.base())},Gn.apply(e,arguments)}function eP(){var e=N0(vh());return e.copy=function(){return za(e,eP()).constant(e.constant())},Gn.apply(e,arguments)}function R0(){var e=_0(vh());return e.copy=function(){return za(e,R0()).exponent(e.exponent())},Gn.apply(e,arguments)}function _q(){return R0.apply(null,arguments).exponent(.5)}const U1=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ql,scaleDiverging:ZC,scaleDivergingLog:JC,scaleDivergingPow:R0,scaleDivergingSqrt:_q,scaleDivergingSymlog:eP,scaleIdentity:$C,scaleImplicit:Ix,scaleLinear:Ud,scaleLog:MC,scaleOrdinal:p0,scalePoint:yl,scalePow:S0,scaleQuantile:DC,scaleQuantize:LC,scaleRadial:IC,scaleSequential:GC,scaleSequentialLog:XC,scaleSequentialPow:M0,scaleSequentialQuantile:YC,scaleSequentialSqrt:Nq,scaleSequentialSymlog:QC,scaleSqrt:aK,scaleSymlog:RC,scaleThreshold:FC,scaleTime:jq,scaleUtc:wq,tickFormat:EC},Symbol.toStringTag,{value:"Module"}));var Sq=bo;function Oq(e,t,r){for(var n=-1,i=e.length;++n<i;){var s=e[n],o=t(s);if(o!=null&&(l===void 0?o===o&&!Sq(o):r(o,l)))var l=o,c=s}return c}var tP=Oq;function Cq(e,t){return e>t}var Pq=Cq,Aq=tP,kq=Pq,Eq=Co;function $q(e){return e&&e.length?Aq(e,Eq,kq):void 0}var Tq=$q;const bh=Le(Tq);function Mq(e,t){return e<t}var Rq=Mq,Iq=tP,Dq=Rq,Lq=Co;function Fq(e){return e&&e.length?Iq(e,Lq,Dq):void 0}var Bq=Fq;const jh=Le(Bq);var zq=Xy,Uq=Fa,Wq=cC,Hq=er;function Kq(e,t){var r=Hq(e)?zq:Wq;return r(e,Uq(t))}var qq=Kq,Vq=oC,Gq=qq;function Xq(e,t){return Vq(Gq(e,t),1)}var Qq=Xq;const Yq=Le(Qq);var Zq=u0;function Jq(e,t){return Zq(e,t)}var eV=Jq;const wh=Le(eV);var ko=1e9,tV={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},D0,Qe=!0,Ar="[DecimalError] ",yi=Ar+"Invalid argument: ",I0=Ar+"Exponent out of range: ",Eo=Math.floor,Xa=Math.pow,rV=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,sr,jt=1e7,qe=7,rP=9007199254740991,qd=Eo(rP/qe),re={};re.absoluteValue=re.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};re.comparedTo=re.cmp=function(e){var t,r,n,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};re.decimalPlaces=re.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*qe;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};re.dividedBy=re.div=function(e){return Rn(this,new this.constructor(e))};re.dividedToIntegerBy=re.idiv=function(e){var t=this,r=t.constructor;return Fe(Rn(t,new r(e),0,1),r.precision)};re.equals=re.eq=function(e){return!this.cmp(e)};re.exponent=function(){return ut(this)};re.greaterThan=re.gt=function(e){return this.cmp(e)>0};re.greaterThanOrEqualTo=re.gte=function(e){return this.cmp(e)>=0};re.isInteger=re.isint=function(){return this.e>this.d.length-2};re.isNegative=re.isneg=function(){return this.s<0};re.isPositive=re.ispos=function(){return this.s>0};re.isZero=function(){return this.s===0};re.lessThan=re.lt=function(e){return this.cmp(e)<0};re.lessThanOrEqualTo=re.lte=function(e){return this.cmp(e)<1};re.logarithm=re.log=function(e){var t,r=this,n=r.constructor,i=n.precision,s=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(sr))throw Error(Ar+"NaN");if(r.s<1)throw Error(Ar+(r.s?"NaN":"-Infinity"));return r.eq(sr)?new n(0):(Qe=!1,t=Rn(tc(r,s),tc(e,s),s),Qe=!0,Fe(t,i))};re.minus=re.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?iP(t,e):nP(t,(e.s=-e.s,e))};re.modulo=re.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(Ar+"NaN");return r.s?(Qe=!1,t=Rn(r,e,0,1).times(e),Qe=!0,r.minus(t)):Fe(new n(r),i)};re.naturalExponential=re.exp=function(){return aP(this)};re.naturalLogarithm=re.ln=function(){return tc(this)};re.negated=re.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};re.plus=re.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?nP(t,e):iP(t,(e.s=-e.s,e))};re.precision=re.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(yi+e);if(t=ut(i)+1,n=i.d.length-1,r=n*qe+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};re.squareRoot=re.sqrt=function(){var e,t,r,n,i,s,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Ar+"NaN")}for(e=ut(l),Qe=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=sn(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Eo((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(i.toString()),r=c.precision,i=o=r+3;;)if(s=n,n=s.plus(Rn(l,s,o+2)).times(.5),sn(s.d).slice(0,o)===(t=sn(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(Fe(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;o+=4}return Qe=!0,Fe(n,r)};re.times=re.mul=function(e){var t,r,n,i,s,o,l,c,u,f=this,d=f.constructor,h=f.d,m=(e=new d(e)).d;if(!f.s||!e.s)return new d(0);for(e.s*=f.s,r=f.e+e.e,c=h.length,u=m.length,c<u&&(s=h,h=m,m=s,o=c,c=u,u=o),s=[],o=c+u,n=o;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,i=c+n;i>n;)l=s[i]+m[n]*h[i-n-1]+t,s[i--]=l%jt|0,t=l/jt|0;s[i]=(s[i]+t)%jt|0}for(;!s[--o];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Qe?Fe(e,d.precision):e};re.toDecimalPlaces=re.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(dn(e,0,ko),t===void 0?t=n.rounding:dn(t,0,8),Fe(r,e+ut(r)+1,t))};re.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Ai(n,!0):(dn(e,0,ko),t===void 0?t=i.rounding:dn(t,0,8),n=Fe(new i(n),e+1,t),r=Ai(n,!0,e+1)),r};re.toFixed=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?Ai(i):(dn(e,0,ko),t===void 0?t=s.rounding:dn(t,0,8),n=Fe(new s(i),e+ut(i)+1,t),r=Ai(n.abs(),!1,e+ut(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};re.toInteger=re.toint=function(){var e=this,t=e.constructor;return Fe(new t(e),ut(e)+1,t.rounding)};re.toNumber=function(){return+this};re.toPower=re.pow=function(e){var t,r,n,i,s,o,l=this,c=l.constructor,u=12,f=+(e=new c(e));if(!e.s)return new c(sr);if(l=new c(l),!l.s){if(e.s<1)throw Error(Ar+"Infinity");return l}if(l.eq(sr))return l;if(n=c.precision,e.eq(sr))return Fe(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,s=l.s,o){if((r=f<0?-f:f)<=rP){for(i=new c(sr),t=Math.ceil(n/qe+4),Qe=!1;r%2&&(i=i.times(l),H1(i.d,t)),r=Eo(r/2),r!==0;)l=l.times(l),H1(l.d,t);return Qe=!0,e.s<0?new c(sr).div(i):Fe(i,n)}}else if(s<0)throw Error(Ar+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Qe=!1,i=e.times(tc(l,n+u)),Qe=!0,i=aP(i),i.s=s,i};re.toPrecision=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?(r=ut(i),n=Ai(i,r<=s.toExpNeg||r>=s.toExpPos)):(dn(e,1,ko),t===void 0?t=s.rounding:dn(t,0,8),i=Fe(new s(i),e,t),r=ut(i),n=Ai(i,e<=r||r<=s.toExpNeg,e)),n};re.toSignificantDigits=re.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(dn(e,1,ko),t===void 0?t=n.rounding:dn(t,0,8)),Fe(new n(r),e,t)};re.toString=re.valueOf=re.val=re.toJSON=re[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ut(e),r=e.constructor;return Ai(e,t<=r.toExpNeg||t>=r.toExpPos)};function nP(e,t){var r,n,i,s,o,l,c,u,f=e.constructor,d=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),Qe?Fe(t,d):t;if(c=e.d,u=t.d,o=e.e,i=t.e,c=c.slice(),s=o-i,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,i=o,l=c.length),o=Math.ceil(d/qe),l=o>l?o+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/jt|0,c[s]%=jt;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=i,Qe?Fe(t,d):t}function dn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(yi+e)}function sn(e){var t,r,n,i=e.length-1,s="",o=e[0];if(i>0){for(s+=o,t=1;t<i;t++)n=e[t]+"",r=qe-n.length,r&&(s+=ta(r)),s+=n;o=e[t],n=o+"",r=qe-n.length,r&&(s+=ta(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var Rn=function(){function e(n,i){var s,o=0,l=n.length;for(n=n.slice();l--;)s=n[l]*i+o,n[l]=s%jt|0,o=s/jt|0;return o&&n.unshift(o),n}function t(n,i,s,o){var l,c;if(s!=o)c=s>o?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,s){for(var o=0;s--;)n[s]-=o,o=n[s]<i[s]?1:0,n[s]=o*jt+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,o){var l,c,u,f,d,h,m,x,g,v,p,y,j,w,b,N,_,S,C=n.constructor,P=n.s==i.s?1:-1,A=n.d,E=i.d;if(!n.s)return new C(n);if(!i.s)throw Error(Ar+"Division by zero");for(c=n.e-i.e,_=E.length,b=A.length,m=new C(P),x=m.d=[],u=0;E[u]==(A[u]||0);)++u;if(E[u]>(A[u]||0)&&--c,s==null?y=s=C.precision:o?y=s+(ut(n)-ut(i))+1:y=s,y<0)return new C(0);if(y=y/qe+2|0,u=0,_==1)for(f=0,E=E[0],y++;(u<b||f)&&y--;u++)j=f*jt+(A[u]||0),x[u]=j/E|0,f=j%E|0;else{for(f=jt/(E[0]+1)|0,f>1&&(E=e(E,f),A=e(A,f),_=E.length,b=A.length),w=_,g=A.slice(0,_),v=g.length;v<_;)g[v++]=0;S=E.slice(),S.unshift(0),N=E[0],E[1]>=jt/2&&++N;do f=0,l=t(E,g,_,v),l<0?(p=g[0],_!=v&&(p=p*jt+(g[1]||0)),f=p/N|0,f>1?(f>=jt&&(f=jt-1),d=e(E,f),h=d.length,v=g.length,l=t(d,g,h,v),l==1&&(f--,r(d,_<h?S:E,h))):(f==0&&(l=f=1),d=E.slice()),h=d.length,h<v&&d.unshift(0),r(g,d,v),l==-1&&(v=g.length,l=t(E,g,_,v),l<1&&(f++,r(g,_<v?S:E,v))),v=g.length):l===0&&(f++,g=[0]),x[u++]=f,l&&g[0]?g[v++]=A[w]||0:(g=[A[w]],v=1);while((w++<b||g[0]!==void 0)&&y--)}return x[0]||x.shift(),m.e=c,Fe(m,o?s+ut(m)+1:s)}}();function aP(e,t){var r,n,i,s,o,l,c=0,u=0,f=e.constructor,d=f.precision;if(ut(e)>16)throw Error(I0+ut(e));if(!e.s)return new f(sr);for(Qe=!1,l=d,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(Xa(2,u))/Math.LN10*2+5|0,l+=n,r=i=s=new f(sr),f.precision=l;;){if(i=Fe(i.times(e),l),r=r.times(++c),o=s.plus(Rn(i,r,l)),sn(o.d).slice(0,l)===sn(s.d).slice(0,l)){for(;u--;)s=Fe(s.times(s),l);return f.precision=d,t==null?(Qe=!0,Fe(s,d)):s}s=o}}function ut(e){for(var t=e.e*qe,r=e.d[0];r>=10;r/=10)t++;return t}function km(e,t,r){if(t>e.LN10.sd())throw Qe=!0,r&&(e.precision=r),Error(Ar+"LN10 precision limit exceeded");return Fe(new e(e.LN10),t)}function ta(e){for(var t="";e--;)t+="0";return t}function tc(e,t){var r,n,i,s,o,l,c,u,f,d=1,h=10,m=e,x=m.d,g=m.constructor,v=g.precision;if(m.s<1)throw Error(Ar+(m.s?"NaN":"-Infinity"));if(m.eq(sr))return new g(0);if(t==null?(Qe=!1,u=v):u=t,m.eq(10))return t==null&&(Qe=!0),km(g,u);if(u+=h,g.precision=u,r=sn(x),n=r.charAt(0),s=ut(m),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=sn(m.d),n=r.charAt(0),d++;s=ut(m),n>1?(m=new g("0."+r),s++):m=new g(n+"."+r.slice(1))}else return c=km(g,u+2,v).times(s+""),m=tc(new g(n+"."+r.slice(1)),u-h).plus(c),g.precision=v,t==null?(Qe=!0,Fe(m,v)):m;for(l=o=m=Rn(m.minus(sr),m.plus(sr),u),f=Fe(m.times(m),u),i=3;;){if(o=Fe(o.times(f),u),c=l.plus(Rn(o,new g(i),u)),sn(c.d).slice(0,u)===sn(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(km(g,u+2,v).times(s+""))),l=Rn(l,new g(d),u),g.precision=v,t==null?(Qe=!0,Fe(l,v)):l;l=c,i+=2}}function W1(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Eo(r/qe),e.d=[],n=(r+1)%qe,r<0&&(n+=qe),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=qe;n<i;)e.d.push(+t.slice(n,n+=qe));t=t.slice(n),n=qe-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Qe&&(e.e>qd||e.e<-qd))throw Error(I0+r)}else e.s=0,e.e=0,e.d=[0];return e}function Fe(e,t,r){var n,i,s,o,l,c,u,f,d=e.d;for(o=1,s=d[0];s>=10;s/=10)o++;if(n=t-o,n<0)n+=qe,i=t,u=d[f=0];else{if(f=Math.ceil((n+1)/qe),s=d.length,f>=s)return e;for(u=s=d[f],o=1;s>=10;s/=10)o++;n%=qe,i=n-qe+o}if(r!==void 0&&(s=Xa(10,o-i-1),l=u/s%10|0,c=t<0||d[f+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?i>0?u/Xa(10,o-i):0:d[f-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return c?(s=ut(e),d.length=1,t=t-s-1,d[0]=Xa(10,(qe-t%qe)%qe),e.e=Eo(-t/qe)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=f,s=1,f--):(d.length=f+1,s=Xa(10,qe-n),d[f]=i>0?(u/Xa(10,o-i)%Xa(10,i)|0)*s:0),c)for(;;)if(f==0){(d[0]+=s)==jt&&(d[0]=1,++e.e);break}else{if(d[f]+=s,d[f]!=jt)break;d[f--]=0,s=1}for(n=d.length;d[--n]===0;)d.pop();if(Qe&&(e.e>qd||e.e<-qd))throw Error(I0+ut(e));return e}function iP(e,t){var r,n,i,s,o,l,c,u,f,d,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Qe?Fe(t,m):t;if(c=e.d,d=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(f=o<0,f?(r=c,o=-o,l=d.length):(r=d,n=u,l=c.length),i=Math.max(Math.ceil(m/qe),l)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=d.length,f=i<l,f&&(l=i),i=0;i<l;i++)if(c[i]!=d[i]){f=c[i]<d[i];break}o=0}for(f&&(r=c,c=d,d=r,t.s=-t.s),l=c.length,i=d.length-l;i>0;--i)c[l++]=0;for(i=d.length;i>o;){if(c[--i]<d[i]){for(s=i;s&&c[--s]===0;)c[s]=jt-1;--c[s],c[i]+=jt}c[i]-=d[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Qe?Fe(t,m):t):new h(0)}function Ai(e,t,r){var n,i=ut(e),s=sn(e.d),o=s.length;return t?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+ta(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+ta(-i-1)+s,r&&(n=r-o)>0&&(s+=ta(n))):i>=o?(s+=ta(i+1-o),r&&(n=r-i-1)>0&&(s=s+"."+ta(n))):((n=i+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(s+="."),s+=ta(n))),e.s<0?"-"+s:s}function H1(e,t){if(e.length>t)return e.length=t,!0}function sP(e){var t,r,n;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(yi+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return W1(o,s.toString())}else if(typeof s!="string")throw Error(yi+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,rV.test(s))W1(o,s);else throw Error(yi+s)}if(i.prototype=re,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=sP,i.config=i.set=nV,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function nV(e){if(!e||typeof e!="object")throw Error(Ar+"Object expected");var t,r,n,i=["precision",1,ko,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Eo(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(yi+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(yi+r+": "+n);return this}var D0=sP(tV);sr=new D0(1);const Ie=D0;function aV(e){return lV(e)||oV(e)||sV(e)||iV()}function iV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sV(e,t){if(e){if(typeof e=="string")return Bx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bx(e,t)}}function oV(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function lV(e){if(Array.isArray(e))return Bx(e)}function Bx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var cV=function(t){return t},oP={},lP=function(t){return t===oP},K1=function(t){return function r(){return arguments.length===0||arguments.length===1&&lP(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},uV=function e(t,r){return t===1?r:K1(function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];var o=i.filter(function(l){return l!==oP}).length;return o>=t?r.apply(void 0,i):e(t-o,K1(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var f=i.map(function(d){return lP(d)?c.shift():d});return r.apply(void 0,aV(f).concat(c))}))})},Nh=function(t){return uV(t.length,t)},zx=function(t,r){for(var n=[],i=t;i<r;++i)n[i-t]=i;return n},dV=Nh(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),fV=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return cV;var i=r.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},Ux=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},cP=function(t){var r=null,n=null;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r&&s.every(function(l,c){return l===r[c]})||(r=s,n=t.apply(void 0,s)),n}};function hV(e){var t;return e===0?t=1:t=Math.floor(new Ie(e).abs().log(10).toNumber())+1,t}function mV(e,t,r){for(var n=new Ie(e),i=0,s=[];n.lt(t)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}var pV=Nh(function(e,t,r){var n=+e,i=+t;return n+r*(i-n)}),xV=Nh(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),gV=Nh(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const _h={rangeStep:mV,getDigitCount:hV,interpolateNumber:pV,uninterpolateNumber:xV,uninterpolateTruncation:gV};function Wx(e){return bV(e)||vV(e)||uP(e)||yV()}function yV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vV(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function bV(e){if(Array.isArray(e))return Hx(e)}function rc(e,t){return NV(e)||wV(e,t)||uP(e,t)||jV()}function jV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uP(e,t){if(e){if(typeof e=="string")return Hx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hx(e,t)}}function Hx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wV(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,s=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){i=!0,s=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw s}}return r}}function NV(e){if(Array.isArray(e))return e}function dP(e){var t=rc(e,2),r=t[0],n=t[1],i=r,s=n;return r>n&&(i=n,s=r),[i,s]}function fP(e,t,r){if(e.lte(0))return new Ie(0);var n=_h.getDigitCount(e.toNumber()),i=new Ie(10).pow(n),s=e.div(i),o=n!==1?.05:.1,l=new Ie(Math.ceil(s.div(o).toNumber())).add(r).mul(o),c=l.mul(i);return t?c:new Ie(Math.ceil(c))}function _V(e,t,r){var n=1,i=new Ie(e);if(!i.isint()&&r){var s=Math.abs(e);s<1?(n=new Ie(10).pow(_h.getDigitCount(e)-1),i=new Ie(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new Ie(Math.floor(e)))}else e===0?i=new Ie(Math.floor((t-1)/2)):r||(i=new Ie(Math.floor(e)));var o=Math.floor((t-1)/2),l=fV(dV(function(c){return i.add(new Ie(c-o).mul(n)).toNumber()}),zx);return l(0,t)}function hP(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Ie(0),tickMin:new Ie(0),tickMax:new Ie(0)};var s=fP(new Ie(t).sub(e).div(r-1),n,i),o;e<=0&&t>=0?o=new Ie(0):(o=new Ie(e).add(t).div(2),o=o.sub(new Ie(o).mod(s)));var l=Math.ceil(o.sub(e).div(s).toNumber()),c=Math.ceil(new Ie(t).sub(o).div(s).toNumber()),u=l+c+1;return u>r?hP(e,t,r,n,i+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:s,tickMin:o.sub(new Ie(l).mul(s)),tickMax:o.add(new Ie(c).mul(s))})}function SV(e){var t=rc(e,2),r=t[0],n=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),l=dP([r,n]),c=rc(l,2),u=c[0],f=c[1];if(u===-1/0||f===1/0){var d=f===1/0?[u].concat(Wx(zx(0,i-1).map(function(){return 1/0}))):[].concat(Wx(zx(0,i-1).map(function(){return-1/0})),[f]);return r>n?Ux(d):d}if(u===f)return _V(u,i,s);var h=hP(u,f,o,s),m=h.step,x=h.tickMin,g=h.tickMax,v=_h.rangeStep(x,g.add(new Ie(.1).mul(m)),m);return r>n?Ux(v):v}function OV(e,t){var r=rc(e,2),n=r[0],i=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=dP([n,i]),l=rc(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,i];if(c===u)return[c];var f=Math.max(t,2),d=fP(new Ie(u).sub(c).div(f-1),s,0),h=[].concat(Wx(_h.rangeStep(new Ie(c),new Ie(u).sub(new Ie(.99).mul(d)),d)),[u]);return n>i?Ux(h):h}var CV=cP(SV),PV=cP(OV),AV="Invariant failed";function ki(e,t){throw new Error(AV)}var kV=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Xs(e){"@babel/helpers - typeof";return Xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xs(e)}function Vd(){return Vd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vd.apply(this,arguments)}function EV(e,t){return RV(e)||MV(e,t)||TV(e,t)||$V()}function $V(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TV(e,t){if(e){if(typeof e=="string")return q1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return q1(e,t)}}function q1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function MV(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function RV(e){if(Array.isArray(e))return e}function IV(e,t){if(e==null)return{};var r=DV(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function DV(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function LV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FV(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xP(n.key),n)}}function BV(e,t,r){return t&&FV(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zV(e,t,r){return t=Gd(t),UV(e,mP()?Reflect.construct(t,r||[],Gd(e).constructor):t.apply(e,r))}function UV(e,t){if(t&&(Xs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WV(e)}function WV(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mP=function(){return!!e})()}function Gd(e){return Gd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gd(e)}function HV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kx(e,t)}function Kx(e,t){return Kx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Kx(e,t)}function pP(e,t,r){return t=xP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xP(e){var t=KV(e,"string");return Xs(t)=="symbol"?t:t+""}function KV(e,t){if(Xs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qc=function(e){function t(){return LV(this,t),zV(this,t,arguments)}return HV(t,e),BV(t,[{key:"render",value:function(){var n=this.props,i=n.offset,s=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,f=n.xAxis,d=n.yAxis,h=IV(n,kV),m=Oe(h,!1);this.props.direction==="x"&&f.type!=="number"&&ki();var x=c.map(function(g){var v=u(g,l),p=v.x,y=v.y,j=v.value,w=v.errorVal;if(!w)return null;var b=[],N,_;if(Array.isArray(w)){var S=EV(w,2);N=S[0],_=S[1]}else N=_=w;if(s==="vertical"){var C=f.scale,P=y+i,A=P+o,E=P-o,L=C(j-N),F=C(j+_);b.push({x1:F,y1:A,x2:F,y2:E}),b.push({x1:L,y1:P,x2:F,y2:P}),b.push({x1:L,y1:A,x2:L,y2:E})}else if(s==="horizontal"){var U=d.scale,T=p+i,B=T-o,M=T+o,z=U(j-N),k=U(j+_);b.push({x1:B,y1:k,x2:M,y2:k}),b.push({x1:T,y1:z,x2:T,y2:k}),b.push({x1:B,y1:z,x2:M,y2:z})}return R.createElement(it,Vd({className:"recharts-errorBar",key:"bar-".concat(b.map(function(I){return"".concat(I.x1,"-").concat(I.x2,"-").concat(I.y1,"-").concat(I.y2)}))},m),b.map(function(I){return R.createElement("line",Vd({},I,{key:"line-".concat(I.x1,"-").concat(I.x2,"-").concat(I.y1,"-").concat(I.y2)}))}))});return R.createElement(it,{className:"recharts-errorBars"},x)}}])}(R.Component);pP(qc,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});pP(qc,"displayName","ErrorBar");function nc(e){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nc(e)}function V1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ha(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V1(Object(r),!0).forEach(function(n){qV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qV(e,t,r){return t=VV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VV(e){var t=GV(e,"string");return nc(t)=="symbol"?t:t+""}function GV(e,t){if(nc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gP=function(t){var r=t.children,n=t.formattedGraphicalItems,i=t.legendWidth,s=t.legendContent,o=ir(r,xi);if(!o)return null;var l=xi.defaultProps,c=l!==void 0?Ha(Ha({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:s==="children"?u=(n||[]).reduce(function(f,d){var h=d.item,m=d.props,x=m.sectors||m.data||[];return f.concat(x.map(function(g){return{type:o.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(n||[]).map(function(f){var d=f.item,h=d.type.defaultProps,m=h!==void 0?Ha(Ha({},h),d.props):{},x=m.dataKey,g=m.name,v=m.legendType,p=m.hide;return{inactive:p,dataKey:x,type:c.iconType||v||"square",color:L0(d),value:g||x,payload:m}}),Ha(Ha(Ha({},c),xi.getWithHeight(o,i)),{},{payload:u,item:o})};function ac(e){"@babel/helpers - typeof";return ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ac(e)}function G1(e){return ZV(e)||YV(e)||QV(e)||XV()}function XV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QV(e,t){if(e){if(typeof e=="string")return qx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qx(e,t)}}function YV(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ZV(e){if(Array.isArray(e))return qx(e)}function qx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function X1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X1(Object(r),!0).forEach(function(n){xs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xs(e,t,r){return t=JV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JV(e){var t=eG(e,"string");return ac(t)=="symbol"?t:t+""}function eG(e,t){if(ac(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dr(e,t,r){return je(e)||je(t)?r:gt(t)?Sr(e,t,r):be(t)?t(e):r}function vl(e,t,r,n){var i=Yq(e,function(l){return dr(l,t)});if(r==="number"){var s=i.filter(function(l){return Z(l)||parseFloat(l)});return s.length?[jh(s),bh(s)]:[1/0,-1/0]}var o=n?i.filter(function(l){return!je(l)}):i;return o.map(function(l){return gt(l)||l instanceof Date?l:""})}var tG=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var f=u>0?i[u-1].coordinate:i[l-1].coordinate,d=i[u].coordinate,h=u>=l-1?i[0].coordinate:i[u+1].coordinate,m=void 0;if(qr(d-f)!==qr(h-d)){var x=[];if(qr(h-d)===qr(c[1]-c[0])){m=h;var g=d+c[1]-c[0];x[0]=Math.min(g,(g+f)/2),x[1]=Math.max(g,(g+f)/2)}else{m=f;var v=h+c[1]-c[0];x[0]=Math.min(d,(v+d)/2),x[1]=Math.max(d,(v+d)/2)}var p=[Math.min(d,(m+d)/2),Math.max(d,(m+d)/2)];if(t>p[0]&&t<=p[1]||t>=x[0]&&t<=x[1]){o=i[u].index;break}}else{var y=Math.min(f,h),j=Math.max(f,h);if(t>(y+d)/2&&t<=(j+d)/2){o=i[u].index;break}}}else for(var w=0;w<l;w++)if(w===0&&t<=(n[w].coordinate+n[w+1].coordinate)/2||w>0&&w<l-1&&t>(n[w].coordinate+n[w-1].coordinate)/2&&t<=(n[w].coordinate+n[w+1].coordinate)/2||w===l-1&&t>(n[w].coordinate+n[w-1].coordinate)/2){o=n[w].index;break}return o},L0=function(t){var r,n=t,i=n.type.displayName,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?rt(rt({},t.type.defaultProps),t.props):t.props,o=s.stroke,l=s.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},rG=function(t){var r=t.barSize,n=t.totalSize,i=t.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var o={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var f=s[l[c]].stackGroups,d=Object.keys(f),h=0,m=d.length;h<m;h++){var x=f[d[h]],g=x.items,v=x.cateAxisId,p=g.filter(function(_){return Tn(_.type).indexOf("Bar")>=0});if(p&&p.length){var y=p[0].type.defaultProps,j=y!==void 0?rt(rt({},y),p[0].props):p[0].props,w=j.barSize,b=j[v];o[b]||(o[b]=[]);var N=je(w)?r:w;o[b].push({item:p[0],stackList:p.slice(1),barSize:je(N)?void 0:Pi(N,n,0)})}}return o},nG=function(t){var r=t.barGap,n=t.barCategoryGap,i=t.bandSize,s=t.sizeList,o=s===void 0?[]:s,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Pi(r,i,0,!0),f,d=[];if(o[0].barSize===+o[0].barSize){var h=!1,m=i/c,x=o.reduce(function(w,b){return w+b.barSize||0},0);x+=(c-1)*u,x>=i&&(x-=(c-1)*u,u=0),x>=i&&m>0&&(h=!0,m*=.9,x=c*m);var g=(i-x)/2>>0,v={offset:g-u,size:0};f=o.reduce(function(w,b){var N={item:b.item,position:{offset:v.offset+v.size+u,size:h?m:b.barSize}},_=[].concat(G1(w),[N]);return v=_[_.length-1].position,b.stackList&&b.stackList.length&&b.stackList.forEach(function(S){_.push({item:S,position:v})}),_},d)}else{var p=Pi(n,i,0,!0);i-2*p-(c-1)*u<=0&&(u=0);var y=(i-2*p-(c-1)*u)/c;y>1&&(y>>=0);var j=l===+l?Math.min(y,l):y;f=o.reduce(function(w,b,N){var _=[].concat(G1(w),[{item:b.item,position:{offset:p+(y+u)*N+(y-j)/2,size:j}}]);return b.stackList&&b.stackList.length&&b.stackList.forEach(function(S){_.push({item:S,position:_[_.length-1].position})}),_},d)}return f},aG=function(t,r,n,i){var s=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=gP({children:s,legendWidth:c});if(u){var f=i||{},d=f.width,h=f.height,m=u.align,x=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&x==="middle")&&m!=="center"&&Z(t[m]))return rt(rt({},t),{},xs({},m,t[m]+(d||0)));if((g==="horizontal"||g==="vertical"&&m==="center")&&x!=="middle"&&Z(t[x]))return rt(rt({},t),{},xs({},x,t[x]+(h||0)))}return t},iG=function(t,r,n){return je(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},yP=function(t,r,n,i,s){var o=r.props.children,l=Or(o,qc).filter(function(u){return iG(i,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,f){var d=dr(f,n);if(je(d))return u;var h=Array.isArray(d)?[jh(d),bh(d)]:[d,d],m=c.reduce(function(x,g){var v=dr(f,g,0),p=h[0]-Math.abs(Array.isArray(v)?v[0]:v),y=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(p,x[0]),Math.max(y,x[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},sG=function(t,r,n,i,s){var o=r.map(function(l){return yP(t,l,n,s,i)}).filter(function(l){return!je(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},vP=function(t,r,n,i,s){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&yP(t,c,u,i)||vl(t,u,n,s)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var f=0,d=u.length;f<d;f++)l[u[f]]||(l[u[f]]=!0,c.push(u[f]));return c},[])},bP=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},jP=function(t,r,n,i){if(i)return t.map(function(c){return c.coordinate});var s,o,l=t.map(function(c){return c.coordinate===r&&(s=!0),c.coordinate===n&&(o=!0),c.coordinate});return s||l.push(r),o||l.push(n),l},En=function(t,r,n){if(!t)return null;var i=t.scale,s=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?qr(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var f=(t.ticks||t.niceTicks).map(function(d){var h=s?s.indexOf(d):d;return{coordinate:i(h)+u,value:d,offset:u}});return f.filter(function(d){return!Fc(d.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(d,h){return{coordinate:i(d)+u,value:d,index:h,offset:u}}):i.ticks&&!n?i.ticks(t.tickCount).map(function(d){return{coordinate:i(d)+u,value:d,offset:u}}):i.domain().map(function(d,h){return{coordinate:i(d)+u,value:s?s[d]:d,index:h,offset:u}})},Em=new WeakMap,wu=function(t,r){if(typeof r!="function")return t;Em.has(t)||Em.set(t,new WeakMap);var n=Em.get(t);if(n.has(r))return n.get(r);var i=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},oG=function(t,r,n){var i=t.scale,s=t.type,o=t.layout,l=t.axisType;if(i==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Ql(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Ud(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:yl(),realScaleType:"point"}:s==="category"?{scale:Ql(),realScaleType:"band"}:{scale:Ud(),realScaleType:"linear"};if(Ci(i)){var c="scale".concat(oh(i));return{scale:(U1[c]||yl)(),realScaleType:U1[c]?c:"point"}}return be(i)?{scale:i}:{scale:yl(),realScaleType:"point"}},Q1=1e-4,lG=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,i=t.range(),s=Math.min(i[0],i[1])-Q1,o=Math.max(i[0],i[1])+Q1,l=t(r[0]),c=t(r[n-1]);(l<s||l>o||c<s||c>o)&&t.domain([r[0],r[n-1]])}},cG=function(t,r){if(!t)return null;for(var n=0,i=t.length;n<i;n++)if(t[n].item===r)return t[n].position;return null},uG=function(t,r){if(!r||r.length!==2||!Z(r[0])||!Z(r[1]))return t;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),s=[t[0],t[1]];return(!Z(t[0])||t[0]<n)&&(s[0]=n),(!Z(t[1])||t[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<n&&(s[1]=n),s},dG=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var s=0,o=0,l=0;l<r;++l){var c=Fc(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=s,t[l][n][1]=s+c,s=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},fG=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var s=0,o=0;o<r;++o){var l=Fc(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=s,t[o][n][1]=s+l,s=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},hG={sign:dG,expand:CD,none:zs,silhouette:PD,wiggle:AD,positive:fG},mG=function(t,r,n){var i=r.map(function(l){return l.props.dataKey}),s=hG[n],o=OD().keys(i).value(function(l,c){return+dr(l,c,0)}).order(gx).offset(s);return o(t)},pG=function(t,r,n,i,s,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(d,h){var m,x=(m=h.type)!==null&&m!==void 0&&m.defaultProps?rt(rt({},h.type.defaultProps),h.props):h.props,g=x.stackId,v=x.hide;if(v)return d;var p=x[n],y=d[p]||{hasStack:!1,stackGroups:{}};if(gt(g)){var j=y.stackGroups[g]||{numericAxisId:n,cateAxisId:i,items:[]};j.items.push(h),y.hasStack=!0,y.stackGroups[g]=j}else y.stackGroups[Bc("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[h]};return rt(rt({},d),{},xs({},p,y))},c),f={};return Object.keys(u).reduce(function(d,h){var m=u[h];if(m.hasStack){var x={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(g,v){var p=m.stackGroups[v];return rt(rt({},g),{},xs({},v,{numericAxisId:n,cateAxisId:i,items:p.items,stackedData:mG(t,p.items,s)}))},x)}return rt(rt({},d),{},xs({},h,m))},f)},xG=function(t,r){var n=r.realScaleType,i=r.type,s=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var f=CV(u,s,l);return t.domain([jh(f),bh(f)]),{niceTicks:f}}if(s&&i==="number"){var d=t.domain(),h=PV(d,s,l);return{niceTicks:h}}return null};function Y1(e){var t=e.axis,r=e.ticks,n=e.bandSize,i=e.entry,s=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!je(i[t.dataKey])){var l=vd(r,"value",i[t.dataKey]);if(l)return l.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var c=dr(i,je(o)?t.dataKey:o);return je(c)?null:t.scale(c)}var Z1=function(t){var r=t.axis,n=t.ticks,i=t.offset,s=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+i:null;var c=dr(o,r.dataKey,r.domain[l]);return je(c)?null:r.scale(c)-s/2+i},gG=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return i<=0&&s>=0?0:s<0?s:i}return n[0]},yG=function(t,r){var n,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?rt(rt({},t.type.defaultProps),t.props):t.props,s=i.stackId;if(gt(s)){var o=r[s];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},vG=function(t){return t.reduce(function(r,n){return[jh(n.concat([r[0]]).filter(Z)),bh(n.concat([r[1]]).filter(Z))]},[1/0,-1/0])},wP=function(t,r,n){return Object.keys(t).reduce(function(i,s){var o=t[s],l=o.stackedData,c=l.reduce(function(u,f){var d=vG(f.slice(r,n+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},J1=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ew=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Vx=function(t,r,n){if(be(t))return t(r,n);if(!Array.isArray(t))return r;var i=[];if(Z(t[0]))i[0]=n?t[0]:Math.min(t[0],r[0]);else if(J1.test(t[0])){var s=+J1.exec(t[0])[1];i[0]=r[0]-s}else be(t[0])?i[0]=t[0](r[0]):i[0]=r[0];if(Z(t[1]))i[1]=n?t[1]:Math.max(t[1],r[1]);else if(ew.test(t[1])){var o=+ew.exec(t[1])[1];i[1]=r[1]+o}else be(t[1])?i[1]=t[1](r[1]):i[1]=r[1];return i},Xd=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!n||i>0)return i}if(t&&r&&r.length>=2){for(var s=f0(r,function(d){return d.coordinate}),o=1/0,l=1,c=s.length;l<c;l++){var u=s[l],f=s[l-1];o=Math.min((u.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},tw=function(t,r,n){return!t||!t.length||wh(t,Sr(n,"type.defaultProps.domain"))?r:t},NP=function(t,r){var n=t.type.defaultProps?rt(rt({},t.type.defaultProps),t.props):t.props,i=n.dataKey,s=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,f=n.hide;return rt(rt({},Oe(t,!1)),{},{dataKey:i,unit:o,formatter:l,name:s||i,color:L0(t),value:dr(r,i),type:c,payload:r,chartType:u,hide:f})};function ic(e){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ic(e)}function rw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rw(Object(r),!0).forEach(function(n){bG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bG(e,t,r){return t=jG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jG(e){var t=wG(e,"string");return ic(t)=="symbol"?t:t+""}function wG(e,t){if(ic(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qd=Math.PI/180,NG=function(t){return t*180/Math.PI},Ct=function(t,r,n,i){return{x:t+Math.cos(-Qd*i)*n,y:r+Math.sin(-Qd*i)*n}},_G=function(t,r){var n=t.x,i=t.y,s=r.x,o=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(i-o,2))},SG=function(t,r){var n=t.x,i=t.y,s=r.cx,o=r.cy,l=_G({x:n,y:i},{x:s,y:o});if(l<=0)return{radius:l};var c=(n-s)/l,u=Math.acos(c);return i>o&&(u=2*Math.PI-u),{radius:l,angle:NG(u),angleInRadian:u}},OG=function(t){var r=t.startAngle,n=t.endAngle,i=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(i,s);return{startAngle:r-o*360,endAngle:n-o*360}},CG=function(t,r){var n=r.startAngle,i=r.endAngle,s=Math.floor(n/360),o=Math.floor(i/360),l=Math.min(s,o);return t+l*360},aw=function(t,r){var n=t.x,i=t.y,s=SG({x:n,y:i},r),o=s.radius,l=s.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var f=OG(r),d=f.startAngle,h=f.endAngle,m=l,x;if(d<=h){for(;m>h;)m-=360;for(;m<d;)m+=360;x=m>=d&&m<=h}else{for(;m>d;)m-=360;for(;m<h;)m+=360;x=m>=h&&m<=d}return x?nw(nw({},r),{},{radius:o,angle:CG(m,r)}):null};function sc(e){"@babel/helpers - typeof";return sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sc(e)}var PG=["offset"];function AG(e){return TG(e)||$G(e)||EG(e)||kG()}function kG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EG(e,t){if(e){if(typeof e=="string")return Gx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gx(e,t)}}function $G(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function TG(e){if(Array.isArray(e))return Gx(e)}function Gx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function MG(e,t){if(e==null)return{};var r=RG(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function RG(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function iw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ft(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iw(Object(r),!0).forEach(function(n){IG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IG(e,t,r){return t=DG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DG(e){var t=LG(e,"string");return sc(t)=="symbol"?t:t+""}function LG(e,t){if(sc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oc(){return oc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oc.apply(this,arguments)}var FG=function(t){var r=t.value,n=t.formatter,i=je(t.children)?r:t.children;return be(n)?n(i):i},BG=function(t,r){var n=qr(r-t),i=Math.min(Math.abs(r-t),360);return n*i},zG=function(t,r,n){var i=t.position,s=t.viewBox,o=t.offset,l=t.className,c=s,u=c.cx,f=c.cy,d=c.innerRadius,h=c.outerRadius,m=c.startAngle,x=c.endAngle,g=c.clockWise,v=(d+h)/2,p=BG(m,x),y=p>=0?1:-1,j,w;i==="insideStart"?(j=m+y*o,w=g):i==="insideEnd"?(j=x-y*o,w=!g):i==="end"&&(j=x+y*o,w=g),w=p<=0?w:!w;var b=Ct(u,f,v,j),N=Ct(u,f,v,j+(w?1:-1)*359),_="M".concat(b.x,",").concat(b.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(w?0:1,`,
    `).concat(N.x,",").concat(N.y),S=je(t.id)?Bc("recharts-radial-line-"):t.id;return R.createElement("text",oc({},n,{dominantBaseline:"central",className:Ce("recharts-radial-bar-label",l)}),R.createElement("defs",null,R.createElement("path",{id:S,d:_})),R.createElement("textPath",{xlinkHref:"#".concat(S)},r))},UG=function(t){var r=t.viewBox,n=t.offset,i=t.position,s=r,o=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,f=s.startAngle,d=s.endAngle,h=(f+d)/2;if(i==="outside"){var m=Ct(o,l,u+n,h),x=m.x,g=m.y;return{x,y:g,textAnchor:x>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,p=Ct(o,l,v,h),y=p.x,j=p.y;return{x:y,y:j,textAnchor:"middle",verticalAnchor:"middle"}},WG=function(t){var r=t.viewBox,n=t.parentViewBox,i=t.offset,s=t.position,o=r,l=o.x,c=o.y,u=o.width,f=o.height,d=f>=0?1:-1,h=d*i,m=d>0?"end":"start",x=d>0?"start":"end",g=u>=0?1:-1,v=g*i,p=g>0?"end":"start",y=g>0?"start":"end";if(s==="top"){var j={x:l+u/2,y:c-d*i,textAnchor:"middle",verticalAnchor:m};return ft(ft({},j),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var w={x:l+u/2,y:c+f+h,textAnchor:"middle",verticalAnchor:x};return ft(ft({},w),n?{height:Math.max(n.y+n.height-(c+f),0),width:u}:{})}if(s==="left"){var b={x:l-v,y:c+f/2,textAnchor:p,verticalAnchor:"middle"};return ft(ft({},b),n?{width:Math.max(b.x-n.x,0),height:f}:{})}if(s==="right"){var N={x:l+u+v,y:c+f/2,textAnchor:y,verticalAnchor:"middle"};return ft(ft({},N),n?{width:Math.max(n.x+n.width-N.x,0),height:f}:{})}var _=n?{width:u,height:f}:{};return s==="insideLeft"?ft({x:l+v,y:c+f/2,textAnchor:y,verticalAnchor:"middle"},_):s==="insideRight"?ft({x:l+u-v,y:c+f/2,textAnchor:p,verticalAnchor:"middle"},_):s==="insideTop"?ft({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:x},_):s==="insideBottom"?ft({x:l+u/2,y:c+f-h,textAnchor:"middle",verticalAnchor:m},_):s==="insideTopLeft"?ft({x:l+v,y:c+h,textAnchor:y,verticalAnchor:x},_):s==="insideTopRight"?ft({x:l+u-v,y:c+h,textAnchor:p,verticalAnchor:x},_):s==="insideBottomLeft"?ft({x:l+v,y:c+f-h,textAnchor:y,verticalAnchor:m},_):s==="insideBottomRight"?ft({x:l+u-v,y:c+f-h,textAnchor:p,verticalAnchor:m},_):jo(s)&&(Z(s.x)||ei(s.x))&&(Z(s.y)||ei(s.y))?ft({x:l+Pi(s.x,u),y:c+Pi(s.y,f),textAnchor:"end",verticalAnchor:"end"},_):ft({x:l+u/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},_)},HG=function(t){return"cx"in t&&Z(t.cx)};function Mt(e){var t=e.offset,r=t===void 0?5:t,n=MG(e,PG),i=ft({offset:r},n),s=i.viewBox,o=i.position,l=i.value,c=i.children,u=i.content,f=i.className,d=f===void 0?"":f,h=i.textBreakAll;if(!s||je(l)&&je(c)&&!O.isValidElement(u)&&!be(u))return null;if(O.isValidElement(u))return O.cloneElement(u,i);var m;if(be(u)){if(m=O.createElement(u,i),O.isValidElement(m))return m}else m=FG(i);var x=HG(s),g=Oe(i,!0);if(x&&(o==="insideStart"||o==="insideEnd"||o==="end"))return zG(i,m,g);var v=x?UG(i):WG(i);return R.createElement(Rd,oc({className:Ce("recharts-label",d)},g,v,{breakAll:h}),m)}Mt.displayName="Label";var _P=function(t){var r=t.cx,n=t.cy,i=t.angle,s=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,f=t.outerRadius,d=t.x,h=t.y,m=t.top,x=t.left,g=t.width,v=t.height,p=t.clockWise,y=t.labelViewBox;if(y)return y;if(Z(g)&&Z(v)){if(Z(d)&&Z(h))return{x:d,y:h,width:g,height:v};if(Z(m)&&Z(x))return{x:m,y:x,width:g,height:v}}return Z(d)&&Z(h)?{x:d,y:h,width:0,height:0}:Z(r)&&Z(n)?{cx:r,cy:n,startAngle:s||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:f||c||l||0,clockWise:p}:t.viewBox?t.viewBox:{}},KG=function(t,r){return t?t===!0?R.createElement(Mt,{key:"label-implicit",viewBox:r}):gt(t)?R.createElement(Mt,{key:"label-implicit",viewBox:r,value:t}):O.isValidElement(t)?t.type===Mt?O.cloneElement(t,{key:"label-implicit",viewBox:r}):R.createElement(Mt,{key:"label-implicit",content:t,viewBox:r}):be(t)?R.createElement(Mt,{key:"label-implicit",content:t,viewBox:r}):jo(t)?R.createElement(Mt,oc({viewBox:r},t,{key:"label-implicit"})):null:null},qG=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var i=t.children,s=_P(t),o=Or(i,Mt).map(function(c,u){return O.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return o;var l=KG(t.label,r||s);return[l].concat(AG(o))};Mt.parseViewBox=_P;Mt.renderCallByParent=qG;function VG(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var GG=VG;const XG=Le(GG);function lc(e){"@babel/helpers - typeof";return lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lc(e)}var QG=["valueAccessor"],YG=["data","dataKey","clockWise","id","textBreakAll"];function ZG(e){return rX(e)||tX(e)||eX(e)||JG()}function JG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eX(e,t){if(e){if(typeof e=="string")return Xx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xx(e,t)}}function tX(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rX(e){if(Array.isArray(e))return Xx(e)}function Xx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Yd(){return Yd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yd.apply(this,arguments)}function sw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ow(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sw(Object(r),!0).forEach(function(n){nX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nX(e,t,r){return t=aX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aX(e){var t=iX(e,"string");return lc(t)=="symbol"?t:t+""}function iX(e,t){if(lc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lw(e,t){if(e==null)return{};var r=sX(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sX(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var oX=function(t){return Array.isArray(t.value)?XG(t.value):t.value};function ka(e){var t=e.valueAccessor,r=t===void 0?oX:t,n=lw(e,QG),i=n.data,s=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=lw(n,YG);return!i||!i.length?null:R.createElement(it,{className:"recharts-label-list"},i.map(function(f,d){var h=je(s)?r(f,d):dr(f&&f.payload,s),m=je(l)?{}:{id:"".concat(l,"-").concat(d)};return R.createElement(Mt,Yd({},Oe(f,!0),u,m,{parentViewBox:f.parentViewBox,value:h,textBreakAll:c,viewBox:Mt.parseViewBox(je(o)?f:ow(ow({},f),{},{clockWise:o})),key:"label-".concat(d),index:d}))}))}ka.displayName="LabelList";function lX(e,t){return e?e===!0?R.createElement(ka,{key:"labelList-implicit",data:t}):R.isValidElement(e)||be(e)?R.createElement(ka,{key:"labelList-implicit",data:t,content:e}):jo(e)?R.createElement(ka,Yd({data:t},e,{key:"labelList-implicit"})):null:null}function cX(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,i=Or(n,ka).map(function(o,l){return O.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return i;var s=lX(e.label,t);return[s].concat(ZG(i))}ka.renderCallByParent=cX;function cc(e){"@babel/helpers - typeof";return cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cc(e)}function Qx(){return Qx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qx.apply(this,arguments)}function cw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function uw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cw(Object(r),!0).forEach(function(n){uX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uX(e,t,r){return t=dX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dX(e){var t=fX(e,"string");return cc(t)=="symbol"?t:t+""}function fX(e,t){if(cc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hX=function(t,r){var n=qr(r-t),i=Math.min(Math.abs(r-t),359.999);return n*i},Nu=function(t){var r=t.cx,n=t.cy,i=t.radius,s=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,f=c*(l?1:-1)+i,d=Math.asin(c/f)/Qd,h=u?s:s+o*d,m=Ct(r,n,f,h),x=Ct(r,n,i,h),g=u?s-o*d:s,v=Ct(r,n,f*Math.cos(d*Qd),g);return{center:m,circleTangency:x,lineTangency:v,theta:d}},SP=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,s=t.outerRadius,o=t.startAngle,l=t.endAngle,c=hX(o,l),u=o+c,f=Ct(r,n,s,o),d=Ct(r,n,s,u),h="M ".concat(f.x,",").concat(f.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var m=Ct(r,n,i,o),x=Ct(r,n,i,u);h+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},mX=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,s=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,f=t.endAngle,d=qr(f-u),h=Nu({cx:r,cy:n,radius:s,angle:u,sign:d,cornerRadius:o,cornerIsExternal:c}),m=h.circleTangency,x=h.lineTangency,g=h.theta,v=Nu({cx:r,cy:n,radius:s,angle:f,sign:-d,cornerRadius:o,cornerIsExternal:c}),p=v.circleTangency,y=v.lineTangency,j=v.theta,w=c?Math.abs(u-f):Math.abs(u-f)-g-j;if(w<0)return l?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):SP({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:u,endAngle:f});var b="M ".concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(w>180),",").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
  `);if(i>0){var N=Nu({cx:r,cy:n,radius:i,angle:u,sign:d,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),_=N.circleTangency,S=N.lineTangency,C=N.theta,P=Nu({cx:r,cy:n,radius:i,angle:f,sign:-d,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),A=P.circleTangency,E=P.lineTangency,L=P.theta,F=c?Math.abs(u-f):Math.abs(u-f)-C-L;if(F<0&&o===0)return"".concat(b,"L").concat(r,",").concat(n,"Z");b+="L".concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(A.x,",").concat(A.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(F>180),",").concat(+(d>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(S.x,",").concat(S.y,"Z")}else b+="L".concat(r,",").concat(n,"Z");return b},pX={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},OP=function(t){var r=uw(uw({},pX),t),n=r.cx,i=r.cy,s=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,f=r.startAngle,d=r.endAngle,h=r.className;if(o<s||f===d)return null;var m=Ce("recharts-sector",h),x=o-s,g=Pi(l,x,0,!0),v;return g>0&&Math.abs(f-d)<360?v=mX({cx:n,cy:i,innerRadius:s,outerRadius:o,cornerRadius:Math.min(g,x/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:d}):v=SP({cx:n,cy:i,innerRadius:s,outerRadius:o,startAngle:f,endAngle:d}),R.createElement("path",Qx({},Oe(r,!0),{className:m,d:v,role:"img"}))};function uc(e){"@babel/helpers - typeof";return uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uc(e)}function Yx(){return Yx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yx.apply(this,arguments)}function dw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dw(Object(r),!0).forEach(function(n){xX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xX(e,t,r){return t=gX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gX(e){var t=yX(e,"string");return uc(t)=="symbol"?t:t+""}function yX(e,t){if(uc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hw={curveBasisClosed:pD,curveBasisOpen:xD,curveBasis:mD,curveBumpX:eD,curveBumpY:tD,curveLinearClosed:gD,curveLinear:ch,curveMonotoneX:yD,curveMonotoneY:vD,curveNatural:bD,curveStep:jD,curveStepAfter:ND,curveStepBefore:wD},_u=function(t){return t.x===+t.x&&t.y===+t.y},Xo=function(t){return t.x},Qo=function(t){return t.y},vX=function(t,r){if(be(t))return t;var n="curve".concat(oh(t));return(n==="curveMonotone"||n==="curveBump")&&r?hw["".concat(n).concat(r==="vertical"?"Y":"X")]:hw[n]||ch},bX=function(t){var r=t.type,n=r===void 0?"linear":r,i=t.points,s=i===void 0?[]:i,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,f=vX(n,l),d=u?s.filter(function(g){return _u(g)}):s,h;if(Array.isArray(o)){var m=u?o.filter(function(g){return _u(g)}):o,x=d.map(function(g,v){return fw(fw({},g),{},{base:m[v]})});return l==="vertical"?h=mu().y(Qo).x1(Xo).x0(function(g){return g.base.x}):h=mu().x(Xo).y1(Qo).y0(function(g){return g.base.y}),h.defined(_u).curve(f),h(x)}return l==="vertical"&&Z(o)?h=mu().y(Qo).x1(Xo).x0(o):Z(o)?h=mu().x(Xo).y1(Qo).y0(o):h=OO().x(Xo).y(Qo),h.defined(_u).curve(f),h(d)},Zx=function(t){var r=t.className,n=t.points,i=t.path,s=t.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?bX(t):i;return O.createElement("path",Yx({},Oe(t,!1),bd(t),{className:Ce("recharts-curve",r),d:o,ref:s}))},CP={exports:{}},jX="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",wX=jX,NX=wX;function PP(){}function AP(){}AP.resetWarningCache=PP;var _X=function(){function e(n,i,s,o,l,c){if(c!==NX){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:AP,resetWarningCache:PP};return r.PropTypes=r,r};CP.exports=_X();var SX=CP.exports;const ke=Le(SX),{getOwnPropertyNames:OX,getOwnPropertySymbols:CX}=Object,{hasOwnProperty:PX}=Object.prototype;function $m(e,t){return function(n,i,s){return e(n,i,s)&&t(n,i,s)}}function Su(e){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,i);const{cache:s}=i,o=s.get(r),l=s.get(n);if(o&&l)return o===n&&l===r;s.set(r,n),s.set(n,r);const c=e(r,n,i);return s.delete(r),s.delete(n),c}}function AX(e){return e!=null?e[Symbol.toStringTag]:void 0}function mw(e){return OX(e).concat(CX(e))}const kX=Object.hasOwn||((e,t)=>PX.call(e,t));function Fi(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const EX="__v",$X="__o",TX="_owner",{getOwnPropertyDescriptor:pw,keys:xw}=Object;function MX(e,t){return e.byteLength===t.byteLength&&Zd(new Uint8Array(e),new Uint8Array(t))}function RX(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function IX(e,t){return e.byteLength===t.byteLength&&Zd(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function DX(e,t){return Fi(e.getTime(),t.getTime())}function LX(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function FX(e,t){return e===t}function gw(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const i=new Array(n),s=e.entries();let o,l,c=0;for(;(o=s.next())&&!o.done;){const u=t.entries();let f=!1,d=0;for(;(l=u.next())&&!l.done;){if(i[d]){d++;continue}const h=o.value,m=l.value;if(r.equals(h[0],m[0],c,d,e,t,r)&&r.equals(h[1],m[1],h[0],m[0],e,t,r)){f=i[d]=!0;break}d++}if(!f)return!1;c++}return!0}const BX=Fi;function zX(e,t,r){const n=xw(e);let i=n.length;if(xw(t).length!==i)return!1;for(;i-- >0;)if(!kP(e,t,r,n[i]))return!1;return!0}function Yo(e,t,r){const n=mw(e);let i=n.length;if(mw(t).length!==i)return!1;let s,o,l;for(;i-- >0;)if(s=n[i],!kP(e,t,r,s)||(o=pw(e,s),l=pw(t,s),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function UX(e,t){return Fi(e.valueOf(),t.valueOf())}function WX(e,t){return e.source===t.source&&e.flags===t.flags}function yw(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const i=new Array(n),s=e.values();let o,l;for(;(o=s.next())&&!o.done;){const c=t.values();let u=!1,f=0;for(;(l=c.next())&&!l.done;){if(!i[f]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=i[f]=!0;break}f++}if(!u)return!1}return!0}function Zd(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function HX(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function kP(e,t,r,n){return(n===TX||n===$X||n===EX)&&(e.$$typeof||t.$$typeof)?!0:kX(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const KX="[object ArrayBuffer]",qX="[object Arguments]",VX="[object Boolean]",GX="[object DataView]",XX="[object Date]",QX="[object Error]",YX="[object Map]",ZX="[object Number]",JX="[object Object]",eQ="[object RegExp]",tQ="[object Set]",rQ="[object String]",nQ={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},aQ="[object URL]",iQ=Object.prototype.toString;function sQ({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:i,areFunctionsEqual:s,areMapsEqual:o,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:u,areRegExpsEqual:f,areSetsEqual:d,areTypedArraysEqual:h,areUrlsEqual:m,unknownTagComparators:x}){return function(v,p,y){if(v===p)return!0;if(v==null||p==null)return!1;const j=typeof v;if(j!==typeof p)return!1;if(j!=="object")return j==="number"?l(v,p,y):j==="function"?s(v,p,y):!1;const w=v.constructor;if(w!==p.constructor)return!1;if(w===Object)return c(v,p,y);if(Array.isArray(v))return t(v,p,y);if(w===Date)return n(v,p,y);if(w===RegExp)return f(v,p,y);if(w===Map)return o(v,p,y);if(w===Set)return d(v,p,y);const b=iQ.call(v);if(b===XX)return n(v,p,y);if(b===eQ)return f(v,p,y);if(b===YX)return o(v,p,y);if(b===tQ)return d(v,p,y);if(b===JX)return typeof v.then!="function"&&typeof p.then!="function"&&c(v,p,y);if(b===aQ)return m(v,p,y);if(b===QX)return i(v,p,y);if(b===qX)return c(v,p,y);if(nQ[b])return h(v,p,y);if(b===KX)return e(v,p,y);if(b===GX)return r(v,p,y);if(b===VX||b===ZX||b===rQ)return u(v,p,y);if(x){let N=x[b];if(!N){const _=AX(v);_&&(N=x[_])}if(N)return N(v,p,y)}return!1}}function oQ({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:MX,areArraysEqual:r?Yo:RX,areDataViewsEqual:IX,areDatesEqual:DX,areErrorsEqual:LX,areFunctionsEqual:FX,areMapsEqual:r?$m(gw,Yo):gw,areNumbersEqual:BX,areObjectsEqual:r?Yo:zX,arePrimitiveWrappersEqual:UX,areRegExpsEqual:WX,areSetsEqual:r?$m(yw,Yo):yw,areTypedArraysEqual:r?$m(Zd,Yo):Zd,areUrlsEqual:HX,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const i=Su(n.areArraysEqual),s=Su(n.areMapsEqual),o=Su(n.areObjectsEqual),l=Su(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return n}function lQ(e){return function(t,r,n,i,s,o,l){return e(t,r,l)}}function cQ({circular:e,comparator:t,createState:r,equals:n,strict:i}){if(r)return function(l,c){const{cache:u=e?new WeakMap:void 0,meta:f}=r();return t(l,c,{cache:u,equals:n,meta:f,strict:i})};if(e)return function(l,c){return t(l,c,{cache:new WeakMap,equals:n,meta:void 0,strict:i})};const s={cache:void 0,equals:n,meta:void 0,strict:i};return function(l,c){return t(l,c,s)}}const uQ=Ua();Ua({strict:!0});Ua({circular:!0});Ua({circular:!0,strict:!0});Ua({createInternalComparator:()=>Fi});Ua({strict:!0,createInternalComparator:()=>Fi});Ua({circular:!0,createInternalComparator:()=>Fi});Ua({circular:!0,createInternalComparator:()=>Fi,strict:!0});function Ua(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:i=!1}=e,s=oQ(e),o=sQ(s),l=r?r(o):lQ(o);return cQ({circular:t,comparator:o,createState:n,equals:l,strict:i})}function dQ(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function vw(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(s){r<0&&(r=s),s-r>t?(e(s),r=-1):dQ(i)};requestAnimationFrame(n)}function Jx(e){"@babel/helpers - typeof";return Jx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jx(e)}function fQ(e){return xQ(e)||pQ(e)||mQ(e)||hQ()}function hQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mQ(e,t){if(e){if(typeof e=="string")return bw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bw(e,t)}}function bw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xQ(e){if(Array.isArray(e))return e}function gQ(){var e={},t=function(){return null},r=!1,n=function i(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,l=fQ(o),c=l[0],u=l.slice(1);if(typeof c=="number"){vw(i.bind(null,u),c);return}i(c),vw(i.bind(null,u));return}Jx(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function dc(e){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dc(e)}function jw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ww(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jw(Object(r),!0).forEach(function(n){EP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EP(e,t,r){return t=yQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yQ(e){var t=vQ(e,"string");return dc(t)==="symbol"?t:String(t)}function vQ(e,t){if(dc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bQ=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,i){return n.filter(function(s){return i.includes(s)})})},jQ=function(t){return t},wQ=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},bl=function(t,r){return Object.keys(r).reduce(function(n,i){return ww(ww({},n),{},EP({},i,t(i,r[i])))},{})},Nw=function(t,r,n){return t.map(function(i){return"".concat(wQ(i)," ").concat(r,"ms ").concat(n)}).join(",")};function NQ(e,t){return OQ(e)||SQ(e,t)||$P(e,t)||_Q()}function _Q(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SQ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function OQ(e){if(Array.isArray(e))return e}function CQ(e){return kQ(e)||AQ(e)||$P(e)||PQ()}function PQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $P(e,t){if(e){if(typeof e=="string")return eg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eg(e,t)}}function AQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kQ(e){if(Array.isArray(e))return eg(e)}function eg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Jd=1e-4,TP=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},MP=function(t,r){return t.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},_w=function(t,r){return function(n){var i=TP(t,r);return MP(i,n)}},EQ=function(t,r){return function(n){var i=TP(t,r),s=[].concat(CQ(i.map(function(o,l){return o*l}).slice(1)),[0]);return MP(s,n)}},Sw=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0],s=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,s=0,o=1,l=1;break;case"ease":i=.25,s=.1,o=.25,l=1;break;case"ease-in":i=.42,s=0,o=1,l=1;break;case"ease-out":i=.42,s=0,o=.58,l=1;break;case"ease-in-out":i=0,s=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),f=NQ(u,4);i=f[0],s=f[1],o=f[2],l=f[3]}}}var d=_w(i,o),h=_w(s,l),m=EQ(i,o),x=function(p){return p>1?1:p<0?0:p},g=function(p){for(var y=p>1?1:p,j=y,w=0;w<8;++w){var b=d(j)-y,N=m(j);if(Math.abs(b-y)<Jd||N<Jd)return h(j);j=x(j-b/N)}return h(j)};return g.isStepper=!1,g},$Q=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,i=t.damping,s=i===void 0?8:i,o=t.dt,l=o===void 0?17:o,c=function(f,d,h){var m=-(f-d)*n,x=h*s,g=h+(m-x)*l/1e3,v=h*l/1e3+f;return Math.abs(v-d)<Jd&&Math.abs(g)<Jd?[d,0]:[v,g]};return c.isStepper=!0,c.dt=l,c},TQ=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Sw(i);case"spring":return $Q();default:if(i.split("(")[0]==="cubic-bezier")return Sw(i)}return typeof i=="function"?i:null};function fc(e){"@babel/helpers - typeof";return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fc(e)}function Ow(e){return IQ(e)||RQ(e)||RP(e)||MQ()}function MQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function IQ(e){if(Array.isArray(e))return rg(e)}function Cw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function St(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cw(Object(r),!0).forEach(function(n){tg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tg(e,t,r){return t=DQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DQ(e){var t=LQ(e,"string");return fc(t)==="symbol"?t:String(t)}function LQ(e,t){if(fc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FQ(e,t){return UQ(e)||zQ(e,t)||RP(e,t)||BQ()}function BQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RP(e,t){if(e){if(typeof e=="string")return rg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rg(e,t)}}function rg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zQ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function UQ(e){if(Array.isArray(e))return e}var ef=function(t,r,n){return t+(r-t)*n},ng=function(t){var r=t.from,n=t.to;return r!==n},WQ=function e(t,r,n){var i=bl(function(s,o){if(ng(o)){var l=t(o.from,o.to,o.velocity),c=FQ(l,2),u=c[0],f=c[1];return St(St({},o),{},{from:u,velocity:f})}return o},r);return n<1?bl(function(s,o){return ng(o)?St(St({},o),{},{velocity:ef(o.velocity,i[s].velocity,n),from:ef(o.from,i[s].from,n)}):o},r):e(t,i,n-1)};const HQ=function(e,t,r,n,i){var s=bQ(e,t),o=s.reduce(function(v,p){return St(St({},v),{},tg({},p,[e[p],t[p]]))},{}),l=s.reduce(function(v,p){return St(St({},v),{},tg({},p,{from:e[p],velocity:0,to:t[p]}))},{}),c=-1,u,f,d=function(){return null},h=function(){return bl(function(p,y){return y.from},l)},m=function(){return!Object.values(l).filter(ng).length},x=function(p){u||(u=p);var y=p-u,j=y/r.dt;l=WQ(r,l,j),i(St(St(St({},e),t),h())),u=p,m()||(c=requestAnimationFrame(d))},g=function(p){f||(f=p);var y=(p-f)/n,j=bl(function(b,N){return ef.apply(void 0,Ow(N).concat([r(y)]))},o);if(i(St(St(St({},e),t),j)),y<1)c=requestAnimationFrame(d);else{var w=bl(function(b,N){return ef.apply(void 0,Ow(N).concat([r(1)]))},o);i(St(St(St({},e),t),w))}};return d=r.isStepper?x:g,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(c)}}};function Qs(e){"@babel/helpers - typeof";return Qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qs(e)}var KQ=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function qQ(e,t){if(e==null)return{};var r=VQ(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function VQ(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Tm(e){return YQ(e)||QQ(e)||XQ(e)||GQ()}function GQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XQ(e,t){if(e){if(typeof e=="string")return ag(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ag(e,t)}}function QQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function YQ(e){if(Array.isArray(e))return ag(e)}function ag(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Pw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ir(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pw(Object(r),!0).forEach(function(n){sl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sl(e,t,r){return t=IP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,IP(n.key),n)}}function eY(e,t,r){return t&&JQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function IP(e){var t=tY(e,"string");return Qs(t)==="symbol"?t:String(t)}function tY(e,t){if(Qs(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qs(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ig(e,t)}function ig(e,t){return ig=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ig(e,t)}function nY(e){var t=aY();return function(){var n=tf(e),i;if(t){var s=tf(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return sg(this,i)}}function sg(e,t){if(t&&(Qs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return og(e)}function og(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aY(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function tf(e){return tf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tf(e)}var Hn=function(e){rY(r,e);var t=nY(r);function r(n,i){var s;ZQ(this,r),s=t.call(this,n,i);var o=s.props,l=o.isActive,c=o.attributeName,u=o.from,f=o.to,d=o.steps,h=o.children,m=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(og(s)),s.changeStyle=s.changeStyle.bind(og(s)),!l||m<=0)return s.state={style:{}},typeof h=="function"&&(s.state={style:f}),sg(s);if(d&&d.length)s.state={style:d[0].style};else if(u){if(typeof h=="function")return s.state={style:u},sg(s);s.state={style:c?sl({},c,u):u}}else s.state={style:{}};return s}return eY(r,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,o=i.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,f=s.to,d=s.from,h=this.state.style;if(l){if(!o){var m={style:c?sl({},c,f):f};this.state&&h&&(c&&h[c]!==f||!c&&h!==f)&&this.setState(m);return}if(!(uQ(i.to,f)&&i.canBegin&&i.isActive)){var x=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=x||u?d:i.to;if(this.state&&h){var v={style:c?sl({},c,g):g};(c&&h[c]!==g||!c&&h!==g)&&this.setState(v)}this.runAnimation(Ir(Ir({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,o=i.from,l=i.to,c=i.duration,u=i.easing,f=i.begin,d=i.onAnimationEnd,h=i.onAnimationStart,m=HQ(o,l,TQ(u),c,this.changeStyle),x=function(){s.stopJSAnimation=m()};this.manager.start([h,f,x,c,d])}},{key:"runStepAnimation",value:function(i){var s=this,o=i.steps,l=i.begin,c=i.onAnimationStart,u=o[0],f=u.style,d=u.duration,h=d===void 0?0:d,m=function(g,v,p){if(p===0)return g;var y=v.duration,j=v.easing,w=j===void 0?"ease":j,b=v.style,N=v.properties,_=v.onAnimationEnd,S=p>0?o[p-1]:v,C=N||Object.keys(b);if(typeof w=="function"||w==="spring")return[].concat(Tm(g),[s.runJSAnimation.bind(s,{from:S.style,to:b,duration:y,easing:w}),y]);var P=Nw(C,y,w),A=Ir(Ir(Ir({},S.style),b),{},{transition:P});return[].concat(Tm(g),[A,y,_]).filter(jQ)};return this.manager.start([c].concat(Tm(o.reduce(m,[f,Math.max(h,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=gQ());var s=i.begin,o=i.duration,l=i.attributeName,c=i.to,u=i.easing,f=i.onAnimationStart,d=i.onAnimationEnd,h=i.steps,m=i.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var g=l?sl({},l,c):c,v=Nw(Object.keys(g),o,u);x.start([f,s,Ir(Ir({},g),{},{transition:v}),o,d])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=qQ(i,KQ),u=O.Children.count(s),f=this.state.style;if(typeof s=="function")return s(f);if(!l||u===0||o<=0)return s;var d=function(m){var x=m.props,g=x.style,v=g===void 0?{}:g,p=x.className,y=O.cloneElement(m,Ir(Ir({},c),{},{style:Ir(Ir({},v),f),className:p}));return y};return u===1?d(O.Children.only(s)):R.createElement("div",null,O.Children.map(s,function(h){return d(h)}))}}]),r}(O.PureComponent);Hn.displayName="Animate";Hn.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Hn.propTypes={from:ke.oneOfType([ke.object,ke.string]),to:ke.oneOfType([ke.object,ke.string]),attributeName:ke.string,duration:ke.number,begin:ke.number,easing:ke.oneOfType([ke.string,ke.func]),steps:ke.arrayOf(ke.shape({duration:ke.number.isRequired,style:ke.object.isRequired,easing:ke.oneOfType([ke.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ke.func]),properties:ke.arrayOf("string"),onAnimationEnd:ke.func})),children:ke.oneOfType([ke.node,ke.func]),isActive:ke.bool,canBegin:ke.bool,onAnimationEnd:ke.func,shouldReAnimate:ke.bool,onAnimationStart:ke.func,onAnimationReStart:ke.func};function hc(e){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hc(e)}function rf(){return rf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rf.apply(this,arguments)}function iY(e,t){return cY(e)||lY(e,t)||oY(e,t)||sY()}function sY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oY(e,t){if(e){if(typeof e=="string")return Aw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Aw(e,t)}}function Aw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lY(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function cY(e){if(Array.isArray(e))return e}function kw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ew(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kw(Object(r),!0).forEach(function(n){uY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uY(e,t,r){return t=dY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dY(e){var t=fY(e,"string");return hc(t)=="symbol"?t:t+""}function fY(e,t){if(hc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $w=function(t,r,n,i,s){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),l=i>=0?1:-1,c=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,f;if(o>0&&s instanceof Array){for(var d=[0,0,0,0],h=0,m=4;h<m;h++)d[h]=s[h]>o?o:s[h];f="M".concat(t,",").concat(r+l*d[0]),d[0]>0&&(f+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(t+c*d[0],",").concat(r)),f+="L ".concat(t+n-c*d[1],",").concat(r),d[1]>0&&(f+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*d[1])),f+="L ".concat(t+n,",").concat(r+i-l*d[2]),d[2]>0&&(f+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(t+n-c*d[2],",").concat(r+i)),f+="L ".concat(t+c*d[3],",").concat(r+i),d[3]>0&&(f+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+i-l*d[3])),f+="Z"}else if(o>0&&s===+s&&s>0){var x=Math.min(o,s);f="M ".concat(t,",").concat(r+l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+c*x,",").concat(r,`
            L `).concat(t+n-c*x,",").concat(r,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*x,`
            L `).concat(t+n,",").concat(r+i-l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+n-c*x,",").concat(r+i,`
            L `).concat(t+c*x,",").concat(r+i,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t,",").concat(r+i-l*x," Z")}else f="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return f},hY=function(t,r){if(!t||!r)return!1;var n=t.x,i=t.y,s=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),f=Math.max(s,s+l),d=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=f&&i>=d&&i<=h}return!1},mY={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},F0=function(t){var r=Ew(Ew({},mY),t),n=O.useRef(),i=O.useState(-1),s=iY(i,2),o=s[0],l=s[1];O.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,f=r.width,d=r.height,h=r.radius,m=r.className,x=r.animationEasing,g=r.animationDuration,v=r.animationBegin,p=r.isAnimationActive,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||d!==+d||f===0||d===0)return null;var j=Ce("recharts-rectangle",m);return y?R.createElement(Hn,{canBegin:o>0,from:{width:f,height:d,x:c,y:u},to:{width:f,height:d,x:c,y:u},duration:g,animationEasing:x,isActive:y},function(w){var b=w.width,N=w.height,_=w.x,S=w.y;return R.createElement(Hn,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,isActive:p,easing:x},R.createElement("path",rf({},Oe(r,!0),{className:j,d:$w(_,S,b,N,h),ref:n})))}):R.createElement("path",rf({},Oe(r,!0),{className:j,d:$w(c,u,f,d,h)}))};function lg(){return lg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lg.apply(this,arguments)}var B0=function(t){var r=t.cx,n=t.cy,i=t.r,s=t.className,o=Ce("recharts-dot",s);return r===+r&&n===+n&&i===+i?O.createElement("circle",lg({},Oe(t,!1),bd(t),{className:o,cx:r,cy:n,r:i})):null};function mc(e){"@babel/helpers - typeof";return mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mc(e)}var pY=["x","y","top","left","width","height","className"];function cg(){return cg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cg.apply(this,arguments)}function Tw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tw(Object(r),!0).forEach(function(n){gY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gY(e,t,r){return t=yY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yY(e){var t=vY(e,"string");return mc(t)=="symbol"?t:t+""}function vY(e,t){if(mc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bY(e,t){if(e==null)return{};var r=jY(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var wY=function(t,r,n,i,s,o){return"M".concat(t,",").concat(s,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},NY=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,s=i===void 0?0:i,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,f=t.width,d=f===void 0?0:f,h=t.height,m=h===void 0?0:h,x=t.className,g=bY(t,pY),v=xY({x:n,y:s,top:l,left:u,width:d,height:m},g);return!Z(n)||!Z(s)||!Z(d)||!Z(m)||!Z(l)||!Z(u)?null:R.createElement("path",cg({},Oe(v,!0),{className:Ce("recharts-cross",x),d:wY(n,s,d,m,l,u)}))},_Y=QO,SY=_Y(Object.getPrototypeOf,Object),OY=SY,CY=qn,PY=OY,AY=Vn,kY="[object Object]",EY=Function.prototype,$Y=Object.prototype,DP=EY.toString,TY=$Y.hasOwnProperty,MY=DP.call(Object);function RY(e){if(!AY(e)||CY(e)!=kY)return!1;var t=PY(e);if(t===null)return!0;var r=TY.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&DP.call(r)==MY}var IY=RY;const DY=Le(IY);var LY=qn,FY=Vn,BY="[object Boolean]";function zY(e){return e===!0||e===!1||FY(e)&&LY(e)==BY}var UY=zY;const WY=Le(UY);function pc(e){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pc(e)}function nf(){return nf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nf.apply(this,arguments)}function HY(e,t){return GY(e)||VY(e,t)||qY(e,t)||KY()}function KY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qY(e,t){if(e){if(typeof e=="string")return Mw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mw(e,t)}}function Mw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function VY(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function GY(e){if(Array.isArray(e))return e}function Rw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Iw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rw(Object(r),!0).forEach(function(n){XY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XY(e,t,r){return t=QY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QY(e){var t=YY(e,"string");return pc(t)=="symbol"?t:t+""}function YY(e,t){if(pc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dw=function(t,r,n,i,s){var o=n-i,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+s),l+="L ".concat(t+n-o/2-i,",").concat(r+s),l+="L ".concat(t,",").concat(r," Z"),l},ZY={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},JY=function(t){var r=Iw(Iw({},ZY),t),n=O.useRef(),i=O.useState(-1),s=HY(i,2),o=s[0],l=s[1];O.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&l(j)}catch{}},[]);var c=r.x,u=r.y,f=r.upperWidth,d=r.lowerWidth,h=r.height,m=r.className,x=r.animationEasing,g=r.animationDuration,v=r.animationBegin,p=r.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||d!==+d||h!==+h||f===0&&d===0||h===0)return null;var y=Ce("recharts-trapezoid",m);return p?R.createElement(Hn,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:f,lowerWidth:d,height:h,x:c,y:u},duration:g,animationEasing:x,isActive:p},function(j){var w=j.upperWidth,b=j.lowerWidth,N=j.height,_=j.x,S=j.y;return R.createElement(Hn,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,easing:x},R.createElement("path",nf({},Oe(r,!0),{className:y,d:Dw(_,S,w,b,N),ref:n})))}):R.createElement("g",null,R.createElement("path",nf({},Oe(r,!0),{className:y,d:Dw(c,u,f,d,h)})))},eZ=["option","shapeType","propTransformer","activeClassName","isActive"];function xc(e){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xc(e)}function tZ(e,t){if(e==null)return{};var r=rZ(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Lw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function af(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lw(Object(r),!0).forEach(function(n){nZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nZ(e,t,r){return t=aZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aZ(e){var t=iZ(e,"string");return xc(t)=="symbol"?t:t+""}function iZ(e,t){if(xc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sZ(e,t){return af(af({},t),e)}function oZ(e,t){return e==="symbols"}function Fw(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return R.createElement(F0,r);case"trapezoid":return R.createElement(JY,r);case"sector":return R.createElement(OP,r);case"symbols":if(oZ(t))return R.createElement(a0,r);break;default:return null}}function lZ(e){return O.isValidElement(e)?e.props:e}function cZ(e){var t=e.option,r=e.shapeType,n=e.propTransformer,i=n===void 0?sZ:n,s=e.activeClassName,o=s===void 0?"recharts-active-shape":s,l=e.isActive,c=tZ(e,eZ),u;if(O.isValidElement(t))u=O.cloneElement(t,af(af({},c),lZ(t)));else if(be(t))u=t(c);else if(DY(t)&&!WY(t)){var f=i(t,c);u=R.createElement(Fw,{shapeType:r,elementProps:f})}else{var d=c;u=R.createElement(Fw,{shapeType:r,elementProps:d})}return l?R.createElement(it,{className:o},u):u}function Sh(e,t){return t!=null&&"trapezoids"in e.props}function Oh(e,t){return t!=null&&"sectors"in e.props}function gc(e,t){return t!=null&&"points"in e.props}function uZ(e,t){var r,n,i=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,s=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return i&&s}function dZ(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function fZ(e,t){var r=e.x===t.x,n=e.y===t.y,i=e.z===t.z;return r&&n&&i}function hZ(e,t){var r;return Sh(e,t)?r=uZ:Oh(e,t)?r=dZ:gc(e,t)&&(r=fZ),r}function mZ(e,t){var r;return Sh(e,t)?r="trapezoids":Oh(e,t)?r="sectors":gc(e,t)&&(r="points"),r}function pZ(e,t){if(Sh(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Oh(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return gc(e,t)?t.payload:{}}function xZ(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,i=mZ(r,t),s=pZ(r,t),o=n.filter(function(c,u){var f=wh(s,c),d=r.props[i].filter(function(x){var g=hZ(r,t);return g(x,t)}),h=r.props[i].indexOf(d[d.length-1]),m=u===h;return f&&m}),l=n.indexOf(o[o.length-1]);return l}var gZ=Math.ceil,yZ=Math.max;function vZ(e,t,r,n){for(var i=-1,s=yZ(gZ((t-e)/(r||1)),0),o=Array(s);s--;)o[n?s:++i]=e,e+=r;return o}var bZ=vZ,jZ=pC,Bw=1/0,wZ=17976931348623157e292;function NZ(e){if(!e)return e===0?e:0;if(e=jZ(e),e===Bw||e===-Bw){var t=e<0?-1:1;return t*wZ}return e===e?e:0}var LP=NZ,_Z=bZ,SZ=hh,Mm=LP;function OZ(e){return function(t,r,n){return n&&typeof n!="number"&&SZ(t,r,n)&&(r=n=void 0),t=Mm(t),r===void 0?(r=t,t=0):r=Mm(r),n=n===void 0?t<r?1:-1:Mm(n),_Z(t,r,n,e)}}var CZ=OZ,PZ=CZ,AZ=PZ(),kZ=AZ;const sf=Le(kZ);function yc(e){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yc(e)}function zw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Uw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zw(Object(r),!0).forEach(function(n){FP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FP(e,t,r){return t=EZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EZ(e){var t=$Z(e,"string");return yc(t)=="symbol"?t:t+""}function $Z(e,t){if(yc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TZ=["Webkit","Moz","O","ms"],MZ=function(t,r){var n=t.replace(/(\w)/,function(s){return s.toUpperCase()}),i=TZ.reduce(function(s,o){return Uw(Uw({},s),{},FP({},o+n,r))},{});return i[t]=r,i};function Ys(e){"@babel/helpers - typeof";return Ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ys(e)}function of(){return of=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},of.apply(this,arguments)}function Ww(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ww(Object(r),!0).forEach(function(n){nr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ww(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zP(n.key),n)}}function IZ(e,t,r){return t&&Hw(e.prototype,t),r&&Hw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function DZ(e,t,r){return t=lf(t),LZ(e,BP()?Reflect.construct(t,r||[],lf(e).constructor):t.apply(e,r))}function LZ(e,t){if(t&&(Ys(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FZ(e)}function FZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BP=function(){return!!e})()}function lf(e){return lf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lf(e)}function BZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ug(e,t)}function ug(e,t){return ug=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ug(e,t)}function nr(e,t,r){return t=zP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zP(e){var t=zZ(e,"string");return Ys(t)=="symbol"?t:t+""}function zZ(e,t){if(Ys(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ys(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var UZ=function(t){var r=t.data,n=t.startIndex,i=t.endIndex,s=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=yl().domain(sf(0,c)).range([s,s+o-l]),f=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:f}},Kw=function(t){return t.changedTouches&&!!t.changedTouches.length},Zs=function(e){function t(r){var n;return RZ(this,t),n=DZ(this,t,[r]),nr(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),nr(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),nr(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,s=i.endIndex,o=i.onDragEnd,l=i.startIndex;o==null||o({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),nr(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),nr(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),nr(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),nr(n,"handleSlideDragStart",function(i){var s=Kw(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return BZ(t,e),IZ(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,s=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,f=u.length-1,d=Math.min(i,s),h=Math.max(i,s),m=t.getIndexInRange(o,d),x=t.getIndexInRange(o,h);return{startIndex:m-m%c,endIndex:x===f?f:x-x%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,s=i.data,o=i.tickFormatter,l=i.dataKey,c=dr(s[n],l,n);return be(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,s=i.slideMoveStartX,o=i.startX,l=i.endX,c=this.props,u=c.x,f=c.width,d=c.travellerWidth,h=c.startIndex,m=c.endIndex,x=c.onChange,g=n.pageX-s;g>0?g=Math.min(g,u+f-d-l,u+f-d-o):g<0&&(g=Math.max(g,u-o,u-l));var v=this.getIndex({startX:o+g,endX:l+g});(v.startIndex!==h||v.endIndex!==m)&&x&&x(v),this.setState({startX:o+g,endX:l+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var s=Kw(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,s=i.brushMoveStartX,o=i.movingTravellerId,l=i.endX,c=i.startX,u=this.state[o],f=this.props,d=f.x,h=f.width,m=f.travellerWidth,x=f.onChange,g=f.gap,v=f.data,p={startX:this.state.startX,endX:this.state.endX},y=n.pageX-s;y>0?y=Math.min(y,d+h-m-u):y<0&&(y=Math.max(y,d-u)),p[o]=u+y;var j=this.getIndex(p),w=j.startIndex,b=j.endIndex,N=function(){var S=v.length-1;return o==="startX"&&(l>c?w%g===0:b%g===0)||l<c&&b===S||o==="endX"&&(l>c?b%g===0:w%g===0)||l>c&&b===S};this.setState(nr(nr({},o,u+y),"brushMoveStartX",n.pageX),function(){x&&N()&&x(j)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var s=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,f=this.state[i],d=l.indexOf(f);if(d!==-1){var h=d+n;if(!(h===-1||h>=l.length)){var m=l[h];i==="startX"&&m>=u||i==="endX"&&m<=c||this.setState(nr({},i,m),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return R.createElement("rect",{stroke:u,fill:c,x:i,y:s,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,l=n.height,c=n.data,u=n.children,f=n.padding,d=O.Children.only(u);return d?R.cloneElement(d,{x:i,y:s,width:o,height:l,margin:f,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var s,o,l=this,c=this.props,u=c.y,f=c.travellerWidth,d=c.height,h=c.traveller,m=c.ariaLabel,x=c.data,g=c.startIndex,v=c.endIndex,p=Math.max(n,this.props.x),y=Rm(Rm({},Oe(this.props,!1)),{},{x:p,y:u,width:f,height:d}),j=m||"Min value: ".concat((s=x[g])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=x[v])===null||o===void 0?void 0:o.name);return R.createElement(it,{tabIndex:0,role:"slider","aria-label":j,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(b){["ArrowLeft","ArrowRight"].includes(b.key)&&(b.preventDefault(),b.stopPropagation(),l.handleTravellerMoveKeyboard(b.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,y))}},{key:"renderSlide",value:function(n,i){var s=this.props,o=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,f=Math.min(n,i)+u,d=Math.max(Math.abs(i-n)-u,0);return R.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:f,y:o,width:d,height:l})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,s=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,f=this.state,d=f.startX,h=f.endX,m=5,x={pointerEvents:"none",fill:u};return R.createElement(it,{className:"recharts-brush-texts"},R.createElement(Rd,of({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-m,y:o+l/2},x),this.getTextOfTick(i)),R.createElement(Rd,of({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+c+m,y:o+l/2},x),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,i=n.data,s=n.className,o=n.children,l=n.x,c=n.y,u=n.width,f=n.height,d=n.alwaysShowText,h=this.state,m=h.startX,x=h.endX,g=h.isTextActive,v=h.isSlideMoving,p=h.isTravellerMoving,y=h.isTravellerFocused;if(!i||!i.length||!Z(l)||!Z(c)||!Z(u)||!Z(f)||u<=0||f<=0)return null;var j=Ce("recharts-brush",s),w=R.Children.count(o)===1,b=MZ("userSelect","none");return R.createElement(it,{className:j,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:b},this.renderBackground(),w&&this.renderPanorama(),this.renderSlide(m,x),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(x,"endX"),(g||v||p||y||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,s=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(s+l/2)-1;return R.createElement(R.Fragment,null,R.createElement("rect",{x:i,y:s,width:o,height:l,fill:c,stroke:"none"}),R.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),R.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var s;return R.isValidElement(n)?s=R.cloneElement(n,i):be(n)?s=n(i):s=t.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(n,i){var s=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,f=n.startIndex,d=n.endIndex;if(s!==i.prevData||u!==i.prevUpdateId)return Rm({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},s&&s.length?UZ({data:s,width:o,x:l,travellerWidth:c,startIndex:f,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+o-c]);var h=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,i){for(var s=n.length,o=0,l=s-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>i?l=c:o=c}return i>=n[l]?l:o}}])}(O.PureComponent);nr(Zs,"displayName","Brush");nr(Zs,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var WZ=d0;function HZ(e,t){var r;return WZ(e,function(n,i,s){return r=t(n,i,s),!r}),!!r}var KZ=HZ,qZ=UO,VZ=Fa,GZ=KZ,XZ=er,QZ=hh;function YZ(e,t,r){var n=XZ(e)?qZ:GZ;return r&&QZ(e,t,r)&&(t=void 0),n(e,VZ(t))}var ZZ=YZ;const JZ=Le(ZZ);var un=function(t,r){var n=t.alwaysShow,i=t.ifOverflow;return n&&(i="extendDomain"),i===r},qw=uC;function eJ(e,t,r){t=="__proto__"&&qw?qw(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var tJ=eJ,rJ=tJ,nJ=lC,aJ=Fa;function iJ(e,t){var r={};return t=aJ(t),nJ(e,function(n,i,s){rJ(r,i,t(n,i,s))}),r}var sJ=iJ;const oJ=Le(sJ);function lJ(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var cJ=lJ,uJ=d0;function dJ(e,t){var r=!0;return uJ(e,function(n,i,s){return r=!!t(n,i,s),r}),r}var fJ=dJ,hJ=cJ,mJ=fJ,pJ=Fa,xJ=er,gJ=hh;function yJ(e,t,r){var n=xJ(e)?hJ:mJ;return r&&gJ(e,t,r)&&(t=void 0),n(e,pJ(t))}var vJ=yJ;const UP=Le(vJ);var bJ=["x","y"];function vc(e){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vc(e)}function dg(){return dg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dg.apply(this,arguments)}function Vw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Zo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vw(Object(r),!0).forEach(function(n){jJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jJ(e,t,r){return t=wJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wJ(e){var t=NJ(e,"string");return vc(t)=="symbol"?t:t+""}function NJ(e,t){if(vc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _J(e,t){if(e==null)return{};var r=SJ(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function SJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function OJ(e,t){var r=e.x,n=e.y,i=_J(e,bJ),s="".concat(r),o=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||i.height),f=parseInt(u,10),d="".concat(t.width||i.width),h=parseInt(d,10);return Zo(Zo(Zo(Zo(Zo({},t),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:f,width:h,name:t.name,radius:t.radius})}function Gw(e){return R.createElement(cZ,dg({shapeType:"rectangle",propTransformer:OJ,activeClassName:"recharts-active-bar"},e))}var CJ=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof t=="number")return t;var s=Z(n)||FR(n);return s?t(n,i):(s||ki(),r)}},PJ=["value","background"],WP;function Js(e){"@babel/helpers - typeof";return Js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Js(e)}function AJ(e,t){if(e==null)return{};var r=kJ(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function cf(){return cf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cf.apply(this,arguments)}function Xw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function st(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xw(Object(r),!0).forEach(function(n){ga(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,KP(n.key),n)}}function $J(e,t,r){return t&&Qw(e.prototype,t),r&&Qw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function TJ(e,t,r){return t=uf(t),MJ(e,HP()?Reflect.construct(t,r||[],uf(e).constructor):t.apply(e,r))}function MJ(e,t){if(t&&(Js(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RJ(e)}function RJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HP=function(){return!!e})()}function uf(e){return uf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uf(e)}function IJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fg(e,t)}function fg(e,t){return fg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},fg(e,t)}function ga(e,t,r){return t=KP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KP(e){var t=DJ(e,"string");return Js(t)=="symbol"?t:t+""}function DJ(e,t){if(Js(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Js(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Vc=function(e){function t(){var r;EJ(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=TJ(this,t,[].concat(i)),ga(r,"state",{isAnimationFinished:!1}),ga(r,"id",Bc("recharts-bar-")),ga(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),ga(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return IJ(t,e),$J(t,[{key:"renderRectanglesStatically",value:function(n){var i=this,s=this.props,o=s.shape,l=s.dataKey,c=s.activeIndex,u=s.activeBar,f=Oe(this.props,!1);return n&&n.map(function(d,h){var m=h===c,x=m?u:o,g=st(st(st({},f),d),{},{isActive:m,option:x,index:h,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return R.createElement(it,cf({className:"recharts-bar-rectangle"},jd(i.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),R.createElement(Gw,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,s=i.data,o=i.layout,l=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,f=i.animationEasing,d=i.animationId,h=this.state.prevData;return R.createElement(Hn,{begin:c,duration:u,isActive:l,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var x=m.t,g=s.map(function(v,p){var y=h&&h[p];if(y){var j=Hr(y.x,v.x),w=Hr(y.y,v.y),b=Hr(y.width,v.width),N=Hr(y.height,v.height);return st(st({},v),{},{x:j(x),y:w(x),width:b(x),height:N(x)})}if(o==="horizontal"){var _=Hr(0,v.height),S=_(x);return st(st({},v),{},{y:v.y+v.height-S,height:S})}var C=Hr(0,v.width),P=C(x);return st(st({},v),{},{width:P})});return R.createElement(it,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,s=n.isAnimationActive,o=this.state.prevData;return s&&i&&i.length&&(!o||!wh(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,s=i.data,o=i.dataKey,l=i.activeIndex,c=Oe(this.props.background,!1);return s.map(function(u,f){u.value;var d=u.background,h=AJ(u,PJ);if(!d)return null;var m=st(st(st(st(st({},h),{},{fill:"#eee"},d),c),jd(n.props,u,f)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:f,className:"recharts-bar-background-rectangle"});return R.createElement(Gw,cf({key:"background-bar-".concat(f),option:n.props.background,isActive:f===l},m))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,l=s.xAxis,c=s.yAxis,u=s.layout,f=s.children,d=Or(f,qc);if(!d)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,m=function(v,p){var y=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:y,errorVal:dr(v,p)}},x={clipPath:n?"url(#clipPath-".concat(i,")"):null};return R.createElement(it,x,d.map(function(g){return R.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,s=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,f=n.top,d=n.width,h=n.height,m=n.isAnimationActive,x=n.background,g=n.id;if(i||!s||!s.length)return null;var v=this.state.isAnimationFinished,p=Ce("recharts-bar",o),y=l&&l.allowDataOverflow,j=c&&c.allowDataOverflow,w=y||j,b=je(g)?this.id:g;return R.createElement(it,{className:p},y||j?R.createElement("defs",null,R.createElement("clipPath",{id:"clipPath-".concat(b)},R.createElement("rect",{x:y?u:u-d/2,y:j?f:f-h/2,width:y?d:d*2,height:j?h:h*2}))):null,R.createElement(it,{className:"recharts-bar-rectangles",clipPath:w?"url(#clipPath-".concat(b,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(w,b),(!m||v)&&ka.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(O.PureComponent);WP=Vc;ga(Vc,"displayName","Bar");ga(Vc,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Po.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ga(Vc,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,i=e.bandSize,s=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,f=e.dataStartIndex,d=e.displayedData,h=e.offset,m=cG(n,r);if(!m)return null;var x=t.layout,g=r.type.defaultProps,v=g!==void 0?st(st({},g),r.props):r.props,p=v.dataKey,y=v.children,j=v.minPointSize,w=x==="horizontal"?o:s,b=u?w.scale.domain():null,N=gG({numericAxis:w}),_=Or(y,gC),S=d.map(function(C,P){var A,E,L,F,U,T;u?A=uG(u[f+P],b):(A=dr(C,p),Array.isArray(A)||(A=[N,A]));var B=CJ(j,WP.defaultProps.minPointSize)(A[1],P);if(x==="horizontal"){var M,z=[o.scale(A[0]),o.scale(A[1])],k=z[0],I=z[1];E=Z1({axis:s,ticks:l,bandSize:i,offset:m.offset,entry:C,index:P}),L=(M=I??k)!==null&&M!==void 0?M:void 0,F=m.size;var D=k-I;if(U=Number.isNaN(D)?0:D,T={x:E,y:o.y,width:F,height:o.height},Math.abs(B)>0&&Math.abs(U)<Math.abs(B)){var V=qr(U||B)*(Math.abs(B)-Math.abs(U));L-=V,U+=V}}else{var Y=[s.scale(A[0]),s.scale(A[1])],le=Y[0],me=Y[1];if(E=le,L=Z1({axis:o,ticks:c,bandSize:i,offset:m.offset,entry:C,index:P}),F=me-le,U=m.size,T={x:s.x,y:L,width:s.width,height:U},Math.abs(B)>0&&Math.abs(F)<Math.abs(B)){var oe=qr(F||B)*(Math.abs(B)-Math.abs(F));F+=oe}}return st(st(st({},C),{},{x:E,y:L,width:F,height:U,value:u?A:A[1],payload:C,background:T},_&&_[P]&&_[P].props),{},{tooltipPayload:[NP(r,C)],tooltipPosition:{x:E+F/2,y:L+U/2}})});return st({data:S,layout:x},h)});function bc(e){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bc(e)}function LJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qP(n.key),n)}}function FJ(e,t,r){return t&&Yw(e.prototype,t),r&&Yw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zw(Object(r),!0).forEach(function(n){Ch(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ch(e,t,r){return t=qP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qP(e){var t=BJ(e,"string");return bc(t)=="symbol"?t:t+""}function BJ(e,t){if(bc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zJ=function(t,r,n,i,s){var o=t.width,l=t.height,c=t.layout,u=t.children,f=Object.keys(r),d={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!ir(u,Vc);return f.reduce(function(m,x){var g=r[x],v=g.orientation,p=g.domain,y=g.padding,j=y===void 0?{}:y,w=g.mirror,b=g.reversed,N="".concat(v).concat(w?"Mirror":""),_,S,C,P,A;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var E=p[1]-p[0],L=1/0,F=g.categoricalDomain.sort(UR);if(F.forEach(function(Y,le){le>0&&(L=Math.min((Y||0)-(F[le-1]||0),L))}),Number.isFinite(L)){var U=L/E,T=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(_=U*T/2),g.padding==="no-gap"){var B=Pi(t.barCategoryGap,U*T),M=U*T/2;_=M-B-(M-B)/T*B}}}i==="xAxis"?S=[n.left+(j.left||0)+(_||0),n.left+n.width-(j.right||0)-(_||0)]:i==="yAxis"?S=c==="horizontal"?[n.top+n.height-(j.bottom||0),n.top+(j.top||0)]:[n.top+(j.top||0)+(_||0),n.top+n.height-(j.bottom||0)-(_||0)]:S=g.range,b&&(S=[S[1],S[0]]);var z=oG(g,s,h),k=z.scale,I=z.realScaleType;k.domain(p).range(S),lG(k);var D=xG(k,zr(zr({},g),{},{realScaleType:I}));i==="xAxis"?(A=v==="top"&&!w||v==="bottom"&&w,C=n.left,P=d[N]-A*g.height):i==="yAxis"&&(A=v==="left"&&!w||v==="right"&&w,C=d[N]-A*g.width,P=n.top);var V=zr(zr(zr({},g),D),{},{realScaleType:I,x:C,y:P,scale:k,width:i==="xAxis"?n.width:g.width,height:i==="yAxis"?n.height:g.height});return V.bandSize=Xd(V,D),!g.hide&&i==="xAxis"?d[N]+=(A?-1:1)*V.height:g.hide||(d[N]+=(A?-1:1)*V.width),zr(zr({},m),{},Ch({},x,V))},{})},VP=function(t,r){var n=t.x,i=t.y,s=r.x,o=r.y;return{x:Math.min(n,s),y:Math.min(i,o),width:Math.abs(s-n),height:Math.abs(o-i)}},UJ=function(t){var r=t.x1,n=t.y1,i=t.x2,s=t.y2;return VP({x:r,y:n},{x:i,y:s})},GP=function(){function e(t){LJ(this,e),this.scale=t}return FJ(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],s=n[n.length-1];return i<=s?r>=i&&r<=s:r>=s&&r<=i}}],[{key:"create",value:function(r){return new e(r)}}])}();Ch(GP,"EPS",1e-4);var z0=function(t){var r=Object.keys(t).reduce(function(n,i){return zr(zr({},n),{},Ch({},i,GP.create(t[i])))},{});return zr(zr({},r),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,l=s.position;return oJ(i,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(i){return UP(i,function(s,o){return r[o].isInRange(s)})}})};function WJ(e){return(e%180+180)%180}var HJ=function(t){var r=t.width,n=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=WJ(i),o=s*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},KJ=Fa,qJ=zc,VJ=dh;function GJ(e){return function(t,r,n){var i=Object(t);if(!qJ(t)){var s=KJ(r);t=VJ(t),r=function(l){return s(i[l],l,i)}}var o=e(t,r,n);return o>-1?i[s?t[o]:o]:void 0}}var XJ=GJ,QJ=LP;function YJ(e){var t=QJ(e),r=t%1;return t===t?r?t-r:t:0}var ZJ=YJ,JJ=rC,eee=Fa,tee=ZJ,ree=Math.max;function nee(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var i=r==null?0:tee(r);return i<0&&(i=ree(n+i,0)),JJ(e,eee(t),i)}var aee=nee,iee=XJ,see=aee,oee=iee(see),lee=oee;const cee=Le(lee);var uee=K6(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),U0=O.createContext(void 0),W0=O.createContext(void 0),XP=O.createContext(void 0),QP=O.createContext({}),YP=O.createContext(void 0),ZP=O.createContext(0),JP=O.createContext(0),Jw=function(t){var r=t.state,n=r.xAxisMap,i=r.yAxisMap,s=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,f=uee(s);return R.createElement(U0.Provider,{value:n},R.createElement(W0.Provider,{value:i},R.createElement(QP.Provider,{value:s},R.createElement(XP.Provider,{value:f},R.createElement(YP.Provider,{value:o},R.createElement(ZP.Provider,{value:u},R.createElement(JP.Provider,{value:c},l)))))))},dee=function(){return O.useContext(YP)},eA=function(t){var r=O.useContext(U0);r==null&&ki();var n=r[t];return n==null&&ki(),n},fee=function(){var t=O.useContext(U0);return aa(t)},hee=function(){var t=O.useContext(W0),r=cee(t,function(n){return UP(n.domain,Number.isFinite)});return r||aa(t)},tA=function(t){var r=O.useContext(W0);r==null&&ki();var n=r[t];return n==null&&ki(),n},mee=function(){var t=O.useContext(XP);return t},pee=function(){return O.useContext(QP)},H0=function(){return O.useContext(JP)},K0=function(){return O.useContext(ZP)};function eo(e){"@babel/helpers - typeof";return eo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eo(e)}function xee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gee(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nA(n.key),n)}}function yee(e,t,r){return t&&gee(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vee(e,t,r){return t=df(t),bee(e,rA()?Reflect.construct(t,r||[],df(e).constructor):t.apply(e,r))}function bee(e,t){if(t&&(eo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jee(e)}function jee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rA=function(){return!!e})()}function df(e){return df=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},df(e)}function wee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hg(e,t)}function hg(e,t){return hg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},hg(e,t)}function eN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eN(Object(r),!0).forEach(function(n){q0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q0(e,t,r){return t=nA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nA(e){var t=Nee(e,"string");return eo(t)=="symbol"?t:t+""}function Nee(e,t){if(eo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(eo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function _ee(e,t){return Pee(e)||Cee(e,t)||Oee(e,t)||See()}function See(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oee(e,t){if(e){if(typeof e=="string")return rN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rN(e,t)}}function rN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Cee(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Pee(e){if(Array.isArray(e))return e}function mg(){return mg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mg.apply(this,arguments)}var Aee=function(t,r){var n;return R.isValidElement(t)?n=R.cloneElement(t,r):be(t)?n=t(r):n=R.createElement("line",mg({},r,{className:"recharts-reference-line-line"})),n},kee=function(t,r,n,i,s,o,l,c,u){var f=s.x,d=s.y,h=s.width,m=s.height;if(n){var x=u.y,g=t.y.apply(x,{position:o});if(un(u,"discard")&&!t.y.isInRange(g))return null;var v=[{x:f+h,y:g},{x:f,y:g}];return c==="left"?v.reverse():v}if(r){var p=u.x,y=t.x.apply(p,{position:o});if(un(u,"discard")&&!t.x.isInRange(y))return null;var j=[{x:y,y:d+m},{x:y,y:d}];return l==="top"?j.reverse():j}if(i){var w=u.segment,b=w.map(function(N){return t.apply(N,{position:o})});return un(u,"discard")&&JZ(b,function(N){return!t.isInRange(N)})?null:b}return null};function Eee(e){var t=e.x,r=e.y,n=e.segment,i=e.xAxisId,s=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=dee(),f=eA(i),d=tA(s),h=mee();if(!u||!h)return null;Mn(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=z0({x:f.scale,y:d.scale}),x=gt(t),g=gt(r),v=n&&n.length===2,p=kee(m,x,g,v,h,e.position,f.orientation,d.orientation,e);if(!p)return null;var y=_ee(p,2),j=y[0],w=j.x,b=j.y,N=y[1],_=N.x,S=N.y,C=un(e,"hidden")?"url(#".concat(u,")"):void 0,P=tN(tN({clipPath:C},Oe(e,!0)),{},{x1:w,y1:b,x2:_,y2:S});return R.createElement(it,{className:Ce("recharts-reference-line",l)},Aee(o,P),Mt.renderCallByParent(e,UJ({x1:w,y1:b,x2:_,y2:S})))}var V0=function(e){function t(){return xee(this,t),vee(this,t,arguments)}return wee(t,e),yee(t,[{key:"render",value:function(){return R.createElement(Eee,this.props)}}])}(R.Component);q0(V0,"displayName","ReferenceLine");q0(V0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function pg(){return pg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pg.apply(this,arguments)}function to(e){"@babel/helpers - typeof";return to=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},to(e)}function nN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function aN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nN(Object(r),!0).forEach(function(n){Ph(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tee(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iA(n.key),n)}}function Mee(e,t,r){return t&&Tee(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ree(e,t,r){return t=ff(t),Iee(e,aA()?Reflect.construct(t,r||[],ff(e).constructor):t.apply(e,r))}function Iee(e,t){if(t&&(to(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dee(e)}function Dee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aA=function(){return!!e})()}function ff(e){return ff=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ff(e)}function Lee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xg(e,t)}function xg(e,t){return xg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},xg(e,t)}function Ph(e,t,r){return t=iA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iA(e){var t=Fee(e,"string");return to(t)=="symbol"?t:t+""}function Fee(e,t){if(to(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(to(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Bee=function(t){var r=t.x,n=t.y,i=t.xAxis,s=t.yAxis,o=z0({x:i.scale,y:s.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return un(t,"discard")&&!o.isInRange(l)?null:l},Ah=function(e){function t(){return $ee(this,t),Ree(this,t,arguments)}return Lee(t,e),Mee(t,[{key:"render",value:function(){var n=this.props,i=n.x,s=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=gt(i),f=gt(s);if(Mn(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!f)return null;var d=Bee(this.props);if(!d)return null;var h=d.x,m=d.y,x=this.props,g=x.shape,v=x.className,p=un(this.props,"hidden")?"url(#".concat(c,")"):void 0,y=aN(aN({clipPath:p},Oe(this.props,!0)),{},{cx:h,cy:m});return R.createElement(it,{className:Ce("recharts-reference-dot",v)},t.renderDot(g,y),Mt.renderCallByParent(this.props,{x:h-o,y:m-o,width:2*o,height:2*o}))}}])}(R.Component);Ph(Ah,"displayName","ReferenceDot");Ph(Ah,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Ph(Ah,"renderDot",function(e,t){var r;return R.isValidElement(e)?r=R.cloneElement(e,t):be(e)?r=e(t):r=R.createElement(B0,pg({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function gg(){return gg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gg.apply(this,arguments)}function ro(e){"@babel/helpers - typeof";return ro=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ro(e)}function iN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iN(Object(r),!0).forEach(function(n){kh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uee(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oA(n.key),n)}}function Wee(e,t,r){return t&&Uee(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hee(e,t,r){return t=hf(t),Kee(e,sA()?Reflect.construct(t,r||[],hf(e).constructor):t.apply(e,r))}function Kee(e,t){if(t&&(ro(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qee(e)}function qee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sA=function(){return!!e})()}function hf(e){return hf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hf(e)}function Vee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yg(e,t)}function yg(e,t){return yg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},yg(e,t)}function kh(e,t,r){return t=oA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oA(e){var t=Gee(e,"string");return ro(t)=="symbol"?t:t+""}function Gee(e,t){if(ro(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ro(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Xee=function(t,r,n,i,s){var o=s.x1,l=s.x2,c=s.y1,u=s.y2,f=s.xAxis,d=s.yAxis;if(!f||!d)return null;var h=z0({x:f.scale,y:d.scale}),m={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},x={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return un(s,"discard")&&(!h.isInRange(m)||!h.isInRange(x))?null:VP(m,x)},Eh=function(e){function t(){return zee(this,t),Hee(this,t,arguments)}return Vee(t,e),Wee(t,[{key:"render",value:function(){var n=this.props,i=n.x1,s=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,f=n.clipPathId;Mn(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=gt(i),h=gt(s),m=gt(o),x=gt(l),g=this.props.shape;if(!d&&!h&&!m&&!x&&!g)return null;var v=Xee(d,h,m,x,this.props);if(!v&&!g)return null;var p=un(this.props,"hidden")?"url(#".concat(f,")"):void 0;return R.createElement(it,{className:Ce("recharts-reference-area",c)},t.renderRect(g,sN(sN({clipPath:p},Oe(this.props,!0)),v)),Mt.renderCallByParent(this.props,v))}}])}(R.Component);kh(Eh,"displayName","ReferenceArea");kh(Eh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});kh(Eh,"renderRect",function(e,t){var r;return R.isValidElement(e)?r=R.cloneElement(e,t):be(e)?r=e(t):r=R.createElement(F0,gg({},t,{className:"recharts-reference-area-rect"})),r});function lA(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function Qee(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return HJ(n,r)}function Yee(e,t,r){var n=r==="width",i=e.x,s=e.y,o=e.width,l=e.height;return t===1?{start:n?i:s,end:n?i+o:s+l}:{start:n?i+o:s+l,end:n?i:s}}function mf(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-i)<=0}function Zee(e,t){return lA(e,t+1)}function Jee(e,t,r,n,i){for(var s=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,f=o,d=function(){var x=n==null?void 0:n[c];if(x===void 0)return{v:lA(n,u)};var g=c,v,p=function(){return v===void 0&&(v=r(x,g)),v},y=x.coordinate,j=c===0||mf(e,y,p,f,l);j||(c=0,f=o,u+=1),j&&(f=y+e*(p()/2+i),c+=u)},h;u<=s.length;)if(h=d(),h)return h.v;return[]}function jc(e){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jc(e)}function oN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $t(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oN(Object(r),!0).forEach(function(n){ete(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ete(e,t,r){return t=tte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tte(e){var t=rte(e,"string");return jc(t)=="symbol"?t:t+""}function rte(e,t){if(jc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nte(e,t,r,n,i){for(var s=(n||[]).slice(),o=s.length,l=t.start,c=t.end,u=function(h){var m=s[h],x,g=function(){return x===void 0&&(x=r(m,h)),x};if(h===o-1){var v=e*(m.coordinate+e*g()/2-c);s[h]=m=$t($t({},m),{},{tickCoord:v>0?m.coordinate-v*e:m.coordinate})}else s[h]=m=$t($t({},m),{},{tickCoord:m.coordinate});var p=mf(e,m.tickCoord,g,l,c);p&&(c=m.tickCoord-e*(g()/2+i),s[h]=$t($t({},m),{},{isShow:!0}))},f=o-1;f>=0;f--)u(f);return s}function ate(e,t,r,n,i,s){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(s){var f=n[l-1],d=r(f,l-1),h=e*(f.coordinate+e*d/2-u);o[l-1]=f=$t($t({},f),{},{tickCoord:h>0?f.coordinate-h*e:f.coordinate});var m=mf(e,f.tickCoord,function(){return d},c,u);m&&(u=f.tickCoord-e*(d/2+i),o[l-1]=$t($t({},f),{},{isShow:!0}))}for(var x=s?l-1:l,g=function(y){var j=o[y],w,b=function(){return w===void 0&&(w=r(j,y)),w};if(y===0){var N=e*(j.coordinate-e*b()/2-c);o[y]=j=$t($t({},j),{},{tickCoord:N<0?j.coordinate-N*e:j.coordinate})}else o[y]=j=$t($t({},j),{},{tickCoord:j.coordinate});var _=mf(e,j.tickCoord,b,c,u);_&&(c=j.tickCoord+e*(b()/2+i),o[y]=$t($t({},j),{},{isShow:!0}))},v=0;v<x;v++)g(v);return o}function G0(e,t,r){var n=e.tick,i=e.ticks,s=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,f=e.unit,d=e.angle;if(!i||!i.length||!n)return[];if(Z(c)||Po.isSsr)return Zee(i,typeof c=="number"&&Z(c)?c:0);var h=[],m=l==="top"||l==="bottom"?"width":"height",x=f&&m==="width"?gl(f,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=function(j,w){var b=be(u)?u(j.value,w):j.value;return m==="width"?Qee(gl(b,{fontSize:t,letterSpacing:r}),x,d):gl(b,{fontSize:t,letterSpacing:r})[m]},v=i.length>=2?qr(i[1].coordinate-i[0].coordinate):1,p=Yee(s,v,m);return c==="equidistantPreserveStart"?Jee(v,p,g,i,o):(c==="preserveStart"||c==="preserveStartEnd"?h=ate(v,p,g,i,o,c==="preserveStartEnd"):h=nte(v,p,g,i,o),h.filter(function(y){return y.isShow}))}var ite=["viewBox"],ste=["viewBox"],ote=["ticks"];function no(e){"@babel/helpers - typeof";return no=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},no(e)}function is(){return is=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},is.apply(this,arguments)}function lN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lN(Object(r),!0).forEach(function(n){X0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Im(e,t){if(e==null)return{};var r=lte(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lte(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function cte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uA(n.key),n)}}function ute(e,t,r){return t&&cN(e.prototype,t),r&&cN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function dte(e,t,r){return t=pf(t),fte(e,cA()?Reflect.construct(t,r||[],pf(e).constructor):t.apply(e,r))}function fte(e,t){if(t&&(no(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hte(e)}function hte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cA=function(){return!!e})()}function pf(e){return pf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pf(e)}function mte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vg(e,t)}function vg(e,t){return vg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},vg(e,t)}function X0(e,t,r){return t=uA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uA(e){var t=pte(e,"string");return no(t)=="symbol"?t:t+""}function pte(e,t){if(no(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(no(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var $o=function(e){function t(r){var n;return cte(this,t),n=dte(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return mte(t,e),ute(t,[{key:"shouldComponentUpdate",value:function(n,i){var s=n.viewBox,o=Im(n,ite),l=this.props,c=l.viewBox,u=Im(l,ste);return!ms(s,c)||!ms(o,u)||!ms(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.x,o=i.y,l=i.width,c=i.height,u=i.orientation,f=i.tickSize,d=i.mirror,h=i.tickMargin,m,x,g,v,p,y,j=d?-1:1,w=n.tickSize||f,b=Z(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=x=n.coordinate,v=o+ +!d*c,g=v-j*w,y=g-j*h,p=b;break;case"left":g=v=n.coordinate,x=s+ +!d*l,m=x-j*w,p=m-j*h,y=b;break;case"right":g=v=n.coordinate,x=s+ +d*l,m=x+j*w,p=m+j*h,y=b;break;default:m=x=n.coordinate,v=o+ +d*c,g=v+j*w,y=g+j*h,p=b;break}return{line:{x1:m,y1:g,x2:x,y2:v},tick:{x:p,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,o;switch(i){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,f=n.axisLine,d=dt(dt(dt({},Oe(this.props,!1)),Oe(f,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);d=dt(dt({},d),{},{x1:i,y1:s+h*l,x2:i+o,y2:s+h*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);d=dt(dt({},d),{},{x1:i+m*o,y1:s,x2:i+m*o,y2:s+l})}return R.createElement("line",is({},d,{className:Ce("recharts-cartesian-axis-line",Sr(f,"className"))}))}},{key:"renderTicks",value:function(n,i,s){var o=this,l=this.props,c=l.tickLine,u=l.stroke,f=l.tick,d=l.tickFormatter,h=l.unit,m=G0(dt(dt({},this.props),{},{ticks:n}),i,s),x=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),v=Oe(this.props,!1),p=Oe(f,!1),y=dt(dt({},v),{},{fill:"none"},Oe(c,!1)),j=m.map(function(w,b){var N=o.getTickLineCoord(w),_=N.line,S=N.tick,C=dt(dt(dt(dt({textAnchor:x,verticalAnchor:g},v),{},{stroke:"none",fill:u},p),S),{},{index:b,payload:w,visibleTicksCount:m.length,tickFormatter:d});return R.createElement(it,is({className:"recharts-cartesian-axis-tick",key:"tick-".concat(w.value,"-").concat(w.coordinate,"-").concat(w.tickCoord)},jd(o.props,w,b)),c&&R.createElement("line",is({},y,_,{className:Ce("recharts-cartesian-axis-tick-line",Sr(c,"className"))})),f&&t.renderTickItem(f,C,"".concat(be(d)?d(w.value,b):w.value).concat(h||"")))});return R.createElement("g",{className:"recharts-cartesian-axis-ticks"},j)}},{key:"render",value:function(){var n=this,i=this.props,s=i.axisLine,o=i.width,l=i.height,c=i.ticksGenerator,u=i.className,f=i.hide;if(f)return null;var d=this.props,h=d.ticks,m=Im(d,ote),x=h;return be(c)&&(x=h&&h.length>0?c(this.props):c(m)),o<=0||l<=0||!x||!x.length?null:R.createElement(it,{className:Ce("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},s&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),Mt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,s){var o,l=Ce(i.className,"recharts-cartesian-axis-tick-value");return R.isValidElement(n)?o=R.cloneElement(n,dt(dt({},i),{},{className:l})):be(n)?o=n(dt(dt({},i),{},{className:l})):o=R.createElement(Rd,is({},i,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])}(O.Component);X0($o,"displayName","CartesianAxis");X0($o,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var xte=["x1","y1","x2","y2","key"],gte=["offset"];function Ei(e){"@babel/helpers - typeof";return Ei=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ei(e)}function uN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uN(Object(r),!0).forEach(function(n){yte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yte(e,t,r){return t=vte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vte(e){var t=bte(e,"string");return Ei(t)=="symbol"?t:t+""}function bte(e,t){if(Ei(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ei(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ni(){return ni=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ni.apply(this,arguments)}function dN(e,t){if(e==null)return{};var r=jte(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jte(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var wte=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,i=t.x,s=t.y,o=t.width,l=t.height,c=t.ry;return R.createElement("rect",{x:i,y:s,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function dA(e,t){var r;if(R.isValidElement(e))r=R.cloneElement(e,t);else if(be(e))r=e(t);else{var n=t.x1,i=t.y1,s=t.x2,o=t.y2,l=t.key,c=dN(t,xte),u=Oe(c,!1);u.offset;var f=dN(u,gte);r=R.createElement("line",ni({},f,{x1:n,y1:i,x2:s,y2:o,fill:"none",key:l}))}return r}function Nte(e){var t=e.x,r=e.width,n=e.horizontal,i=n===void 0?!0:n,s=e.horizontalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(l,c){var u=Rt(Rt({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return dA(i,u)});return R.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function _te(e){var t=e.y,r=e.height,n=e.vertical,i=n===void 0?!0:n,s=e.verticalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(l,c){var u=Rt(Rt({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return dA(i,u)});return R.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Ste(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,i=e.y,s=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var f=l.map(function(h){return Math.round(h+i-i)}).sort(function(h,m){return h-m});i!==f[0]&&f.unshift(0);var d=f.map(function(h,m){var x=!f[m+1],g=x?i+o-h:f[m+1]-h;if(g<=0)return null;var v=m%t.length;return R.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:g,width:s,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return R.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Ote(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,i=e.fillOpacity,s=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var f=u.map(function(h){return Math.round(h+s-s)}).sort(function(h,m){return h-m});s!==f[0]&&f.unshift(0);var d=f.map(function(h,m){var x=!f[m+1],g=x?s+l-h:f[m+1]-h;if(g<=0)return null;var v=m%n.length;return R.createElement("rect",{key:"react-".concat(m),x:h,y:o,width:g,height:c,stroke:"none",fill:n[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return R.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Cte=function(t,r){var n=t.xAxis,i=t.width,s=t.height,o=t.offset;return jP(G0(Rt(Rt(Rt({},$o.defaultProps),n),{},{ticks:En(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.left,o.left+o.width,r)},Pte=function(t,r){var n=t.yAxis,i=t.width,s=t.height,o=t.offset;return jP(G0(Rt(Rt(Rt({},$o.defaultProps),n),{},{ticks:En(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.top,o.top+o.height,r)},Hi={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function fA(e){var t,r,n,i,s,o,l=H0(),c=K0(),u=pee(),f=Rt(Rt({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Hi.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Hi.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Hi.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:Hi.horizontalFill,vertical:(s=e.vertical)!==null&&s!==void 0?s:Hi.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Hi.verticalFill,x:Z(e.x)?e.x:u.left,y:Z(e.y)?e.y:u.top,width:Z(e.width)?e.width:u.width,height:Z(e.height)?e.height:u.height}),d=f.x,h=f.y,m=f.width,x=f.height,g=f.syncWithTicks,v=f.horizontalValues,p=f.verticalValues,y=fee(),j=hee();if(!Z(m)||m<=0||!Z(x)||x<=0||!Z(d)||d!==+d||!Z(h)||h!==+h)return null;var w=f.verticalCoordinatesGenerator||Cte,b=f.horizontalCoordinatesGenerator||Pte,N=f.horizontalPoints,_=f.verticalPoints;if((!N||!N.length)&&be(b)){var S=v&&v.length,C=b({yAxis:j?Rt(Rt({},j),{},{ticks:S?v:j.ticks}):void 0,width:l,height:c,offset:u},S?!0:g);Mn(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ei(C),"]")),Array.isArray(C)&&(N=C)}if((!_||!_.length)&&be(w)){var P=p&&p.length,A=w({xAxis:y?Rt(Rt({},y),{},{ticks:P?p:y.ticks}):void 0,width:l,height:c,offset:u},P?!0:g);Mn(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ei(A),"]")),Array.isArray(A)&&(_=A)}return R.createElement("g",{className:"recharts-cartesian-grid"},R.createElement(wte,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),R.createElement(Nte,ni({},f,{offset:u,horizontalPoints:N,xAxis:y,yAxis:j})),R.createElement(_te,ni({},f,{offset:u,verticalPoints:_,xAxis:y,yAxis:j})),R.createElement(Ste,ni({},f,{horizontalPoints:N})),R.createElement(Ote,ni({},f,{verticalPoints:_})))}fA.displayName="CartesianGrid";var Ate=["type","layout","connectNulls","ref"],kte=["key"];function ao(e){"@babel/helpers - typeof";return ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ao(e)}function fN(e,t){if(e==null)return{};var r=Ete(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ete(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function jl(){return jl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jl.apply(this,arguments)}function hN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hN(Object(r),!0).forEach(function(n){Ur(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ki(e){return Rte(e)||Mte(e)||Tte(e)||$te()}function $te(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tte(e,t){if(e){if(typeof e=="string")return bg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bg(e,t)}}function Mte(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Rte(e){if(Array.isArray(e))return bg(e)}function bg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ite(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mA(n.key),n)}}function Dte(e,t,r){return t&&mN(e.prototype,t),r&&mN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lte(e,t,r){return t=xf(t),Fte(e,hA()?Reflect.construct(t,r||[],xf(e).constructor):t.apply(e,r))}function Fte(e,t){if(t&&(ao(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bte(e)}function Bte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hA=function(){return!!e})()}function xf(e){return xf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xf(e)}function zte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jg(e,t)}function jg(e,t){return jg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},jg(e,t)}function Ur(e,t,r){return t=mA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mA(e){var t=Ute(e,"string");return ao(t)=="symbol"?t:t+""}function Ute(e,t){if(ao(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ao(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var io=function(e){function t(){var r;Ite(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=Lte(this,t,[].concat(i)),Ur(r,"state",{isAnimationFinished:!0,totalLength:0}),Ur(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Ur(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(p,y){return p+y});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var f=Math.floor(o/u),d=o%u,h=l-o,m=[],x=0,g=0;x<c.length;g+=c[x],++x)if(g+c[x]>d){m=[].concat(Ki(c.slice(0,x)),[d-g]);break}var v=m.length%2===0?[0,h]:[h];return[].concat(Ki(t.repeat(c,f)),Ki(m),v).map(function(p){return"".concat(p,"px")}).join(", ")}),Ur(r,"id",Bc("recharts-line-")),Ur(r,"pathRef",function(o){r.mainCurve=o}),Ur(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Ur(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return zte(t,e),Dte(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,l=s.xAxis,c=s.yAxis,u=s.layout,f=s.children,d=Or(f,qc);if(!d)return null;var h=function(g,v){return{x:g.x,y:g.y,value:g.value,errorVal:dr(g.payload,v)}},m={clipPath:n?"url(#clipPath-".concat(i,")"):null};return R.createElement(it,m,d.map(function(x){return R.cloneElement(x,{key:"bar-".concat(x.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,i,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,f=l.dataKey,d=Oe(this.props,!1),h=Oe(c,!0),m=u.map(function(g,v){var p=tr(tr(tr({key:"dot-".concat(v),r:3},d),h),{},{index:v,cx:g.x,cy:g.y,value:g.value,dataKey:f,payload:g.payload,points:u});return t.renderDotItem(c,p)}),x={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return R.createElement(it,jl({className:"recharts-line-dots",key:"dots"},x),m)}},{key:"renderCurveStatically",value:function(n,i,s,o){var l=this.props,c=l.type,u=l.layout,f=l.connectNulls;l.ref;var d=fN(l,Ate),h=tr(tr(tr({},Oe(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:f});return R.createElement(Zx,jl({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var s=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,f=o.animationBegin,d=o.animationDuration,h=o.animationEasing,m=o.animationId,x=o.animateNewValues,g=o.width,v=o.height,p=this.state,y=p.prevPoints,j=p.totalLength;return R.createElement(Hn,{begin:f,duration:d,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var b=w.t;if(y){var N=y.length/l.length,_=l.map(function(E,L){var F=Math.floor(L*N);if(y[F]){var U=y[F],T=Hr(U.x,E.x),B=Hr(U.y,E.y);return tr(tr({},E),{},{x:T(b),y:B(b)})}if(x){var M=Hr(g*2,E.x),z=Hr(v/2,E.y);return tr(tr({},E),{},{x:M(b),y:z(b)})}return tr(tr({},E),{},{x:E.x,y:E.y})});return s.renderCurveStatically(_,n,i)}var S=Hr(0,j),C=S(b),P;if(c){var A="".concat(c).split(/[,\s]+/gim).map(function(E){return parseFloat(E)});P=s.getStrokeDasharray(C,j,A)}else P=s.generateSimpleStrokeDasharray(j,C);return s.renderCurveStatically(l,n,i,{strokeDasharray:P})})}},{key:"renderCurve",value:function(n,i){var s=this.props,o=s.points,l=s.isAnimationActive,c=this.state,u=c.prevPoints,f=c.totalLength;return l&&o&&o.length&&(!u&&f>0||!wh(u,o))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(o,n,i)}},{key:"render",value:function(){var n,i=this.props,s=i.hide,o=i.dot,l=i.points,c=i.className,u=i.xAxis,f=i.yAxis,d=i.top,h=i.left,m=i.width,x=i.height,g=i.isAnimationActive,v=i.id;if(s||!l||!l.length)return null;var p=this.state.isAnimationFinished,y=l.length===1,j=Ce("recharts-line",c),w=u&&u.allowDataOverflow,b=f&&f.allowDataOverflow,N=w||b,_=je(v)?this.id:v,S=(n=Oe(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},C=S.r,P=C===void 0?3:C,A=S.strokeWidth,E=A===void 0?2:A,L=YR(o)?o:{},F=L.clipDot,U=F===void 0?!0:F,T=P*2+E;return R.createElement(it,{className:j},w||b?R.createElement("defs",null,R.createElement("clipPath",{id:"clipPath-".concat(_)},R.createElement("rect",{x:w?h:h-m/2,y:b?d:d-x/2,width:w?m:m*2,height:b?x:x*2})),!U&&R.createElement("clipPath",{id:"clipPath-dots-".concat(_)},R.createElement("rect",{x:h-T/2,y:d-T/2,width:m+T,height:x+T}))):null,!y&&this.renderCurve(N,_),this.renderErrorBar(N,_),(y||o)&&this.renderDots(N,U,_),(!g||p)&&ka.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var s=n.length%2!==0?[].concat(Ki(n),[0]):n,o=[],l=0;l<i;++l)o=[].concat(Ki(o),Ki(s));return o}},{key:"renderDotItem",value:function(n,i){var s;if(R.isValidElement(n))s=R.cloneElement(n,i);else if(be(n))s=n(i);else{var o=i.key,l=fN(i,kte),c=Ce("recharts-line-dot",typeof n!="boolean"?n.className:"");s=R.createElement(B0,jl({key:o},l,{className:c}))}return s}}])}(O.PureComponent);Ur(io,"displayName","Line");Ur(io,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Po.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ur(io,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,i=e.xAxisTicks,s=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,f=t.layout,d=c.map(function(h,m){var x=dr(h,o);return f==="horizontal"?{x:Y1({axis:r,ticks:i,bandSize:l,entry:h,index:m}),y:je(x)?null:n.scale(x),value:x,payload:h}:{x:je(x)?null:r.scale(x),y:Y1({axis:n,ticks:s,bandSize:l,entry:h,index:m}),value:x,payload:h}});return tr({points:d,layout:f},u)});function so(e){"@babel/helpers - typeof";return so=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},so(e)}function Wte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hte(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gA(n.key),n)}}function Kte(e,t,r){return t&&Hte(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function qte(e,t,r){return t=gf(t),Vte(e,pA()?Reflect.construct(t,r||[],gf(e).constructor):t.apply(e,r))}function Vte(e,t){if(t&&(so(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gte(e)}function Gte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pA=function(){return!!e})()}function gf(e){return gf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gf(e)}function Xte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wg(e,t)}function wg(e,t){return wg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},wg(e,t)}function xA(e,t,r){return t=gA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gA(e){var t=Qte(e,"string");return so(t)=="symbol"?t:t+""}function Qte(e,t){if(so(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(so(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Ng(){return Ng=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ng.apply(this,arguments)}function Yte(e){var t=e.xAxisId,r=H0(),n=K0(),i=eA(t);return i==null?null:O.createElement($o,Ng({},i,{className:Ce("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return En(o,!0)}}))}var $h=function(e){function t(){return Wte(this,t),qte(this,t,arguments)}return Xte(t,e),Kte(t,[{key:"render",value:function(){return O.createElement(Yte,this.props)}}])}(O.Component);xA($h,"displayName","XAxis");xA($h,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function oo(e){"@babel/helpers - typeof";return oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oo(e)}function Zte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jte(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bA(n.key),n)}}function ere(e,t,r){return t&&Jte(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tre(e,t,r){return t=yf(t),rre(e,yA()?Reflect.construct(t,r||[],yf(e).constructor):t.apply(e,r))}function rre(e,t){if(t&&(oo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nre(e)}function nre(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yA=function(){return!!e})()}function yf(e){return yf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yf(e)}function are(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_g(e,t)}function _g(e,t){return _g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},_g(e,t)}function vA(e,t,r){return t=bA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bA(e){var t=ire(e,"string");return oo(t)=="symbol"?t:t+""}function ire(e,t){if(oo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(oo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Sg(){return Sg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sg.apply(this,arguments)}var sre=function(t){var r=t.yAxisId,n=H0(),i=K0(),s=tA(r);return s==null?null:O.createElement($o,Sg({},s,{className:Ce("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(l){return En(l,!0)}}))},wc=function(e){function t(){return Zte(this,t),tre(this,t,arguments)}return are(t,e),ere(t,[{key:"render",value:function(){return O.createElement(sre,this.props)}}])}(O.Component);vA(wc,"displayName","YAxis");vA(wc,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function pN(e){return ure(e)||cre(e)||lre(e)||ore()}function ore(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lre(e,t){if(e){if(typeof e=="string")return Og(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Og(e,t)}}function cre(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ure(e){if(Array.isArray(e))return Og(e)}function Og(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Cg=function(t,r,n,i,s){var o=Or(t,V0),l=Or(t,Ah),c=[].concat(pN(o),pN(l)),u=Or(t,Eh),f="".concat(i,"Id"),d=i[0],h=r;if(c.length&&(h=c.reduce(function(g,v){if(v.props[f]===n&&un(v.props,"extendDomain")&&Z(v.props[d])){var p=v.props[d];return[Math.min(g[0],p),Math.max(g[1],p)]}return g},h)),u.length){var m="".concat(d,"1"),x="".concat(d,"2");h=u.reduce(function(g,v){if(v.props[f]===n&&un(v.props,"extendDomain")&&Z(v.props[m])&&Z(v.props[x])){var p=v.props[m],y=v.props[x];return[Math.min(g[0],p,y),Math.max(g[1],p,y)]}return g},h)}return s&&s.length&&(h=s.reduce(function(g,v){return Z(v)?[Math.min(g[0],v),Math.max(g[1],v)]:g},h)),h},jA={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function s(c,u,f,d,h){if(typeof f!="function")throw new TypeError("The listener must be a function");var m=new i(f,d||c,h),x=r?r+u:u;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],m]:c._events[x].push(m):(c._events[x]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],f,d;if(this._eventsCount===0)return u;for(d in f=this._events)t.call(f,d)&&u.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},l.prototype.listeners=function(u){var f=r?r+u:u,d=this._events[f];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,m=d.length,x=new Array(m);h<m;h++)x[h]=d[h].fn;return x},l.prototype.listenerCount=function(u){var f=r?r+u:u,d=this._events[f];return d?d.fn?1:d.length:0},l.prototype.emit=function(u,f,d,h,m,x){var g=r?r+u:u;if(!this._events[g])return!1;var v=this._events[g],p=arguments.length,y,j;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),p){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,f),!0;case 3:return v.fn.call(v.context,f,d),!0;case 4:return v.fn.call(v.context,f,d,h),!0;case 5:return v.fn.call(v.context,f,d,h,m),!0;case 6:return v.fn.call(v.context,f,d,h,m,x),!0}for(j=1,y=new Array(p-1);j<p;j++)y[j-1]=arguments[j];v.fn.apply(v.context,y)}else{var w=v.length,b;for(j=0;j<w;j++)switch(v[j].once&&this.removeListener(u,v[j].fn,void 0,!0),p){case 1:v[j].fn.call(v[j].context);break;case 2:v[j].fn.call(v[j].context,f);break;case 3:v[j].fn.call(v[j].context,f,d);break;case 4:v[j].fn.call(v[j].context,f,d,h);break;default:if(!y)for(b=1,y=new Array(p-1);b<p;b++)y[b-1]=arguments[b];v[j].fn.apply(v[j].context,y)}}return!0},l.prototype.on=function(u,f,d){return s(this,u,f,d,!1)},l.prototype.once=function(u,f,d){return s(this,u,f,d,!0)},l.prototype.removeListener=function(u,f,d,h){var m=r?r+u:u;if(!this._events[m])return this;if(!f)return o(this,m),this;var x=this._events[m];if(x.fn)x.fn===f&&(!h||x.once)&&(!d||x.context===d)&&o(this,m);else{for(var g=0,v=[],p=x.length;g<p;g++)(x[g].fn!==f||h&&!x[g].once||d&&x[g].context!==d)&&v.push(x[g]);v.length?this._events[m]=v.length===1?v[0]:v:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var f;return u?(f=r?r+u:u,this._events[f]&&o(this,f)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(jA);var dre=jA.exports;const fre=Le(dre);var Dm=new fre,Lm="recharts.syncMouseEvents";function Nc(e){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nc(e)}function hre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mre(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wA(n.key),n)}}function pre(e,t,r){return t&&mre(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fm(e,t,r){return t=wA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wA(e){var t=xre(e,"string");return Nc(t)=="symbol"?t:t+""}function xre(e,t){if(Nc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var gre=function(){function e(){hre(this,e),Fm(this,"activeIndex",0),Fm(this,"coordinateList",[]),Fm(this,"layout","horizontal")}return pre(e,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,s=i===void 0?null:i,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,f=r.offset,d=f===void 0?null:f,h=r.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,o=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((n=window)===null||n===void 0?void 0:n.scrollY)||0,d=s+c+u,h=o+this.offset.top+l/2+f;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function yre(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],i=e==null?void 0:e[1];if(n&&i&&Z(n)&&Z(i))return!0}return!1}function vre(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function NA(e){var t=e.cx,r=e.cy,n=e.radius,i=e.startAngle,s=e.endAngle,o=Ct(t,r,n,i),l=Ct(t,r,n,s);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:i,endAngle:s}}function bre(e,t,r){var n,i,s,o;if(e==="horizontal")n=t.x,s=n,i=r.top,o=r.top+r.height;else if(e==="vertical")i=t.y,o=i,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,f=t.outerRadius,d=t.angle,h=Ct(l,c,u,d),m=Ct(l,c,f,d);n=h.x,i=h.y,s=m.x,o=m.y}else return NA(t);return[{x:n,y:i},{x:s,y:o}]}function _c(e){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_c(e)}function xN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ou(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xN(Object(r),!0).forEach(function(n){jre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jre(e,t,r){return t=wre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wre(e){var t=Nre(e,"string");return _c(t)=="symbol"?t:t+""}function Nre(e,t){if(_c(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _re(e){var t,r,n=e.element,i=e.tooltipEventType,s=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,f=e.tooltipAxisBandSize,d=e.layout,h=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!s||!o||h!=="ScatterChart"&&i!=="axis")return null;var x,g=Zx;if(h==="ScatterChart")x=o,g=NY;else if(h==="BarChart")x=vre(d,o,c,f),g=F0;else if(d==="radial"){var v=NA(o),p=v.cx,y=v.cy,j=v.radius,w=v.startAngle,b=v.endAngle;x={cx:p,cy:y,startAngle:w,endAngle:b,innerRadius:j,outerRadius:j},g=OP}else x={points:bre(d,o,c)},g=Zx;var N=Ou(Ou(Ou(Ou({stroke:"#ccc",pointerEvents:"none"},c),x),Oe(m,!1)),{},{payload:l,payloadIndex:u,className:Ce("recharts-tooltip-cursor",m.className)});return O.isValidElement(m)?O.cloneElement(m,N):O.createElement(g,N)}var Sre=["item"],Ore=["children","className","width","height","style","compact","title","desc"];function lo(e){"@babel/helpers - typeof";return lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lo(e)}function ss(){return ss=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ss.apply(this,arguments)}function gN(e,t){return Are(e)||Pre(e,t)||SA(e,t)||Cre()}function Cre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pre(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Are(e){if(Array.isArray(e))return e}function yN(e,t){if(e==null)return{};var r=kre(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kre(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ere(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $re(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,OA(n.key),n)}}function Tre(e,t,r){return t&&$re(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mre(e,t,r){return t=vf(t),Rre(e,_A()?Reflect.construct(t,r||[],vf(e).constructor):t.apply(e,r))}function Rre(e,t){if(t&&(lo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ire(e)}function Ire(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _A(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_A=function(){return!!e})()}function vf(e){return vf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vf(e)}function Dre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pg(e,t)}function Pg(e,t){return Pg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Pg(e,t)}function co(e){return Bre(e)||Fre(e)||SA(e)||Lre()}function Lre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SA(e,t){if(e){if(typeof e=="string")return Ag(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ag(e,t)}}function Fre(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Bre(e){if(Array.isArray(e))return Ag(e)}function Ag(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function K(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vN(Object(r),!0).forEach(function(n){ue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ue(e,t,r){return t=OA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OA(e){var t=zre(e,"string");return lo(t)=="symbol"?t:t+""}function zre(e,t){if(lo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ure={xAxis:["bottom","top"],yAxis:["left","right"]},Wre={width:"100%",height:"100%"},CA={x:0,y:0};function Cu(e){return e}var Hre=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},Kre=function(t,r,n,i){var s=r.find(function(f){return f&&f.index===n});if(s){if(t==="horizontal")return{x:s.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:s.coordinate};if(t==="centric"){var o=s.coordinate,l=i.radius;return K(K(K({},i),Ct(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}var c=s.coordinate,u=i.angle;return K(K(K({},i),Ct(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return CA},Th=function(t,r){var n=r.graphicalItems,i=r.dataStartIndex,s=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(co(l),co(u)):l},[]);return o.length>0?o:t&&t.length&&Z(i)&&Z(s)?t.slice(i,s+1):[]};function PA(e){return e==="number"?[0,"auto"]:void 0}var kg=function(t,r,n,i){var s=t.graphicalItems,o=t.tooltipAxis,l=Th(r,t);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(c,u){var f,d=(f=u.props.data)!==null&&f!==void 0?f:r;d&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(d=d.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var m=d===void 0?l:d;h=vd(m,o.dataKey,i)}else h=d&&d[n]||l[n];return h?[].concat(co(c),[NP(u,h)]):c},[])},bN=function(t,r,n,i){var s=i||{x:t.chartX,y:t.chartY},o=Hre(s,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,f=tG(o,l,u,c);if(f>=0&&u){var d=u[f]&&u[f].value,h=kg(t,r,f,d),m=Kre(n,l,f,s);return{activeTooltipIndex:f,activeLabel:d,activePayload:h,activeCoordinate:m}}return null},qre=function(t,r){var n=r.axes,i=r.graphicalItems,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.layout,d=t.children,h=t.stackOffset,m=bP(f,s);return n.reduce(function(x,g){var v,p=g.type.defaultProps!==void 0?K(K({},g.type.defaultProps),g.props):g.props,y=p.type,j=p.dataKey,w=p.allowDataOverflow,b=p.allowDuplicatedCategory,N=p.scale,_=p.ticks,S=p.includeHidden,C=p[o];if(x[C])return x;var P=Th(t.data,{graphicalItems:i.filter(function(D){var V,Y=o in D.props?D.props[o]:(V=D.type.defaultProps)===null||V===void 0?void 0:V[o];return Y===C}),dataStartIndex:c,dataEndIndex:u}),A=P.length,E,L,F;yre(p.domain,w,y)&&(E=Vx(p.domain,null,w),m&&(y==="number"||N!=="auto")&&(F=vl(P,j,"category")));var U=PA(y);if(!E||E.length===0){var T,B=(T=p.domain)!==null&&T!==void 0?T:U;if(j){if(E=vl(P,j,y),y==="category"&&m){var M=zR(E);b&&M?(L=E,E=sf(0,A)):b||(E=tw(B,E,g).reduce(function(D,V){return D.indexOf(V)>=0?D:[].concat(co(D),[V])},[]))}else if(y==="category")b?E=E.filter(function(D){return D!==""&&!je(D)}):E=tw(B,E,g).reduce(function(D,V){return D.indexOf(V)>=0||V===""||je(V)?D:[].concat(co(D),[V])},[]);else if(y==="number"){var z=sG(P,i.filter(function(D){var V,Y,le=o in D.props?D.props[o]:(V=D.type.defaultProps)===null||V===void 0?void 0:V[o],me="hide"in D.props?D.props.hide:(Y=D.type.defaultProps)===null||Y===void 0?void 0:Y.hide;return le===C&&(S||!me)}),j,s,f);z&&(E=z)}m&&(y==="number"||N!=="auto")&&(F=vl(P,j,"category"))}else m?E=sf(0,A):l&&l[C]&&l[C].hasStack&&y==="number"?E=h==="expand"?[0,1]:wP(l[C].stackGroups,c,u):E=vP(P,i.filter(function(D){var V=o in D.props?D.props[o]:D.type.defaultProps[o],Y="hide"in D.props?D.props.hide:D.type.defaultProps.hide;return V===C&&(S||!Y)}),y,f,!0);if(y==="number")E=Cg(d,E,C,s,_),B&&(E=Vx(B,E,w));else if(y==="category"&&B){var k=B,I=E.every(function(D){return k.indexOf(D)>=0});I&&(E=k)}}return K(K({},x),{},ue({},C,K(K({},p),{},{axisType:s,domain:E,categoricalDomain:F,duplicateDomain:L,originalDomain:(v=p.domain)!==null&&v!==void 0?v:U,isCategorical:m,layout:f})))},{})},Vre=function(t,r){var n=r.graphicalItems,i=r.Axis,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.layout,d=t.children,h=Th(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),m=h.length,x=bP(f,s),g=-1;return n.reduce(function(v,p){var y=p.type.defaultProps!==void 0?K(K({},p.type.defaultProps),p.props):p.props,j=y[o],w=PA("number");if(!v[j]){g++;var b;return x?b=sf(0,m):l&&l[j]&&l[j].hasStack?(b=wP(l[j].stackGroups,c,u),b=Cg(d,b,j,s)):(b=Vx(w,vP(h,n.filter(function(N){var _,S,C=o in N.props?N.props[o]:(_=N.type.defaultProps)===null||_===void 0?void 0:_[o],P="hide"in N.props?N.props.hide:(S=N.type.defaultProps)===null||S===void 0?void 0:S.hide;return C===j&&!P}),"number",f),i.defaultProps.allowDataOverflow),b=Cg(d,b,j,s)),K(K({},v),{},ue({},j,K(K({axisType:s},i.defaultProps),{},{hide:!0,orientation:Sr(Ure,"".concat(s,".").concat(g%2),null),domain:b,originalDomain:w,isCategorical:x,layout:f})))}return v},{})},Gre=function(t,r){var n=r.axisType,i=n===void 0?"xAxis":n,s=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.children,d="".concat(i,"Id"),h=Or(f,s),m={};return h&&h.length?m=qre(t,{axes:h,graphicalItems:o,axisType:i,axisIdKey:d,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(m=Vre(t,{Axis:s,graphicalItems:o,axisType:i,axisIdKey:d,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},Xre=function(t){var r=aa(t),n=En(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:f0(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Xd(r,n)}},jN=function(t){var r=t.children,n=t.defaultShowTooltip,i=ir(r,Zs),s=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},Qre=function(t){return!t||!t.length?!1:t.some(function(r){var n=Tn(r&&r.type);return n&&n.indexOf("Bar")>=0})},wN=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Yre=function(t,r){var n=t.props,i=t.graphicalItems,s=t.xAxisMap,o=s===void 0?{}:s,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,f=n.height,d=n.children,h=n.margin||{},m=ir(d,Zs),x=ir(d,xi),g=Object.keys(c).reduce(function(b,N){var _=c[N],S=_.orientation;return!_.mirror&&!_.hide?K(K({},b),{},ue({},S,b[S]+_.width)):b},{left:h.left||0,right:h.right||0}),v=Object.keys(o).reduce(function(b,N){var _=o[N],S=_.orientation;return!_.mirror&&!_.hide?K(K({},b),{},ue({},S,Sr(b,"".concat(S))+_.height)):b},{top:h.top||0,bottom:h.bottom||0}),p=K(K({},v),g),y=p.bottom;m&&(p.bottom+=m.props.height||Zs.defaultProps.height),x&&r&&(p=aG(p,i,n,r));var j=u-p.left-p.right,w=f-p.top-p.bottom;return K(K({brushBottom:y},p),{},{width:Math.max(j,0),height:Math.max(w,0)})},Zre=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},Jre=function(t){var r=t.chartName,n=t.GraphicalChild,i=t.defaultTooltipEventType,s=i===void 0?"axis":i,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,f=t.formatAxisMap,d=t.defaultProps,h=function(p,y){var j=y.graphicalItems,w=y.stackGroups,b=y.offset,N=y.updateId,_=y.dataStartIndex,S=y.dataEndIndex,C=p.barSize,P=p.layout,A=p.barGap,E=p.barCategoryGap,L=p.maxBarSize,F=wN(P),U=F.numericAxisName,T=F.cateAxisName,B=Qre(j),M=[];return j.forEach(function(z,k){var I=Th(p.data,{graphicalItems:[z],dataStartIndex:_,dataEndIndex:S}),D=z.type.defaultProps!==void 0?K(K({},z.type.defaultProps),z.props):z.props,V=D.dataKey,Y=D.maxBarSize,le=D["".concat(U,"Id")],me=D["".concat(T,"Id")],oe={},ce=c.reduce(function(hn,Wa){var Mh=y["".concat(Wa.axisType,"Map")],Y0=D["".concat(Wa.axisType,"Id")];Mh&&Mh[Y0]||Wa.axisType==="zAxis"||ki();var Z0=Mh[Y0];return K(K({},hn),{},ue(ue({},Wa.axisType,Z0),"".concat(Wa.axisType,"Ticks"),En(Z0)))},oe),Q=ce[T],H=ce["".concat(T,"Ticks")],J=w&&w[le]&&w[le].hasStack&&yG(z,w[le].stackGroups),W=Tn(z.type).indexOf("Bar")>=0,ve=Xd(Q,H),fe=[],de=B&&rG({barSize:C,stackGroups:w,totalSize:Zre(ce,T)});if(W){var _e,Ue,Tr=je(Y)?L:Y,Mr=(_e=(Ue=Xd(Q,H,!0))!==null&&Ue!==void 0?Ue:Tr)!==null&&_e!==void 0?_e:0;fe=nG({barGap:A,barCategoryGap:E,bandSize:Mr!==ve?Mr:ve,sizeList:de[me],maxBarSize:Tr}),Mr!==ve&&(fe=fe.map(function(hn){return K(K({},hn),{},{position:K(K({},hn.position),{},{offset:hn.position.offset-Mr/2})})}))}var Bi=z&&z.type&&z.type.getComposedData;Bi&&M.push({props:K(K({},Bi(K(K({},ce),{},{displayedData:I,props:p,dataKey:V,item:z,bandSize:ve,barPosition:fe,offset:b,stackedData:J,layout:P,dataStartIndex:_,dataEndIndex:S}))),{},ue(ue(ue({key:z.key||"item-".concat(k)},U,ce[U]),T,ce[T]),"animationId",N)),childIndex:eI(z,p.children),item:z})}),M},m=function(p,y){var j=p.props,w=p.dataStartIndex,b=p.dataEndIndex,N=p.updateId;if(!Gb({props:j}))return null;var _=j.children,S=j.layout,C=j.stackOffset,P=j.data,A=j.reverseStackOrder,E=wN(S),L=E.numericAxisName,F=E.cateAxisName,U=Or(_,n),T=pG(P,U,"".concat(L,"Id"),"".concat(F,"Id"),C,A),B=c.reduce(function(D,V){var Y="".concat(V.axisType,"Map");return K(K({},D),{},ue({},Y,Gre(j,K(K({},V),{},{graphicalItems:U,stackGroups:V.axisType===L&&T,dataStartIndex:w,dataEndIndex:b}))))},{}),M=Yre(K(K({},B),{},{props:j,graphicalItems:U}),y==null?void 0:y.legendBBox);Object.keys(B).forEach(function(D){B[D]=f(j,B[D],M,D.replace("Map",""),r)});var z=B["".concat(F,"Map")],k=Xre(z),I=h(j,K(K({},B),{},{dataStartIndex:w,dataEndIndex:b,updateId:N,graphicalItems:U,stackGroups:T,offset:M}));return K(K({formattedGraphicalItems:I,graphicalItems:U,offset:M,stackGroups:T},k),B)},x=function(v){function p(y){var j,w,b;return Ere(this,p),b=Mre(this,p,[y]),ue(b,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ue(b,"accessibilityManager",new gre),ue(b,"handleLegendBBoxUpdate",function(N){if(N){var _=b.state,S=_.dataStartIndex,C=_.dataEndIndex,P=_.updateId;b.setState(K({legendBBox:N},m({props:b.props,dataStartIndex:S,dataEndIndex:C,updateId:P},K(K({},b.state),{},{legendBBox:N}))))}}),ue(b,"handleReceiveSyncEvent",function(N,_,S){if(b.props.syncId===N){if(S===b.eventEmitterSymbol&&typeof b.props.syncMethod!="function")return;b.applySyncEvent(_)}}),ue(b,"handleBrushChange",function(N){var _=N.startIndex,S=N.endIndex;if(_!==b.state.dataStartIndex||S!==b.state.dataEndIndex){var C=b.state.updateId;b.setState(function(){return K({dataStartIndex:_,dataEndIndex:S},m({props:b.props,dataStartIndex:_,dataEndIndex:S,updateId:C},b.state))}),b.triggerSyncEvent({dataStartIndex:_,dataEndIndex:S})}}),ue(b,"handleMouseEnter",function(N){var _=b.getMouseInfo(N);if(_){var S=K(K({},_),{},{isTooltipActive:!0});b.setState(S),b.triggerSyncEvent(S);var C=b.props.onMouseEnter;be(C)&&C(S,N)}}),ue(b,"triggeredAfterMouseMove",function(N){var _=b.getMouseInfo(N),S=_?K(K({},_),{},{isTooltipActive:!0}):{isTooltipActive:!1};b.setState(S),b.triggerSyncEvent(S);var C=b.props.onMouseMove;be(C)&&C(S,N)}),ue(b,"handleItemMouseEnter",function(N){b.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),ue(b,"handleItemMouseLeave",function(){b.setState(function(){return{isTooltipActive:!1}})}),ue(b,"handleMouseMove",function(N){N.persist(),b.throttleTriggeredAfterMouseMove(N)}),ue(b,"handleMouseLeave",function(N){b.throttleTriggeredAfterMouseMove.cancel();var _={isTooltipActive:!1};b.setState(_),b.triggerSyncEvent(_);var S=b.props.onMouseLeave;be(S)&&S(_,N)}),ue(b,"handleOuterEvent",function(N){var _=JR(N),S=Sr(b.props,"".concat(_));if(_&&be(S)){var C,P;/.*touch.*/i.test(_)?P=b.getMouseInfo(N.changedTouches[0]):P=b.getMouseInfo(N),S((C=P)!==null&&C!==void 0?C:{},N)}}),ue(b,"handleClick",function(N){var _=b.getMouseInfo(N);if(_){var S=K(K({},_),{},{isTooltipActive:!0});b.setState(S),b.triggerSyncEvent(S);var C=b.props.onClick;be(C)&&C(S,N)}}),ue(b,"handleMouseDown",function(N){var _=b.props.onMouseDown;if(be(_)){var S=b.getMouseInfo(N);_(S,N)}}),ue(b,"handleMouseUp",function(N){var _=b.props.onMouseUp;if(be(_)){var S=b.getMouseInfo(N);_(S,N)}}),ue(b,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&b.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),ue(b,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&b.handleMouseDown(N.changedTouches[0])}),ue(b,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&b.handleMouseUp(N.changedTouches[0])}),ue(b,"handleDoubleClick",function(N){var _=b.props.onDoubleClick;if(be(_)){var S=b.getMouseInfo(N);_(S,N)}}),ue(b,"handleContextMenu",function(N){var _=b.props.onContextMenu;if(be(_)){var S=b.getMouseInfo(N);_(S,N)}}),ue(b,"triggerSyncEvent",function(N){b.props.syncId!==void 0&&Dm.emit(Lm,b.props.syncId,N,b.eventEmitterSymbol)}),ue(b,"applySyncEvent",function(N){var _=b.props,S=_.layout,C=_.syncMethod,P=b.state.updateId,A=N.dataStartIndex,E=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)b.setState(K({dataStartIndex:A,dataEndIndex:E},m({props:b.props,dataStartIndex:A,dataEndIndex:E,updateId:P},b.state)));else if(N.activeTooltipIndex!==void 0){var L=N.chartX,F=N.chartY,U=N.activeTooltipIndex,T=b.state,B=T.offset,M=T.tooltipTicks;if(!B)return;if(typeof C=="function")U=C(M,N);else if(C==="value"){U=-1;for(var z=0;z<M.length;z++)if(M[z].value===N.activeLabel){U=z;break}}var k=K(K({},B),{},{x:B.left,y:B.top}),I=Math.min(L,k.x+k.width),D=Math.min(F,k.y+k.height),V=M[U]&&M[U].value,Y=kg(b.state,b.props.data,U),le=M[U]?{x:S==="horizontal"?M[U].coordinate:I,y:S==="horizontal"?D:M[U].coordinate}:CA;b.setState(K(K({},N),{},{activeLabel:V,activeCoordinate:le,activePayload:Y,activeTooltipIndex:U}))}else b.setState(N)}),ue(b,"renderCursor",function(N){var _,S=b.state,C=S.isTooltipActive,P=S.activeCoordinate,A=S.activePayload,E=S.offset,L=S.activeTooltipIndex,F=S.tooltipAxisBandSize,U=b.getTooltipEventType(),T=(_=N.props.active)!==null&&_!==void 0?_:C,B=b.props.layout,M=N.key||"_recharts-cursor";return R.createElement(_re,{key:M,activeCoordinate:P,activePayload:A,activeTooltipIndex:L,chartName:r,element:N,isActive:T,layout:B,offset:E,tooltipAxisBandSize:F,tooltipEventType:U})}),ue(b,"renderPolarAxis",function(N,_,S){var C=Sr(N,"type.axisType"),P=Sr(b.state,"".concat(C,"Map")),A=N.type.defaultProps,E=A!==void 0?K(K({},A),N.props):N.props,L=P&&P[E["".concat(C,"Id")]];return O.cloneElement(N,K(K({},L),{},{className:Ce(C,L.className),key:N.key||"".concat(_,"-").concat(S),ticks:En(L,!0)}))}),ue(b,"renderPolarGrid",function(N){var _=N.props,S=_.radialLines,C=_.polarAngles,P=_.polarRadius,A=b.state,E=A.radiusAxisMap,L=A.angleAxisMap,F=aa(E),U=aa(L),T=U.cx,B=U.cy,M=U.innerRadius,z=U.outerRadius;return O.cloneElement(N,{polarAngles:Array.isArray(C)?C:En(U,!0).map(function(k){return k.coordinate}),polarRadius:Array.isArray(P)?P:En(F,!0).map(function(k){return k.coordinate}),cx:T,cy:B,innerRadius:M,outerRadius:z,key:N.key||"polar-grid",radialLines:S})}),ue(b,"renderLegend",function(){var N=b.state.formattedGraphicalItems,_=b.props,S=_.children,C=_.width,P=_.height,A=b.props.margin||{},E=C-(A.left||0)-(A.right||0),L=gP({children:S,formattedGraphicalItems:N,legendWidth:E,legendContent:u});if(!L)return null;var F=L.item,U=yN(L,Sre);return O.cloneElement(F,K(K({},U),{},{chartWidth:C,chartHeight:P,margin:A,onBBoxUpdate:b.handleLegendBBoxUpdate}))}),ue(b,"renderTooltip",function(){var N,_=b.props,S=_.children,C=_.accessibilityLayer,P=ir(S,en);if(!P)return null;var A=b.state,E=A.isTooltipActive,L=A.activeCoordinate,F=A.activePayload,U=A.activeLabel,T=A.offset,B=(N=P.props.active)!==null&&N!==void 0?N:E;return O.cloneElement(P,{viewBox:K(K({},T),{},{x:T.left,y:T.top}),active:B,label:U,payload:B?F:[],coordinate:L,accessibilityLayer:C})}),ue(b,"renderBrush",function(N){var _=b.props,S=_.margin,C=_.data,P=b.state,A=P.offset,E=P.dataStartIndex,L=P.dataEndIndex,F=P.updateId;return O.cloneElement(N,{key:N.key||"_recharts-brush",onChange:wu(b.handleBrushChange,N.props.onChange),data:C,x:Z(N.props.x)?N.props.x:A.left,y:Z(N.props.y)?N.props.y:A.top+A.height+A.brushBottom-(S.bottom||0),width:Z(N.props.width)?N.props.width:A.width,startIndex:E,endIndex:L,updateId:"brush-".concat(F)})}),ue(b,"renderReferenceElement",function(N,_,S){if(!N)return null;var C=b,P=C.clipPathId,A=b.state,E=A.xAxisMap,L=A.yAxisMap,F=A.offset,U=N.type.defaultProps||{},T=N.props,B=T.xAxisId,M=B===void 0?U.xAxisId:B,z=T.yAxisId,k=z===void 0?U.yAxisId:z;return O.cloneElement(N,{key:N.key||"".concat(_,"-").concat(S),xAxis:E[M],yAxis:L[k],viewBox:{x:F.left,y:F.top,width:F.width,height:F.height},clipPathId:P})}),ue(b,"renderActivePoints",function(N){var _=N.item,S=N.activePoint,C=N.basePoint,P=N.childIndex,A=N.isRange,E=[],L=_.props.key,F=_.item.type.defaultProps!==void 0?K(K({},_.item.type.defaultProps),_.item.props):_.item.props,U=F.activeDot,T=F.dataKey,B=K(K({index:P,dataKey:T,cx:S.x,cy:S.y,r:4,fill:L0(_.item),strokeWidth:2,stroke:"#fff",payload:S.payload,value:S.value},Oe(U,!1)),bd(U));return E.push(p.renderActiveDot(U,B,"".concat(L,"-activePoint-").concat(P))),C?E.push(p.renderActiveDot(U,K(K({},B),{},{cx:C.x,cy:C.y}),"".concat(L,"-basePoint-").concat(P))):A&&E.push(null),E}),ue(b,"renderGraphicChild",function(N,_,S){var C=b.filterFormatItem(N,_,S);if(!C)return null;var P=b.getTooltipEventType(),A=b.state,E=A.isTooltipActive,L=A.tooltipAxis,F=A.activeTooltipIndex,U=A.activeLabel,T=b.props.children,B=ir(T,en),M=C.props,z=M.points,k=M.isRange,I=M.baseLine,D=C.item.type.defaultProps!==void 0?K(K({},C.item.type.defaultProps),C.item.props):C.item.props,V=D.activeDot,Y=D.hide,le=D.activeBar,me=D.activeShape,oe=!!(!Y&&E&&B&&(V||le||me)),ce={};P!=="axis"&&B&&B.props.trigger==="click"?ce={onClick:wu(b.handleItemMouseEnter,N.props.onClick)}:P!=="axis"&&(ce={onMouseLeave:wu(b.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:wu(b.handleItemMouseEnter,N.props.onMouseEnter)});var Q=O.cloneElement(N,K(K({},C.props),ce));function H(Wa){return typeof L.dataKey=="function"?L.dataKey(Wa.payload):null}if(oe)if(F>=0){var J,W;if(L.dataKey&&!L.allowDuplicatedCategory){var ve=typeof L.dataKey=="function"?H:"payload.".concat(L.dataKey.toString());J=vd(z,ve,U),W=k&&I&&vd(I,ve,U)}else J=z==null?void 0:z[F],W=k&&I&&I[F];if(me||le){var fe=N.props.activeIndex!==void 0?N.props.activeIndex:F;return[O.cloneElement(N,K(K(K({},C.props),ce),{},{activeIndex:fe})),null,null]}if(!je(J))return[Q].concat(co(b.renderActivePoints({item:C,activePoint:J,basePoint:W,childIndex:F,isRange:k})))}else{var de,_e=(de=b.getItemByXY(b.state.activeCoordinate))!==null&&de!==void 0?de:{graphicalItem:Q},Ue=_e.graphicalItem,Tr=Ue.item,Mr=Tr===void 0?N:Tr,Bi=Ue.childIndex,hn=K(K(K({},C.props),ce),{},{activeIndex:Bi});return[O.cloneElement(Mr,hn),null,null]}return k?[Q,null,null]:[Q,null]}),ue(b,"renderCustomized",function(N,_,S){return O.cloneElement(N,K(K({key:"recharts-customized-".concat(S)},b.props),b.state))}),ue(b,"renderMap",{CartesianGrid:{handler:Cu,once:!0},ReferenceArea:{handler:b.renderReferenceElement},ReferenceLine:{handler:Cu},ReferenceDot:{handler:b.renderReferenceElement},XAxis:{handler:Cu},YAxis:{handler:Cu},Brush:{handler:b.renderBrush,once:!0},Bar:{handler:b.renderGraphicChild},Line:{handler:b.renderGraphicChild},Area:{handler:b.renderGraphicChild},Radar:{handler:b.renderGraphicChild},RadialBar:{handler:b.renderGraphicChild},Scatter:{handler:b.renderGraphicChild},Pie:{handler:b.renderGraphicChild},Funnel:{handler:b.renderGraphicChild},Tooltip:{handler:b.renderCursor,once:!0},PolarGrid:{handler:b.renderPolarGrid,once:!0},PolarAngleAxis:{handler:b.renderPolarAxis},PolarRadiusAxis:{handler:b.renderPolarAxis},Customized:{handler:b.renderCustomized}}),b.clipPathId="".concat((j=y.id)!==null&&j!==void 0?j:Bc("recharts"),"-clip"),b.throttleTriggeredAfterMouseMove=xC(b.triggeredAfterMouseMove,(w=y.throttleDelay)!==null&&w!==void 0?w:1e3/60),b.state={},b}return Dre(p,v),Tre(p,[{key:"componentDidMount",value:function(){var j,w;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var j=this.props,w=j.children,b=j.data,N=j.height,_=j.layout,S=ir(w,en);if(S){var C=S.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var P=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,A=kg(this.state,b,C,P),E=this.state.tooltipTicks[C].coordinate,L=(this.state.offset.top+N)/2,F=_==="horizontal",U=F?{x:E,y:L}:{y:E,x:L},T=this.state.formattedGraphicalItems.find(function(M){var z=M.item;return z.type.name==="Scatter"});T&&(U=K(K({},U),T.props.points[C].tooltipPosition),A=T.props.points[C].tooltipPayload);var B={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:P,activePayload:A,activeCoordinate:U};this.setState(B),this.renderCursor(S),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(j,w){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==w.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==j.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==j.margin){var b,N;this.accessibilityManager.setDetails({offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(j){lx([ir(j.children,en)],[ir(this.props.children,en)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var j=ir(this.props.children,en);if(j&&typeof j.props.shared=="boolean"){var w=j.props.shared?"axis":"item";return l.indexOf(w)>=0?w:s}return s}},{key:"getMouseInfo",value:function(j){if(!this.container)return null;var w=this.container,b=w.getBoundingClientRect(),N=CW(b),_={chartX:Math.round(j.pageX-N.left),chartY:Math.round(j.pageY-N.top)},S=b.width/w.offsetWidth||1,C=this.inRange(_.chartX,_.chartY,S);if(!C)return null;var P=this.state,A=P.xAxisMap,E=P.yAxisMap,L=this.getTooltipEventType(),F=bN(this.state,this.props.data,this.props.layout,C);if(L!=="axis"&&A&&E){var U=aa(A).scale,T=aa(E).scale,B=U&&U.invert?U.invert(_.chartX):null,M=T&&T.invert?T.invert(_.chartY):null;return K(K({},_),{},{xValue:B,yValue:M},F)}return F?K(K({},_),F):null}},{key:"inRange",value:function(j,w){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,_=j/b,S=w/b;if(N==="horizontal"||N==="vertical"){var C=this.state.offset,P=_>=C.left&&_<=C.left+C.width&&S>=C.top&&S<=C.top+C.height;return P?{x:_,y:S}:null}var A=this.state,E=A.angleAxisMap,L=A.radiusAxisMap;if(E&&L){var F=aa(E);return aw({x:_,y:S},F)}return null}},{key:"parseEventsOfWrapper",value:function(){var j=this.props.children,w=this.getTooltipEventType(),b=ir(j,en),N={};b&&w==="axis"&&(b.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var _=bd(this.props,this.handleOuterEvent);return K(K({},_),N)}},{key:"addListener",value:function(){Dm.on(Lm,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Dm.removeListener(Lm,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(j,w,b){for(var N=this.state.formattedGraphicalItems,_=0,S=N.length;_<S;_++){var C=N[_];if(C.item===j||C.props.key===j.key||w===Tn(C.item.type)&&b===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var j=this.clipPathId,w=this.state.offset,b=w.left,N=w.top,_=w.height,S=w.width;return R.createElement("defs",null,R.createElement("clipPath",{id:j},R.createElement("rect",{x:b,y:N,height:_,width:S})))}},{key:"getXScales",value:function(){var j=this.state.xAxisMap;return j?Object.entries(j).reduce(function(w,b){var N=gN(b,2),_=N[0],S=N[1];return K(K({},w),{},ue({},_,S.scale))},{}):null}},{key:"getYScales",value:function(){var j=this.state.yAxisMap;return j?Object.entries(j).reduce(function(w,b){var N=gN(b,2),_=N[0],S=N[1];return K(K({},w),{},ue({},_,S.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(j){var w;return(w=this.state.xAxisMap)===null||w===void 0||(w=w[j])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(j){var w;return(w=this.state.yAxisMap)===null||w===void 0||(w=w[j])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(j){var w=this.state,b=w.formattedGraphicalItems,N=w.activeItem;if(b&&b.length)for(var _=0,S=b.length;_<S;_++){var C=b[_],P=C.props,A=C.item,E=A.type.defaultProps!==void 0?K(K({},A.type.defaultProps),A.props):A.props,L=Tn(A.type);if(L==="Bar"){var F=(P.data||[]).find(function(M){return hY(j,M)});if(F)return{graphicalItem:C,payload:F}}else if(L==="RadialBar"){var U=(P.data||[]).find(function(M){return aw(j,M)});if(U)return{graphicalItem:C,payload:U}}else if(Sh(C,N)||Oh(C,N)||gc(C,N)){var T=xZ({graphicalItem:C,activeTooltipItem:N,itemData:E.data}),B=E.activeIndex===void 0?T:E.activeIndex;return{graphicalItem:K(K({},C),{},{childIndex:B}),payload:gc(C,N)?E.data[T]:C.props.data[T]}}}return null}},{key:"render",value:function(){var j=this;if(!Gb(this))return null;var w=this.props,b=w.children,N=w.className,_=w.width,S=w.height,C=w.style,P=w.compact,A=w.title,E=w.desc,L=yN(w,Ore),F=Oe(L,!1);if(P)return R.createElement(Jw,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},R.createElement(ux,ss({},F,{width:_,height:S,title:A,desc:E}),this.renderClipPath(),Qb(b,this.renderMap)));if(this.props.accessibilityLayer){var U,T;F.tabIndex=(U=this.props.tabIndex)!==null&&U!==void 0?U:0,F.role=(T=this.props.role)!==null&&T!==void 0?T:"application",F.onKeyDown=function(M){j.accessibilityManager.keyboardEvent(M)},F.onFocus=function(){j.accessibilityManager.focus()}}var B=this.parseEventsOfWrapper();return R.createElement(Jw,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},R.createElement("div",ss({className:Ce("recharts-wrapper",N),style:K({position:"relative",cursor:"default",width:_,height:S},C)},B,{ref:function(z){j.container=z}}),R.createElement(ux,ss({},F,{width:_,height:S,title:A,desc:E,style:Wre}),this.renderClipPath(),Qb(b,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(O.Component);ue(x,"displayName",r),ue(x,"defaultProps",K({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),ue(x,"getDerivedStateFromProps",function(v,p){var y=v.dataKey,j=v.data,w=v.children,b=v.width,N=v.height,_=v.layout,S=v.stackOffset,C=v.margin,P=p.dataStartIndex,A=p.dataEndIndex;if(p.updateId===void 0){var E=jN(v);return K(K(K({},E),{},{updateId:0},m(K(K({props:v},E),{},{updateId:0}),p)),{},{prevDataKey:y,prevData:j,prevWidth:b,prevHeight:N,prevLayout:_,prevStackOffset:S,prevMargin:C,prevChildren:w})}if(y!==p.prevDataKey||j!==p.prevData||b!==p.prevWidth||N!==p.prevHeight||_!==p.prevLayout||S!==p.prevStackOffset||!ms(C,p.prevMargin)){var L=jN(v),F={chartX:p.chartX,chartY:p.chartY,isTooltipActive:p.isTooltipActive},U=K(K({},bN(p,j,_)),{},{updateId:p.updateId+1}),T=K(K(K({},L),F),U);return K(K(K({},T),m(K({props:v},T),p)),{},{prevDataKey:y,prevData:j,prevWidth:b,prevHeight:N,prevLayout:_,prevStackOffset:S,prevMargin:C,prevChildren:w})}if(!lx(w,p.prevChildren)){var B,M,z,k,I=ir(w,Zs),D=I&&(B=(M=I.props)===null||M===void 0?void 0:M.startIndex)!==null&&B!==void 0?B:P,V=I&&(z=(k=I.props)===null||k===void 0?void 0:k.endIndex)!==null&&z!==void 0?z:A,Y=D!==P||V!==A,le=!je(j),me=le&&!Y?p.updateId:p.updateId+1;return K(K({updateId:me},m(K(K({props:v},p),{},{updateId:me,dataStartIndex:D,dataEndIndex:V}),p)),{},{prevChildren:w,dataStartIndex:D,dataEndIndex:V})}return null}),ue(x,"renderActiveDot",function(v,p,y){var j;return O.isValidElement(v)?j=O.cloneElement(v,p):be(v)?j=v(p):j=R.createElement(B0,p),R.createElement(it,{className:"recharts-active-dot",key:y},j)});var g=O.forwardRef(function(p,y){return R.createElement(x,ss({},p,{ref:y}))});return g.displayName=x.displayName,g},ene=Jre({chartName:"LineChart",GraphicalChild:io,axisComponents:[{axisType:"xAxis",AxisComp:$h},{axisType:"yAxis",AxisComp:wc}],formatAxisMap:zJ});function tne({data:e,isLoading:t}){const[r,n]=O.useState("table");if(t)return a.jsx(ne,{title:"Monthly Breakdown",children:a.jsx("div",{className:"space-y-2",children:[1,2,3,4,5].map(s=>a.jsx("div",{className:"flex gap-4 py-2",children:[1,2,3,4,5,6].map(o=>a.jsx(ge,{className:"h-4 flex-1"},o))},s))})});if(!e||e.length===0)return a.jsx(ne,{title:"Monthly Breakdown",children:a.jsx("div",{className:"text-gray-500 text-center py-8",children:"No monthly data available"})});const i=[...e].reverse().map(s=>({month:s.month,saleAmount:s.sale_amount,acceptRate:s.acceptance_rate}));return a.jsxs(ne,{title:"Monthly Breakdown",children:[a.jsxs("div",{className:"flex gap-1 border-b border-gray-200 mb-4",children:[a.jsx("button",{onClick:()=>n("table"),className:`px-4 py-2 text-sm font-medium border-b-2 -mb-px transition-colors ${r==="table"?"text-blue-600 border-blue-600":"text-gray-500 border-transparent hover:text-gray-700 hover:border-gray-300"}`,children:"Table"}),a.jsx("button",{onClick:()=>n("chart"),className:`px-4 py-2 text-sm font-medium border-b-2 -mb-px transition-colors ${r==="chart"?"text-blue-600 border-blue-600":"text-gray-500 border-transparent hover:text-gray-700 hover:border-gray-300"}`,children:"Chart"})]}),r==="table"&&a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"text-left py-2 px-3 font-medium text-gray-600",children:"Month"}),a.jsx("th",{className:"text-right py-2 px-3 font-medium text-gray-600",children:"Total"}),a.jsx("th",{className:"text-right py-2 px-3 font-medium text-gray-600",children:"Approved"}),a.jsx("th",{className:"text-right py-2 px-3 font-medium text-gray-600",children:"Declined"}),a.jsx("th",{className:"text-right py-2 px-3 font-medium text-gray-600",children:"Accept Rate"}),a.jsx("th",{className:"text-right py-2 px-3 font-medium text-gray-600 border-l border-gray-200",children:"Sales"}),a.jsx("th",{className:"text-right py-2 px-3 font-medium text-gray-600",children:"Sales Amount"}),a.jsx("th",{className:"text-right py-2 px-3 font-medium text-gray-600",children:"Payouts"}),a.jsx("th",{className:"text-right py-2 px-3 font-medium text-gray-600",children:"Payout Amount"}),a.jsx("th",{className:"text-right py-2 px-3 font-medium text-gray-600",children:"Reversals"}),a.jsx("th",{className:"text-right py-2 px-3 font-medium text-gray-600",children:"Reversal Amount"})]})}),a.jsx("tbody",{children:e.map(s=>a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[a.jsx("td",{className:"py-2 px-3 font-medium",children:s.month}),a.jsx("td",{className:"py-2 px-3 text-right",children:Ne(s.total_count)}),a.jsx("td",{className:"py-2 px-3 text-right text-green-600",children:Ne(s.approved_count)}),a.jsx("td",{className:"py-2 px-3 text-right text-red-600",children:Ne(s.declined_count)}),a.jsx("td",{className:"py-2 px-3 text-right font-medium",children:lt(s.acceptance_rate)}),a.jsx("td",{className:"py-2 px-3 text-right border-l border-gray-200 text-blue-600",children:Ne(s.sale_count)}),a.jsx("td",{className:"py-2 px-3 text-right text-blue-600",children:q(s.sale_amount)}),a.jsx("td",{className:"py-2 px-3 text-right text-purple-600",children:Ne(s.payout_count)}),a.jsx("td",{className:"py-2 px-3 text-right text-purple-600",children:q(s.payout_amount)}),a.jsx("td",{className:"py-2 px-3 text-right text-amber-600",children:Ne(s.reversal_count)}),a.jsx("td",{className:"py-2 px-3 text-right text-amber-600",children:q(s.reversal_amount)})]},s.month))})]})}),r==="chart"&&a.jsx("div",{className:"h-[400px]",children:a.jsx(bW,{width:"100%",height:"100%",children:a.jsxs(ene,{data:i,margin:{top:20,right:30,left:20,bottom:20},children:[a.jsx(fA,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),a.jsx($h,{dataKey:"month",tick:{fontSize:12},tickLine:!1}),a.jsx(wc,{yAxisId:"left",tick:{fontSize:12},tickLine:!1,tickFormatter:s=>s>=1e6?`${(s/1e6).toFixed(1)}M`:s>=1e3?`${(s/1e3).toFixed(0)}K`:s.toString()}),a.jsx(wc,{yAxisId:"right",orientation:"right",tick:{fontSize:12},tickLine:!1,tickFormatter:s=>`${s.toFixed(0)}%`,domain:[0,100]}),a.jsx(en,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"},formatter:(s,o)=>o==="Sales Amount"?[q(s),o]:o==="Accept Rate"?[`${s.toFixed(1)}%`,o]:[s,o]}),a.jsx(xi,{}),a.jsx(io,{yAxisId:"left",type:"monotone",dataKey:"saleAmount",name:"Sales Amount",stroke:"#3b82f6",strokeWidth:2,dot:{r:4},activeDot:{r:6}}),a.jsx(io,{yAxisId:"right",type:"monotone",dataKey:"acceptRate",name:"Accept Rate",stroke:"#22c55e",strokeWidth:2,dot:{r:4},activeDot:{r:6}})]})})})]})}function rne(){return a.jsx(ne,{title:"Rate Plan Dynamics",className:"mb-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx(ge,{className:"h-8 w-full"}),a.jsx(ge,{className:"h-32 w-full"}),a.jsx(ge,{className:"h-16 w-full"})]})})}function NN(e){return e>=95?"text-green-700":e>=80?"text-yellow-700":"text-red-700"}function _N(e){return e>=95?"bg-green-50":e>=80?"bg-yellow-50":"bg-red-50"}function SN(e){if(!e)return"";const t=e.min_rate===e.max_rate?`${e.min_rate.toFixed(2)}%`:`${e.min_rate.toFixed(2)}% - ${e.max_rate.toFixed(2)}%`,r=e.min_fixed===e.max_fixed?`${e.min_fixed.toFixed(2)}`:`${e.min_fixed.toFixed(2)} - ${e.max_fixed.toFixed(2)}`;return`Rate: ${t}
Fixed: ${r}`}function nne(e){return{card:"Card",apple_pay:"Apple Pay",google_pay:"Google Pay",blik:"BLIK",openbanking:"Open Banking",sepa:"SEPA",crypto:"Crypto"}[e.toLowerCase()]||e}function Jo(e){const[t,r]=e.split("-");return new Date(parseInt(t),parseInt(r),0).getDate()}function ane({merchantId:e,planId:t,plan:r,months:n}){const[i,s]=O.useState(!0),[o,l]=O.useState(!1),[c,u]=O.useState(new Set),{data:f,isLoading:d}=pe({queryKey:["merchant-dynamics",e],queryFn:()=>ie.getMerchantDynamics(e),enabled:!!e,staleTime:3e5}),{data:h,isLoading:m}=pe({queryKey:["plan-dynamics",e,t],queryFn:()=>ie.getPlanDynamics(e,t),enabled:!!e&&!!t,staleTime:3e5}),x=k=>{u(I=>{const D=new Set(I);return D.has(k)?D.delete(k):D.add(k),D})},g=k=>{const[I,D]=k.split("-");return`${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][parseInt(D,10)-1]}'${I.slice(2)}`},v=k=>{var I,D;return((D=(I=h==null?void 0:h.monthly)==null?void 0:I[k])==null?void 0:D.total)||0},p=(k,I)=>{var D,V,Y;return((Y=(V=(D=h==null?void 0:h.monthly)==null?void 0:D[I])==null?void 0:V.variants)==null?void 0:Y[k])||0},y=(k,I)=>{var D,V,Y;return((Y=(V=(D=h==null?void 0:h.daily)==null?void 0:D[k])==null?void 0:V[I])==null?void 0:Y.total)||0},j=(k,I,D)=>{var V,Y,le,me;return((me=(le=(Y=(V=h==null?void 0:h.daily)==null?void 0:V[I])==null?void 0:Y[D])==null?void 0:le.variants)==null?void 0:me[k])||0},w=O.useMemo(()=>{if(!(h!=null&&h.monthly))return{first:n[0],last:n[n.length-1]};const k=Object.keys(h.monthly).filter(I=>h.monthly[I].total>0).sort();return k.length===0?{first:n[0],last:n[n.length-1]}:{first:k[0],last:k[k.length-1]}},[h,n]),b=O.useMemo(()=>f!=null&&f.plans&&f.plans.find(k=>k.plan_id===t)||null,[f,t]),N=O.useMemo(()=>h!=null&&h.variants?Object.entries(h.variants).map(([k,I])=>{var D,V;return{variant_id:k,rate:I.rate,fixed:I.fixed,total_count:I.total_count,label:((D=r.variants.find(Y=>String(Y.variant_id)===k))==null?void 0:D.label)||`variant_${k}`,confidence:((V=r.variants.find(Y=>String(Y.variant_id)===k))==null?void 0:V.confidence)||0}}).sort((k,I)=>I.total_count-k.total_count):[],[h,r.variants]),_=O.useMemo(()=>n.map(k=>({month:k,expanded:c.has(k),colSpan:c.has(k)?Jo(k):1})),[n,c]);if(d||m)return a.jsx(rne,{});const{first:C,last:P}=w,A=n.indexOf(C),E=n.indexOf(P),L=N.length>1,F=b==null?void 0:b.coverage,U=(F==null?void 0:F.gate_types)||[],T=F&&(F.currencies.length>0||F.countries.length>0||U.length>0),B=k=>{const I=n.indexOf(k);return I>=A&&I<=E},M=(k,I)=>{var D,V,Y;return(((Y=(V=(D=h==null?void 0:h.monthly)==null?void 0:D[I])==null?void 0:V.variants)==null?void 0:Y[k])||0)>0},z=Object.values((h==null?void 0:h.monthly)||{}).reduce((k,I)=>k+I.total,0);return a.jsxs(ne,{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Rate Plan Dynamics"}),T&&a.jsxs("span",{className:"relative inline-flex items-center",children:[a.jsx("button",{onClick:k=>{k.stopPropagation(),l(!o)},className:`p-0.5 rounded hover:bg-gray-200 ${o?"bg-blue-100":""}`,children:a.jsx(vo,{className:`w-4 h-4 ${o?"text-blue-600":"text-gray-400 hover:text-gray-600"}`})}),o&&a.jsxs("div",{className:"absolute left-0 top-full mt-1 z-50 bg-white border shadow-xl rounded-md p-2.5 min-w-[220px] text-xs",onClick:k=>k.stopPropagation(),children:[a.jsx("div",{className:"font-medium text-gray-700 mb-2",children:"Coverage"}),U.length>0&&a.jsxs("div",{className:"mb-2",children:[a.jsx("div",{className:"text-gray-500 text-[10px] mb-1",children:"Payment Method"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:U.map(k=>a.jsx("span",{className:"px-1.5 py-0.5 bg-purple-100 text-purple-700 rounded text-[10px] font-medium",children:nne(k)},k))})]}),F&&F.currencies.length>0&&a.jsxs("div",{className:"mb-2",children:[a.jsx("div",{className:"text-gray-500 text-[10px] mb-1",children:"Currencies"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:F.currencies.map(k=>a.jsx("span",{className:"px-1.5 py-0.5 bg-green-100 text-green-700 rounded text-[10px] font-medium",children:k},k))})]}),F&&F.countries.length>0&&a.jsxs("div",{children:[a.jsxs("div",{className:"text-gray-500 text-[10px] mb-1",children:["Countries (",F.countries.length,")"]}),a.jsx("div",{className:"flex flex-wrap gap-0.5 max-w-[280px]",children:F.countries.map(k=>a.jsx("span",{className:"px-1 py-0.5 bg-orange-100 text-orange-700 rounded text-[10px]",children:k},k))})]})]})]})]}),a.jsxs("div",{className:"text-sm text-gray-500",children:[z.toLocaleString()," transactions"]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-xs border-collapse min-w-max",children:[a.jsxs("thead",{children:[a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"text-left py-2 px-2 font-medium text-gray-600 sticky left-0 z-20 bg-white min-w-[200px]",rowSpan:2,children:"Variant"}),a.jsx("th",{className:"text-left py-2 px-2 font-medium text-gray-600 sticky left-[200px] z-20 bg-white min-w-[90px]",rowSpan:2,children:"Commission"}),a.jsx("th",{className:"text-center py-2 px-2 font-medium text-gray-600 sticky left-[290px] z-20 bg-white min-w-[50px] shadow-[2px_0_4px_-2px_rgba(0,0,0,0.1)]",rowSpan:2,children:"Txns"}),_.map(({month:k,expanded:I,colSpan:D})=>{const V=B(k);return a.jsx("th",{colSpan:D,className:`text-center py-1 px-1 font-medium border-l border-gray-100 first:border-l-0 ${V?"text-gray-700 bg-gray-50":"text-gray-400"}`,style:{minWidth:I?D*28:68},children:a.jsxs("button",{onClick:()=>V&&x(k),disabled:!V,className:`inline-flex items-center gap-1 px-1 py-0.5 rounded ${V?"hover:bg-gray-200 cursor-pointer":"cursor-default"}`,children:[V&&(I?a.jsx(Ge,{className:"w-3 h-3"}):a.jsx(Qr,{className:"w-3 h-3"})),a.jsx("span",{children:g(k)})]})},k)})]}),a.jsx("tr",{className:"border-b border-gray-100",children:_.map(({month:k,expanded:I})=>{if(!I)return null;const D=Jo(k),V=B(k);return Array.from({length:D},(Y,le)=>le+1).map(Y=>a.jsx("th",{className:`text-center py-0.5 px-0 font-normal text-[10px] ${V?"text-gray-500":"text-gray-300"}`,style:{minWidth:28,maxWidth:32},children:Y},`${k}-${Y}`))})})]}),a.jsxs("tbody",{children:[a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50 group",children:[a.jsx("td",{className:"py-1.5 px-2 font-medium text-gray-900 sticky left-0 z-10 bg-white group-hover:bg-gray-50",children:a.jsxs("div",{className:"flex items-center gap-1",children:[L&&a.jsx("button",{onClick:()=>s(!i),className:"p-0.5 hover:bg-gray-200 rounded",children:i?a.jsx(Ge,{className:"w-3 h-3"}):a.jsx(Qr,{className:"w-3 h-3"})}),a.jsx("span",{children:"All Variants"})]})}),a.jsx("td",{className:"py-1.5 px-2 text-gray-700 font-medium sticky left-[200px] z-10 bg-white group-hover:bg-gray-50",children:r.formula}),a.jsx("td",{className:"py-1.5 px-2 text-center font-medium sticky left-[290px] z-10 bg-white group-hover:bg-gray-50 shadow-[2px_0_4px_-2px_rgba(0,0,0,0.1)] text-gray-700",children:Ne(z)}),_.map(({month:k,expanded:I})=>{var Q;const D=n.indexOf(k),V=D>=A&&D<=E,Y=D===A,le=D===E;if(!V){if(I){const H=Jo(k);return Array.from({length:H},(J,W)=>a.jsx("td",{className:"py-1.5 px-0 text-center text-gray-300",style:{minWidth:28,maxWidth:32},children:"-"},`${k}-day-${W+1}`))}return a.jsx("td",{className:"py-1.5 px-1 text-center text-gray-300",style:{minWidth:68,maxWidth:80},children:"-"},k)}if(I){const H=Jo(k);return Array.from({length:H},(J,W)=>{const ve=W+1,fe=ve.toString().padStart(2,"0"),de=y(k,fe),_e=W===0,Ue=W===H-1;return a.jsx("td",{className:`py-1.5 px-0 text-center ${de?"bg-blue-50 text-blue-800 font-medium":"bg-gray-50 text-gray-400"} ${Y&&_e?"rounded-l":""} ${le&&Ue?"rounded-r":""}`,style:{minWidth:28,maxWidth:32},title:`${k}-${fe}: ${de} txns`,children:a.jsx("span",{className:"text-[10px]",children:de?Ne(de):"-"})},`${k}-day-${ve}`)})}const me=v(k),oe=(Q=b==null?void 0:b.monthly_commission)==null?void 0:Q[k],ce=SN(oe);return a.jsx("td",{className:`py-1.5 px-1 text-center ${me?"bg-blue-50 text-blue-800 font-medium":"bg-gray-100 text-gray-400"} ${Y?"rounded-l":""} ${le?"rounded-r":""}`,style:{minWidth:68,maxWidth:80},title:ce,children:ce?a.jsx("span",{className:"cursor-help border-b border-dotted border-current",children:me?Ne(me):"0"}):me?Ne(me):"0"},k)})]}),L&&i&&N.map(k=>{var V;const I=k.variant_id,D=k.confidence||50;return a.jsxs("tr",{className:"border-b border-gray-50",children:[a.jsx("td",{className:"py-1 px-2 pl-8 text-gray-600 sticky left-0 z-10 bg-gray-50",children:a.jsx("span",{className:k.label==="contract"||(V=k.label)!=null&&V.startsWith("contract (")&&!k.label.includes("+")&&!k.label.toLowerCase().includes("min")?"text-green-600 font-medium":"text-gray-400",children:k.label||`Variant #${I}`})}),a.jsxs("td",{className:"py-1 px-2 text-gray-600 sticky left-[200px] z-10 bg-gray-50",children:[k.rate,"% + ",k.fixed]}),a.jsx("td",{className:"py-1 px-2 text-center sticky left-[290px] z-10 bg-gray-50 shadow-[2px_0_4px_-2px_rgba(0,0,0,0.1)] text-gray-600",children:Ne(k.total_count)}),_.map(({month:Y,expanded:le})=>{var fe;const me=B(Y),oe=Jo(Y);if(!me)return le?Array.from({length:oe},(de,_e)=>a.jsx("td",{className:"py-1 px-0 text-center text-gray-300",style:{minWidth:28,maxWidth:32},children:"-"},`${Y}-day-${_e+1}`)):a.jsx("td",{className:"py-1 px-1 text-center text-gray-300",style:{minWidth:68,maxWidth:80},children:"-"},Y);const ce=M(I,Y),Q=ce,H=ce;if(le)return Array.from({length:oe},(de,_e)=>{const Ue=_e+1,Tr=Ue.toString().padStart(2,"0"),Mr=j(I,Y,Tr),Bi=_e===0,hn=_e===oe-1;return a.jsx("td",{className:`py-1 px-0 text-center ${Mr?`${_N(D)} ${NN(D)}`:"bg-gray-50 text-gray-400"} ${Q&&Bi?"rounded-l":""} ${H&&hn?"rounded-r":""}`,style:{minWidth:28,maxWidth:32},title:`${Y}-${Tr}: ${Mr} txns`,children:a.jsx("span",{className:"text-[10px]",children:Mr?Ne(Mr):"-"})},`${Y}-day-${Ue}`)});const J=p(I,Y),W=(fe=b==null?void 0:b.monthly_commission)==null?void 0:fe[Y],ve=SN(W);return a.jsx("td",{className:`py-1 px-1 text-center ${J?`${_N(D)} ${NN(D)}`:"bg-gray-100 text-gray-400"} ${Q?"rounded-l":""} ${H?"rounded-r":""}`,style:{minWidth:68,maxWidth:80},title:ve,children:ve?a.jsx("span",{className:"cursor-help border-b border-dotted border-current",children:J?Ne(J):"0"}):J?Ne(J):"0"},Y)})]},`variant-${I}`)})]})]})})]})}const rr=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],AA=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],kA={zeroDisplay:.5,zeroColor:1,caseClickable:.5};function ine(e){const t=Math.abs(e);return t<1?"0":t>=1e6?(e/1e6).toFixed(1)+"M":t>=1e3?(e/1e3).toFixed(1)+"K":Math.round(e).toLocaleString()}function Bm(e,t=.5){return Math.abs(e)<t?"0":(e>0?"+":"")+ine(e)}function zm(e,t=.5){return Math.abs(e)<t?"0":(e>0?"+":"")+new Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:0}).format(Math.round(e))}function jn(e,t=1){return Math.abs(e)<t?"text-gray-400":e>0?"text-green-600":"text-red-600"}function ON(e,t=1){return Math.abs(e)<t?"":e>0?"bg-green-50":"bg-red-50"}function sne({case_:e,thresholds:t}){const r=e.investigationId?`/investigate/${e.investigationId}`:void 0;return a.jsxs("div",{className:G("rounded-lg border p-3",e.deviation>0?"border-green-200 bg-green-50/50":"border-red-200 bg-red-50/50"),children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{children:[e.investigationId&&a.jsx("span",{className:"text-[10px] font-mono text-gray-400 block mb-0.5",children:e.investigationId}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:e.title})]}),a.jsx("span",{className:G("text-sm font-semibold",jn(e.deviation,t.zeroColor)),children:q(e.deviation)})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-xs",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Part"}),a.jsx("span",{className:"text-gray-700",children:e.partLabel})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Period"}),a.jsxs("span",{className:"text-gray-700",children:[e.periodFrom,"  ",e.periodTo]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Contract"}),a.jsxs("span",{className:"text-gray-700",children:[e.contractRate.toFixed(2),"%"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Actual"}),a.jsxs("span",{className:G("font-medium",e.actualRate!==e.contractRate?jn(e.deviation,t.zeroColor):"text-gray-700"),children:[e.actualRate.toFixed(2),"%"]})]})]}),a.jsx("div",{className:"mt-2 pt-2 border-t border-gray-200/50",children:r?a.jsx(De,{to:r,className:"text-xs text-blue-600 hover:text-blue-800 font-medium",children:"Investigate "}):a.jsx("span",{className:"text-xs text-gray-400",children:"No investigation available"})})]})}function one({merchant:e,monthKey:t,cell:r,selectedYear:n,thresholds:i,onClose:s}){const o=O.useRef(null);O.useEffect(()=>{const d=h=>{h.key==="Escape"&&s()};return document.addEventListener("keydown",d),()=>document.removeEventListener("keydown",d)},[s]);const l=rr.indexOf(t),c=l>=0?AA[l]:t,u=r.cases.filter(d=>Math.abs(d.deviation)>i.caseClickable),f=r.cases.filter(d=>Math.abs(d.deviation)<=i.caseClickable);return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 bg-black/20 z-40",onClick:s}),a.jsxs("div",{ref:o,className:"fixed right-0 top-0 h-full w-[420px] bg-white shadow-2xl z-50 flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:e.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:[c," ",n]})]}),a.jsx("button",{onClick:s,className:"p-1.5 rounded-lg hover:bg-gray-100 transition-colors",children:a.jsx(Wt,{className:"h-5 w-5 text-gray-400"})})]}),a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Total deviation"}),a.jsx("span",{className:G("font-semibold",jn(r.deviation,i.zeroColor)),children:q(r.deviation)})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Turnover"}),a.jsx("span",{className:"font-medium text-gray-900",children:q(r.turnover)})]}),r.hasRateChange&&r.rateChangeInfo&&a.jsx("div",{className:"text-xs text-gray-600 bg-gray-100 px-2 py-1 rounded",children:r.rateChangeInfo})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:[u.length>0&&a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"text-xs font-medium text-gray-500 uppercase mb-3",children:["Deviations (",u.length,")"]}),a.jsx("div",{className:"space-y-3",children:u.map(d=>a.jsx(sne,{case_:d,thresholds:i},d.id))})]}),f.length>0&&a.jsxs("div",{children:[a.jsxs("div",{className:"text-xs font-medium text-gray-400 uppercase mb-3",children:["No deviation (",f.length,")"]}),a.jsx("div",{className:"space-y-2",children:f.map(d=>a.jsxs("div",{className:"text-xs text-gray-400 flex justify-between py-1",children:[a.jsx("span",{children:d.partLabel}),a.jsxs("span",{children:[d.contractRate.toFixed(2),"%  ",d.periodFrom,"  ",d.periodTo]})]},d.id))})]})]})]})]})}function lne({title:e,subtitle:t,merchants:r,selectedYear:n,yearTabs:i,onYearChange:s,thresholds:o=kA}){const[l,c]=O.useState(null),u=r.map(w=>{var N,_;if(!((N=w.subMerchants)!=null&&N.length))return w;const b={};for(const S of rr){const C=w.subMerchants.map(P=>P.months[S]).filter(Boolean);if(C.length===0){b[S]=null;continue}b[S]={turnover:C.reduce((P,A)=>P+A.turnover,0),commission:C.reduce((P,A)=>P+A.commission,0),deviation:C.reduce((P,A)=>P+A.deviation,0),cases:C.flatMap(P=>P.cases),hasRateChange:C.some(P=>P.hasRateChange),rateChangeInfo:(_=C.find(P=>P.rateChangeInfo))==null?void 0:_.rateChangeInfo}}return{...w,months:b}}),f=r.flatMap(w=>{var b;return(b=w.subMerchants)!=null&&b.length?w.subMerchants:[w]}),d=u.map(w=>{let b=0;for(const N of rr){const _=w.months[N];_&&(b+=_.deviation)}return b}),h=f.reduce((w,b)=>{var _;let N=0;for(const S of rr)N+=((_=b.months[S])==null?void 0:_.deviation)??0;return w+N},0),m=rr.map(w=>f.reduce((b,N)=>{var _;return b+(((_=N.months[w])==null?void 0:_.deviation)??0)},0)),x=f.reduce((w,b)=>{var _;let N=0;for(const S of rr)N+=((_=b.months[S])==null?void 0:_.turnover)??0;return w+N},0),g=f.reduce((w,b)=>{var _;let N=0;for(const S of rr)N+=((_=b.months[S])==null?void 0:_.commission)??0;return w+N},0),v=f.length,p="w-[260px] min-w-[260px]",y="w-[100px] min-w-[100px]",j="w-[80px] min-w-[80px]";return a.jsxs(a.Fragment,{children:[a.jsxs(ne,{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(ix,{className:"h-6 w-6 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:e}),a.jsx("p",{className:"text-sm text-gray-500",children:t})]})]}),a.jsxs("div",{className:"text-right text-sm text-gray-500",children:[v," merchants"]})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[a.jsx(wr,{label:"Merchants",value:String(v),variant:"default"}),a.jsx(wr,{label:"Total Turnover",value:q(x),variant:"default"}),a.jsx(wr,{label:"Total Commission",value:q(g),variant:"default"}),a.jsx(wr,{label:"Deviation",value:q(h),variant:Math.abs(h)<o.zeroColor?"default":h<0?"danger":"success"})]})]}),a.jsx("div",{className:"flex items-center gap-3 mb-4",children:a.jsx("div",{className:"flex bg-gray-100 rounded-lg p-0.5",children:i.map(w=>a.jsx("button",{onClick:()=>i.length>1&&s(w),className:G("px-3 py-1.5 text-sm font-medium rounded-md transition-colors",w===n?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"),children:w},w))})}),a.jsx(ne,{className:"p-0",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-300",children:[a.jsx("th",{className:G("sticky left-0 z-20 bg-white px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",p),children:"Merchant"}),a.jsx("th",{className:G("sticky left-[260px] z-20 bg-white px-3 py-3 text-right text-xs font-medium text-gray-500 uppercase border-l border-r border-gray-200",y),children:"Total"}),AA.map(w=>a.jsx("th",{className:G("px-3 py-3 text-right text-xs font-medium text-gray-400 uppercase",j),children:w},w))]})}),a.jsxs("tbody",{children:[a.jsxs("tr",{className:"bg-gray-50 border-b border-gray-300 font-semibold",children:[a.jsx("td",{className:G("sticky left-0 z-10 bg-gray-50 px-4 py-3 text-sm text-gray-900",p),children:"ALL MERCHANTS"}),a.jsx("td",{className:G("sticky left-[260px] z-10 bg-gray-50 px-3 py-3 text-sm text-right border-l border-r border-gray-200",y,jn(h,o.zeroColor)),children:zm(h,o.zeroDisplay)}),m.map((w,b)=>{const N=f.some(_=>_.months[rr[b]]!=null);return a.jsx("td",{className:G("px-3 py-3 text-sm text-right",j,N?jn(w,o.zeroColor):"text-gray-300"),children:N?Bm(w,o.zeroDisplay):""},b)})]}),u.map((w,b)=>{var P;const N=d[b],_=!!((P=w.subMerchants)!=null&&P.length),S=r[b],C=_?S.subMerchants.map(A=>{var L;let E=0;for(const F of rr)E+=((L=A.months[F])==null?void 0:L.deviation)??0;return E}):[];return a.jsxs(R.Fragment,{children:[a.jsxs("tr",{className:G("border-b border-gray-200 hover:bg-gray-50/50 transition-colors",_&&"bg-blue-50/30"),children:[a.jsx("td",{className:G("sticky left-0 z-10 px-4 py-3",p,_?"bg-blue-50/30":"bg-white"),children:a.jsxs(De,{to:`/merchant/${w.id}`,className:"block group",children:[a.jsx("span",{className:G("text-sm font-medium group-hover:text-blue-600 transition-colors",_?"text-blue-900":"text-gray-900"),children:w.name}),a.jsxs("div",{className:"text-[11px] text-gray-400 mt-0.5",children:[w.legalName,"  ",w.contract]})]})}),a.jsx("td",{className:G("sticky left-[260px] z-10 px-3 py-3 text-sm text-right font-semibold border-l border-r border-gray-200",y,_?"bg-blue-50/30":"bg-white",jn(N,o.zeroColor)),children:zm(N,o.zeroDisplay)}),(()=>{const A=rr.find(E=>{var L;return(L=w.months[E])==null?void 0:L.hasRateChange});return rr.map(E=>{const L=w.months[E]??null;if(!L)return a.jsx("td",{className:G("px-3 py-3 text-sm text-right text-gray-300",j),children:""},E);const F=E===A,U=L.cases.some(T=>Math.abs(T.deviation)>o.caseClickable);return a.jsxs("td",{className:G("px-3 py-3 text-sm text-right relative",j,jn(L.deviation,o.zeroColor),ON(L.deviation,o.zeroColor),F&&"border-l-2 border-l-gray-400",U&&"cursor-pointer hover:bg-gray-100 transition-colors"),onClick:()=>{U&&c({merchant:w,monthKey:E,cell:L})},children:[F&&a.jsxs("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 flex items-center",children:[a.jsx("div",{className:"w-[6px] h-[2px] bg-gray-400"}),a.jsx("div",{style:{width:0,height:0,borderTop:"6px solid transparent",borderBottom:"6px solid transparent",borderLeft:"6px solid rgb(156 163 175)"}})]}),Bm(L.deviation,o.zeroDisplay)]},E)})})()]}),_&&S.subMerchants.map((A,E)=>{const L=C[E],F=E===S.subMerchants.length-1;return a.jsxs("tr",{className:G("border-b transition-colors hover:bg-gray-50/50",F?"border-gray-200":"border-gray-100"),children:[a.jsx("td",{className:G("sticky left-0 z-10 bg-white px-4 py-2",p),children:a.jsx(De,{to:`/merchant/${A.id}`,className:"block group",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"text-gray-300 font-mono text-xs mr-2 mt-0.5 select-none shrink-0",children:F?"":""}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-700 group-hover:text-blue-600 transition-colors",children:A.name}),a.jsxs("div",{className:"text-[11px] text-gray-400",children:[A.legalName,"  ",A.contract]})]})]})})}),a.jsx("td",{className:G("sticky left-[260px] z-10 bg-white px-3 py-2 text-sm text-right font-medium border-l border-r border-gray-200",y,jn(L,o.zeroColor)),children:zm(L,o.zeroDisplay)}),(()=>{const U=rr.find(T=>{var B;return(B=A.months[T])==null?void 0:B.hasRateChange});return rr.map(T=>{const B=A.months[T]??null;if(!B)return a.jsx("td",{className:G("px-3 py-2 text-sm text-right text-gray-300",j),children:""},T);const M=T===U,z=B.cases.some(k=>Math.abs(k.deviation)>o.caseClickable);return a.jsxs("td",{className:G("px-3 py-2 text-sm text-right relative",j,jn(B.deviation,o.zeroColor),ON(B.deviation,o.zeroColor),M&&"border-l-2 border-l-gray-400",z&&"cursor-pointer hover:bg-gray-100 transition-colors"),onClick:()=>{z&&c({merchant:A,monthKey:T,cell:B})},children:[M&&a.jsxs("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 flex items-center",children:[a.jsx("div",{className:"w-[6px] h-[2px] bg-gray-400"}),a.jsx("div",{style:{width:0,height:0,borderTop:"6px solid transparent",borderBottom:"6px solid transparent",borderLeft:"6px solid rgb(156 163 175)"}})]}),Bm(B.deviation,o.zeroDisplay)]},T)})})()]},A.id)})]},w.id)})]})]})})}),a.jsxs("div",{className:"mt-4 flex items-center gap-6 text-xs text-gray-400",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"relative w-4 h-4 rounded border-l-2 border-gray-500 bg-gray-100",children:a.jsxs("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 flex items-center",children:[a.jsx("div",{className:"w-[4px] h-[1.5px] bg-gray-400"}),a.jsx("div",{style:{width:0,height:0,borderTop:"3px solid transparent",borderBottom:"3px solid transparent",borderLeft:"3px solid rgb(156 163 175)"}})]})}),a.jsx("span",{children:"Rate change"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-green-600 font-medium",children:"+1.2K"}),a.jsx("span",{children:"Overpayment"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-red-600 font-medium",children:"-1.2K"}),a.jsx("span",{children:"Underpayment"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-gray-400 font-medium",children:"0"}),a.jsx("span",{children:"No deviation"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-gray-300 font-medium",children:""}),a.jsx("span",{children:"No data"})]}),a.jsx("div",{className:"text-gray-400",children:"Click deviation cell to see cases"})]}),l&&a.jsx(one,{merchant:l.merchant,monthKey:l.monthKey,cell:l.cell,selectedYear:n,thresholds:o,onClose:()=>c(null)})]})}function cne(){return a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Transactions"}),a.jsx(XM,{})]})}function une(){const{id:e}=go();return e?a.jsx(s3,{transactionId:e}):a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"text-red-500",children:"Transaction ID is required"})})}function dne(){return a.jsxs("div",{children:[a.jsx("div",{className:"h-8 w-32 bg-gray-200 rounded animate-pulse mb-6"}),a.jsx("div",{className:"space-y-4",children:[1,2,3].map(e=>a.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx(ge,{className:"h-6 w-48 mb-2"}),a.jsxs("div",{className:"flex gap-6",children:[a.jsx(ge,{className:"h-4 w-24"}),a.jsx(ge,{className:"h-4 w-24"}),a.jsx(ge,{className:"h-4 w-24"}),a.jsx(ge,{className:"h-4 w-24"})]})]}),a.jsx(ge,{className:"h-5 w-5"})]})},e))})]})}function fne(){const{data:e,isLoading:t,error:r}=pe({queryKey:["merchants"],queryFn:ie.getMerchants});return t?a.jsx(dne,{}):r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-red-500",children:["Error loading merchants: ",r.message]})}):a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Merchants"}),a.jsxs("div",{className:"space-y-4",children:[e==null?void 0:e.map(n=>a.jsx(De,{to:`/merchant/${n.merchant_id}`,className:"block",children:a.jsx(ne,{className:"hover:border-gray-300 hover:shadow-md transition-all cursor-pointer",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:n.merchant_name}),n.merchant_group&&a.jsx("span",{className:"px-2 py-0.5 text-xs font-medium bg-gray-100 text-gray-600 rounded",children:n.merchant_group})]}),a.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Transactions"}),a.jsx("span",{className:"ml-2 font-medium text-gray-900",children:Ne(n.transaction_count)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Volume"}),a.jsx("span",{className:"ml-2 font-medium text-gray-900",children:q(n.total_amount_eur)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Accept Rate"}),a.jsx("span",{className:"ml-2 font-medium text-green-600",children:lt(n.acceptance_rate)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Commission"}),a.jsx("span",{className:"ml-2 font-medium text-gray-900",children:q(n.total_commission_eur)})]})]})]}),a.jsx(Qr,{className:"h-5 w-5 text-gray-400"})]})})},n.merchant_id)),(e==null?void 0:e.length)===0&&a.jsx("div",{className:"text-center py-12 text-gray-500",children:"No merchants found"})]})]})}const bf={rate_precision:.25,fixed_tolerance:0,match_tolerance:.05,min_confidence:20,max_variants:10,min_period_days:7,min_transactions:3,prefer_lower_rate:!0};function hne(e,t,r){return r.filter(n=>{if(n.currency&&n.currency!==t)return!1;const i=e.toLowerCase();return!(i.includes("incoming")&&n.operation_type!=="incoming"||i.includes("outgoing")&&n.operation_type!=="outgoing"||i.includes("payout")&&n.operation_type!=="outgoing"||i.includes("card")&&n.payment_type!=="card"||i.includes("apm")&&n.payment_type!=="apm"||i.includes("sepa")&&n.payment_type!=="apm")})}function mne({merchantId:e,shortname:t,initialPlans:r,initialMonths:n,onClose:i,onRefresh:s}){var ce,Q;const[o,l]=O.useState("auto"),[c,u]=O.useState(null),[f,d]=O.useState(bf),[h,m]=O.useState(r),[x,g]=O.useState(!1),[v,p]=O.useState(!1),[y,j]=O.useState(!1),[w,b]=O.useState(null),[N,_]=O.useState(null),[S,C]=O.useState(""),[P,A]=O.useState(""),[E,L]=O.useState(.05),[F,U]=O.useState(!1),[T,B]=O.useState(null),{data:M}=pe({queryKey:["merchant-contract-plans",t||e],queryFn:()=>t?ie.getContractPlansByShortname(t):ie.getContractPlans(e),staleTime:3e5}),z=O.useMemo(()=>[...h].sort((H,J)=>H.confidence-J.confidence),[h]),k=O.useMemo(()=>{if(!M)return new Map;const H=new Map;for(const J of h){const W=hne(J.plan_id,J.currency,M);W.length>0&&H.set(J.plan_id,W)}return H},[h,M]),I=O.useMemo(()=>h.find(H=>H.plan_id===c),[h,c]),D=async()=>{if(!c)return;const H=parseFloat(S),J=parseFloat(P);if(isNaN(H)||isNaN(J)){B(null);return}U(!0);try{const W=await ie.testFormula(e,c,H,J,E);B(W)}catch(W){console.error("Formula test failed:",W),B(null)}U(!1)};O.useEffect(()=>{B(null)},[c]);const V=(H,J)=>{d(W=>({...W,[H]:J}))},Y=async()=>{if(c){g(!0);try{const J=(t?await ie.getAnalysisByShortname(t,f):await ie.getMerchantRatePlanAnalysis(e,f)).plans.find(W=>W.plan_id===c);J&&m(W=>W.map(ve=>ve.plan_id===c?J:ve))}catch(H){console.error("Analysis failed:",H)}g(!1)}},le=async H=>{j(!0),b(null);try{const J=await ie.getPlanStats(e,H);b(J)}catch(J){console.error("Failed to load stats:",J),b(null)}j(!1)},me=H=>{u(H),le(H)},oe=async()=>{p(!0);try{await ie.saveMerchantAnalysisConfig(e,f),s(),i()}catch(H){console.error("Failed to save:",H)}p(!1)};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:i,children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-6xl w-full mx-4 max-h-[90vh] overflow-hidden flex flex-col",onClick:H=>H.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"Rate Plan Analysis"}),a.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-0.5",children:[a.jsx("button",{onClick:()=>l("auto"),className:`px-3 py-1.5 text-sm font-medium rounded-md transition-colors ${o==="auto"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Auto"}),a.jsx("button",{onClick:()=>l("manual"),className:`px-3 py-1.5 text-sm font-medium rounded-md transition-colors ${o==="manual"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Manual"})]})]}),a.jsx("button",{onClick:i,className:"p-1 hover:bg-gray-100 rounded",children:a.jsx(Wt,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[a.jsx("div",{className:"w-56 flex-shrink-0 p-4 overflow-y-auto border-r bg-gray-50",children:o==="auto"?a.jsxs("div",{className:"space-y-3 text-sm",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 font-medium mb-1 text-xs",children:"Rate Precision (%)"}),a.jsx("input",{type:"number",step:"0.05",min:"0.05",max:"1",value:f.rate_precision,onChange:H=>V("rate_precision",parseFloat(H.target.value)||.25),className:"w-full px-2 py-1 border rounded text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 font-medium mb-1 text-xs",children:"Fixed Tolerance"}),a.jsx("input",{type:"number",step:"0.05",min:"0",max:"1",value:f.fixed_tolerance,onChange:H=>V("fixed_tolerance",parseFloat(H.target.value)||0),className:"w-full px-2 py-1 border rounded text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 font-medium mb-1 text-xs",children:"Match Tol. (EUR)"}),a.jsx("input",{type:"number",step:"0.01",min:"0.01",max:"0.5",value:f.match_tolerance,onChange:H=>V("match_tolerance",parseFloat(H.target.value)||.05),className:"w-full px-2 py-1 border rounded text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 font-medium mb-1 text-xs",children:"Min Confidence (%)"}),a.jsx("input",{type:"number",step:"5",min:"0",max:"100",value:f.min_confidence,onChange:H=>V("min_confidence",parseInt(H.target.value)||0),className:"w-full px-2 py-1 border rounded text-sm"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 font-medium mb-1 text-xs",children:"Max Var"}),a.jsx("input",{type:"number",step:"1",min:"1",max:"20",value:f.max_variants,onChange:H=>V("max_variants",parseInt(H.target.value)||10),className:"w-full px-2 py-1 border rounded text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 font-medium mb-1 text-xs",children:"Min Txn"}),a.jsx("input",{type:"number",step:"1",min:"1",max:"50",value:f.min_transactions,onChange:H=>V("min_transactions",parseInt(H.target.value)||3),className:"w-full px-2 py-1 border rounded text-sm"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 font-medium mb-1 text-xs",children:"Preference"}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{onClick:()=>V("prefer_lower_rate",!0),className:`flex-1 px-2 py-1 rounded text-xs font-medium ${f.prefer_lower_rate?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Lower Rate"}),a.jsx("button",{onClick:()=>V("prefer_lower_rate",!1),className:`flex-1 px-2 py-1 rounded text-xs font-medium ${f.prefer_lower_rate?"bg-gray-200 text-gray-700 hover:bg-gray-300":"bg-blue-600 text-white"}`,children:"Lower Fixed"})]})]})]}):a.jsxs("div",{className:"space-y-3 text-sm",children:[a.jsx("p",{className:"text-gray-500 text-xs mb-2",children:"Enter rate and fixed fee to test against transactions."}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 font-medium mb-1 text-xs",children:"Rate (%)"}),a.jsx("input",{type:"number",step:"0.01",min:"0",max:"100",placeholder:"e.g. 6.00",value:S,onChange:H=>C(H.target.value),className:"w-full px-2 py-1.5 border rounded text-sm"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-gray-700 font-medium mb-1 text-xs",children:["Fixed Fee (",(I==null?void 0:I.currency)||"EUR",")"]}),a.jsx("input",{type:"number",step:"0.01",min:"0",placeholder:"e.g. 0.25",value:P,onChange:H=>A(H.target.value),className:"w-full px-2 py-1.5 border rounded text-sm"}),(I==null?void 0:I.currency)&&I.currency!=="EUR"&&a.jsx("p",{className:"text-gray-400 text-[10px] mt-1",children:"Converted to EUR using tx fx_rate"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 font-medium mb-1 text-xs",children:"Tolerance (EUR)"}),a.jsx("input",{type:"number",step:"0.01",min:"0.01",max:"1",value:E,onChange:H=>L(parseFloat(H.target.value)||.05),className:"w-full px-2 py-1.5 border rounded text-sm"}),a.jsx("p",{className:"text-gray-400 text-[10px] mt-1",children:"Max difference for a match"})]}),I&&((ce=k.get(I.plan_id))!=null&&ce.length)?a.jsxs("div",{className:"pt-2 border-t",children:[a.jsx("label",{className:"block text-gray-700 font-medium mb-1 text-xs",children:"Fill from Contract"}),a.jsx("div",{className:"space-y-1",children:(Q=k.get(I.plan_id))==null?void 0:Q.map((H,J)=>a.jsxs("button",{onClick:()=>{H.wl_percent!=null&&C(String(H.wl_percent)),H.fixed_fee!=null&&A(String(H.fixed_fee))},className:"w-full text-left px-2 py-1 rounded text-xs bg-green-50 hover:bg-green-100 text-green-700",children:[H.wl_percent!=null?`${H.wl_percent}%`:"-"," + ",H.fixed_fee??0,a.jsxs("span",{className:"text-green-500 ml-1",children:["(",H.payment_type||"any",")"]})]},J))})]}):null,I&&a.jsxs("div",{className:"pt-2 border-t",children:[a.jsx("label",{className:"block text-gray-700 font-medium mb-1 text-xs",children:"Fill from Auto"}),a.jsxs("button",{onClick:()=>{C(String(I.avg_rate)),A(String(I.avg_fixed_eur))},className:"w-full text-left px-2 py-1 rounded text-xs bg-blue-50 hover:bg-blue-100 text-blue-700",children:[I.formula,a.jsxs("span",{className:"text-blue-500 ml-1",children:["(",I.confidence.toFixed(0),"% conf)"]})]})]}),a.jsxs("div",{className:"pt-3 border-t",children:[a.jsx("button",{onClick:D,disabled:!S||!P||F,className:"w-full flex items-center justify-center gap-2 px-3 py-2 bg-blue-600 text-white rounded text-sm font-medium hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed",children:F?a.jsxs(a.Fragment,{children:[a.jsx(Ee,{className:"w-4 h-4 animate-spin"}),"Testing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(yd,{className:"w-4 h-4"}),"Test Formula"]})}),a.jsx("p",{className:"text-gray-400 text-[10px] mt-1 text-center",children:"Tests against all approved transactions"})]})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto border-r",children:a.jsxs("div",{className:"p-2",children:[a.jsxs("div",{className:"text-xs text-gray-500 mb-2 px-1",children:[z.length," plans  Click to select  Sorted by confidence (lowest first)"]}),a.jsx("div",{className:"space-y-1",children:z.map(H=>{const J=H.plan_id===c,W=k.get(H.plan_id)||[],ve=W.length>0,fe=N===H.plan_id;return a.jsxs("div",{onClick:()=>me(H.plan_id),className:`rounded border cursor-pointer transition-colors ${J?"bg-blue-50 border-blue-300 ring-1 ring-blue-300":"bg-white border-gray-200 hover:bg-gray-50"}`,children:[a.jsxs("div",{className:"flex items-center justify-between p-2",children:[a.jsxs("div",{className:"min-w-0 flex-1 flex items-center gap-1.5",children:[ve&&a.jsxs("div",{className:"relative",onMouseEnter:()=>_(H.plan_id),onMouseLeave:()=>_(null),children:[a.jsxs("div",{className:"flex items-center gap-0.5 text-green-600",children:[a.jsx(Iy,{className:"w-3.5 h-3.5"}),W.length>1&&a.jsx("span",{className:"text-[10px] font-medium",children:W.length})]}),fe&&a.jsxs("div",{className:"absolute left-0 top-full mt-1 z-50 bg-white border shadow-lg rounded-md p-2 min-w-[200px] text-xs",onClick:de=>de.stopPropagation(),children:[a.jsx("div",{className:"font-medium text-gray-700 mb-1.5",children:"Matching Contract Plans"}),a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-gray-500 text-[10px]",children:[a.jsx("th",{className:"text-left pb-1",children:"Type"}),a.jsx("th",{className:"text-right pb-1",children:"Rate"}),a.jsx("th",{className:"text-right pb-1",children:"Fixed"})]})}),a.jsx("tbody",{children:W.map((de,_e)=>a.jsxs("tr",{className:"text-gray-700",children:[a.jsxs("td",{className:"py-0.5",children:[de.payment_type||"any",de.apm_type?`/${de.apm_type}`:""]}),a.jsx("td",{className:"text-right py-0.5",children:de.wl_percent!=null?`${de.wl_percent}%`:"-"}),a.jsx("td",{className:"text-right py-0.5",children:de.fixed_fee!=null?`${de.fixed_fee}`:"-"})]},_e))})]})]})]}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("div",{className:"font-mono text-xs truncate",title:H.plan_id,children:H.plan_id}),a.jsxs("div",{className:"text-xs text-gray-500 mt-0.5",children:[H.total_transactions," txns  ",H.currency]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[a.jsx("span",{className:"font-medium text-sm",children:H.formula}),a.jsxs("span",{className:`px-1.5 py-0.5 rounded text-xs font-medium ${H.confidence>=95?"bg-green-100 text-green-700":H.confidence>=80?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:[H.confidence.toFixed(0),"%"]})]})]}),H.variants.length>0&&a.jsx("div",{className:"border-t bg-gray-50 px-2 py-1",children:H.variants.map(de=>a.jsxs("div",{className:"flex justify-between py-0.5 text-[10px]",children:[a.jsxs("span",{className:"text-gray-500",children:[de.start_date,"  ",de.end_date," (",de.transaction_count," txns)"]}),a.jsxs("span",{className:de.confidence>=80?"text-green-600":"text-orange-600",children:[de.formula,"  ",de.confidence.toFixed(0),"%"]})]},de.variant_id))})]},H.plan_id)})})]})}),a.jsx("div",{className:"w-72 flex-shrink-0 p-4 overflow-y-auto bg-gray-50",children:I?a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(ix,{className:"w-4 h-4 text-gray-500"}),a.jsx("span",{className:"font-medium text-sm",children:o==="manual"?"Manual Test Results":"Plan Statistics"})]}),a.jsxs("div",{className:"text-xs space-y-2",children:[a.jsxs("div",{className:"bg-white rounded border p-2",children:[a.jsx("div",{className:"text-gray-500 mb-1",children:"Plan ID"}),a.jsx("div",{className:"font-mono text-xs break-all",children:I.plan_id})]}),o==="manual"&&T?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:`rounded border p-2 ${T.match_percent>=80?"bg-green-50 border-green-200":T.match_percent>=50?"bg-yellow-50 border-yellow-200":"bg-orange-50 border-orange-200"}`,children:[a.jsx("div",{className:"text-gray-600 mb-1",children:"Test Formula"}),a.jsxs("div",{className:"font-medium text-lg",children:[S,"% + ",P," ",(I==null?void 0:I.currency)||"EUR"]}),a.jsxs("div",{className:`text-sm font-medium ${T.match_percent>=80?"text-green-600":T.match_percent>=50?"text-yellow-600":"text-orange-600"}`,children:[T.match_percent>=80?"":T.match_percent>=50?"~":""," ",T.match_percent.toFixed(1),"% match rate"]})]}),a.jsxs("div",{className:"bg-white rounded border p-2",children:[a.jsx("div",{className:"text-gray-500 mb-1",children:"Transaction Match"}),a.jsxs("div",{className:"text-lg font-medium",children:[T.match_count.toLocaleString()," / ",T.total_count.toLocaleString()]}),a.jsxs("div",{className:"text-xs text-gray-400",children:["transactions within ",T.tolerance," tolerance"]})]}),a.jsxs("div",{className:"bg-white rounded border p-2",children:[a.jsx("div",{className:"text-gray-500 mb-1",children:"Deviation Stats"}),a.jsx("table",{className:"w-full text-[10px]",children:a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{className:"text-gray-500",children:"Average"}),a.jsxs("td",{className:"text-right font-medium",children:["",T.avg_deviation.toFixed(4)]})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"text-gray-500",children:"Min"}),a.jsxs("td",{className:"text-right",children:["",T.min_deviation.toFixed(4)]})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"text-gray-500",children:"Max"}),a.jsxs("td",{className:"text-right",children:["",T.max_deviation.toFixed(4)]})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"text-gray-500",children:"Total"}),a.jsxs("td",{className:"text-right",children:["",T.total_deviation.toFixed(2)]})]})]})})]}),a.jsxs("div",{className:"bg-white rounded border p-2",children:[a.jsx("div",{className:"text-gray-500 mb-1",children:"Compare with Auto"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{children:["Auto: ",I.formula]}),a.jsxs("span",{className:`font-medium ${I.confidence>=80?"text-green-600":"text-orange-600"}`,children:[I.confidence.toFixed(0),"%"]})]})]})]}):o==="manual"&&F?a.jsxs("div",{className:"bg-gray-100 rounded border p-4 flex flex-col items-center justify-center gap-2",children:[a.jsx(Ee,{className:"w-6 h-6 animate-spin text-blue-500"}),a.jsx("p",{className:"text-gray-500 text-sm",children:"Testing formula..."})]}):o==="manual"?a.jsx("div",{className:"bg-gray-100 rounded border border-dashed p-4 text-center text-gray-400",children:a.jsx("p",{children:"Enter rate and fixed fee, then click Test"})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-white rounded border p-2",children:[a.jsx("div",{className:"text-gray-500 mb-1",children:"Current Formula"}),a.jsx("div",{className:"font-medium text-lg",children:I.formula}),a.jsxs("div",{className:`text-sm ${I.confidence>=80?"text-green-600":"text-orange-600"}`,children:[I.confidence.toFixed(1),"% confidence"]})]}),a.jsxs("div",{className:"bg-white rounded border p-2",children:[a.jsx("div",{className:"text-gray-500 mb-1",children:"Transactions"}),a.jsx("div",{className:"font-medium",children:I.total_transactions.toLocaleString()})]}),y?a.jsx("div",{className:"flex items-center justify-center p-4",children:a.jsx(Ee,{className:"w-5 h-5 animate-spin text-gray-400"})}):w?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-white rounded border p-2",children:[a.jsx("div",{className:"text-gray-500 mb-1",children:"Period"}),a.jsxs("div",{children:[w.first_date,"  ",w.last_date]})]}),a.jsxs("div",{className:"bg-white rounded border p-2",children:[a.jsx("div",{className:"text-gray-500 mb-1",children:"Amount (EUR)"}),a.jsxs("div",{className:"grid grid-cols-2 gap-1 text-[10px]",children:[a.jsxs("div",{children:["Min: ",w.amount.min.toFixed(2)]}),a.jsxs("div",{children:["Max: ",w.amount.max.toFixed(2)]}),a.jsxs("div",{children:["Avg: ",w.amount.avg.toFixed(2)]}),a.jsxs("div",{children:["Med: ",w.amount.median.toFixed(2)]})]})]}),a.jsxs("div",{className:"bg-white rounded border p-2",children:[a.jsx("div",{className:"text-gray-500 mb-1",children:"Commission (EUR)"}),a.jsxs("div",{className:"grid grid-cols-2 gap-1 text-[10px]",children:[a.jsxs("div",{children:["Min: ",w.commission.min.toFixed(2)]}),a.jsxs("div",{children:["Max: ",w.commission.max.toFixed(2)]}),a.jsxs("div",{children:["Avg: ",w.commission.avg.toFixed(2)]}),a.jsxs("div",{children:["Med: ",w.commission.median.toFixed(2)]})]})]}),a.jsxs("div",{className:"bg-white rounded border p-2",children:[a.jsx("div",{className:"text-gray-500 mb-1",children:"Effective Rate (%)"}),a.jsxs("div",{className:"grid grid-cols-2 gap-1 text-[10px]",children:[a.jsxs("div",{children:["Min: ",w.effective_rate.min.toFixed(2),"%"]}),a.jsxs("div",{children:["Max: ",w.effective_rate.max.toFixed(2),"%"]}),a.jsxs("div",{children:["Avg: ",w.effective_rate.avg.toFixed(2),"%"]}),a.jsxs("div",{children:["Med: ",w.effective_rate.median.toFixed(2),"%"]})]})]}),a.jsxs("div",{className:"bg-white rounded border p-2",children:[a.jsx("div",{className:"text-gray-500 mb-1",children:"Fixed Fee (EUR)"}),a.jsxs("div",{className:"grid grid-cols-2 gap-1 text-[10px]",children:[a.jsxs("div",{children:["Min: ",w.fixed_eur.min.toFixed(2)]}),a.jsxs("div",{children:["Max: ",w.fixed_eur.max.toFixed(2)]}),a.jsxs("div",{children:["Avg: ",w.fixed_eur.avg.toFixed(2)]}),a.jsxs("div",{children:["Med: ",w.fixed_eur.median.toFixed(2)]})]})]})]}):a.jsx("div",{className:"text-gray-400 text-center p-4 text-xs",children:"Loading stats..."})]})]})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[a.jsx(ix,{className:"w-8 h-8 mb-2 opacity-30"}),a.jsx("p",{className:"text-sm",children:"Select a plan to view stats"})]})})]}),a.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-t bg-gray-50",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:Y,disabled:!c||x,className:"px-3 py-2 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1.5",children:x?a.jsxs(a.Fragment,{children:[a.jsx(Ee,{className:"w-4 h-4 animate-spin"}),"Analyzing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(yd,{className:"w-4 h-4"}),"Run for Selected"]})}),a.jsxs("button",{onClick:()=>d(bf),className:"px-3 py-2 text-gray-600 hover:bg-gray-200 rounded text-sm flex items-center gap-1.5",children:[a.jsx(Fy,{className:"w-4 h-4"}),"Reset"]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:i,className:"px-4 py-2 border rounded text-sm hover:bg-gray-100",children:"Cancel"}),a.jsxs("button",{onClick:oe,disabled:v,className:"px-4 py-2 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 disabled:opacity-50 flex items-center gap-1.5",children:[v?a.jsx(Ee,{className:"w-4 h-4 animate-spin"}):a.jsx(KS,{className:"w-4 h-4"}),"Save"]})]})]})]})})}function pne(){return a.jsx(ne,{title:"Rate Plan Dynamics",className:"mb-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx(ge,{className:"h-8 w-full"}),a.jsx(ge,{className:"h-32 w-full"}),a.jsx(ge,{className:"h-16 w-full"})]})})}function Um(e){return e>=95?"text-green-700":e>=80?"text-yellow-700":"text-red-700"}function xne(e){return e>=95?"bg-green-50":e>=80?"bg-yellow-50":"bg-red-50"}function CN(e){if(!e)return"";const t=e.min_rate===e.max_rate?`${e.min_rate.toFixed(2)}%`:`${e.min_rate.toFixed(2)}% - ${e.max_rate.toFixed(2)}%`,r=e.min_fixed===e.max_fixed?`${e.min_fixed.toFixed(2)}`:`${e.min_fixed.toFixed(2)} - ${e.max_fixed.toFixed(2)}`;return`Rate: ${t}
Fixed: ${r}`}function EA({merchantId:e,shortname:t}){const r=t||e,[n,i]=O.useState(new Set),[s,o]=O.useState(!1),[l,c]=O.useState(null),[u,f]=O.useState(bf),[d,h]=O.useState(!1),{data:m,isLoading:x}=pe({queryKey:["merchant-contracts",r],queryFn:()=>t?ie.getContractsByShortname(t):ie.getContracts(e),enabled:!!r,staleTime:3e5}),{data:g,isLoading:v}=pe({queryKey:["merchant-analysis-config",r],queryFn:()=>t?ie.getAnalysisConfigByShortname(t):ie.getMerchantAnalysisConfig(e),enabled:!!r,staleTime:1/0});O.useEffect(()=>{g!=null&&g.has_config&&g.config&&!d?(f(g.config),h(!0)):g&&!g.has_config&&!d&&h(!0)},[g,d]),O.useEffect(()=>{const k=()=>c(null);if(l)return document.addEventListener("click",k),()=>document.removeEventListener("click",k)},[l]);const p=O.useMemo(()=>u?JSON.stringify(u)!==JSON.stringify(bf):!1,[u]),y=!v&&d,{data:j,isLoading:w}=pe({queryKey:["merchant-dynamics",r],queryFn:()=>t?ie.getDynamicsByShortname(t):ie.getMerchantDynamics(e),enabled:!!r,staleTime:3e5}),{data:b,isLoading:N,isFetching:_}=pe({queryKey:["merchant-rate-plan-analysis",r,p?u:null],queryFn:()=>t?ie.getAnalysisByShortname(t,p?u:void 0):ie.getMerchantRatePlanAnalysis(e,p?u:void 0),enabled:!!r&&y,staleTime:3e5});if(w||N||!y)return a.jsx(pne,{});if(!b||b.plans.length===0)return null;const{months:C,plans:P}=b,A=new Map;if(j!=null&&j.plans)for(const k of j.plans)A.set(k.plan_id,k);const E=k=>{i(I=>{const D=new Set(I);return D.has(k)?D.delete(k):D.add(k),D})},L=k=>{const[I,D]=k.split("-");return`${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][parseInt(D,10)-1]}'${I.slice(2)}`},F=(k,I)=>{const D=k.monthly_counts[I];if(D)return Object.values(D).reduce((Y,le)=>Y+le,0);let V=0;for(const Y of k.variants){const le=Y.monthly_counts;if(le&&le[I]!==void 0){const me=le[I];typeof me=="number"?V+=me:typeof me=="object"&&(V+=Object.values(me).reduce((oe,ce)=>oe+ce,0))}}return V},U=(k,I,D)=>{const V=k.monthly_counts[D];if(V)return V[String(I.variant_id)]||0;const Y=I.monthly_counts;if(Y&&Y[D]!==void 0){const le=Y[D];if(typeof le=="number")return le;if(typeof le=="object")return le[String(I.variant_id)]||0}return 0},T=(k,I)=>{const D=k.start_date.slice(0,7),V=k.end_date.slice(0,7);return I>=D&&I<=V},B=k=>{if(k.variants.length===0)return{first:C[0],last:C[C.length-1]};const I=k.variants.reduce((V,Y)=>Y.start_date<V?Y.start_date:V,k.variants[0].start_date).slice(0,7),D=k.variants.reduce((V,Y)=>Y.end_date>V?Y.end_date:V,k.variants[0].end_date).slice(0,7);return{first:I,last:D}},M=(k,I)=>{const D=k.toLowerCase();return D.endsWith("_in")||D.includes("_in_")?"IN":D.endsWith("_out")||D.includes("_out_")?"OUT":I.includes("sale")?"IN":I.includes("payout")?"OUT":null},z=k=>({card:"Card",apple_pay:"Apple Pay",google_pay:"Google Pay",blik:"BLIK",openbanking:"Open Banking",sepa:"SEPA",crypto:"Crypto"})[k.toLowerCase()]||k;return a.jsxs(ne,{className:"mb-6 relative",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4 relative",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Rate Plan Dynamics",_&&a.jsx("span",{className:"ml-2 text-xs text-gray-400 animate-pulse",children:"Updating..."})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[p&&a.jsx("span",{className:"text-xs text-orange-600 bg-orange-50 px-2 py-0.5 rounded",children:"Custom config"}),a.jsx("button",{onClick:()=>o(!0),className:"p-1.5 rounded hover:bg-gray-100",title:"Analysis Configuration",children:a.jsx(By,{className:"w-4 h-4 text-gray-600"})})]})]}),s&&b&&a.jsx(mne,{merchantId:e,shortname:t,initialPlans:b.plans,initialMonths:b.months,onClose:()=>o(!1),onRefresh:()=>{window.location.reload()}}),_&&a.jsx("div",{className:"absolute inset-0 bg-white/70 flex items-center justify-center z-10 rounded-lg",children:a.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[a.jsx(Ee,{className:"w-5 h-5 animate-spin"}),a.jsx("span",{className:"text-sm",children:"Updating analysis..."})]})}),a.jsx("div",{className:`relative ${l?"overflow-visible":"overflow-x-auto"}`,children:a.jsxs("table",{className:"w-full text-xs border-collapse min-w-max",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"text-left py-2 px-2 font-medium text-gray-600 sticky left-0 bg-white min-w-[320px]",children:"Rate Plan ID"}),a.jsx("th",{className:"text-left py-2 px-2 font-medium text-gray-600 min-w-[90px]",children:"Commission"}),a.jsx("th",{className:"text-center py-2 px-2 font-medium text-gray-600 min-w-[50px]",children:"Conf"}),C.map(k=>a.jsx("th",{className:"text-center py-2 px-1 font-medium text-gray-600",style:{minWidth:68,maxWidth:80},children:L(k)},k))]})}),a.jsx("tbody",{children:P.map(k=>{const{first:I,last:D}=B(k),V=C.indexOf(I),Y=C.indexOf(D),le=!k.is_single_variant&&k.variants.length>1,me=n.has(k.plan_id);return a.jsxs(O.Fragment,{children:[a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[a.jsx("td",{className:`py-1.5 px-2 font-mono text-gray-900 sticky left-0 bg-white ${l===k.plan_id?"overflow-visible":""}`,style:l===k.plan_id?{zIndex:100}:void 0,children:a.jsxs("div",{className:"flex items-center gap-1",children:[le&&a.jsx("button",{onClick:()=>E(k.plan_id),className:"p-0.5 hover:bg-gray-200 rounded",children:me?a.jsx(Ge,{className:"w-3 h-3"}):a.jsx(Qr,{className:"w-3 h-3"})}),a.jsx("span",{title:k.plan_id,children:k.plan_id}),a.jsx(De,{to:`/rateplan/${t||e}/${encodeURIComponent(k.plan_id)}`,target:"_blank",onClick:oe=>oe.stopPropagation(),className:"p-0.5 rounded hover:bg-gray-200 text-gray-400 hover:text-blue-600",title:"Open rate plan",children:a.jsx(PT,{className:"w-3.5 h-3.5"})}),(()=>{const oe=A.get(k.plan_id),ce=oe==null?void 0:oe.coverage,Q=(ce==null?void 0:ce.gate_types)||[];if(!(ce&&(ce.currencies.length>0||ce.countries.length>0||Q.length>0)))return null;const J=l===k.plan_id;return a.jsxs("span",{className:"relative inline-flex items-center ml-1",children:[a.jsx("button",{"data-coverage-btn":k.plan_id,onClick:W=>{W.stopPropagation(),c(J?null:k.plan_id)},className:`p-0.5 rounded hover:bg-gray-200 ${J?"bg-blue-100":""}`,children:a.jsx(vo,{className:`w-3.5 h-3.5 ${J?"text-blue-600":"text-gray-400 hover:text-gray-600"}`})}),J&&a.jsxs("div",{className:"absolute left-0 top-full mt-1 z-[9999] bg-white border shadow-xl rounded-md p-2.5 min-w-[200px] text-xs",onClick:W=>W.stopPropagation(),style:{minWidth:"220px"},children:[a.jsx("div",{className:"font-medium text-gray-700 mb-2",children:"Coverage"}),Q.length>0&&a.jsxs("div",{className:"mb-2",children:[a.jsx("div",{className:"text-gray-500 text-[10px] mb-1",children:"Payment Method"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:Q.map(W=>a.jsx("span",{className:"px-1.5 py-0.5 bg-purple-100 text-purple-700 rounded text-[10px] font-medium",children:z(W)},W))})]}),ce&&ce.currencies.length>0&&a.jsxs("div",{className:"mb-2",children:[a.jsx("div",{className:"text-gray-500 text-[10px] mb-1",children:"Currencies"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:ce.currencies.map(W=>a.jsx("span",{className:"px-1.5 py-0.5 bg-green-100 text-green-700 rounded text-[10px] font-medium",children:W},W))})]}),ce&&ce.countries.length>0&&a.jsxs("div",{children:[a.jsxs("div",{className:"text-gray-500 text-[10px] mb-1",children:["Countries (",ce.countries.length,")"]}),a.jsx("div",{className:"flex flex-wrap gap-0.5 max-w-[280px]",children:ce.countries.map(W=>a.jsx("span",{className:"px-1 py-0.5 bg-orange-100 text-orange-700 rounded text-[10px]",children:W},W))})]})]})]})})()]})}),a.jsx("td",{className:"py-1.5 px-2 text-gray-700 font-medium",children:(()=>{const oe=A.get(k.plan_id),ce=M(k.plan_id,(oe==null?void 0:oe.tx_types)||[]),Q=!!k.contract_fee;return a.jsxs("span",{className:"flex items-center gap-1",children:[ce&&a.jsx("span",{className:"text-gray-400",children:ce}),a.jsx("span",{children:k.formula}),Q&&a.jsx("span",{title:"From contract",children:a.jsx(Iy,{className:"w-3.5 h-3.5 text-green-500"})})]})})()}),a.jsxs("td",{className:`py-1.5 px-2 text-center font-medium ${Um(k.confidence)}`,children:[k.confidence.toFixed(0),"%"]}),C.map((oe,ce)=>{var Ue;const Q=F(k,oe),H=ce>=V&&ce<=Y,J=ce===V,W=ce===Y;if(!H)return a.jsx("td",{className:"py-1.5 px-1 text-center text-gray-300",style:{minWidth:68,maxWidth:80},children:"-"},oe);const ve=A.get(k.plan_id),fe=(Ue=ve==null?void 0:ve.monthly_commission)==null?void 0:Ue[oe],de=CN(fe),_e=Q?Ne(Q):"0";return a.jsx("td",{className:`py-1.5 px-1 text-center ${Q?"bg-blue-50 text-blue-800 font-medium":"bg-gray-100 text-gray-400"} ${J?"rounded-l":""} ${W?"rounded-r":""}`,style:{minWidth:68,maxWidth:80},title:de,children:de?a.jsx("span",{className:"cursor-help border-b border-dotted border-current",children:_e}):_e},oe)})]}),le&&me&&k.variants.map(oe=>{var Q;const ce=A.get(k.plan_id);return a.jsxs("tr",{className:"border-b border-gray-50 bg-gray-50/50",children:[a.jsx("td",{className:"py-1 px-2 pl-8 text-gray-600 sticky left-0 bg-gray-50/50",children:a.jsx("span",{className:oe.label==="contract"||(Q=oe.label)!=null&&Q.startsWith("contract (")&&!oe.label.includes("+")&&!oe.label.toLowerCase().includes("min")?"text-green-600 font-medium":"text-gray-400",children:oe.label||`Variant #${oe.variant_id}`})}),a.jsx("td",{className:"py-1 px-2 text-gray-600",children:oe.formula}),a.jsxs("td",{className:`py-1 px-2 text-center ${Um(oe.confidence)}`,children:[oe.confidence.toFixed(0),"%"]}),C.map(H=>{var Ue;const J=T(oe,H),W=U(k,oe,H);if(!J)return a.jsx("td",{className:"py-1 px-1 text-center text-gray-300",style:{minWidth:68,maxWidth:80},children:"-"},H);const ve=H===oe.start_date.slice(0,7),fe=H===oe.end_date.slice(0,7),de=(Ue=ce==null?void 0:ce.monthly_commission)==null?void 0:Ue[H],_e=CN(de);return a.jsx("td",{className:`py-1 px-1 text-center ${W?`${xne(oe.confidence)} ${Um(oe.confidence)}`:"bg-gray-100 text-gray-400"} ${ve?"rounded-l":""} ${fe?"rounded-r":""}`,style:{minWidth:68,maxWidth:80},title:_e,children:_e?a.jsx("span",{className:"cursor-help border-b border-dotted border-current",children:W?Ne(W):"0"}):W?Ne(W):"0"},H)})]},`${k.plan_id}-v${oe.variant_id}`)})]},k.plan_id)})})]})})]})}function gne(e){return!Array.isArray(e)&&typeof e=="object"}function yne(e){switch(e){case"ok":return"bg-green-50";case"warning":return"bg-yellow-50";case"error":return"bg-red-50";case"missing":return"bg-gray-100";default:return"bg-gray-50"}}function $A(e){switch(e){case"ok":return"text-green-700";case"warning":return"text-amber-700";case"error":return"text-red-700";default:return"text-gray-500"}}function vne(e,t){return e===null||t===null||Math.abs(t)<.01?"":`${e>0?"+":""}${t.toFixed(1)}%`}function bne({data:e,onClose:t,position:r}){var i;const n=r==="above"?{bottom:"100%",left:"50%",transform:"translateX(-50%)",marginBottom:"4px"}:{top:"100%",left:"50%",transform:"translateX(-50%)",marginTop:"4px"};return a.jsxs("div",{className:"absolute z-50 bg-white border border-gray-200 rounded-lg shadow-lg p-4 min-w-[420px] text-sm",style:n,children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("span",{className:"font-semibold text-gray-900",children:e.month}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:""})]}),a.jsxs("div",{className:"mb-5",children:[a.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase mb-2",children:"Transactions (Registry)"}),a.jsxs("div",{className:"grid grid-cols-4 gap-x-4 text-xs",children:[a.jsx("div",{className:"text-gray-500",children:"Amount"}),a.jsx("div",{className:"text-gray-500",children:"Count"}),a.jsx("div",{className:"text-gray-500",children:"Commission"}),a.jsx("div",{className:"text-gray-500",children:"Rate"}),a.jsx("div",{className:"font-medium text-gray-900",children:q(e.tx_amount)}),a.jsx("div",{className:"font-medium text-gray-900",children:e.tx_count.toLocaleString()}),a.jsx("div",{className:"font-medium text-gray-900",children:q(e.tx_commission)}),a.jsxs("div",{className:"font-medium text-gray-900",children:[e.tx_effective_rate.toFixed(2),"%"]})]})]}),e.recon_amount!==null&&a.jsxs("div",{className:"mb-5",children:[a.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase mb-2",children:"Reconciliation"}),a.jsxs("div",{className:"grid grid-cols-4 gap-x-4 text-xs",children:[a.jsx("div",{className:"text-gray-500",children:"Amount"}),a.jsx("div",{className:"text-gray-500",children:"Count"}),a.jsx("div",{className:"text-gray-500",children:"Commission"}),a.jsx("div",{className:"text-gray-500",children:"Rate"}),a.jsx("div",{className:"font-medium text-gray-900",children:q(e.recon_amount)}),a.jsx("div",{className:"font-medium text-gray-900",children:(e.recon_count||0).toLocaleString()}),a.jsx("div",{className:"font-medium text-gray-900",children:q(e.recon_commission||0)}),a.jsxs("div",{className:"font-medium text-gray-900",children:[(e.recon_rate||0).toFixed(2),"%"]})]})]}),e.contract_rate!==null&&a.jsxs("div",{className:"mb-5",children:[a.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase mb-2",children:"Contract"}),a.jsxs("div",{className:"text-xs",children:[a.jsx("span",{className:"text-gray-500",children:"Rate: "}),a.jsxs("span",{className:"font-medium text-gray-900",children:[e.contract_rate,"%"]})]})]}),e.amount_diff!==null&&a.jsx("div",{className:`pt-3 border-t ${e.status==="error"?"border-red-200":"border-gray-200"}`,children:a.jsxs("div",{className:`font-medium ${$A(e.status)}`,children:["Deviation: ",e.amount_diff>0?"+":"",q(e.amount_diff)," (",(i=e.deviation_percent)==null?void 0:i.toFixed(1),"%)"]})})]})}function jne({data:e,tooltipPosition:t}){const[r,n]=O.useState(!1);return e.status==="empty"?a.jsx("td",{className:"py-2 px-3 text-center text-gray-300",children:"-"}):a.jsxs("td",{className:`py-2 px-3 relative cursor-pointer ${yne(e.status)}`,onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsx("span",{className:"font-medium text-gray-900",children:q(e.tx_amount)}),e.deviation_percent!==null&&Math.abs(e.deviation_percent)>=.1&&a.jsx("span",{className:`text-xs ${$A(e.status)}`,children:vne(e.amount_diff,e.deviation_percent)})]}),r&&a.jsx(bne,{data:e,onClose:()=>n(!1),position:t})]})}function wne({data:e}){return e.filter(r=>r.status!=="empty").length===0?a.jsx("div",{className:"text-gray-400 text-sm py-4",children:"No data for this currency"}):a.jsxs("table",{className:"w-full text-sm border-collapse table-fixed",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"text-left py-2 px-3 font-medium text-gray-600 w-20",children:"Month"}),a.jsx("th",{className:"text-left py-2 px-3 font-medium text-gray-600",children:"Incoming"}),a.jsx("th",{className:"text-center py-2 px-3 font-medium text-gray-600",children:"Refund"}),a.jsx("th",{className:"text-center py-2 px-3 font-medium text-gray-600",children:"Payout"})]})}),a.jsx("tbody",{children:[...e].reverse().map((r,n,i)=>a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[a.jsx("td",{className:"py-2 px-3 font-medium text-gray-700",children:r.month}),a.jsx(jne,{data:r,tooltipPosition:n>i.length/2?"above":"below"}),a.jsx("td",{className:"py-2 px-3 text-center text-gray-300",children:"-"}),a.jsx("td",{className:"py-2 px-3 text-center text-gray-300",children:"-"})]},r.month))})]})}function Q0({data:e,isLoading:t}){const[r,n]=O.useState(null),{currencies:i,currencyData:s}=O.useMemo(()=>e?gne(e)?{currencies:Object.keys(e).sort((g,v)=>g==="EUR"?-1:v==="EUR"?1:g.localeCompare(v)),currencyData:e}:{currencies:["EUR"],currencyData:{EUR:e}}:{currencies:[],currencyData:{}},[e]),o=r||i[0]||"EUR",l=s[o]||[];if(t)return a.jsx(ne,{title:"Monthly Reconciliation",className:"mb-6",children:a.jsx("div",{className:"space-y-2",children:[1,2,3,4,5,6].map(x=>a.jsx(ge,{className:"h-10 w-full"},x))})});if(!e||i.length===0||!Object.values(s).some(x=>x.some(g=>g.status!=="empty")))return null;const u=l.filter(x=>x.status!=="empty"),f=u.filter(x=>x.status==="ok").length,d=u.filter(x=>x.status==="warning").length,h=u.filter(x=>x.status==="error").length,m=u.filter(x=>x.status==="missing").length;return a.jsxs(ne,{title:"Monthly Reconciliation",className:"mb-6",children:[i.length>1&&a.jsx("div",{className:"flex items-center gap-1 mb-4 border-b border-gray-200 pb-2",children:i.map(x=>{const g=s[x]||[],v=g.some(y=>y.status!=="empty"),p=g.some(y=>y.status==="warning"||y.status==="error");return a.jsxs("button",{onClick:()=>n(x),className:`px-3 py-1.5 text-sm font-medium rounded-t transition-colors ${o===x?"bg-blue-100 text-blue-700 border-b-2 border-blue-500":v?"text-gray-600 hover:bg-gray-100":"text-gray-400"}`,children:[x,p&&a.jsx("span",{className:"ml-1 w-2 h-2 inline-block rounded-full bg-amber-400"})]},x)})}),a.jsxs("div",{className:"flex items-center gap-4 mb-4 text-xs",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-3 h-3 rounded bg-green-200"}),a.jsxs("span",{className:"text-gray-600",children:["OK (",f,")"]})]}),d>0&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-3 h-3 rounded bg-yellow-200"}),a.jsxs("span",{className:"text-gray-600",children:["Warning (",d,")"]})]}),h>0&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-3 h-3 rounded bg-red-200"}),a.jsxs("span",{className:"text-gray-600",children:["Error (",h,")"]})]}),m>0&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-3 h-3 rounded bg-gray-200"}),a.jsxs("span",{className:"text-gray-600",children:["No Recon (",m,")"]})]})]}),a.jsx("div",{children:a.jsx(wne,{data:l})}),a.jsx("div",{className:"mt-4 text-xs text-gray-500",children:"Compares transaction amounts from registry files with reconciliation reports. Hover over cells to see detailed breakdown."})]})}function Nne({markdown:e}){const t=O.useMemo(()=>{let r=e.trim();r.startsWith("```markdown")?r=r.slice(11):r.startsWith("```")&&(r=r.slice(3)),r.endsWith("```")&&(r=r.slice(0,-3)),r=r.trim();const n=r.split(`
`),i=[];let s=[],o=!1,l=0;const c=f=>{const d=[];return f.split(/(\*\*[^*]+\*\*)/g).forEach((m,x)=>{m.startsWith("**")&&m.endsWith("**")?d.push(a.jsx("strong",{className:"font-semibold",children:m.slice(2,-2)},x)):m&&d.push(m)}),d},u=()=>{var m;if(s.length===0)return;const f=s.length>1&&((m=s[1])==null?void 0:m.every(x=>/^[-:]+$/.test(x.trim()))),d=f?s[0]:null,h=f?s.slice(2):s;i.push(a.jsx("div",{className:"overflow-x-auto my-4",children:a.jsxs("table",{className:"w-full text-sm border-collapse",children:[d&&a.jsx("thead",{children:a.jsx("tr",{className:"bg-gray-100",children:d.map((x,g)=>a.jsx("th",{className:"border border-gray-300 px-3 py-2 text-left font-semibold text-gray-700",children:c(x)},g))})}),a.jsx("tbody",{children:h.map((x,g)=>a.jsx("tr",{className:g%2===0?"bg-white":"bg-gray-50",children:x.map((v,p)=>a.jsx("td",{className:"border border-gray-300 px-3 py-2 text-gray-600",children:c(v)},p))},g))})]})},l++)),s=[]};for(const f of n){const d=f.trim();if(d.startsWith("|")&&d.endsWith("|")){o=!0;const h=d.slice(1,-1).split("|").map(m=>m.trim());s.push(h);continue}if(o&&!d.startsWith("|")&&(u(),o=!1),/^-{3,}$/.test(d)){i.push(a.jsx("hr",{className:"my-6 border-gray-300"},l++));continue}if(d.startsWith("# ")){i.push(a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mt-6 mb-4 first:mt-0",children:c(d.slice(2))},l++));continue}if(d.startsWith("## ")){i.push(a.jsx("h2",{className:"text-xl font-semibold text-gray-800 mt-5 mb-3",children:c(d.slice(3))},l++));continue}if(d.startsWith("### ")){i.push(a.jsx("h3",{className:"text-lg font-semibold text-gray-700 mt-4 mb-2",children:c(d.slice(4))},l++));continue}if(d.startsWith("#### ")){i.push(a.jsx("h4",{className:"text-base font-semibold text-gray-700 mt-3 mb-2",children:c(d.slice(5))},l++));continue}if(d.startsWith("- ")||d.startsWith("* ")){i.push(a.jsxs("div",{className:"flex gap-2 text-gray-600 ml-4 my-1",children:[a.jsx("span",{className:"text-gray-400",children:""}),a.jsx("span",{children:c(d.slice(2))})]},l++));continue}if(d.startsWith("*")&&!d.startsWith("**")){i.push(a.jsx("p",{className:"text-sm text-gray-500 italic my-2",children:c(d.slice(1).replace(/\*$/,""))},l++));continue}d&&i.push(a.jsx("p",{className:"text-gray-600 my-2",children:c(d)},l++))}return s.length>0&&u(),i},[e]);return a.jsx("div",{className:"contract-preview max-w-none",children:t})}function _ne(e){return{incoming:"Incoming",outgoing:"Outgoing",chargeback:"Chargeback",settlement:"Settlement"}[e]||e}function Sne(e,t){return e?e==="card"?"Card":e==="apm"&&t?{apple_pay:"Apple Pay",google_pay:"Google Pay",blik:"BLIK",sepa:"SEPA",open_banking:"Open Banking"}[t]||t:e==="crypto"?"Crypto":e:"-"}function Wm(e){return e==null?"-":`${e}%`}function Pu(e){return e==null?"-":e.toFixed(2)}function One({fees:e}){const t=e.reduce((i,s)=>{const o=s.operation_type||"other";return i[o]||(i[o]=[]),i[o].push(s),i},{}),r=["incoming","outgoing","chargeback","settlement","other"],n=Object.keys(t).sort((i,s)=>r.indexOf(i)-r.indexOf(s));return a.jsxs("div",{className:"space-y-6",children:[n.map(i=>a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:_ne(i)}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-100",children:[a.jsx("th",{className:"text-left py-2 px-3 font-medium text-gray-600",children:"Payment Type"}),a.jsx("th",{className:"text-left py-2 px-3 font-medium text-gray-600",children:"Currency"}),a.jsx("th",{className:"text-left py-2 px-3 font-medium text-gray-600",children:"Region"}),a.jsx("th",{className:"text-right py-2 px-3 font-medium text-gray-600",children:i==="outgoing"?"Payout %":"WL"}),i==="incoming"&&a.jsx("th",{className:"text-right py-2 px-3 font-medium text-gray-600",children:"FTD"}),a.jsx("th",{className:"text-right py-2 px-3 font-medium text-gray-600",children:"Fixed"}),i==="outgoing"&&a.jsx("th",{className:"text-right py-2 px-3 font-medium text-gray-600",children:"Min"}),a.jsx("th",{className:"text-right py-2 px-3 font-medium text-gray-600",children:"Refund"}),a.jsx("th",{className:"text-right py-2 px-3 font-medium text-gray-600",children:"CHB"})]})}),a.jsx("tbody",{children:t[i].map((s,o)=>{var l,c;return a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[a.jsx("td",{className:"py-2 px-3 font-medium text-gray-700",children:Sne(s.payment_type,s.apm_type)}),a.jsxs("td",{className:"py-2 px-3 text-gray-600",children:[s.currency||"-",s.volume_min!==null||s.volume_max!==null?a.jsxs("span",{className:"text-xs text-gray-400 ml-1",children:["(",((l=s.volume_min)==null?void 0:l.toLocaleString())||"0","-",((c=s.volume_max)==null?void 0:c.toLocaleString())||"*",")"]}):null]}),a.jsx("td",{className:"py-2 px-3 text-gray-600",children:s.region||"-"}),a.jsx("td",{className:"py-2 px-3 text-right text-gray-600",children:Wm(i==="outgoing"?s.payout_percent:s.wl_percent)}),i==="incoming"&&a.jsx("td",{className:"py-2 px-3 text-right text-gray-600",children:Wm(s.ftd_percent)}),a.jsx("td",{className:"py-2 px-3 text-right text-gray-600",children:Pu(s.fixed_fee)}),i==="outgoing"&&a.jsx("td",{className:"py-2 px-3 text-right text-gray-600",children:Pu(s.payout_min)}),a.jsx("td",{className:"py-2 px-3 text-right text-gray-600",children:Pu(s.refund_fee)}),a.jsx("td",{className:"py-2 px-3 text-right text-gray-600",children:Pu(s.chb_fee)})]},o)})})]})})]},i)),e.length===0&&a.jsx("div",{className:"text-center py-8 text-gray-400",children:"No fee plans extracted from contract"})]})}function PN(e){const t=[];if(e.payment_type==="card")t.push("Card");else if(e.payment_type==="apm"&&e.apm_type){const n={apple_pay:"Apple Pay",google_pay:"Google Pay",blik:"BLIK",sepa:"SEPA",open_banking:"Open Banking"};t.push(n[e.apm_type]||e.apm_type)}else e.payment_type==="crypto"?t.push("Crypto"):e.payment_type&&t.push(e.payment_type);if(e.currency&&t.push(e.currency),e.region&&t.push(e.region),e.volume_min!==null||e.volume_max!==null){const n=e.volume_min??0,i=e.volume_max;i!==null?t.push(`(${(n/1e3).toFixed(0)}K-${(i/1e3).toFixed(0)}K)`):t.push(`(${(n/1e3).toFixed(0)}K+)`)}if(e.ftd_percent!==null&&e.wl_percent===null)t.push(`FTD ${e.ftd_percent}%`);else{const n=e.wl_percent??e.payout_percent;n!==null&&t.push(`${n}%`)}return e.fixed_fee!==null&&t.push(`+${e.fixed_fee.toFixed(2)}`),t.join(" ")}function Cne({fees:e,merchantId:t,contractId:r}){const[n,i]=O.useState(null),[s,o]=O.useState(null),[l,c]=O.useState(!1),u=O.useRef(new Map),[f,d]=O.useState(null),[h,m]=O.useState(!1),x=Rc(),{data:g,isLoading:v,error:p}=pe({queryKey:["contract-mapping",t,r],queryFn:()=>ie.getContractMapping(t,r,e)}),y=async()=>{m(!0);try{const N=await ie.getContractMapping(t,r,e,!0);x.setQueryData(["contract-mapping",t,r],N)}finally{m(!1)}},j=(N,_)=>{if(n===N)i(null),o(null),d(null);else{const S=u.current.get(N);if(S){const C=S.getBoundingClientRect();o({top:C.bottom+4,left:Math.min(C.right-288,window.innerWidth-300)})}i(N),d(_)}};if(v)return a.jsxs("div",{className:"flex items-center justify-center h-64 text-gray-400 gap-2",children:[a.jsx(Ee,{className:"h-5 w-5 animate-spin"}),"Calculating mappings..."]});if(p)return a.jsxs("div",{className:"flex items-center justify-center h-64 text-red-500 gap-2",children:[a.jsx(nt,{className:"h-5 w-5"}),"Failed to load mappings"]});const w=(g==null?void 0:g.mappings)||[],b=(g==null?void 0:g.unmapped_fees)||[];return a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b bg-gray-50",children:[a.jsxs("span",{className:"text-xs text-gray-500",children:[w.length," rate plans mapped"]}),a.jsxs("button",{onClick:y,disabled:h,className:"flex items-center gap-1.5 px-2 py-1 text-xs text-gray-600 hover:text-gray-900 hover:bg-gray-200 rounded disabled:opacity-50",children:[a.jsx(HS,{className:`h-3.5 w-3.5 ${h?"animate-spin":""}`}),"Recalculate"]})]}),a.jsx("div",{className:"flex-1 overflow-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"sticky top-0 bg-gray-50 border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Rate Plan"}),a.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Contract Plan"}),a.jsx("th",{className:"text-center py-3 px-4 font-medium text-gray-600 w-32",children:"Match"})]})}),a.jsx("tbody",{children:w.map(N=>N.matched_fees.length>0?N.matched_fees.map((S,C)=>{const P=C===0,A=`${N.plan_id}-${C}`;return a.jsxs("tr",{className:`hover:bg-gray-50 ${P?"border-t border-gray-200":""} ${C===N.matched_fees.length-1?"border-b border-gray-200":""}`,children:[a.jsx("td",{className:"py-2.5 px-4",children:P?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"font-mono text-xs text-gray-800",children:N.plan_id}),a.jsxs("div",{className:"text-xs text-gray-400 mt-0.5",children:[N.txn_count.toLocaleString()," txns",a.jsxs("span",{className:"ml-2",children:[N.avg_rate.toFixed(2),"% + ",N.avg_fixed.toFixed(2)]})]})]}):a.jsx("span",{className:"text-gray-300 text-xs pl-2",children:""})}),a.jsx("td",{className:"py-2.5 px-4",children:a.jsx("span",{className:"text-gray-700",children:PN(S.fee)})}),a.jsx("td",{className:"py-2.5 px-4 text-center",children:a.jsxs("div",{className:"relative inline-flex items-center gap-1",children:[a.jsx("span",{className:`font-medium ${S.txn_match_percent!==null&&S.txn_match_percent>=90?"text-green-600":S.txn_match_percent!==null&&S.txn_match_percent>=70?"text-yellow-600":"text-red-600"}`,children:S.txn_match_percent!==null?`${S.txn_match_percent}%`:"-"}),a.jsx("span",{className:"text-gray-400 mx-0.5",children:"/"}),a.jsxs("span",{className:"text-green-600 font-medium",children:[S.condition_match_percent,"%"]}),a.jsx("button",{ref:E=>{E&&u.current.set(A,E)},onClick:()=>j(A,S),className:"p-0.5 hover:bg-gray-200 rounded text-gray-400 hover:text-gray-600",children:a.jsx(vo,{className:"h-3.5 w-3.5"})})]})})]},A)}):a.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[a.jsxs("td",{className:"py-2.5 px-4",children:[a.jsx("div",{className:"font-mono text-xs text-gray-800",children:N.plan_id}),a.jsxs("div",{className:"text-xs text-gray-400 mt-0.5",children:[N.txn_count.toLocaleString()," txns",a.jsxs("span",{className:"ml-2",children:[N.avg_rate.toFixed(2),"% + ",N.avg_fixed.toFixed(2)]})]})]}),a.jsx("td",{className:"py-2.5 px-4",children:a.jsxs("span",{className:"text-amber-600 flex items-center gap-1",children:[a.jsx(nt,{className:"h-3.5 w-3.5"}),"No match"]})}),a.jsx("td",{className:"py-2.5 px-4 text-center",children:a.jsx("span",{className:"text-gray-300",children:"-"})})]},N.plan_id))})]})}),b.length>0&&a.jsxs("div",{className:"border-t bg-gray-50 px-4 py-2",children:[a.jsxs("button",{onClick:()=>c(!l),className:"flex items-center gap-2 text-sm text-gray-500 hover:text-gray-700",children:[l?a.jsx(cr,{className:"h-4 w-4"}):a.jsx(Ge,{className:"h-4 w-4"}),b.length," contract fees without rate plans"]}),l&&a.jsx("div",{className:"mt-2 space-y-1",children:b.map((N,_)=>a.jsxs("div",{className:"text-xs text-gray-500 pl-6",children:[" ",PN(N)]},_))})]}),n&&f&&s&&sS.createPortal(a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-[60]",onClick:()=>{i(null),o(null),d(null)}}),a.jsxs("div",{className:"fixed z-[61] w-72 bg-white border rounded-lg shadow-lg p-3",style:{top:s.top,left:s.left},children:[a.jsxs("div",{className:"text-xs font-medium text-gray-700 mb-1",children:["Transaction Rate Match (",f.txn_match_percent??"-","%)"]}),a.jsx("div",{className:"text-xs text-gray-600 font-mono bg-gray-50 p-2 rounded mb-2 whitespace-pre-line",children:f.txn_reasoning}),a.jsxs("div",{className:"text-xs font-medium text-gray-700 mb-1",children:["Condition Match (",f.condition_match_percent,"%)"]}),a.jsx("div",{className:"text-xs text-gray-600 font-mono bg-gray-50 p-2 rounded",children:f.condition_reasoning})]})]}),document.body)]})}function Pne({merchantId:e,shortname:t,existingContract:r,onClose:n}){var _;const[i,s]=O.useState("preview"),[o,l]=O.useState(!1),[c,u]=O.useState(null),f=O.useRef(null),{data:d,isLoading:h}=pe({queryKey:["contract",t||e,r==null?void 0:r.contract_id],queryFn:()=>t?ie.getContractByShortname(t,r.contract_id):ie.getContract(e,r.contract_id),enabled:!!r&&!!(t||e)}),m=WE({mutationFn:S=>ie.uploadContract(e,S),onSuccess:S=>{u(S)}});O.useEffect(()=>{const S=C=>{C.key==="Escape"&&n()};return window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)},[n]);const x=O.useCallback(S=>{S.preventDefault(),l(!0)},[]),g=O.useCallback(S=>{S.preventDefault(),l(!1)},[]),v=O.useCallback(S=>{S.preventDefault(),l(!1);const C=S.dataTransfer.files[0];C&&(C.name.endsWith(".pdf")||C.name.endsWith(".docx"))&&m.mutate(C)},[m]),p=S=>{var P;const C=(P=S.target.files)==null?void 0:P[0];C&&m.mutate(C)},y=()=>{var S;(S=f.current)==null||S.click()},j=m.isPending,w=!!(c||d),b=c||d||null,N=[{id:"preview",label:"Preview"},{id:"plans",label:"Plans"},{id:"mapping",label:"Mapping"}];return a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:n}),a.jsxs("div",{className:"relative bg-white rounded-xl shadow-2xl w-[900px] max-h-[85vh] flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:r?`Contract: ${r.contract_id}`:"Upload Contract"}),a.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(Wt,{className:"h-5 w-5 text-gray-500"})})]}),a.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[!w&&!j&&a.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[a.jsxs("div",{onDragOver:x,onDragLeave:g,onDrop:v,onClick:y,className:`
                  flex-1 border-2 border-dashed rounded-lg cursor-pointer
                  flex flex-col items-center justify-center gap-4
                  transition-colors
                  ${o?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400 hover:bg-gray-50"}
                `,children:[a.jsx(KT,{className:`h-12 w-12 ${o?"text-blue-500":"text-gray-400"}`}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-gray-700 font-medium",children:"Drag and drop a contract file"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"or click to browse"}),a.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Supports PDF and DOCX"})]}),a.jsx("input",{ref:f,type:"file",accept:".pdf,.docx",onChange:p,className:"hidden"})]}),m.isError&&a.jsxs("div",{className:"mt-4 p-3 bg-red-50 rounded-lg flex items-start gap-2",children:[a.jsx(gd,{className:"h-5 w-5 text-red-500 flex-shrink-0 mt-0.5"}),a.jsx("div",{className:"text-sm text-red-700",children:((_=m.error)==null?void 0:_.message)||"Upload failed"})]})]}),(j||h)&&a.jsxs("div",{className:"p-6 flex-1 flex flex-col items-center justify-center gap-4",children:[a.jsx(Ee,{className:"h-10 w-10 text-blue-500 animate-spin"}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-gray-700 font-medium",children:j?"Converting contract...":"Loading contract..."}),j&&a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"This may take a minute"})]})]}),w&&b&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"px-6 border-b border-gray-200",children:a.jsx("div",{className:"flex gap-1",children:N.map(S=>a.jsx("button",{onClick:()=>s(S.id),className:`
                        px-4 py-3 text-sm font-medium border-b-2 -mb-px transition-colors
                        ${i===S.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}
                      `,children:S.label},S.id))})}),a.jsxs("div",{className:`flex-1 overflow-auto ${i==="mapping"?"":"p-6"}`,children:[i==="preview"&&a.jsx(Nne,{markdown:b.markdown}),i==="plans"&&a.jsx(One,{fees:b.plan.fees}),i==="mapping"&&b.plan&&e&&a.jsx(Cne,{fees:b.plan.fees,merchantId:e,contractId:b.plan.contract_id})]})]})]}),w&&a.jsx("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end",children:a.jsx(Bs,{onClick:n,children:"Close"})})]})]})}function TA({merchantId:e,shortname:t,readonly:r=!1}){const n=t||e,[i,s]=O.useState(!1),[o,l]=O.useState(null),c=Rc(),{data:u=[],isLoading:f}=pe({queryKey:["contracts",n],queryFn:()=>t?ie.getContractsByShortname(t):ie.getContracts(e),enabled:!!n}),d=()=>{l(null),s(!0)},h=g=>{l(g),s(!0)},m=async(g,v)=>{if(v.stopPropagation(),!!confirm("Delete this contract?"))try{await ie.deleteContract(e,g),c.invalidateQueries({queryKey:["contracts",n]})}catch(p){console.error("Failed to delete contract:",p)}},x=()=>{s(!1),l(null),c.invalidateQueries({queryKey:["contracts",n]})};return a.jsxs(a.Fragment,{children:[a.jsx(ne,{title:"Contracts",className:"mb-6",actions:a.jsxs(Bs,{onClick:d,variant:"primary",size:"sm",disabled:r,title:r?"Connect to backend to add contracts":void 0,children:[a.jsx(Oi,{className:"h-4 w-4 mr-1"}),"Add"]}),children:f?a.jsx("div",{className:"text-gray-500 text-sm",children:"Loading contracts..."}):u.length===0?a.jsx("div",{className:"text-gray-400 text-sm py-8 text-center",children:'No contracts uploaded yet. Click "Add" to upload a contract.'}):a.jsx("div",{className:"space-y-2",children:u.map(g=>a.jsxs("div",{onClick:()=>h(g),className:"flex items-center justify-between p-3 bg-gray-50 hover:bg-gray-100 rounded-lg cursor-pointer transition-colors group",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Ri,{className:"h-5 w-5 text-gray-400"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:g.contract_id}),a.jsxs("div",{className:"text-sm text-gray-500",children:[g.company_name,"  ",g.fee_count," fees"]})]})]}),a.jsx("button",{onClick:v=>m(g.contract_id,v),className:"p-2 text-gray-400 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",title:"Delete contract",children:a.jsx(zy,{className:"h-4 w-4"})})]},g.contract_id))})}),i&&(e||t)&&a.jsx(Pne,{merchantId:e,shortname:t,existingContract:o,onClose:x})]})}function Ane({contractDetail:e,highlightFee:t,onClose:r}){const n=O.useRef(null),i=t;O.useEffect(()=>{const l=c=>{c.key==="Escape"&&r()};return window.addEventListener("keydown",l),()=>window.removeEventListener("keydown",l)},[r]),O.useEffect(()=>{n.current&&setTimeout(()=>{var l;(l=n.current)==null||l.scrollIntoView({behavior:"smooth",block:"center"})},100)},[]);const s=O.useMemo(()=>{if(!(i!=null&&i.source))return null;const l=i.source.toLowerCase();return l.includes("incoming")&&l.includes("card")?"incoming cards":l.includes("incoming")&&l.includes("apm")?"incoming apm":l.includes("incoming")&&l.includes("crypto")?"incoming crypto":l.includes("outgoing")&&l.includes("card")?"outgoing cards":l.includes("outgoing")&&l.includes("apm")?"outgoing apm":l.includes("settlement")?"settlement":null},[i]),o=O.useMemo(()=>{let l=e.markdown.trim();l.startsWith("```markdown")?l=l.slice(11):l.startsWith("```")&&(l=l.slice(3)),l.endsWith("```")&&(l=l.slice(0,-3)),l=l.trim();const c=l.split(`
`),u=[];let f=[],d=!1,h=0,m="";const x=j=>{const w=[];return j.split(/(\*\*[^*]+\*\*)/g).forEach((N,_)=>{N.startsWith("**")&&N.endsWith("**")?w.push(a.jsx("strong",{className:"font-semibold",children:N.slice(2,-2)},_)):N&&w.push(N)}),w},g=()=>s?m.toLowerCase().includes(s):!0,v=j=>{if(!i||!g())return!1;const w=j.map(_=>_.toLowerCase().trim()),b=w.join(" ");if(i.operation_type){const _=i.operation_type.toLowerCase();if(_==="incoming"&&!m.toLowerCase().includes("incoming")||_==="outgoing"&&!m.toLowerCase().includes("outgoing"))return!1}if(i.region){const _=i.region.toLowerCase();if(_==="eea"){if(!b.includes("eea"))return!1}else if((_==="row"||_==="worldwide")&&!b.includes("row")&&!b.includes("worldwide")&&!b.includes("rest of world"))return!1}const N=i.wl_percent??i.payout_percent??i.ftd_percent;if(N!=null){const _=String(N);if(!w.some(C=>C===_||C===`${_}%`||C.includes(_)))return!1}if(i.fixed_fee!==null&&i.fixed_fee!==void 0){const _=String(i.fixed_fee);if(!w.some(C=>C.includes(_)))return!1}return!((i.volume_min!==null||i.volume_max!==null)&&!w.some(S=>{if(i.volume_min===0&&i.volume_max){const C=p(i.volume_max);return S.includes("0")&&(S.includes(C)||S.includes("-"))}if(i.volume_min&&i.volume_max===null){const C=p(i.volume_min);return S.includes(C)||S.includes("+")}if(i.volume_min&&i.volume_max){const C=p(i.volume_min),P=p(i.volume_max);return S.includes(C)||S.includes(P)}return!1}))};function p(j){return j>=1e6?String(j/1e6):String(j)}const y=()=>{var _;if(f.length===0)return;const j=f.length>1&&((_=f[1])==null?void 0:_.cells.every(S=>/^[-:]+$/.test(S.trim()))),w=j?f[0]:null,b=j?f.slice(2):f,N=b.findIndex(S=>S.isHighlighted);u.push(a.jsx("div",{className:"overflow-x-auto my-4",children:a.jsxs("table",{className:"w-full text-sm border-collapse",children:[w&&a.jsx("thead",{children:a.jsx("tr",{className:"bg-gray-100",children:w.cells.map((S,C)=>a.jsx("th",{className:"border border-gray-300 px-3 py-2 text-left font-semibold text-gray-700",children:x(S)},C))})}),a.jsx("tbody",{children:b.map((S,C)=>{const P=S.isHighlighted;return a.jsx("tr",{ref:P&&N===C?n:void 0,className:P?"bg-yellow-100 ring-2 ring-yellow-400 ring-inset":C%2===0?"bg-white":"bg-gray-50",children:S.cells.map((A,E)=>a.jsx("td",{className:`border border-gray-300 px-3 py-2 ${P?"text-gray-900 font-medium":"text-gray-600"}`,children:x(A)},E))},C)})})]})},h++)),f=[]};for(const j of c){const w=j.trim();if((w.startsWith("## ")||w.startsWith("### "))&&(m=w.replace(/^#+\s*/,"")),w.startsWith("|")&&w.endsWith("|")){d=!0;const b=w.slice(1,-1).split("|").map(_=>_.trim()),N=v(b);f.push({cells:b,isHighlighted:N});continue}if(d&&!w.startsWith("|")&&(y(),d=!1),/^-{3,}$/.test(w)){u.push(a.jsx("hr",{className:"my-6 border-gray-300"},h++));continue}if(w.startsWith("# ")){u.push(a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mt-6 mb-4 first:mt-0",children:x(w.slice(2))},h++));continue}if(w.startsWith("## ")){u.push(a.jsx("h2",{className:"text-xl font-semibold text-gray-800 mt-5 mb-3",children:x(w.slice(3))},h++));continue}if(w.startsWith("### ")){u.push(a.jsx("h3",{className:"text-lg font-semibold text-gray-700 mt-4 mb-2",children:x(w.slice(4))},h++));continue}if(w.startsWith("#### ")){u.push(a.jsx("h4",{className:"text-base font-semibold text-gray-700 mt-3 mb-2",children:x(w.slice(5))},h++));continue}if(w.startsWith("- ")||w.startsWith("* ")){u.push(a.jsxs("div",{className:"flex gap-2 text-gray-600 ml-4 my-1",children:[a.jsx("span",{className:"text-gray-400",children:""}),a.jsx("span",{children:x(w.slice(2))})]},h++));continue}if(w.startsWith("*")&&!w.startsWith("**")){u.push(a.jsx("p",{className:"text-sm text-gray-500 italic my-2",children:x(w.slice(1).replace(/\*$/,""))},h++));continue}w&&u.push(a.jsx("p",{className:"text-gray-600 my-2",children:x(w)},h++))}return f.length>0&&y(),u},[e.markdown,i,s]);return a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:r}),a.jsxs("div",{className:"relative bg-white rounded-xl shadow-2xl w-[900px] max-h-[85vh] flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Contract: ",e.contract_id]}),(i==null?void 0:i.source)&&a.jsxs("p",{className:"text-sm text-gray-500 mt-0.5",children:["Highlighting: ",i.source]})]}),a.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(Wt,{className:"h-5 w-5 text-gray-500"})})]}),a.jsx("div",{className:"flex-1 overflow-auto p-6",children:a.jsx("div",{className:"contract-preview max-w-none",children:o})}),a.jsx("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end",children:a.jsx(Bs,{onClick:r,children:"Close"})})]})]})}function kne(){return a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx(ge,{className:"h-10 w-10 rounded-lg"}),a.jsxs("div",{className:"flex-1",children:[a.jsx(ge,{className:"h-7 w-64 mb-2"}),a.jsx(ge,{className:"h-4 w-32"})]})]}),a.jsx(ne,{title:"General Info",className:"mb-6",children:a.jsx("div",{className:"grid grid-cols-3 gap-4",children:[1,2,3].map(e=>a.jsxs("div",{children:[a.jsx(ge,{className:"h-4 w-20 mb-2"}),a.jsx(ge,{className:"h-6 w-32"})]},e))})}),a.jsx(ne,{title:"Stats",className:"mb-6",children:a.jsx(tO,{children:[1,2,3,4].map(e=>a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsx(ge,{className:"h-8 w-24 mb-2"}),a.jsx(ge,{className:"h-4 w-20"})]},e))})})]})}function Ene(){var p;const{id:e}=go(),t=parseInt(e||"0",10),r=Rc(),n=Kf(),[i,s]=O.useState(!1),[o,l]=O.useState(!1),[c,u]=O.useState(null),f=async()=>{s(!0);try{await ie.refreshMerchant(t),await r.invalidateQueries({queryKey:["merchant",t]}),await r.invalidateQueries({queryKey:["merchant-monthly",t]}),await r.invalidateQueries({queryKey:["merchant-dynamics",t]})}finally{s(!1)}},d=async()=>{if(confirm("This will delete existing rate plans, recreate them from transaction data, and apply contract rates. Continue?")){l(!0),u(null);try{const y=await ie.recreateRatePlans(t);let j=0;try{j=(await ie.applyContractRates(t)).relationships_updated}catch{}u({plans:y.plans_created,transactions:y.transactions_linked,ratesApplied:j}),await r.invalidateQueries({queryKey:["merchant",t]}),await r.invalidateQueries({queryKey:["merchant-dynamics",t]})}catch(y){alert(`Failed to recreate rate plans: ${y.message}`)}finally{l(!1)}}},{data:h,isLoading:m}=pe({queryKey:["merchant",t],queryFn:()=>ie.getMerchant(t),enabled:!!t}),{data:x,isLoading:g}=pe({queryKey:["merchant-monthly",t],queryFn:()=>ie.getMerchantMonthly(t),enabled:!!t}),v=h==null?void 0:h.monthly_reconciliation;return m?a.jsx(kne,{}):h?a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx(De,{to:"/merchants",className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(kr,{className:"h-5 w-5 text-gray-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"flex items-center gap-3",children:a.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:h.merchant_name})}),h.merchant_group&&a.jsx("span",{className:"text-sm text-gray-500",children:h.merchant_group})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:d,disabled:o||n,className:"flex items-center gap-2 px-3 py-1.5 text-sm font-medium text-blue-600 hover:bg-blue-50 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:n?"Connect to backend to recreate plans":"Recreate RatePlan nodes from transactions",children:[a.jsx(Dy,{className:`h-4 w-4 ${o?"animate-pulse":""}`}),o?"Recreating...":"Recreate Plans"]}),a.jsx("button",{onClick:f,disabled:i||n,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:n?"Connect to backend to refresh":"Refresh cache",children:a.jsx(HS,{className:`h-5 w-5 text-gray-600 ${i?"animate-spin":""}`})})]})]}),c&&a.jsxs("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-lg flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-green-800",children:["Created ",c.plans," rate plans, linked ",c.transactions.toLocaleString()," transactions",c.ratesApplied?`, applied contract rates to ${c.ratesApplied.toLocaleString()} transactions`:""]}),a.jsx("button",{onClick:()=>u(null),className:"text-green-600 hover:text-green-800",children:"Dismiss"})]}),a.jsx(ne,{title:"General Info",className:"mb-6",children:a.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Manager (KAM)"}),a.jsx("div",{className:"font-medium text-gray-900",children:h.kam||"-"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-500",children:"First Transaction"}),a.jsx("div",{className:"font-medium text-gray-900",children:Bf(h.first_transaction_date)})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Contract ID"}),a.jsx("div",{className:"font-medium text-gray-900",children:h.contract_id||"-"})]})]})}),a.jsxs(ne,{title:"Stats",className:"mb-6",children:[a.jsxs(tO,{className:"mb-6",children:[a.jsx(wr,{label:"Transactions",value:Ne(h.transaction_count)}),a.jsx(wr,{label:"Total Volume",value:q(h.total_amount_eur)}),a.jsx(wr,{label:"Accept Rate",value:a.jsx("span",{className:"text-green-600",children:lt(h.acceptance_rate)}),subValue:`${Ne(h.approved_count)} approved / ${Ne(h.declined_count)} declined`}),a.jsx(wr,{label:"Total Commission",value:q(h.total_commission_eur)})]}),a.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"By Transaction Type"}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[a.jsx("div",{className:"text-lg font-semibold text-blue-900",children:Ne(h.sale_count)}),a.jsx("div",{className:"text-sm text-blue-600",children:"Sales"}),a.jsx("div",{className:"text-xs text-blue-500 mt-1",children:q(h.sale_amount)})]}),a.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[a.jsx("div",{className:"text-lg font-semibold text-purple-900",children:Ne(h.payout_count)}),a.jsx("div",{className:"text-sm text-purple-600",children:"Payouts"}),a.jsx("div",{className:"text-xs text-purple-500 mt-1",children:q(h.payout_amount)})]}),a.jsxs("div",{className:"bg-amber-50 rounded-lg p-4",children:[a.jsx("div",{className:"text-lg font-semibold text-amber-900",children:Ne(h.reversal_count)}),a.jsx("div",{className:"text-sm text-amber-600",children:"Reversals"}),a.jsx("div",{className:"text-xs text-amber-500 mt-1",children:q(h.reversal_amount)})]})]})]})]}),h.currency_breakdown&&h.currency_breakdown.length>0&&a.jsx(ne,{title:"Currency Breakdown (Approved Sales)",className:"mb-6",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"text-left py-2 px-3 font-medium text-gray-600",children:"Currency"}),a.jsx("th",{className:"text-right py-2 px-3 font-medium text-gray-600",children:"Count"}),a.jsx("th",{className:"text-right py-2 px-3 font-medium text-gray-600",children:"Amount (EUR)"})]})}),a.jsx("tbody",{children:h.currency_breakdown.map(y=>a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[a.jsx("td",{className:"py-2 px-3 font-medium",children:y.currency}),a.jsx("td",{className:"py-2 px-3 text-right",children:Ne(y.cnt)}),a.jsx("td",{className:"py-2 px-3 text-right",children:q(y.amount)})]},y.currency))})]})})}),a.jsx(ne,{title:"Processing Partners",className:"mb-6",children:a.jsx("div",{className:"flex flex-wrap gap-2",children:((p=h.partners)==null?void 0:p.length)>0?h.partners.map(y=>a.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-gray-100 text-gray-700 rounded",children:y},y)):a.jsx("span",{className:"text-gray-400 text-sm",children:"No partners"})})}),a.jsx(EA,{merchantId:t}),a.jsx(TA,{merchantId:t,readonly:n}),a.jsx(Q0,{data:v,isLoading:m}),a.jsx(tne,{data:x||[],isLoading:g})]}):a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"text-red-500",children:"Merchant not found"})})}function $ne(){return a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx(ge,{className:"h-10 w-10 rounded-lg"}),a.jsxs("div",{className:"flex-1",children:[a.jsx(ge,{className:"h-7 w-64 mb-2"}),a.jsx(ge,{className:"h-4 w-48"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsx(ge,{className:"h-48"}),a.jsx(ge,{className:"h-48"})]})]})}function Tne(e){return e?{incoming:"Incoming",outgoing:"Outgoing",chargeback:"Chargeback",refund:"Refund",settlement:"Settlement"}[e.toLowerCase()]||e:"-"}function Mne(e,t){return e?{card:"Card",apm:t?MA(t):"APM",crypto:"Crypto"}[e.toLowerCase()]||e:"-"}function MA(e){return{apple_pay:"Apple Pay",google_pay:"Google Pay",blik:"BLIK",sepa:"SEPA",openbanking:"Open Banking",open_banking:"Open Banking"}[e.toLowerCase()]||e}function Rne(e){return e?{EEA:"EEA",WW:"Worldwide",RoW:"Worldwide",UK:"United Kingdom",DOM:"Domestic",Domestic:"Domestic"}[e]||e:"-"}function AN(e){return e==null?"":e===0?"0":e>=1e6?`${(e/1e6).toFixed(1)}M`:e>=1e3?`${(e/1e3).toFixed(0)}K`:`${e.toFixed(0)}`}function Ine(e,t){const r=e.toUpperCase().split("_"),n={};r.includes("IN")||r.includes("INCOMING")?n.operation_type="incoming":(r.includes("OUT")||r.includes("OUTGOING")||r.includes("PAYOUT"))&&(n.operation_type="outgoing");const i=["EUR","USD","GBP","PLN","CZK","CHF","SEK","NOK","DKK"];for(const s of i)if(r.includes(s)){n.currency=s;break}return!n.currency&&t&&(n.currency=t),r.includes("EEA")?n.region="EEA":r.includes("WW")||r.includes("ROW")?n.region="WW":r.includes("UK")?n.region="UK":r.includes("DOM")&&(n.region="DOM"),r.includes("CARD")||r.includes("WL")?n.payment_type="card":r.includes("APPLEPAY")||r.includes("APPLE")?(n.payment_type="apm",n.apm_type="apple_pay"):r.includes("GOOGLEPAY")||r.includes("GOOGLE")?(n.payment_type="apm",n.apm_type="google_pay"):r.includes("SEPA")?(n.payment_type="apm",n.apm_type="sepa"):r.includes("BLIK")?(n.payment_type="apm",n.apm_type="blik"):r.includes("APM")&&(n.payment_type="apm"),n}function Dne(){var N,_,S;const{merchantId:e,planKey:t}=go(),r=parseInt(e||"0",10),n=decodeURIComponent(t||""),[i,s]=O.useState(!1),{data:o,isLoading:l}=pe({queryKey:["merchant",r],queryFn:()=>ie.getMerchant(r),enabled:!!r}),{data:c,isLoading:u}=pe({queryKey:["merchant-rate-plan-analysis",r],queryFn:()=>ie.getMerchantRatePlanAnalysis(r),enabled:!!r}),f=(c==null?void 0:c.plans.find(C=>C.plan_id===n))||null,{data:d}=pe({queryKey:["contracts",r],queryFn:()=>ie.getContracts(r),enabled:!!r}),h=(N=d==null?void 0:d[0])==null?void 0:N.contract_id,{data:m}=pe({queryKey:["contract",r,h],queryFn:()=>ie.getContract(r,h),enabled:!!r&&!!h}),{data:x}=pe({queryKey:["contract-mapping",r,h],queryFn:()=>ie.getContractMapping(r,h,m.plan.fees),enabled:!!r&&!!h&&!!((_=m==null?void 0:m.plan)!=null&&_.fees)}),g=O.useMemo(()=>x!=null&&x.mappings&&x.mappings.find(C=>C.plan_id===n)||null,[x,n]),v=O.useMemo(()=>g!=null&&g.matched_fees?[...g.matched_fees].sort((C,P)=>{const A=P.condition_match_percent-C.condition_match_percent;return A!==0?A:(P.txn_match_percent||0)-(C.txn_match_percent||0)}):[],[g]),p=((S=v[0])==null?void 0:S.fee)||null;if(l||u)return a.jsx($ne,{});const j=v.length>0,w=p?{operation_type:p.operation_type,currency:p.currency,region:p.region,payment_type:p.payment_type,apm_type:p.apm_type,card_brand:p.card_brand}:Ine(n,f==null?void 0:f.currency),b=v.length>1||p&&(p.volume_min!==null||p.volume_max!==null);return a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx(De,{to:`/merchant/${r}`,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(kr,{className:"h-5 w-5 text-gray-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-900 font-mono",children:n}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[a.jsx("span",{children:(o==null?void 0:o.merchant_name)||`Merchant #${r}`}),(o==null?void 0:o.contract_id)&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-gray-300",children:"|"}),a.jsx("span",{children:o.contract_id})]})]})]})]}),a.jsxs(ne,{title:"General",className:"mb-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Plan Key"}),a.jsx("div",{className:"font-mono text-gray-900 break-all",children:n})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Source"}),j?a.jsxs("button",{onClick:()=>s(!0),className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-green-50 text-green-700 rounded-lg hover:bg-green-100 transition-colors",children:[a.jsx(Ri,{className:"h-4 w-4"}),a.jsx("span",{className:"font-medium",children:"Contract"}),a.jsx(Ls,{className:"h-3.5 w-3.5"})]}):a.jsxs("div",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-purple-50 text-purple-700 rounded-lg",children:[a.jsx(UT,{className:"h-4 w-4"}),a.jsx("span",{className:"font-medium",children:"Virtual"})]})]}),f&&a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Formula"}),a.jsx("div",{className:"text-lg font-medium text-gray-900",children:f.formula})]})]}),a.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-100",children:[a.jsx("div",{className:"text-sm font-medium text-gray-700 mb-3",children:"Matching Conditions"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Type"}),a.jsx("div",{className:"px-2 py-1 bg-blue-50 text-blue-700 rounded text-sm font-medium",children:Tne(w.operation_type)})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Currency"}),a.jsx("div",{className:"px-2 py-1 bg-green-50 text-green-700 rounded text-sm font-medium",children:w.currency||"-"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Region"}),a.jsx("div",{className:"px-2 py-1 bg-orange-50 text-orange-700 rounded text-sm font-medium",children:Rne(w.region)})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Payment"}),a.jsx("div",{className:"px-2 py-1 bg-purple-50 text-purple-700 rounded text-sm font-medium",children:Mne(w.payment_type,w.apm_type)})]}),w.apm_type&&a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"APM Type"}),a.jsx("div",{className:"px-2 py-1 bg-indigo-50 text-indigo-700 rounded text-sm font-medium",children:MA(w.apm_type)})]}),w.card_brand&&a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Card Brand"}),a.jsx("div",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded text-sm font-medium",children:w.card_brand})]})]})]}),f&&a.jsx("div",{className:"mt-6 pt-6 border-t border-gray-100",children:a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Confidence"}),a.jsxs("div",{className:`text-lg font-medium ${f.confidence>=95?"text-green-600":f.confidence>=80?"text-yellow-600":"text-red-600"}`,children:[f.confidence.toFixed(0),"%"]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Transactions"}),a.jsx("div",{className:"text-lg font-medium text-gray-900",children:f.total_transactions.toLocaleString()})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Variants"}),a.jsx("div",{className:"text-lg font-medium text-gray-900",children:f.variants.length})]}),g&&a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Avg Rate"}),a.jsxs("div",{className:"text-lg font-medium text-gray-900",children:[g.avg_rate.toFixed(2),"%",a.jsxs("span",{className:"text-sm text-gray-500 ml-1",children:["+ ",g.avg_fixed.toFixed(2)]})]})]})]})}),b&&v.length>0&&a.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-100",children:[a.jsx("div",{className:"text-sm font-medium text-gray-700 mb-3",children:"Volume Tiers"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50",children:[a.jsx("th",{className:"text-left px-3 py-2 font-medium text-gray-600",children:"Volume Range"}),a.jsx("th",{className:"text-left px-3 py-2 font-medium text-gray-600",children:"Rate"}),a.jsx("th",{className:"text-left px-3 py-2 font-medium text-gray-600",children:"Fixed"}),a.jsx("th",{className:"text-left px-3 py-2 font-medium text-gray-600",children:"Condition Match"}),a.jsx("th",{className:"text-left px-3 py-2 font-medium text-gray-600",children:"Txn Match"})]})}),a.jsx("tbody",{children:v.map((C,P)=>{const A=C.fee,E=A.wl_percent??A.payout_percent??A.ftd_percent,L=A.volume_min!==null||A.volume_max!==null?`${AN(A.volume_min??0)} - ${AN(A.volume_max)}`:"All";return a.jsxs("tr",{className:`border-b border-gray-100 ${P===0?"bg-yellow-50":""}`,children:[a.jsx("td",{className:"px-3 py-2 font-medium",children:L}),a.jsx("td",{className:"px-3 py-2",children:E!==null?`${E}%`:"-"}),a.jsx("td",{className:"px-3 py-2",children:A.fixed_fee!==null?`${A.fixed_fee}`:"-"}),a.jsx("td",{className:"px-3 py-2",children:a.jsxs("span",{className:C.condition_match_percent>=100?"text-green-600":"text-yellow-600",children:[C.condition_match_percent,"%"]})}),a.jsx("td",{className:"px-3 py-2",children:a.jsx("span",{className:C.txn_match_percent!==null?C.txn_match_percent>=95?"text-green-600":C.txn_match_percent>=80?"text-yellow-600":"text-red-600":"text-gray-400",children:C.txn_match_percent!==null?`${C.txn_match_percent}%`:"-"})})]},P)})})]})})]})]}),f&&c&&a.jsx(ane,{merchantId:r,planId:n,plan:f,months:c.months}),i&&m&&p&&a.jsx(Ane,{contractDetail:m,highlightFee:p,onClose:()=>s(!1)})]})}const Lne={0:{label:"STRICT",color:"text-red-700",bg:"bg-red-100"},1:{label:"HIGH",color:"text-orange-700",bg:"bg-orange-100"},2:{label:"MEDIUM",color:"text-yellow-700",bg:"bg-yellow-100"},3:{label:"LOW",color:"text-gray-600",bg:"bg-gray-100"}},Fne={any:"Wildcard",reject:"Required",exact:"Exact Match"},Bne={SHOW:"show",ADD:"+",SUB:"-",MUL:"x",MUL_PCT:"x%",DIV:"/",DIV_PCT:"/%",MAX:"max",MIN:"min"},kN=[{value:"SHOW",label:"SHOW",description:"Display value only",needsB:!1},{value:"ADD",label:"ADD (+)",description:"a + b",needsB:!0},{value:"SUB",label:"SUB (-)",description:"a - b",needsB:!0},{value:"MUL",label:"MUL (x)",description:"a x b",needsB:!0},{value:"MUL_PCT",label:"MUL_PCT (x%)",description:"a x (b/100)",needsB:!0},{value:"DIV",label:"DIV (/)",description:"a / b",needsB:!0},{value:"DIV_PCT",label:"DIV_PCT (/%)",description:"(a/b) x 100",needsB:!0},{value:"MAX",label:"MAX",description:"max(a, b)",needsB:!0},{value:"MIN",label:"MIN",description:"min(a, b)",needsB:!0}],zne=[{value:"CURRENCY",label:"Currency (1,234.56)"},{value:"CURRENCY_PLAIN",label:"Currency Plain (1,234.56)"},{value:"PERCENT",label:"Percent (6.00%)"},{value:"PERCENT_PRECISE",label:"Percent Precise (6.0000%)"},{value:"NUMBER",label:"Number (1,234.56)"},{value:"INTEGER",label:"Integer (1,234)"}];function ol({priority:e}){const t=Lne[e];return a.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${t.bg} ${t.color}`,children:t.label})}function Une({formula:e,calc:t}){if(e)return a.jsx("code",{className:"text-xs bg-blue-50 text-blue-700 px-2 py-1 rounded font-mono",children:e});const r=[];for(const i of t.steps)if(i.op!=="SHOW")switch(i.op){case"MUL_PCT":r.push(`(${i.a} x ${i.b}%)`);break;case"ADD":r.length>0?r.push(`+ ${i.b}`):r.push(`${i.a} + ${i.b}`);break;case"SUB":r.length>0?r.push(`- ${i.b}`):r.push(`${i.a} - ${i.b}`);break;case"MAX":r.push(`max(..., ${i.b})`);break;case"MIN":r.push(`min(..., ${i.b})`);break;case"DIV_PCT":r.push(`(${i.a} / ${i.b}) x 100`);break;case"DIV":r.push(`${i.a} / ${i.b}`);break;case"MUL":r.push(`${i.a} x ${i.b}`);break}const n=r.join(" ");return a.jsx("code",{className:"text-xs bg-blue-50 text-blue-700 px-2 py-1 rounded font-mono",children:n||t.description||t.name})}function Wne({calc:e,expanded:t,onToggleExpand:r,onEdit:n}){return a.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-t-lg",children:[a.jsx("button",{onClick:r,className:"p-0.5 hover:bg-gray-200 rounded",children:t?a.jsx(Ge,{className:"w-4 h-4 text-gray-500"}):a.jsx(Qr,{className:"w-4 h-4 text-gray-500"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx("span",{className:"font-medium text-gray-900",children:e.name}),a.jsx(Une,{formula:e.formula,calc:e})]}),e.description&&a.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:e.description})]}),a.jsx("button",{onClick:n,className:"p-1.5 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded",title:"Edit calculation",children:a.jsx(US,{className:"w-4 h-4"})})]}),t&&a.jsxs("div",{className:"p-3 border-t border-gray-100",children:[a.jsxs("div",{className:"mb-3",children:[a.jsx("div",{className:"text-xs font-medium text-gray-500 mb-1.5",children:"Variables"}),a.jsx("div",{className:"flex flex-wrap gap-1.5",children:e.vars.map(i=>a.jsxs("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-700 rounded text-xs font-mono",title:i.label||i.format,children:[i.name,a.jsxs("span",{className:"text-gray-400 ml-1",children:["(",i.format.toLowerCase(),")"]})]},i.name))})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs font-medium text-gray-500 mb-1.5",children:"Steps"}),a.jsx("div",{className:"space-y-1",children:e.steps.map((i,s)=>a.jsxs("div",{className:"flex items-center gap-2 text-xs py-1.5 px-2 bg-gray-50 rounded",children:[a.jsxs("span",{className:"w-5 text-gray-400 text-right",children:[s+1,"."]}),a.jsx("span",{className:`px-1.5 py-0.5 rounded font-medium ${i.op==="SHOW"?"bg-gray-200 text-gray-600":"bg-purple-100 text-purple-700"}`,children:Bne[i.op]}),a.jsx("span",{className:"font-mono text-gray-700",children:i.a}),i.b&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-gray-400",children:","}),a.jsx("span",{className:"font-mono text-gray-700",children:i.b})]}),i.result&&i.result!=="_prev"&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-gray-400",children:""}),a.jsx("span",{className:"font-mono text-green-700",children:i.result})]}),i.label&&a.jsxs("span",{className:"text-gray-500 ml-auto italic",children:['"',i.label,'"']})]},s))})]}),a.jsxs("div",{className:"mt-3 pt-2 border-t border-gray-100 text-xs",children:[a.jsx("span",{className:"text-gray-500",children:"Returns: "}),a.jsx("span",{className:"font-mono font-medium text-green-700",children:e.result})]})]})]})}function Hne({condition:e,onEdit:t}){return a.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:"font-medium text-gray-900",children:e.label}),a.jsx("code",{className:"text-xs bg-gray-100 px-1.5 py-0.5 rounded font-mono text-gray-600",children:e.field})]}),a.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[a.jsx(ol,{priority:e.priority}),a.jsxs("span",{className:"text-gray-500",children:["Empty: ",a.jsx("span",{className:"font-medium",children:Fne[e.emptyMeans]})]}),a.jsx("span",{className:"px-1.5 py-0.5 bg-purple-50 text-purple-700 rounded font-medium",children:e.op})]}),e.description&&a.jsx("div",{className:"text-xs text-gray-500 mt-1.5",children:e.description})]}),a.jsx("button",{onClick:t,className:"p-1.5 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded",title:"Edit condition",children:a.jsx(US,{className:"w-4 h-4"})})]})})}function Kne({step:e,index:t,variables:r,onChange:n,onRemove:i}){const s=kN.find(l=>l.value===e.op),o=(s==null?void 0:s.needsB)??!0;return a.jsxs("div",{className:"flex items-start gap-2 p-2 bg-gray-50 rounded-lg group",children:[a.jsxs("div",{className:"flex items-center gap-1 pt-1.5",children:[a.jsx(BS,{className:"w-3 h-3 text-gray-300"}),a.jsxs("span",{className:"w-5 text-xs text-gray-400 text-right",children:[t+1,"."]})]}),a.jsx("div",{className:"w-28",children:a.jsx("select",{value:e.op,onChange:l=>n({...e,op:l.target.value}),className:"w-full px-2 py-1.5 text-xs border border-gray-300 rounded bg-white focus:outline-none focus:ring-1 focus:ring-blue-500",children:kN.map(l=>a.jsx("option",{value:l.value,children:l.label},l.value))})}),a.jsx("div",{className:"w-24",children:a.jsxs("select",{value:e.a,onChange:l=>n({...e,a:l.target.value}),className:"w-full px-2 py-1.5 text-xs border border-gray-300 rounded bg-white font-mono focus:outline-none focus:ring-1 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"-- a --"}),r.map(l=>a.jsx("option",{value:l,children:l},l))]})}),o?a.jsx("div",{className:"w-24",children:a.jsxs("select",{value:e.b||"",onChange:l=>n({...e,b:l.target.value||void 0}),className:"w-full px-2 py-1.5 text-xs border border-gray-300 rounded bg-white font-mono focus:outline-none focus:ring-1 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"-- b --"}),r.map(l=>a.jsx("option",{value:l,children:l},l))]})}):a.jsx("div",{className:"w-24"}),a.jsx("span",{className:"text-gray-400 pt-1.5",children:""}),a.jsx("div",{className:"w-24",children:a.jsxs("select",{value:e.result||"",onChange:l=>n({...e,result:l.target.value||void 0}),className:"w-full px-2 py-1.5 text-xs border border-gray-300 rounded bg-white font-mono focus:outline-none focus:ring-1 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"-- result --"}),r.map(l=>a.jsx("option",{value:l,children:l},l))]})}),a.jsx("div",{className:"flex-1",children:a.jsx("input",{type:"text",value:e.label||"",onChange:l=>n({...e,label:l.target.value||void 0}),placeholder:"Display label...",className:"w-full px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})}),a.jsx("button",{onClick:i,className:"p-1 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded opacity-0 group-hover:opacity-100 transition-opacity",title:"Remove step",children:a.jsx(zy,{className:"w-4 h-4"})})]})}function qne({variable:e,onChange:t,onRemove:r}){return a.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded-lg group",children:[a.jsx(BS,{className:"w-3 h-3 text-gray-300"}),a.jsx("input",{type:"text",value:e.name,onChange:n=>t({...e,name:n.target.value}),placeholder:"name",className:"w-28 px-2 py-1.5 text-xs border border-gray-300 rounded font-mono focus:outline-none focus:ring-1 focus:ring-blue-500"}),a.jsx("select",{value:e.format,onChange:n=>t({...e,format:n.target.value}),className:"w-44 px-2 py-1.5 text-xs border border-gray-300 rounded bg-white focus:outline-none focus:ring-1 focus:ring-blue-500",children:zne.map(n=>a.jsx("option",{value:n.value,children:n.label},n.value))}),a.jsx("input",{type:"text",value:e.label||"",onChange:n=>t({...e,label:n.target.value||void 0}),placeholder:"Display label...",className:"flex-1 px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"}),a.jsx("button",{onClick:r,className:"p-1 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded opacity-0 group-hover:opacity-100 transition-opacity",title:"Remove variable",children:a.jsx(zy,{className:"w-4 h-4"})})]})}function Vne({calc:e,onSave:t,onClose:r,readonly:n=!1}){const[i,s]=O.useState(()=>({...e,vars:e.vars.map(x=>({...x})),steps:e.steps.map(x=>({...x}))})),o=i.vars.map(x=>x.name),l=()=>{t(i),r()},c=(x,g)=>{const v=[...i.vars];v[x]=g,s({...i,vars:v})},u=()=>{s({...i,vars:[...i.vars,{name:"",format:"CURRENCY"}]})},f=x=>{const g=i.vars.filter((v,p)=>p!==x);s({...i,vars:g})},d=(x,g)=>{const v=[...i.steps];v[x]=g,s({...i,steps:v})},h=()=>{s({...i,steps:[...i.steps,{op:"SHOW",a:""}]})},m=x=>{const g=i.steps.filter((v,p)=>p!==x);s({...i,steps:g})};return a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:r}),a.jsxs("div",{className:"relative bg-white rounded-xl shadow-2xl w-[900px] max-h-[90vh] flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Edit Calculation"}),a.jsx("p",{className:"text-sm text-gray-500",children:e.name})]}),a.jsx("button",{onClick:r,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg",children:a.jsx(Wt,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"flex-1 p-6 overflow-y-auto space-y-5",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),a.jsx("input",{type:"text",value:i.name,onChange:x=>s({...i,name:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Result Variable"}),a.jsxs("select",{value:i.result,onChange:x=>s({...i,result:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono bg-white",children:[a.jsx("option",{value:"",children:"-- select --"}),o.map(x=>a.jsx("option",{value:x,children:x},x))]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("input",{type:"text",value:i.description||"",onChange:x=>s({...i,description:x.target.value}),placeholder:"Brief description of what this calculation does...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Formula",a.jsx("span",{className:"text-gray-400 font-normal ml-1",children:"(for display)"})]}),a.jsx("input",{type:"text",value:i.formula||"",onChange:x=>s({...i,formula:x.target.value}),placeholder:"e.g., (amount x rate%) + fixed",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Variables"}),a.jsxs("button",{onClick:u,className:"flex items-center gap-1 px-2 py-1 text-xs text-blue-600 hover:bg-blue-50 rounded",children:[a.jsx(Oi,{className:"w-3 h-3"}),"Add Variable"]})]}),a.jsxs("div",{className:"space-y-1.5",children:[i.vars.map((x,g)=>a.jsx(qne,{variable:x,onChange:v=>c(g,v),onRemove:()=>f(g)},g)),i.vars.length===0&&a.jsx("div",{className:"text-center py-4 text-sm text-gray-400",children:"No variables defined. Add variables to use in steps."})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Calculation Steps",a.jsx("span",{className:"text-gray-400 font-normal ml-1",children:"(executed in order)"})]}),a.jsxs("button",{onClick:h,className:"flex items-center gap-1 px-2 py-1 text-xs text-blue-600 hover:bg-blue-50 rounded",children:[a.jsx(Oi,{className:"w-3 h-3"}),"Add Step"]})]}),a.jsxs("div",{className:"space-y-1.5",children:[i.steps.map((x,g)=>a.jsx(Kne,{step:x,index:g,variables:o,onChange:v=>d(g,v),onRemove:()=>m(g)},g)),i.steps.length===0&&a.jsx("div",{className:"text-center py-4 text-sm text-gray-400",children:"No steps defined. Add steps to define the calculation logic."})]}),a.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Tip: Use SHOW to display intermediate values with labels. Labels support ","{variable}"," interpolation."]})]})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-gray-200 bg-gray-50 rounded-b-xl",children:[n&&a.jsx("span",{className:"text-xs text-gray-400 mr-auto",children:"Connect to backend to save changes"}),a.jsx("button",{onClick:r,className:"px-4 py-2 text-sm text-gray-600 hover:bg-gray-200 rounded-lg",children:n?"Close":"Cancel"}),!n&&a.jsxs("button",{onClick:l,className:"flex items-center gap-2 px-4 py-2 text-sm bg-blue-600 text-white hover:bg-blue-700 rounded-lg",children:[a.jsx(Ds,{className:"w-4 h-4"}),"Save"]})]})]})]})}function Gne({condition:e,onSave:t,onClose:r,readonly:n=!1}){const[i,s]=O.useState({...e}),o=()=>{t(i),r()};return a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:r}),a.jsxs("div",{className:"relative bg-white rounded-xl shadow-2xl w-[500px] flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Edit Condition"}),a.jsx("p",{className:"text-sm text-gray-500",children:e.label})]}),a.jsx("button",{onClick:r,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg",children:a.jsx(Wt,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Field Name"}),a.jsx("input",{type:"text",value:i.field,onChange:l=>s({...i,field:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Label"}),a.jsx("input",{type:"text",value:i.label,onChange:l=>s({...i,label:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),a.jsxs("select",{value:i.priority,onChange:l=>s({...i,priority:parseInt(l.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",children:[a.jsx("option",{value:0,children:"STRICT - Must match exactly"}),a.jsx("option",{value:1,children:"HIGH - Strong preference"}),a.jsx("option",{value:2,children:"MEDIUM - Moderate preference"}),a.jsx("option",{value:3,children:"LOW - Minor preference"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Empty Value Behavior"}),a.jsxs("select",{value:i.emptyMeans,onChange:l=>s({...i,emptyMeans:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",children:[a.jsx("option",{value:"any",children:"Wildcard - Empty matches anything"}),a.jsx("option",{value:"reject",children:"Required - Must have a value"}),a.jsx("option",{value:"exact",children:"Exact - Empty must match empty"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Operation"}),a.jsxs("select",{value:i.op,onChange:l=>s({...i,op:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",children:[a.jsx("option",{value:"EQ",children:"EQ - Exact match"}),a.jsx("option",{value:"IN",children:"IN - In list"}),a.jsx("option",{value:"ANY",children:"ANY - Wildcard"}),a.jsx("option",{value:"BETWEEN",children:"BETWEEN - Range match"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("input",{type:"text",value:i.description||"",onChange:l=>s({...i,description:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-gray-200 bg-gray-50 rounded-b-xl",children:[n&&a.jsx("span",{className:"text-xs text-gray-400 mr-auto",children:"Connect to backend to save changes"}),a.jsx("button",{onClick:r,className:"px-4 py-2 text-sm text-gray-600 hover:bg-gray-200 rounded-lg",children:n?"Close":"Cancel"}),!n&&a.jsxs("button",{onClick:o,className:"flex items-center gap-2 px-4 py-2 text-sm bg-blue-600 text-white hover:bg-blue-700 rounded-lg",children:[a.jsx(Ds,{className:"w-4 h-4"}),"Save"]})]})]})]})}function Xne({currentVersion:e,onSave:t,onClose:r}){const n=e.split("."),i=`${n[0]}.${parseInt(n[1]||"0")+1}.0`,[s,o]=O.useState(i),[l,c]=O.useState(""),u=()=>{s&&l&&(t(s,l),r())};return a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:r}),a.jsxs("div",{className:"relative bg-white rounded-xl shadow-2xl w-[400px] flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Create New Version"}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Copy from ",e]})]}),a.jsx("button",{onClick:r,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg",children:a.jsx(Wt,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Version Number"}),a.jsx("input",{type:"text",value:s,onChange:f=>o(f.target.value),placeholder:"e.g., 1.1.0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Version Name"}),a.jsx("input",{type:"text",value:l,onChange:f=>c(f.target.value),placeholder:"e.g., Updated rate formulas",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 rounded-lg text-xs text-blue-700",children:[a.jsx(LS,{className:"w-4 h-4 flex-shrink-0"}),a.jsx("span",{children:"New version will be a copy of the current configuration"})]})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-gray-200 bg-gray-50 rounded-b-xl",children:[a.jsx("button",{onClick:r,className:"px-4 py-2 text-sm text-gray-600 hover:bg-gray-200 rounded-lg",children:"Cancel"}),a.jsxs("button",{onClick:u,disabled:!s||!l,className:"flex items-center gap-2 px-4 py-2 text-sm bg-blue-600 text-white hover:bg-blue-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(Oi,{className:"w-4 h-4"}),"Create Version"]})]})]})]})}function Qne({config:e,onChange:t,readonly:r=!1}){const[n,i]=O.useState("calculations"),[s,o]=O.useState(new Set),[l,c]=O.useState(!1),[u,f]=O.useState(null),[d,h]=O.useState(null),[m,x]=O.useState(!1),[g,v]=O.useState(e||null),p=e||g;if(!p)return a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-8 text-center text-gray-500",children:"Loading DSL configuration..."});const y=p.versions[p.current],j=Object.keys(p.versions).sort(),w=P=>{t?t(P):v(P)},b=P=>{w({...p,current:P}),c(!1)},N=(P,A)=>{const E={...JSON.parse(JSON.stringify(y)),name:A,created:new Date().toISOString().split("T")[0]};w({...p,current:P,versions:{...p.versions,[P]:E}})},_=P=>{o(A=>{const E=new Set(A);return E.has(P)?E.delete(P):E.add(P),E})},S=P=>{const A=y.calculations.map(E=>E.name===(u==null?void 0:u.name)?P:E);w({...p,versions:{...p.versions,[p.current]:{...y,calculations:A}}})},C=P=>{const A=y.matching.map(E=>E.field===(d==null?void 0:d.field)?P:E);w({...p,versions:{...p.versions,[p.current]:{...y,matching:A}}})};return a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[a.jsxs("div",{className:"border-b border-gray-200 px-4 py-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>c(!l),className:"flex items-center gap-2 px-3 py-1.5 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium transition-colors",children:[a.jsxs("span",{children:["v",p.current]}),(y==null?void 0:y.name)&&a.jsxs("span",{className:"text-gray-500 font-normal",children:["- ",y.name]}),a.jsx(Ge,{className:`w-4 h-4 text-gray-400 transition-transform ${l?"rotate-180":""}`})]}),l&&a.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-10 py-1 min-w-[200px]",children:j.map(P=>{var A;return a.jsxs("button",{onClick:()=>b(P),className:`w-full text-left px-3 py-2 text-sm hover:bg-gray-50 ${P===p.current?"bg-blue-50 text-blue-700":""}`,children:[a.jsxs("div",{className:"font-medium",children:["v",P]}),((A=p.versions[P])==null?void 0:A.name)&&a.jsx("div",{className:"text-xs text-gray-500",children:p.versions[P].name})]},P)})})]}),!r&&a.jsxs("button",{onClick:()=>x(!0),className:"flex items-center gap-1.5 px-3 py-1.5 text-sm text-blue-600 hover:bg-blue-50 rounded-lg",children:[a.jsx(Oi,{className:"w-4 h-4"}),"New Version"]})]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsxs("button",{onClick:()=>i("calculations"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${n==="calculations"?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-100"}`,children:[a.jsx(zf,{className:"w-4 h-4"}),"Calculations",a.jsx("span",{className:"px-1.5 py-0.5 bg-gray-200 text-gray-600 rounded text-xs",children:(y==null?void 0:y.calculations.length)||0})]}),a.jsxs("button",{onClick:()=>i("matching"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${n==="matching"?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-100"}`,children:[a.jsx(Ly,{className:"w-4 h-4"}),"Matching",a.jsx("span",{className:"px-1.5 py-0.5 bg-gray-200 text-gray-600 rounded text-xs",children:(y==null?void 0:y.matching.length)||0})]})]})]}),a.jsxs("div",{className:"p-4",children:[n==="calculations"&&y&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"text-sm text-gray-600 mb-3",children:"Commission calculation formulas for each transaction type"}),y.calculations.map(P=>a.jsx(Wne,{calc:P,expanded:s.has(P.name),onToggleExpand:()=>_(P.name),onEdit:()=>f(P)},P.name))]}),n==="matching"&&y&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"text-sm text-gray-600 mb-3",children:"Rules for matching transactions to rate plans"}),a.jsxs("div",{className:"flex items-center gap-4 mb-3 p-2 bg-gray-50 rounded text-xs",children:[a.jsx("span",{className:"text-gray-500",children:"Priority:"}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(ol,{priority:0}),a.jsx("span",{className:"text-gray-500",children:"= must match"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(ol,{priority:1}),a.jsx(ol,{priority:2}),a.jsx(ol,{priority:3}),a.jsx("span",{className:"text-gray-500",children:"= confidence score"})]})]}),y.matching.map(P=>a.jsx(Hne,{condition:P,onEdit:()=>h(P)},P.field))]})]}),u&&a.jsx(Vne,{calc:u,onSave:S,onClose:()=>f(null),readonly:r}),d&&a.jsx(Gne,{condition:d,onSave:C,onClose:()=>h(null),readonly:r}),m&&a.jsx(Xne,{currentVersion:p.current,onSave:N,onClose:()=>x(!1)})]})}const EN={receipt:a.jsx(WS,{className:"w-4 h-4"}),"file-text":a.jsx(Ri,{className:"w-4 h-4"}),calculator:a.jsx(zf,{className:"w-4 h-4"}),store:a.jsx(VS,{className:"w-4 h-4"}),database:a.jsx(Dy,{className:"w-4 h-4"})},Eg={CURRENCY:{bg:"bg-green-100",text:"text-green-700"},PERCENT:{bg:"bg-blue-100",text:"text-blue-700"},STRING:{bg:"bg-gray-100",text:"text-gray-700"},INTEGER:{bg:"bg-purple-100",text:"text-purple-700"},NUMBER:{bg:"bg-orange-100",text:"text-orange-700"},ENUM:{bg:"bg-yellow-100",text:"text-yellow-700"}};function Yne({text:e}){const[t,r]=O.useState(!1);return a.jsxs("div",{className:"relative inline-block",children:[a.jsx("button",{onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),onClick:()=>r(!t),className:"p-0.5 text-gray-400 hover:text-blue-500 transition-colors",children:a.jsx(vo,{className:"w-3.5 h-3.5"})}),t&&a.jsxs("div",{className:"absolute z-20 left-full ml-2 top-1/2 -translate-y-1/2 w-64 p-2 bg-gray-900 text-white text-xs rounded-lg shadow-lg",children:[a.jsx("div",{className:"absolute left-0 top-1/2 -translate-x-1 -translate-y-1/2 w-2 h-2 bg-gray-900 rotate-45"}),e]})]})}function Zne({field:e,sources:t,onChange:r,readonly:n=!1}){const i=Eg[e.type]||Eg.STRING,s=t.find(l=>l.id===e.source),o=(s==null?void 0:s.fields)||[];return a.jsxs("div",{className:"flex items-center gap-3 py-2 px-3 bg-gray-50 rounded-lg group hover:bg-gray-100 transition-colors",children:[a.jsxs("div",{className:"w-36 flex items-center gap-1.5",children:[a.jsx("code",{className:"text-sm font-mono font-medium text-gray-800",children:e.name}),a.jsx(Yne,{text:e.description})]}),a.jsx("span",{className:`px-1.5 py-0.5 rounded text-xs font-medium ${i.bg} ${i.text}`,children:e.type}),a.jsx("span",{className:"text-gray-300",children:""}),a.jsx("select",{value:e.source,onChange:l=>r({...e,source:l.target.value,sourceField:""}),disabled:n,className:`w-40 px-2 py-1.5 text-xs border border-gray-300 rounded bg-white focus:outline-none focus:ring-1 focus:ring-blue-500 ${n?"opacity-60 cursor-not-allowed":""}`,children:t.map(l=>a.jsx("option",{value:l.id,children:l.name},l.id))}),a.jsx("span",{className:"text-gray-400",children:"."}),a.jsxs("select",{value:e.sourceField,onChange:l=>r({...e,sourceField:l.target.value}),disabled:n,className:`flex-1 px-2 py-1.5 text-xs border border-gray-300 rounded bg-white font-mono focus:outline-none focus:ring-1 focus:ring-blue-500 ${n?"opacity-60 cursor-not-allowed":""}`,children:[a.jsx("option",{value:"",children:"-- select field --"}),o.map(l=>a.jsx("option",{value:l,children:l},l))]})]})}function Jne({node:e,sources:t,defaultOpen:r=!1,onChange:n,readonly:i=!1}){const[s,o]=O.useState(r),l=EN[e.icon]||EN.database,c=(u,f)=>{const d=[...e.fields];d[u]=f,n({...e,fields:d})};return a.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[a.jsxs("button",{onClick:()=>o(!s),className:"w-full flex items-center gap-3 px-4 py-3 bg-white hover:bg-gray-50 transition-colors text-left",children:[s?a.jsx(Ge,{className:"w-4 h-4 text-gray-400"}):a.jsx(Qr,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{className:"text-gray-500",children:l}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium text-gray-900",children:e.name}),a.jsx("div",{className:"text-xs text-gray-500",children:e.description})]}),a.jsxs("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 rounded text-xs",children:[e.fields.length," fields"]})]}),s&&a.jsx("div",{className:"border-t border-gray-100 p-3 space-y-1.5 bg-white",children:e.fields.map((u,f)=>a.jsx(Zne,{field:u,sources:t,onChange:d=>c(f,d),readonly:i},u.id))})]})}function eae({config:e,onChange:t,readonly:r=!1}){if(!e)return a.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading ontology configuration..."});const n=(i,s)=>{if(r||!t)return;const o=[...e.nodes];o[i]=s,t({...e,nodes:o})};return a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Map DSL variables to source data fields"}),a.jsxs("span",{className:"text-xs text-gray-400 font-mono",children:["v",e.version]})]}),a.jsxs("div",{className:"flex items-center gap-4 p-2 bg-gray-50 rounded-lg text-xs",children:[a.jsx("span",{className:"text-gray-500",children:"Types:"}),Object.entries(Eg).map(([i,s])=>a.jsx("span",{className:`px-1.5 py-0.5 rounded font-medium ${s.bg} ${s.text}`,children:i},i))]}),a.jsx("div",{className:"space-y-2",children:e.nodes.map((i,s)=>a.jsx(Jne,{node:i,sources:e.sources,defaultOpen:s===0,onChange:o=>n(s,o),readonly:r},i.id))}),a.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[a.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Available Sources:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:e.sources.map(i=>a.jsxs("div",{className:"group relative",children:[a.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs font-medium cursor-help",children:i.name}),a.jsxs("div",{className:"absolute z-10 hidden group-hover:block bottom-full left-0 mb-1 w-48 p-2 bg-gray-900 text-white text-xs rounded-lg shadow-lg",children:[i.description,a.jsxs("div",{className:"mt-1 text-gray-400",children:[i.fields.length," fields available"]})]})]},i.id))})]})]})}function Hm({title:e,description:t,icon:r,defaultOpen:n=!0,badge:i,disabled:s=!1,disabledMessage:o,children:l}){const[c,u]=O.useState(n&&!s);return a.jsxs(ne,{className:`mb-6 ${s?"opacity-60":""}`,children:[a.jsxs("button",{onClick:()=>!s&&u(!c),disabled:s,className:`w-full flex items-center justify-between text-left ${s?"cursor-not-allowed":""}`,children:[a.jsxs("div",{className:"flex items-center gap-3",children:[r&&a.jsx("div",{className:s?"text-gray-400":"text-gray-500",children:r}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h2",{className:`text-lg font-semibold ${s?"text-gray-500":"text-gray-900"}`,children:e}),i,s&&a.jsxs("span",{className:"flex items-center gap-1 px-2 py-0.5 bg-gray-100 text-gray-500 text-xs rounded-full",children:[a.jsx(DT,{className:"w-3 h-3"}),o||"Offline"]})]}),t&&a.jsx("p",{className:`text-sm mt-0.5 ${s?"text-gray-400":"text-gray-500"}`,children:t})]})]}),a.jsx(Ge,{className:`w-5 h-5 transition-transform ${s?"text-gray-300":"text-gray-400"} ${c&&!s?"":"-rotate-90"}`})]}),c&&!s&&a.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:l})]})}const tae=[{id:"claude-opus-4-5-20251101",name:"Claude Opus 4.5",description:"Most capable, best for complex tasks"},{id:"claude-sonnet-4-5-20250929",name:"Claude Sonnet 4.5",description:"Balanced performance and cost"},{id:"claude-haiku-4-5-20251015",name:"Claude Haiku 4.5",description:"Fast and cost-effective"},{id:"claude-opus-4-1-20250805",name:"Claude Opus 4.1",description:"Optimized for agentic tasks"},{id:"claude-sonnet-4-20250522",name:"Claude Sonnet 4",description:"Previous generation balanced"},{id:"claude-opus-4-20250522",name:"Claude Opus 4",description:"Previous generation capable"}];function rae(){const e=Kf(),[t,r]=O.useState(!1),[n,i]=O.useState(void 0),[s,o]=O.useState(!0),[l,c]=O.useState(void 0),[u,f]=O.useState(!0),[d,h]=O.useState(!1),[m,x]=O.useState(!1),[g,v]=O.useState(""),[p,y]=O.useState(!1),[j,w]=O.useState(""),[b,N]=O.useState({apiKey:"",model:"claude-sonnet-4-5-20250929",systemPrompt:""});O.useEffect(()=>{async function M(){try{const z=await fetch("/api/dsl-config");if(z.ok){const k=await z.json();i(k)}}catch(z){console.error("Failed to load DSL config:",z)}finally{o(!1)}}M()},[]),O.useEffect(()=>{async function M(){try{const z=await fetch("/api/ontology-mapping");if(z.ok){const k=await z.json();c(k)}}catch(z){console.error("Failed to load ontology config:",z)}finally{f(!1)}}M()},[]);const _=()=>{e||(v(b.apiKey),y(!1),h(!0))},S=()=>{U("apiKey",g),h(!1)},C=()=>{h(!1),v("")},P=()=>{e||(w(b.systemPrompt),x(!0))},A=()=>{U("systemPrompt",j),x(!1)},E=()=>{x(!1),w("")},L=M=>{e||(i(M),r(!0))},F=M=>{e||(c(M),r(!0))},U=(M,z)=>{e||(N(k=>({...k,[M]:z})),r(!0))},T=()=>{e||(console.log("Saving config:",n),console.log("Saving Anthropic config:",b),r(!1))},B=()=>{i(void 0),N({apiKey:"",model:"claude-sonnet-4-5-20250929",systemPrompt:""}),r(!1)};return a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-gray-100 rounded-lg",children:a.jsx(By,{className:"h-6 w-6 text-gray-600"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Settings"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Configure calculation and matching rules"})]})]}),a.jsx("div",{className:"flex items-center gap-2",children:t&&!e&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:B,className:"flex items-center gap-2 px-3 py-1.5 text-sm text-gray-600 hover:bg-gray-100 rounded-md",children:[a.jsx(Fy,{className:"w-4 h-4"}),"Reset"]}),a.jsxs("button",{onClick:T,className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-blue-600 text-white hover:bg-blue-700 rounded-md",children:[a.jsx(KS,{className:"w-4 h-4"}),"Save Changes"]})]})})]}),a.jsx(Hm,{title:"Anthropic API",description:"Configure Claude API for AI-powered analysis",icon:a.jsx(AT,{className:"w-5 h-5 text-orange-600"}),defaultOpen:!1,disabled:e,disabledMessage:"Connect to enable",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"API Key"}),a.jsxs("button",{onClick:_,className:"w-full flex items-center justify-between px-3 py-2 border border-gray-300 rounded-lg text-sm hover:bg-gray-50 transition-colors text-left",children:[a.jsx("div",{className:"flex items-center gap-2",children:b.apiKey?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),a.jsx("span",{className:"text-gray-700",children:"API key configured"}),a.jsxs("span",{className:"text-gray-400 font-mono text-xs",children:["",b.apiKey.slice(-4)]})]}):a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"w-2 h-2 bg-gray-300 rounded-full"}),a.jsx("span",{className:"text-gray-400",children:"Not configured"})]})}),a.jsx("span",{className:"text-xs text-blue-600",children:"Configure"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Model"}),a.jsx("select",{value:b.model,onChange:M=>U("model",M.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",children:tae.map(M=>a.jsxs("option",{value:M.id,children:[M.name,"  ",M.description]},M.id))})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["System Prompt",a.jsx("span",{className:"text-gray-400 font-normal ml-1",children:"(optional)"})]}),a.jsxs("button",{onClick:P,className:"w-full flex items-center justify-between px-3 py-2 border border-gray-300 rounded-lg text-sm hover:bg-gray-50 transition-colors text-left",children:[a.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[a.jsx(Ri,{className:"w-4 h-4"}),b.systemPrompt?a.jsxs("span",{className:"truncate max-w-md",children:[b.systemPrompt.slice(0,60),b.systemPrompt.length>60&&"..."]}):a.jsx("span",{className:"text-gray-400",children:"Click to edit system prompt..."})]}),b.systemPrompt&&a.jsxs("span",{className:"text-xs text-gray-400",children:[b.systemPrompt.length," chars"]})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Additional context or instructions for AI analysis. Leave empty for default behavior."})]})]})}),d&&a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:C}),a.jsxs("div",{className:"relative bg-white rounded-xl shadow-2xl w-[500px] flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"API Key"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Configure your Anthropic API key"})]}),a.jsx("button",{onClick:C,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg",children:a.jsx(Wt,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:p?"text":"password",value:g,onChange:M=>v(M.target.value),placeholder:"sk-ant-api03-...",className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono"}),a.jsx("button",{type:"button",onClick:()=>y(!p),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-gray-400 hover:text-gray-600",children:p?a.jsx($T,{className:"w-4 h-4"}):a.jsx(TT,{className:"w-4 h-4"})})]}),a.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Get your API key from"," ",a.jsx("a",{href:"https://console.anthropic.com/settings/keys",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"console.anthropic.com"})]})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-gray-200 bg-gray-50 rounded-b-xl",children:[a.jsx("button",{onClick:C,className:"px-4 py-2 text-sm text-gray-600 hover:bg-gray-200 rounded-lg",children:"Cancel"}),a.jsx("button",{onClick:S,disabled:e,className:"px-4 py-2 text-sm bg-blue-600 text-white hover:bg-blue-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:"Save Key"})]})]})]}),m&&a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:E}),a.jsxs("div",{className:"relative bg-white rounded-xl shadow-2xl w-[900px] max-h-[85vh] flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"System Prompt"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Define custom instructions for AI analysis behavior"})]}),a.jsx("button",{onClick:E,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg",children:a.jsx(Wt,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"flex-1 p-6 overflow-hidden",children:[a.jsx("textarea",{value:j,onChange:M=>w(M.target.value),placeholder:`You are an AI assistant specialized in financial transaction analysis...\r
\r
Define the AI's role, expertise, and how it should approach analysis tasks. Include any specific rules, formatting preferences, or domain knowledge.\r
\r
Example sections:\r
- Role and expertise\r
- Analysis approach\r
- Output format preferences\r
- Specific rules or constraints`,className:"w-full h-[400px] px-4 py-3 border border-gray-300 rounded-lg text-sm font-mono focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"}),a.jsxs("div",{className:"flex items-center justify-between mt-2 text-xs text-gray-500",children:[a.jsx("span",{children:"Supports markdown formatting"}),a.jsxs("span",{children:[j.length," characters"]})]})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-gray-200 bg-gray-50 rounded-b-xl",children:[a.jsx("button",{onClick:E,className:"px-4 py-2 text-sm text-gray-600 hover:bg-gray-200 rounded-lg",children:"Cancel"}),a.jsx("button",{onClick:A,disabled:e,className:"px-4 py-2 text-sm bg-blue-600 text-white hover:bg-blue-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:"Save Prompt"})]})]})]}),a.jsx(Hm,{title:"DSL Configuration",description:"Calculation formulas and transaction matching rules",icon:a.jsx(zf,{className:"w-5 h-5 text-blue-600"}),badge:s?a.jsx(Ee,{className:"w-4 h-4 text-gray-400 animate-spin"}):void 0,defaultOpen:!0,children:s?a.jsxs("div",{className:"flex items-center justify-center py-12 text-gray-500",children:[a.jsx(Ee,{className:"w-6 h-6 animate-spin mr-2"}),"Loading configuration..."]}):a.jsx(Qne,{config:n,onChange:L,readonly:e})}),a.jsx(Hm,{title:"Ontology Mapping",description:"Map DSL variables to source data fields",icon:a.jsx(LT,{className:"w-5 h-5 text-purple-600"}),badge:u?a.jsx(Ee,{className:"w-4 h-4 text-gray-400 animate-spin"}):void 0,defaultOpen:!1,children:u?a.jsxs("div",{className:"flex items-center justify-center py-12 text-gray-500",children:[a.jsx(Ee,{className:"w-6 h-6 animate-spin mr-2"}),"Loading ontology configuration..."]}):a.jsx(eae,{config:l,onChange:F,readonly:e})})]})}function $N({text:e}){const[t,r]=O.useState(!1);return a.jsxs("div",{className:"relative inline-block",children:[a.jsx("button",{type:"button",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),className:"p-0.5 text-gray-400 hover:text-blue-500 transition-colors",children:a.jsx(vo,{className:"w-3.5 h-3.5"})}),t&&a.jsxs("div",{className:"absolute z-50 left-full ml-2 top-1/2 -translate-y-1/2 w-64 p-2 bg-gray-900 text-white text-xs rounded-lg shadow-lg",children:[a.jsx("div",{className:"absolute left-0 top-1/2 -translate-x-1 -translate-y-1/2 w-2 h-2 bg-gray-900 rotate-45"}),e]})]})}function TN({title:e,defaultOpen:t=!1,disabled:r=!1,children:n}){const[i,s]=O.useState(t);return a.jsxs("div",{className:`border border-gray-200 rounded-lg ${r?"opacity-50":""}`,children:[a.jsxs("button",{type:"button",onClick:()=>!r&&s(!i),disabled:r,className:"w-full flex items-center gap-2 px-3 py-2 text-left text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors rounded-t-lg",children:[i?a.jsx(Ge,{className:"w-4 h-4 text-gray-400"}):a.jsx(Qr,{className:"w-4 h-4 text-gray-400"}),e,r&&a.jsx("span",{className:"ml-auto text-xs text-gray-400",children:"(stage not selected)"})]}),i&&!r&&a.jsx("div",{className:"px-3 pb-3 border-t border-gray-100",children:n})]})}function MN({field:e,value:t,onChange:r}){return e.type==="boolean"?a.jsxs("div",{className:"flex items-center justify-between py-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-gray-700",children:e.label}),a.jsx($N,{text:e.description})]}),a.jsx("button",{type:"button",onClick:()=>r(!t),className:`relative w-10 h-5 rounded-full transition-colors ${t?"bg-purple-600":"bg-gray-300"}`,children:a.jsx("div",{className:`absolute top-0.5 w-4 h-4 bg-white rounded-full shadow transition-transform ${t?"translate-x-5":"translate-x-0.5"}`})})]}):a.jsxs("div",{className:"flex items-center justify-between py-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-gray-700",children:e.label}),a.jsx($N,{text:e.description})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"number",value:t,onChange:n=>r(parseFloat(n.target.value)||0),min:e.min,max:e.max,step:e.step,className:"w-24 px-2 py-1 text-sm text-right border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-purple-500"}),e.unit&&a.jsx("span",{className:"text-xs text-gray-500 w-10",children:e.unit})]})]})}function nae({pipeline:e,selected:t,onClick:r}){return a.jsx("button",{type:"button",onClick:r,className:`p-4 text-left border-2 rounded-xl transition-all ${t?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${t?"bg-purple-100":"bg-gray-100"}`,children:a.jsx(Ly,{className:`w-5 h-5 ${t?"text-purple-600":"text-gray-500"}`})}),a.jsxs("div",{children:[a.jsx("div",{className:`font-medium ${t?"text-purple-900":"text-gray-900"}`,children:e.name}),a.jsx("div",{className:"text-sm text-gray-500 mt-0.5",children:e.description})]})]})})}function aae({isOpen:e,onClose:t,onCreate:r,schema:n,dslVersions:i,readonly:s=!1}){var U;const[o,l]=O.useState(""),[c,u]=O.useState(""),[f,d]=O.useState(""),[h,m]=O.useState("full"),[x,g]=O.useState([1,2,3,4,5,6]),[v,p]=O.useState(((U=i[0])==null?void 0:U.id)||""),[y,j]=O.useState(!1),[w,b]=O.useState({...n.defaults.pipeline}),[N,_]=O.useState({...n.defaults.scoring});O.useEffect(()=>{var T;e&&(l(""),u(""),d(""),m("full"),g([1,2,3,4,5,6]),p(((T=i[0])==null?void 0:T.id)||""),j(!1),b({...n.defaults.pipeline}),_({...n.defaults.scoring}))},[e,n.defaults,i]),O.useEffect(()=>{var B;const T=(B=n.stageConfigs)==null?void 0:B.find(M=>M.id===h);T&&h!=="custom"&&g([...T.stages])},[h,n.stageConfigs]),O.useEffect(()=>{var T;if(f){const B=(T=n.pipelines)==null?void 0:T.find(M=>M.id===f);B!=null&&B.defaultStageConfig&&m(B.defaultStageConfig)}},[f,n.pipelines]);const S=T=>{h!=="custom"&&m("custom"),g(B=>B.includes(T)?B.filter(M=>M!==T):[...B,T].sort((M,z)=>M-z))},C=(T,B)=>{b(M=>({...M,[T]:B}))},P=(T,B)=>{_(M=>({...M,[T]:B}))},A=()=>{!o.trim()||!f||(r({name:o.trim(),description:c.trim(),pipeline:f,stageConfig:h,stages:x,dslVersion:v,pipelineConfig:{...w,stages:x},scoringConfig:N,autoApprove:y}),t())},E=T=>x.includes(T);if(!e)return null;const L=n.pipelines||[],F=n.stageConfigs||[];return a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:t}),a.jsxs("div",{className:"relative w-full max-w-4xl max-h-[90vh] bg-white rounded-xl shadow-2xl flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:a.jsx(Uf,{className:"w-5 h-5 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"New Experiment"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Configure pipeline and DSL settings"})]})]}),a.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(Wt,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4 space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-sm font-medium text-gray-900 flex items-center gap-2",children:[a.jsx(zT,{className:"w-4 h-4"}),"Basic Information"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Name *"}),a.jsx("input",{type:"text",value:o,onChange:T=>l(T.target.value),placeholder:"e.g., Higher rate precision test",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Description"}),a.jsx("input",{type:"text",value:c,onChange:T=>u(T.target.value),placeholder:"Optional description",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-600 mb-2",children:"Pipeline *"}),a.jsx("div",{className:"grid grid-cols-2 gap-3",children:L.map(T=>a.jsx(nae,{pipeline:T,selected:f===T.id,onClick:()=>d(T.id)},T.id))})]})]}),f&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-sm font-medium text-gray-900 flex items-center gap-2",children:[a.jsx(GT,{className:"w-4 h-4"}),"Stage Configuration"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Configuration"}),a.jsx("select",{value:h,onChange:T=>m(T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",children:F.map(T=>a.jsxs("option",{value:T.id,children:[T.name," - ",T.description]},T.id))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Stages"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:n.stages.map(T=>a.jsxs("button",{type:"button",onClick:()=>S(T.id),className:`px-3 py-1.5 text-xs font-medium rounded-lg border transition-colors ${x.includes(T.id)?"bg-purple-100 border-purple-300 text-purple-700":"bg-gray-50 border-gray-200 text-gray-500"}`,title:T.description,children:[T.id,". ",T.name]},T.id))})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-sm font-medium text-gray-900 flex items-center gap-2",children:[a.jsx(zf,{className:"w-4 h-4"}),"DSL Version"]}),a.jsx("select",{value:v,onChange:T=>p(T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",children:i.map(T=>a.jsxs("option",{value:T.id,children:[T.id," - ",T.name,T.description?` (${T.description})`:""]},T.id))})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Pipeline Configuration"}),a.jsx("div",{className:"space-y-2",children:n.configSections.filter(T=>T.stage!==void 0).map(T=>a.jsx(TN,{title:T.name,disabled:T.stage!==void 0&&!E(T.stage),children:a.jsx("div",{className:"divide-y divide-gray-100",children:T.fields.map(B=>a.jsx(MN,{field:B,value:w[B.key],onChange:M=>C(B.key,M)},B.key))})},T.id))})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Scoring Configuration"}),a.jsx("div",{className:"space-y-2",children:n.configSections.filter(T=>T.stage===void 0).map(T=>a.jsx(TN,{title:T.name,children:a.jsx("div",{className:"divide-y divide-gray-100",children:T.fields.map(B=>a.jsx(MN,{field:B,value:N[B.key],onChange:M=>P(B.key,M)},B.key))})},T.id))})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Auto-approve results"}),a.jsx("div",{className:"text-xs text-gray-500",children:"Skip manual review and automatically approve experiment results"})]}),a.jsx("button",{type:"button",onClick:()=>j(!y),className:`relative w-12 h-6 rounded-full transition-colors ${y?"bg-purple-600":"bg-gray-300"}`,children:a.jsx("div",{className:`absolute top-0.5 w-5 h-5 bg-white rounded-full shadow transition-transform ${y?"translate-x-6":"translate-x-0.5"}`})})]})]})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-gray-200 bg-gray-50 rounded-b-xl",children:[s&&a.jsx("span",{className:"text-xs text-gray-400 mr-auto",children:"Connect to backend to create experiments"}),a.jsx("button",{onClick:t,className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),a.jsx("button",{onClick:A,disabled:s||!o.trim()||!f,className:"px-4 py-2 text-sm bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Create Experiment"})]})]})]})}function iae({status:e}){const t={pending:{icon:kT,bg:"bg-gray-100",text:"text-gray-600",label:"Pending"},running:{icon:yd,bg:"bg-blue-100",text:"text-blue-600",label:"Running"},completed:{icon:Ta,bg:"bg-green-100",text:"text-green-600",label:"Completed"},failed:{icon:Uy,bg:"bg-red-100",text:"text-red-600",label:"Failed"}}[e],r=t.icon;return a.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium ${t.bg} ${t.text}`,children:[a.jsx(r,{className:"w-3 h-3"}),t.label]})}function sae({experiment:e}){return a.jsxs(ne,{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h3",{className:"font-medium text-gray-900",children:e.name}),a.jsx(iae,{status:e.status})]}),e.description&&a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:e.description})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[e.status==="pending"&&a.jsx("button",{className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:a.jsx(yd,{className:"w-4 h-4"})}),e.status==="running"&&a.jsx("button",{className:"p-2 text-orange-600 hover:bg-orange-50 rounded-lg transition-colors",children:a.jsx(FT,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100 grid grid-cols-4 gap-4 text-xs",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-500",children:"Pipeline"}),a.jsx("div",{className:"font-medium text-gray-700 capitalize",children:e.pipeline.replace(/_/g," ")})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-500",children:"Stages"}),a.jsx("div",{className:"font-medium text-gray-700",children:e.stages.join(", ")})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-500",children:"DSL Version"}),a.jsx("div",{className:"font-medium text-gray-700",children:e.dslVersion})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-500",children:"Auto-approve"}),a.jsx("div",{className:"font-medium text-gray-700",children:e.autoApprove?"Yes":"No"})]})]}),a.jsxs("div",{className:"mt-2 text-xs text-gray-400",children:["Created ",new Date(e.createdAt).toLocaleDateString()]})]})}function oae({onCreateClick:e}){return a.jsx(ne,{children:a.jsxs("div",{className:"p-12 text-center",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-purple-100 rounded-full mb-4",children:a.jsx(Uf,{className:"w-8 h-8 text-purple-400"})}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Active Experiments"}),a.jsx("p",{className:"text-gray-500 max-w-md mx-auto mb-6",children:"Create an experiment to test different pipeline configurations and DSL versions without affecting production data."}),a.jsxs("button",{onClick:e,className:"inline-flex items-center gap-2 px-4 py-2 bg-purple-600 text-white text-sm font-medium rounded-lg hover:bg-purple-700 transition-colors",children:[a.jsx(Oi,{className:"w-4 h-4"}),"New Experiment"]})]})})}function lae(){const e=Kf(),[t,r]=O.useState([]),[n,i]=O.useState(!0),[s,o]=O.useState(!1),[l,c]=O.useState(null),[u,f]=O.useState([]);O.useEffect(()=>{async function h(){try{const m=await fetch("/api/experiments");if(m.ok){const v=await m.json();r(v.experiments||[])}const x=await fetch("/api/pipeline-config");if(x.ok){const v=await x.json();c(v)}const g=await fetch("/api/dsl-config");if(g.ok){const v=await g.json(),p=Object.entries(v.versions||{}).map(([y,j])=>({id:y,name:j.name||y,description:j.description}));f(p)}}catch(m){console.error("Failed to load experiments data:",m)}finally{i(!1)}}h()},[]);const d=h=>{const m={...h,id:`exp-${Date.now()}`,createdAt:new Date().toISOString(),status:"pending"};r(x=>[m,...x])};return n?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx(Ee,{className:"w-8 h-8 text-purple-600 animate-spin"})}):a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:a.jsx(Uf,{className:"h-6 w-6 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Experiments"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Test alternate calculation and matching configurations"})]})]}),t.length>0&&a.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors",children:[a.jsx(Oi,{className:"w-4 h-4"}),"New Experiment"]})]}),t.length===0?a.jsx(oae,{onCreateClick:()=>o(!0)}):a.jsx("div",{className:"space-y-4",children:t.map(h=>a.jsx(sae,{experiment:h},h.id))}),l&&a.jsx(aae,{isOpen:s,onClose:()=>o(!1),onCreate:d,schema:l,dslVersions:u,readonly:e})]})}function Km({label:e,value:t,subValue:r,variant:n="default"}){const i={default:"bg-gray-50",danger:"bg-red-50",warning:"bg-amber-50"},s={default:"text-gray-900",danger:"text-red-700",warning:"text-amber-700"};return a.jsxs("div",{className:G("rounded-lg p-4",i[n]),children:[a.jsx("div",{className:G("text-2xl font-semibold",s[n]),children:t}),a.jsx("div",{className:"text-sm text-gray-500",children:e}),r&&a.jsx("div",{className:"text-xs text-gray-400 mt-1",children:r})]})}function cae({merchant:e,isExpanded:t,onToggle:r}){const[n,i]=O.useState(new Set),s=o=>{i(l=>{const c=new Set(l);return c.has(o)?c.delete(o):c.add(o),c})};return a.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[a.jsxs("button",{onClick:r,className:"w-full px-6 py-4 flex items-center justify-between bg-white hover:bg-gray-50 transition-colors",children:[a.jsx("div",{className:"flex items-center gap-4",children:a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:"font-semibold text-gray-900",children:e.name}),a.jsxs("div",{className:"text-sm text-gray-500",children:[e.underpaidTxns.toLocaleString()," transactions with underpayment"]})]})}),a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-lg font-semibold text-red-600",children:q(e.totalUnderpaid)}),a.jsxs("div",{className:"text-xs text-gray-500",children:[e.percentOfTotal.toFixed(1),"% of total loss"]})]}),t?a.jsx(cr,{className:"h-5 w-5 text-gray-400"}):a.jsx(Ge,{className:"h-5 w-5 text-gray-400"})]})]}),t&&a.jsxs("div",{className:"border-t border-gray-200 bg-gray-50 p-6",children:[e.totalUnderpaid<-100&&a.jsx("div",{className:"mb-6 p-4 bg-amber-50 border border-amber-200 rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(nt,{className:"h-5 w-5 text-amber-600 mt-0.5"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-amber-800",children:"Significant Underpayment Detected"}),a.jsx("div",{className:"text-sm text-amber-700",children:Math.abs(e.avgPerTx)>.1?`Average loss of ${q(e.avgPerTx)} per transaction suggests systematic issue`:"Minor rounding variance (within tolerance)"})]})]})}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Affected Plans"}),a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Plan"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Type"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Rate"}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Transactions"}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Total Loss"}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Avg Loss"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:e.plans.map(o=>{const l=e.examples[o.variant_key]||[],c=n.has(o.variant_key);return a.jsxs(a.Fragment,{children:[a.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>l.length>0&&s(o.variant_key),children:[a.jsx("td",{className:"px-4 py-3 text-sm",children:a.jsxs("div",{className:"flex items-center gap-2",children:[l.length>0&&(c?a.jsx(cr,{className:"h-4 w-4 text-gray-400"}):a.jsx(Ge,{className:"h-4 w-4 text-gray-400"})),a.jsx("code",{className:"text-xs bg-gray-100 px-1.5 py-0.5 rounded",children:o.plan_key})]})}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:o.type}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:o.rate}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 text-right",children:o.transactions.toLocaleString()}),a.jsx("td",{className:"px-4 py-3 text-sm font-medium text-red-600 text-right",children:q(o.totalLoss)}),a.jsx("td",{className:"px-4 py-3 text-sm text-red-600 text-right",children:Math.abs(o.avgLoss)<.01&&o.avgLoss!==0?`${o.avgLoss<0?"-":""}${Math.abs(o.avgLoss).toFixed(4)}`:q(o.avgLoss)})]},o.variant_key),c&&l.length>0&&a.jsx("tr",{children:a.jsxs("td",{colSpan:6,className:"px-4 py-3 bg-white",children:[a.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Most Underpaid Transactions"}),a.jsxs("table",{className:"min-w-full text-xs",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-gray-500",children:[a.jsx("th",{className:"text-left pb-2",children:"Transaction ID"}),a.jsx("th",{className:"text-right pb-2",children:"Amount"}),a.jsx("th",{className:"text-right pb-2",children:"Expected"}),a.jsx("th",{className:"text-right pb-2",children:"Actual"}),a.jsx("th",{className:"text-right pb-2",children:"Deviation"}),a.jsx("th",{className:"text-right pb-2",children:"Dev %"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:l.map(u=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"py-2",children:a.jsxs(De,{to:`/transaction/${u.tx_id}`,target:"_blank",className:"font-mono text-primary-600 hover:text-primary-800 flex items-center gap-1",children:[u.tx_id.slice(0,8),"...",a.jsx(Ls,{className:"h-3 w-3"})]})}),a.jsx("td",{className:"py-2 text-right text-gray-900",children:q(u.amount_eur||u.amount||0)}),a.jsx("td",{className:"py-2 text-right text-gray-500",children:q(u.planned_commission||u.planned||0)}),a.jsx("td",{className:"py-2 text-right text-gray-900",children:q(u.actual_commission||u.actual||0)}),a.jsx("td",{className:"py-2 text-right font-medium text-red-600",children:q(u.deviation)}),a.jsx("td",{className:"py-2 text-right text-gray-500",children:lt(u.deviation_percent||u.deviation_pct||0)})]},u.tx_id))})]})]})})]})})})]})})]})]})]})}function uae(){const[e,t]=O.useState(new Set),{data:r,isLoading:n,error:i}=pe({queryKey:["reports","underpay"],queryFn:ie.getUnderpaymentReport}),s=f=>{t(d=>{const h=new Set(d);return h.has(f)?h.delete(f):h.add(f),h})};if(n)return a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(Ee,{className:"h-8 w-8 text-gray-400 animate-spin"})});if(i||!r)return a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-red-600",children:"Failed to load report. Run the generation script first."})});const o=Object.values(r.merchant_summary).reduce((f,d)=>f+d.underpay_volume,0),l=Object.values(r.merchant_summary).reduce((f,d)=>f+d.underpay_count,0),c=l>0?-o/l:0,u=Object.entries(r.merchant_summary).filter(([,f])=>f.underpay_volume>0).map(([f,d])=>{const h=(r.plan_summary[f]||[]).filter(m=>m.underpay_volume>0).sort((m,x)=>x.underpay_volume-m.underpay_volume).map(m=>({plan_key:m.plan_key,variant_key:m.variant_key||m.plan_key,type:`${m.operation_type}/${m.apm_type||m.payment_type}`,rate:m.rate?`${m.rate}%${m.fixed_fee?`+${m.fixed_fee}`:""}`:"N/A",transactions:m.underpay_count,totalLoss:-m.underpay_volume,avgLoss:m.underpay_count>0?-m.underpay_volume/m.underpay_count:0}));return{name:f,underpaidTxns:d.underpay_count,totalUnderpaid:-d.underpay_volume,avgPerTx:d.underpay_count>0?-d.underpay_volume/d.underpay_count:0,percentOfTotal:o>0?d.underpay_volume/o*100:0,plans:h,examples:r.examples[f]||{}}}).sort((f,d)=>f.totalUnderpaid-d.totalUnderpaid);return e.size===0&&u.length>0&&t(new Set([u[0].name])),a.jsxs("div",{children:[a.jsxs(De,{to:"/",className:"inline-flex items-center gap-2 text-sm text-gray-500 hover:text-gray-700 mb-4",children:[a.jsx(kr,{className:"h-4 w-4"}),"Back to Reports"]}),a.jsxs(ne,{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:a.jsx(Dc,{className:"h-6 w-6 text-red-600"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Underpayment Analysis"}),a.jsx("p",{className:"text-sm text-gray-500",children:r.scope})]})]}),a.jsxs("div",{className:"text-right text-sm text-gray-500",children:[a.jsxs("div",{children:["Generated: ",new Date(r.generated_at).toLocaleDateString()]}),a.jsx("div",{className:"text-xs",children:r.source})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[a.jsx(Km,{label:"Total Money Lost",value:q(-o),subValue:"Across all merchants",variant:"danger"}),a.jsx(Km,{label:"Affected Transactions",value:l.toLocaleString(),subValue:"Approved transactions with underpayment"}),a.jsx(Km,{label:"Average Loss per Transaction",value:q(c),subValue:"Mean deviation"})]}),o>100&&a.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(nt,{className:"h-5 w-5 text-red-600 mt-0.5"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-red-800",children:"Key Finding"}),a.jsxs("div",{className:"text-sm text-red-700",children:[a.jsx("strong",{children:q(o)})," is being lost across"," ",l.toLocaleString()," approved transactions where actual commission is lower than contracted rates.",u.length>0&&u[0].percentOfTotal>80&&a.jsxs(a.Fragment,{children:[" ",a.jsxs("strong",{children:[u[0].percentOfTotal.toFixed(0),"% of the loss comes from ",u[0].name]}),"."]})]})]})]})})]}),a.jsx(ne,{title:"Merchant Details",className:"mb-6",children:a.jsx("div",{className:"space-y-4",children:u.map(f=>a.jsx(cae,{merchant:f,isExpanded:e.has(f.name),onToggle:()=>s(f.name)},f.name))})})]})}function dae({merchant:e,plans:t,examples:r,isExpanded:n,onToggle:i}){const[s,o]=O.useState(new Set),l=f=>{o(d=>{const h=new Set(d);return h.has(f)?h.delete(f):h.add(f),h})},c=t.reduce((f,d)=>f+d.tx_count,0),u=t.reduce((f,d)=>f+d.total_deviation,0);return a.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[a.jsxs("button",{onClick:i,className:"w-full px-6 py-4 flex items-center justify-between bg-white hover:bg-gray-50 transition-colors",children:[a.jsx("div",{className:"flex items-center gap-4",children:a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:"font-semibold text-gray-900",children:e}),a.jsxs("div",{className:"text-sm text-gray-500",children:[t.length," rate plans, ",c.toLocaleString()," transactions"]})]})}),a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-lg font-semibold text-orange-600",children:q(u)}),a.jsx("div",{className:"text-xs text-gray-500",children:"Total Deviation"})]}),n?a.jsx(cr,{className:"h-5 w-5 text-gray-400"}):a.jsx(Ge,{className:"h-5 w-5 text-gray-400"})]})]}),n&&a.jsx("div",{className:"border-t border-gray-200 bg-gray-50 p-6",children:a.jsxs("table",{className:"min-w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left text-gray-500 border-b",children:[a.jsx("th",{className:"pb-2 font-medium",children:"Plan (Conditions)"}),a.jsx("th",{className:"pb-2 font-medium text-right",children:"Contract Rate"}),a.jsx("th",{className:"pb-2 font-medium text-right",children:"Avg Eff. Rate"}),a.jsx("th",{className:"pb-2 font-medium text-right",children:"Transactions"}),a.jsx("th",{className:"pb-2 font-medium text-right",children:"Underpay"}),a.jsx("th",{className:"pb-2 font-medium text-right",children:"Overcharge"}),a.jsx("th",{className:"pb-2 font-medium text-right",children:"Deviation"})]})}),a.jsx("tbody",{children:t.map(f=>{const d=f.variant_key||f.plan_key,h=r[d]||[],m=s.has(d);return a.jsxs(a.Fragment,{children:[a.jsxs("tr",{className:"border-b last:border-0 cursor-pointer hover:bg-gray-100",onClick:()=>h.length>0&&l(d),children:[a.jsx("td",{className:"py-2",children:a.jsxs("div",{className:"flex items-center gap-2",children:[h.length>0&&(m?a.jsx(cr,{className:"h-4 w-4 text-gray-400"}):a.jsx(Ge,{className:"h-4 w-4 text-gray-400"})),a.jsxs("div",{children:[a.jsx("code",{className:"text-xs bg-gray-100 px-1.5 py-0.5 rounded",children:f.plan_key}),a.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:f.conditions})]})]})}),a.jsx("td",{className:"py-2 text-right",children:f.contract_rate!=null?`${f.contract_rate}%${f.contract_fixed?`+${f.contract_fixed}`:""}`:"N/A"}),a.jsx("td",{className:"py-2 text-right",children:f.avg_effective_rate!=null?lt(f.avg_effective_rate):"N/A"}),a.jsx("td",{className:"py-2 text-right",children:Ne(f.tx_count)}),a.jsx("td",{className:"py-2 text-right text-red-600",children:f.underpay_volume>0?`-${q(f.underpay_volume)}`:"-"}),a.jsx("td",{className:"py-2 text-right text-green-600",children:f.overcharge_volume>0?`+${q(f.overcharge_volume)}`:"-"}),a.jsx("td",{className:"py-2 text-right font-medium text-orange-600",children:q(f.total_deviation)})]},d),m&&h.length>0&&a.jsx("tr",{children:a.jsxs("td",{colSpan:7,className:"px-4 py-3 bg-white",children:[a.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Example Transactions"}),a.jsxs("table",{className:"min-w-full text-xs",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-gray-500",children:[a.jsx("th",{className:"text-left pb-2",children:"Transaction ID"}),a.jsx("th",{className:"text-right pb-2",children:"Amount"}),a.jsx("th",{className:"text-right pb-2",children:"Expected"}),a.jsx("th",{className:"text-right pb-2",children:"Actual"}),a.jsx("th",{className:"text-right pb-2",children:"Deviation"}),a.jsx("th",{className:"text-right pb-2",children:"Eff. Rate"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:h.map(x=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"py-2",children:a.jsxs(De,{to:`/transaction/${x.tx_id}`,target:"_blank",className:"font-mono text-primary-600 hover:text-primary-800 flex items-center gap-1",children:[x.tx_id.slice(0,8),"...",a.jsx(Ls,{className:"h-3 w-3"})]})}),a.jsx("td",{className:"py-2 text-right text-gray-900",children:q(x.amount||0)}),a.jsx("td",{className:"py-2 text-right text-gray-500",children:q(x.planned||0)}),a.jsx("td",{className:"py-2 text-right text-gray-900",children:q(x.actual||0)}),a.jsx("td",{className:G("py-2 text-right font-medium",x.deviation>=0?"text-green-600":"text-red-600"),children:q(x.deviation)}),a.jsx("td",{className:"py-2 text-right text-gray-500",children:x.eff_rate!=null?lt(x.eff_rate):"N/A"})]},x.tx_id))})]})]})})]})})})]})})]})}function fae(){const[e,t]=O.useState(new Set),{data:r,isLoading:n,error:i}=pe({queryKey:["reports","contract-mismatch"],queryFn:ie.getContractMismatchReport}),s=u=>{t(f=>{const d=new Set(f);return d.has(u)?d.delete(u):d.add(u),d})};if(n)return a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(Ee,{className:"h-8 w-8 text-gray-400 animate-spin"})});if(i||!r)return a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-red-600",children:"Failed to load report. Run the generation script first."})});const{match_quality:o}=r,l=r.rate_plan_analysis||{},c=r.examples||{};return a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx(De,{to:"/",className:"p-2 hover:bg-gray-100 rounded-lg",children:a.jsx(kr,{className:"h-5 w-5 text-gray-500"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Contract Mismatch Analysis"}),a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[r.scope," | Generated ",Bf(r.generated_at)]})]})]}),a.jsxs(ne,{title:"Match Quality Distribution",className:"mb-6",children:[a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"flex h-8 rounded-lg overflow-hidden",children:[a.jsx("div",{className:"bg-green-500",style:{width:`${o.exact.percent}%`},title:`Exact: ${o.exact.count.toLocaleString()}`}),a.jsx("div",{className:"bg-yellow-400",style:{width:`${o.minor.percent}%`},title:`Minor: ${o.minor.count.toLocaleString()}`}),a.jsx("div",{className:"bg-orange-500",style:{width:`${o.significant.percent}%`},title:`Significant: ${o.significant.count.toLocaleString()}`}),a.jsx("div",{className:"bg-red-500",style:{width:`${o.critical.percent}%`},title:`Critical: ${o.critical.count.toLocaleString()}`})]})}),a.jsxs("div",{className:"grid grid-cols-5 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded bg-green-500"}),a.jsx("span",{className:"text-gray-600",children:"Exact (<1%)"})]}),a.jsx("p",{className:"mt-1 font-medium",children:Ne(o.exact.count)}),a.jsx("p",{className:"text-xs text-gray-500",children:lt(o.exact.percent)})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded bg-yellow-400"}),a.jsx("span",{className:"text-gray-600",children:"Minor (1-5%)"})]}),a.jsx("p",{className:"mt-1 font-medium",children:Ne(o.minor.count)}),a.jsx("p",{className:"text-xs text-gray-500",children:lt(o.minor.percent)})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded bg-orange-500"}),a.jsx("span",{className:"text-gray-600",children:"Significant (5-20%)"})]}),a.jsx("p",{className:"mt-1 font-medium",children:Ne(o.significant.count)}),a.jsx("p",{className:"text-xs text-gray-500",children:lt(o.significant.percent)})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded bg-red-500"}),a.jsx("span",{className:"text-gray-600",children:"Critical (>20%)"})]}),a.jsx("p",{className:"mt-1 font-medium",children:Ne(o.critical.count)}),a.jsx("p",{className:"text-xs text-gray-500",children:lt(o.critical.percent)})]}),a.jsxs("div",{children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("span",{className:"text-gray-600",children:"Total Deviation"})}),a.jsx("p",{className:"mt-1 font-medium text-orange-600",children:q(o.total_deviation)}),a.jsxs("p",{className:"text-xs text-gray-500",children:[Ne(o.total)," transactions"]})]})]})]}),Object.keys(l).length>0&&a.jsx(ne,{title:"Rate Plan Analysis by Merchant",className:"mb-6",children:a.jsx("div",{className:"space-y-4",children:Object.entries(l).map(([u,f])=>a.jsx(dae,{merchant:u,plans:f,examples:c[u]||{},isExpanded:e.has(u),onToggle:()=>s(u)},u))})}),r.low_confidence_matches&&r.low_confidence_matches.length>0&&a.jsx(ne,{title:"Low Confidence Matches (Fallbacks)",className:"mb-6",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left text-gray-500 border-b",children:[a.jsx("th",{className:"pb-2 font-medium",children:"Match Reason"}),a.jsx("th",{className:"pb-2 font-medium",children:"Merchant"}),a.jsx("th",{className:"pb-2 font-medium",children:"Plan"}),a.jsx("th",{className:"pb-2 font-medium text-right",children:"Transactions"}),a.jsx("th",{className:"pb-2 font-medium text-right",children:"Deviation"})]})}),a.jsx("tbody",{children:r.low_confidence_matches.map((u,f)=>a.jsxs("tr",{className:"border-b last:border-0",children:[a.jsx("td",{className:"py-2 text-amber-600",children:u.reason}),a.jsx("td",{className:"py-2",children:u.merchant}),a.jsx("td",{className:"py-2",children:a.jsx("code",{className:"text-xs bg-gray-100 px-1.5 py-0.5 rounded",children:u.plan})}),a.jsx("td",{className:"py-2 text-right",children:Ne(u.count)}),a.jsx("td",{className:`py-2 text-right font-medium ${u.deviation>=0?"text-green-600":"text-red-600"}`,children:q(u.deviation)})]},f))})]})}),r.volume_tier_suggestions&&r.volume_tier_suggestions.length>0&&a.jsxs(ne,{title:"Volume Tier Suggestions",className:"mb-6",children:[a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"These transactions matched to a plan but a better tier plan was suggested based on volume."}),a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left text-gray-500 border-b",children:[a.jsx("th",{className:"pb-2 font-medium",children:"Merchant"}),a.jsx("th",{className:"pb-2 font-medium",children:"Current Plan"}),a.jsx("th",{className:"pb-2 font-medium",children:"Suggested Plan"}),a.jsx("th",{className:"pb-2 font-medium text-right",children:"Transactions"}),a.jsx("th",{className:"pb-2 font-medium text-right",children:"Deviation"})]})}),a.jsx("tbody",{children:r.volume_tier_suggestions.map((u,f)=>a.jsxs("tr",{className:"border-b last:border-0",children:[a.jsx("td",{className:"py-2",children:u.merchant}),a.jsxs("td",{className:"py-2",children:[a.jsx("code",{className:"text-xs bg-gray-100 px-1.5 py-0.5 rounded",children:u.current_plan}),a.jsx("span",{className:"text-gray-500 ml-2",children:u.current_rate})]}),a.jsx("td",{className:"py-2",children:a.jsx("code",{className:"text-xs bg-green-100 px-1.5 py-0.5 rounded text-green-800",children:u.suggested_plan})}),a.jsx("td",{className:"py-2 text-right",children:Ne(u.count)}),a.jsx("td",{className:`py-2 text-right font-medium ${u.deviation>=0?"text-green-600":"text-red-600"}`,children:q(u.deviation)})]},f))})]})]})]})}const RN={high:{icon:nt,color:"text-red-600",bg:"bg-red-100"},medium:{icon:nt,color:"text-amber-600",bg:"bg-amber-100"},info:{icon:zS,color:"text-gray-600",bg:"bg-gray-100"}};function hae({merchant:e,data:t,isExpanded:r,onToggle:n,isFixedFeeMismatch:i=!1}){return a.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[a.jsxs("button",{onClick:n,className:"w-full px-4 py-3 flex items-center justify-between bg-white hover:bg-gray-50 transition-colors",children:[a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:"font-medium text-gray-900",children:e}),a.jsxs("div",{className:"text-xs text-gray-500",children:[t.tx_count.toLocaleString()," transactions"]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"font-medium text-gray-900",children:q(t.total_volume)}),a.jsx("div",{className:"text-xs text-gray-500",children:"volume"})]}),r?a.jsx(cr,{className:"h-4 w-4 text-gray-400"}):a.jsx(Ge,{className:"h-4 w-4 text-gray-400"})]})]}),r&&t.examples.length>0&&a.jsxs("div",{className:"border-t border-gray-200 bg-gray-50 p-4",children:[a.jsxs("table",{className:"min-w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left text-gray-500 border-b",children:[a.jsx("th",{className:"pb-2 font-medium",children:"Transaction ID"}),i?a.jsxs(a.Fragment,{children:[a.jsx("th",{className:"pb-2 font-medium",children:"Plan"}),a.jsx("th",{className:"pb-2 font-medium text-right",children:"Actual Fixed"}),a.jsx("th",{className:"pb-2 font-medium text-right",children:"Expected Fixed"})]}):a.jsxs(a.Fragment,{children:[a.jsx("th",{className:"pb-2 font-medium",children:"Type"}),a.jsx("th",{className:"pb-2 font-medium",children:"Gate"})]}),a.jsx("th",{className:"pb-2 font-medium text-right",children:"Amount"}),a.jsx("th",{className:"pb-2 font-medium text-right",children:"Commission"}),a.jsx("th",{className:"pb-2 font-medium",children:"Date"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:t.examples.map(s=>a.jsxs("tr",{className:"hover:bg-gray-100",children:[a.jsx("td",{className:"py-2",children:a.jsxs(De,{to:`/transaction/${s.tx_id}`,target:"_blank",className:"font-mono text-primary-600 hover:text-primary-800 flex items-center gap-1",children:[s.tx_id.slice(0,8),"...",a.jsx(Ls,{className:"h-3 w-3"})]})}),i?a.jsxs(a.Fragment,{children:[a.jsx("td",{className:"py-2 text-gray-600",children:a.jsx("code",{className:"text-xs bg-gray-100 px-1.5 py-0.5 rounded",children:s.plan||"-"})}),a.jsx("td",{className:"py-2 text-right text-red-600",children:q(s.actual_fixed??0)}),a.jsx("td",{className:"py-2 text-right text-green-600",children:q(s.expected_fixed??0)})]}):a.jsxs(a.Fragment,{children:[a.jsx("td",{className:"py-2 text-gray-600",children:s.tx_type||"-"}),a.jsx("td",{className:"py-2 text-gray-600",children:s.gate||"-"})]}),a.jsx("td",{className:"py-2 text-right",children:q(s.amount||0)}),a.jsx("td",{className:"py-2 text-right",children:q(s.commission??0)}),a.jsx("td",{className:"py-2 text-gray-500 text-xs",children:s.date?Bf(s.date):"-"})]},s.tx_id))})]}),t.tx_count>t.examples.length&&a.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Showing ",t.examples.length," of ",t.tx_count.toLocaleString()," transactions"]})]})]})}function mae({data:e,isExpanded:t,onToggle:r}){const[n,i]=O.useState(new Set),[s,o]=O.useState(new Set),l=d=>{const h=new Set(n);h.has(d)?h.delete(d):h.add(d),i(h)},c=d=>{const h=new Set(s);h.has(d)?h.delete(d):h.add(d),o(h)},u=e.findings.reduce((d,h)=>d+h.total_overcharge_eur,0),f=e.findings.reduce((d,h)=>d+h.affected_transactions,0);return a.jsxs(ne,{children:[a.jsxs("button",{onClick:r,className:"w-full flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-red-100",children:a.jsx(nt,{className:"h-5 w-5 text-red-600"})}),a.jsxs("div",{className:"text-left",children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Contract Mismatches Discovered"}),a.jsx("p",{className:"text-sm text-gray-500",children:e.description})]})]}),a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-lg font-semibold text-red-600",children:q(u)}),a.jsx("p",{className:"text-xs text-gray-500",children:"total overcharge"})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-lg font-semibold text-gray-900",children:Ne(f)}),a.jsx("p",{className:"text-xs text-gray-500",children:"transactions"})]}),t?a.jsx(Ge,{className:"h-5 w-5 text-gray-400"}):a.jsx(cr,{className:"h-5 w-5 text-gray-400 rotate-90"})]})]}),t&&a.jsxs("div",{className:"mt-4 pt-4 border-t space-y-4",children:[a.jsx("div",{className:"space-y-3",children:e.findings.map((d,h)=>{var m;return a.jsxs("div",{className:"border border-red-200 rounded-lg overflow-hidden",children:[a.jsxs("button",{onClick:()=>l(h),className:"w-full p-4 bg-red-50 text-left hover:bg-red-100 transition-colors",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[n.has(h)?a.jsx(Ge,{className:"h-4 w-4 text-gray-400"}):a.jsx(cr,{className:"h-4 w-4 text-gray-400 rotate-90"}),a.jsx("span",{className:"font-medium text-gray-900",children:d.merchant}),a.jsx("code",{className:"text-xs bg-gray-100 px-1.5 py-0.5 rounded",children:d.plan_key})]}),a.jsxs("span",{className:"text-red-600 font-semibold",children:[q(d.total_overcharge_eur)," overcharge"]})]}),a.jsx("p",{className:"text-sm text-red-800 font-medium mb-2 ml-6",children:d.issue}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm ml-6",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Contract:"}),a.jsx("span",{className:"ml-2 text-green-700",children:d.contract_rate})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Actual:"}),a.jsx("span",{className:"ml-2 text-red-700",children:d.actual_rate})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Affected:"}),a.jsxs("span",{className:"ml-2",children:[d.affected_transactions.toLocaleString()," txns"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Per txn:"}),a.jsx("span",{className:"ml-2",children:q(d.overcharge_per_transaction)})]})]}),d.note&&a.jsx("p",{className:"text-xs text-gray-600 mt-2 italic ml-6",children:d.note})]}),n.has(h)&&d.transactions&&d.transactions.length>0&&a.jsxs("div",{className:"border-t border-red-200 bg-white p-4",children:[a.jsxs("h5",{className:"text-xs font-medium text-gray-500 mb-2",children:["Example Transactions (",d.transactions.length," of ",d.affected_transactions.toLocaleString(),")"]}),a.jsxs("table",{className:"min-w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left text-gray-500 border-b",children:[a.jsx("th",{className:"pb-2 font-medium",children:"Transaction ID"}),a.jsx("th",{className:"pb-2 font-medium text-right",children:"Amount"}),a.jsx("th",{className:"pb-2 font-medium text-right",children:"Commission"}),((m=d.transactions[0])==null?void 0:m.expected_commission)!==void 0&&a.jsx("th",{className:"pb-2 font-medium text-right",children:"Expected"}),a.jsx("th",{className:"pb-2 font-medium text-right",children:"Overcharge"}),a.jsx("th",{className:"pb-2 font-medium",children:"Date"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:d.transactions.map(x=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"py-2",children:a.jsxs(De,{to:`/transaction/${x.tx_id}`,target:"_blank",className:"font-mono text-primary-600 hover:text-primary-800 flex items-center gap-1",children:[x.tx_id.slice(0,8),"...",a.jsx(Ls,{className:"h-3 w-3"})]})}),a.jsx("td",{className:"py-2 text-right",children:q(x.amount)}),a.jsx("td",{className:"py-2 text-right",children:q(x.commission)}),x.expected_commission!==void 0&&a.jsx("td",{className:"py-2 text-right text-green-600",children:q(x.expected_commission)}),a.jsxs("td",{className:"py-2 text-right text-red-600",children:["+",q(x.overcharge??0)]}),a.jsx("td",{className:"py-2 text-gray-500 text-xs",children:x.date})]},x.tx_id))})]})]})]},h)})}),e.flat_fee_anomalies&&e.flat_fee_anomalies.total_count>0&&a.jsxs("div",{className:"border border-amber-200 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"p-4 bg-amber-50",children:[a.jsxs("h4",{className:"font-medium text-amber-800 mb-2",children:["Flat Fee Anomalies (",e.flat_fee_anomalies.total_count," transactions)"]}),a.jsx("p",{className:"text-sm text-gray-600",children:e.flat_fee_anomalies.description})]}),e.flat_fee_anomalies.details.map((d,h)=>a.jsxs("div",{className:"border-t border-amber-200",children:[a.jsxs("button",{onClick:()=>c(h),className:"w-full px-4 py-3 bg-amber-50/50 flex justify-between items-center hover:bg-amber-100 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[s.has(h)?a.jsx(Ge,{className:"h-4 w-4 text-gray-400"}):a.jsx(cr,{className:"h-4 w-4 text-gray-400 rotate-90"}),a.jsx("code",{className:"bg-gray-100 px-1.5 py-0.5 rounded text-xs",children:d.plan_key}),a.jsxs("span",{className:"text-gray-600 text-sm",children:[d.count," txns @ ",q(d.flat_fee)]})]}),a.jsx("span",{className:"text-amber-700 text-sm",children:d.hypothesis})]}),s.has(h)&&d.transactions&&d.transactions.length>0&&a.jsx("div",{className:"bg-white p-4",children:a.jsxs("table",{className:"min-w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left text-gray-500 border-b",children:[a.jsx("th",{className:"pb-2 font-medium",children:"Transaction ID"}),a.jsx("th",{className:"pb-2 font-medium text-right",children:"Amount"}),a.jsx("th",{className:"pb-2 font-medium text-right",children:"Flat Commission"}),a.jsx("th",{className:"pb-2 font-medium",children:"Type"}),a.jsx("th",{className:"pb-2 font-medium",children:"Date"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:d.transactions.map(m=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"py-2",children:a.jsxs(De,{to:`/transaction/${m.tx_id}`,target:"_blank",className:"font-mono text-primary-600 hover:text-primary-800 flex items-center gap-1",children:[m.tx_id.slice(0,8),"...",a.jsx(Ls,{className:"h-3 w-3"})]})}),a.jsx("td",{className:"py-2 text-right",children:q(m.amount)}),a.jsx("td",{className:"py-2 text-right text-amber-600",children:q(m.commission)}),a.jsx("td",{className:"py-2 text-gray-600",children:m.tx_type}),a.jsx("td",{className:"py-2 text-gray-500 text-xs",children:m.date})]},m.tx_id))})]})})]},h))]})]})]})}function pae({title:e,categoryKey:t,data:r,isExpanded:n,onToggle:i,expandedMerchants:s,onToggleMerchant:o}){const l=r.severity,c=RN[l]||RN.info,u=c.icon;return a.jsxs(ne,{children:[a.jsxs("button",{onClick:i,className:"w-full flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${c.bg}`,children:a.jsx(u,{className:`h-5 w-5 ${c.color}`})}),a.jsxs("div",{className:"text-left",children:[a.jsx("h3",{className:"font-medium text-gray-900",children:e}),a.jsx("p",{className:"text-sm text-gray-500",children:r.description})]})]}),a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-lg font-semibold text-gray-900",children:Ne(r.total_count)}),a.jsx("p",{className:"text-xs text-gray-500",children:"transactions"})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-lg font-semibold text-gray-900",children:q(r.total_volume)}),a.jsx("p",{className:"text-xs text-gray-500",children:"volume"})]}),n?a.jsx(Ge,{className:"h-5 w-5 text-gray-400"}):a.jsx(cr,{className:"h-5 w-5 text-gray-400 rotate-90"})]})]}),n&&r.total_count>0&&a.jsx("div",{className:"mt-4 pt-4 border-t space-y-3",children:Object.entries(r.by_merchant).map(([f,d])=>{const h=`${t}:${f}`;return a.jsx(hae,{merchant:f,data:d,isExpanded:s.has(h),onToggle:()=>o(h),isFixedFeeMismatch:t==="fixed_fee_mismatch"},h)})}),n&&r.total_count===0&&a.jsx("div",{className:"mt-4 pt-4 border-t text-center py-6",children:a.jsx("p",{className:"text-gray-500",children:"No anomalies found in this category"})})]})}function xae(){const[e,t]=O.useState(new Set(["zero_commission"])),[r,n]=O.useState(new Set),{data:i,isLoading:s,error:o}=pe({queryKey:["reports","anomalies"],queryFn:ie.getAnomaliesReport}),l=f=>{const d=new Set(e);d.has(f)?d.delete(f):d.add(f),t(d)},c=f=>{const d=new Set(r);d.has(f)?d.delete(f):d.add(f),n(d)};if(s)return a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(Ee,{className:"h-8 w-8 text-gray-400 animate-spin"})});if(o||!i)return a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-red-600",children:"Failed to load report. Run the generation script first."})});const u=[{key:"zero_commission",title:"Zero Commission Transactions",data:i.zero_commission},{key:"fixed_fee_mismatch",title:"Fixed Fee Mismatch",data:i.fixed_fee_mismatch},{key:"manual_transactions",title:"Manual Transactions",data:i.manual_transactions}];return a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx(De,{to:"/",className:"p-2 hover:bg-gray-100 rounded-lg",children:a.jsx(kr,{className:"h-5 w-5 text-gray-500"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Anomalies Detected"}),a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[i.scope," | Generated ",Bf(i.generated_at)]})]})]}),a.jsx(ne,{className:"mb-6",children:a.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Total Approved"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:Ne(i.overall_stats.total_approved)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Total Volume"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:q(i.overall_stats.total_volume)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Total Commission"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:q(i.overall_stats.total_commission)})]})]})}),a.jsxs("div",{className:"space-y-4",children:[u.map(({key:f,title:d,data:h})=>a.jsx(pae,{title:d,categoryKey:f,data:h,isExpanded:e.has(f),onToggle:()=>l(f),expandedMerchants:r,onToggleMerchant:c},f)),i.contract_mismatches_discovered&&a.jsx(mae,{data:i.contract_mismatches_discovered,isExpanded:e.has("contract_mismatches_discovered"),onToggle:()=>l("contract_mismatches_discovered")})]})]})}function Au({label:e,value:t,subValue:r,variant:n="default"}){const i={default:"bg-gray-50",success:"bg-green-50",warning:"bg-amber-50",danger:"bg-red-50"},s={default:"text-gray-900",success:"text-green-700",warning:"text-amber-700",danger:"text-red-700"};return a.jsxs("div",{className:G("rounded-lg p-4",i[n]),children:[a.jsx("div",{className:G("text-2xl font-semibold",s[n]),children:typeof t=="number"?t.toLocaleString():t}),a.jsx("div",{className:"text-sm text-gray-500",children:e}),r&&a.jsx("div",{className:"text-xs text-gray-400 mt-1",children:r})]})}function gae({shift:e,isExpanded:t,onToggle:r}){const n={critical:{bg:"bg-red-50",border:"border-red-200",badge:"bg-red-100 text-red-700"},warning:{bg:"bg-amber-50",border:"border-amber-200",badge:"bg-amber-100 text-amber-700"}},i=n[e.severity]||n.warning;return a.jsxs("div",{className:G("border rounded-lg overflow-hidden",i.border),children:[a.jsxs("button",{onClick:r,className:G("w-full px-4 py-3 flex items-center justify-between",i.bg,"hover:opacity-90 transition-opacity"),children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(nt,{className:G("h-5 w-5",e.severity==="critical"?"text-red-600":"text-amber-600")}),a.jsxs("div",{className:"text-left",children:[a.jsxs("div",{className:"font-semibold text-gray-900",children:[e.merchant," - ",e.currency," ",e.point_id]}),a.jsx("div",{className:"text-sm text-gray-600",children:e.description})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("span",{className:G("px-2 py-1 rounded text-xs font-medium",i.badge),children:e.status}),a.jsx("div",{className:"text-right",children:a.jsxs("div",{className:G("text-sm font-medium",e.net_impact===0?"text-green-600":"text-red-600"),children:["Net: ",q(e.net_impact)]})}),t?a.jsx(cr,{className:"h-5 w-5 text-gray-400"}):a.jsx(Ge,{className:"h-5 w-5 text-gray-400"})]})]}),t&&a.jsxs("div",{className:"px-4 py-3 bg-white border-t border-gray-200",children:[a.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:["Sheet: ",a.jsx("code",{className:"bg-gray-100 px-1 rounded",children:e.sheet})]}),a.jsxs("table",{className:"min-w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-gray-500 text-xs uppercase",children:[a.jsx("th",{className:"text-left pb-2",children:"Date"}),a.jsx("th",{className:"text-right pb-2",children:"Actual Amount"}),a.jsx("th",{className:"text-right pb-2",children:"Expected (Recon)"}),a.jsx("th",{className:"text-right pb-2",children:"Deviation"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:e.pairs.map((s,o)=>a.jsxs("tr",{children:[a.jsx("td",{className:"py-2 font-mono text-gray-900",children:s.date}),a.jsx("td",{className:"py-2 text-right text-gray-900",children:q(s.actual)}),a.jsx("td",{className:"py-2 text-right text-gray-500",children:q(s.expected)}),a.jsxs("td",{className:G("py-2 text-right font-medium",s.deviation>0?"text-green-600":"text-red-600"),children:[s.deviation>0?"+":"",q(s.deviation)]})]},o))})]})]})]})}function yae({groups:e}){return a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Merchant"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Currency"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Payment"}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Transactions"}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Amount"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Reason"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map((t,r)=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:t.merchant}),a.jsx("td",{className:"px-4 py-3 text-sm",children:a.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:t.currency})}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:t.payment_type}),a.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-900",children:t.transaction_count.toLocaleString()}),a.jsxs("td",{className:"px-4 py-3 text-sm text-right font-medium text-gray-900",children:[t.total_amount.toLocaleString(void 0,{minimumFractionDigits:2})," ",t.currency]}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:t.reason})]},r))})]})})}function vae({items:e}){const t={high:"bg-red-100 text-red-700",medium:"bg-amber-100 text-amber-700",low:"bg-gray-100 text-gray-700"};return a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Merchant"}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Records"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date Range"}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Amount"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Severity"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Reason"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map((r,n)=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:r.merchant}),a.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-900",children:r.records}),a.jsxs("td",{className:"px-4 py-3 text-sm text-gray-500 font-mono",children:[r.date_from," ~ ",r.date_to]}),a.jsx("td",{className:"px-4 py-3 text-sm text-right font-medium text-gray-900",children:q(r.total_amount)}),a.jsx("td",{className:"px-4 py-3 text-sm",children:a.jsx("span",{className:G("inline-flex items-center px-2 py-0.5 rounded text-xs font-medium",t[r.severity]||t.low),children:r.severity})}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-500 max-w-xs truncate",title:r.reason,children:r.reason})]},n))})]})})}function IN({errors:e}){return a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Merchant"}),a.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Point"}),a.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),a.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Currency"}),a.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Actual"}),a.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Expected"}),a.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Deviation"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map((t,r)=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-3 py-2 text-gray-900",children:t.merchant}),a.jsx("td",{className:"px-3 py-2 text-gray-500",children:t.point_id}),a.jsx("td",{className:"px-3 py-2 text-gray-500 font-mono",children:t.date}),a.jsx("td",{className:"px-3 py-2 text-gray-500",children:t.currency}),a.jsx("td",{className:"px-3 py-2 text-right text-gray-900",children:t.actual.toLocaleString(void 0,{minimumFractionDigits:2})}),a.jsx("td",{className:"px-3 py-2 text-right text-gray-500",children:t.expected.toLocaleString(void 0,{minimumFractionDigits:2})}),a.jsxs("td",{className:G("px-3 py-2 text-right font-medium",t.deviation>0?"text-green-600":"text-red-600"),children:[t.deviation>0?"+":"",t.deviation.toFixed(2)]})]},r))})]})})}function bae(){var c,u;const[e,t]=O.useState(new Set),[r,n]=O.useState(!1),{data:i,isLoading:s,error:o}=pe({queryKey:["reports","reconciliation-deviation"],queryFn:ie.getReconciliationDeviationReport}),l=f=>{t(d=>{const h=new Set(d);return h.has(f)?h.delete(f):h.add(f),h})};return s?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(Ee,{className:"h-8 w-8 text-gray-400 animate-spin"})}):o||!i?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-red-600",children:"Failed to load report."})}):(e.size===0&&i.date_shifts.length>0&&t(new Set([i.date_shifts[0].id])),a.jsxs("div",{children:[a.jsxs(De,{to:"/",className:"inline-flex items-center gap-2 text-sm text-gray-500 hover:text-gray-700 mb-4",children:[a.jsx(kr,{className:"h-4 w-4"}),"Back to Reports"]}),a.jsxs(ne,{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(FS,{className:"h-6 w-6 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Reconciliation Deviation Report"}),a.jsx("p",{className:"text-sm text-gray-500",children:i.scope})]})]}),a.jsxs("div",{className:"text-right text-sm text-gray-500",children:[a.jsxs("div",{children:["Generated: ",new Date(i.generated_at).toLocaleDateString()]}),a.jsx("div",{className:"text-xs",children:i.data_source})]})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[a.jsx(Au,{label:"Total Records",value:i.summary.total_records,subValue:"DailyReconciliation nodes"}),a.jsx(Au,{label:"With Recon Data",value:i.summary.with_recon_data,subValue:`${(i.summary.with_recon_data/i.summary.total_records*100).toFixed(1)}% coverage`,variant:"success"}),a.jsx(Au,{label:"Missing Recon",value:i.summary.missing_recon_data,subValue:"Records without reconciliation",variant:i.summary.missing_recon_data>100?"warning":"default"}),a.jsx(Au,{label:"Deviations",value:i.summary.total_deviations,subValue:`${i.summary.significant_deviations} significant (>1)`,variant:i.summary.significant_deviations>0?"danger":"success"})]}),((c=i.comparison_v1)==null?void 0:c.deviations_resolved)&&i.comparison_v1.deviations_resolved>0&&a.jsx("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(HT,{className:"h-5 w-5 text-green-600 mt-0.5"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-green-800",children:"Improvement from Previous Version"}),a.jsxs("div",{className:"text-sm text-green-700",children:[a.jsx("strong",{children:i.comparison_v1.records_added})," new records with reconciliation data added.",a.jsxs("strong",{children:[" ",i.comparison_v1.deviations_resolved]})," deviations resolved (from ",i.comparison_v1.previous_deviations," to ",i.summary.total_deviations,")."]})]})]})})]}),a.jsxs(ne,{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(Uy,{className:"h-5 w-5 text-red-600"}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Date Shifts"}),a.jsxs("span",{className:"text-sm text-gray-500",children:["(",i.date_shifts.length," issues - Data Entry Errors)"]})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"These are confirmed date shifts where transaction data appears on wrong dates in reconciliation files. Offsetting deviations that sum to zero indicate data was swapped between dates."}),a.jsx("div",{className:"space-y-3",children:i.date_shifts.map(f=>a.jsx(gae,{shift:f,isExpanded:e.has(f.id),onToggle:()=>l(f.id)},f.id))})]}),a.jsxs(ne,{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(gd,{className:"h-5 w-5 text-amber-600"}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Unmatched Transactions"}),a.jsxs("span",{className:"text-sm text-gray-500",children:["(",i.unmatched_transactions.total_count.toLocaleString()," txns - ",i.unmatched_transactions.total_percent,"% of total)"]})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Transactions without matching rate plans in merchant contracts. These need contract updates to include missing currencies/payment types."}),a.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:a.jsx(yae,{groups:i.unmatched_transactions.groups})})]}),a.jsxs(ne,{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(RT,{className:"h-5 w-5 text-gray-600"}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Missing Reconciliation Data"}),a.jsxs("span",{className:"text-sm text-gray-500",children:["(",i.summary.missing_recon_data," records)"]})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Transaction records that have no corresponding data in reconciliation files. May indicate missing files, merchant name mismatches, or uncovered payment types."}),a.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:a.jsx(vae,{items:i.missing_reconciliation})})]}),a.jsxs(ne,{className:"mb-6",children:[a.jsxs("button",{onClick:()=>n(!r),className:"w-full flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ta,{className:"h-5 w-5 text-green-600"}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Amount Mismatch"}),a.jsxs("span",{className:"text-sm text-gray-500",children:["(",i.rounding_errors.length," records)"]}),a.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-700",children:"No Action Needed"})]}),r?a.jsx(cr,{className:"h-5 w-5 text-gray-400"}):a.jsx(Ge,{className:"h-5 w-5 text-gray-400"})]}),r&&a.jsxs("div",{className:"mt-4",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Minor floating-point arithmetic differences (less than 0.10). These are expected and require no action."}),a.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:a.jsx(IN,{errors:i.rounding_errors})}),i.small_discrepancies.length>0&&a.jsxs("div",{className:"mt-4",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Small Discrepancies (1-10 units)"}),a.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:a.jsx(IN,{errors:i.small_discrepancies})})]})]})]}),((u=i.resolved_issues)==null?void 0:u.count)&&i.resolved_issues.count>0&&a.jsxs(ne,{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Ta,{className:"h-5 w-5 text-green-600"}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Resolved from Previous Report"})]}),a.jsx("p",{className:"text-sm text-gray-600",children:i.resolved_issues.details})]})]}))}function el({label:e,value:t,subValue:r,variant:n="default"}){const i={default:"bg-gray-50",success:"bg-green-50",warning:"bg-amber-50",danger:"bg-red-50"},s={default:"text-gray-900",success:"text-green-700",warning:"text-amber-700",danger:"text-red-700"};return a.jsxs("div",{className:G("rounded-lg p-4",i[n]),children:[a.jsx("div",{className:G("text-2xl font-semibold",s[n]),children:typeof t=="number"?t.toLocaleString():t}),a.jsx("div",{className:"text-sm text-gray-500",children:e}),r&&a.jsx("div",{className:"text-xs text-gray-400 mt-1",children:r})]})}function jae({status:e}){const t={exact:{bg:"bg-green-100",text:"text-green-700",icon:Ta,label:"Exact"},minor:{bg:"bg-amber-100",text:"text-amber-700",icon:nt,label:"Minor"},significant:{bg:"bg-red-100",text:"text-red-700",icon:Uy,label:"Significant"},no_transactions:{bg:"bg-gray-100",text:"text-gray-500",icon:nt,label:"No Data"}},{bg:r,text:n,icon:i,label:s}=t[e]||t.no_transactions;return a.jsxs("span",{className:G("inline-flex items-center gap-1 px-2 py-0.5 rounded text-xs font-medium",r,n),children:[a.jsx(i,{className:"h-3 w-3"}),s]})}function wae({merchants:e,onMerchantClick:t}){return a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Merchant"}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Transactions"}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Volume"}),a.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Rate"}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Expected"}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actual"}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Deviation"}),a.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(r=>a.jsxs("tr",{className:G("hover:bg-gray-50",r.status==="significant"&&"bg-red-50 hover:bg-red-100",r.status==="no_transactions"&&"bg-gray-50 text-gray-400",t&&"cursor-pointer"),children:[a.jsxs("td",{className:"px-4 py-3",onClick:()=>t==null?void 0:t(r),children:[a.jsx("div",{className:"font-medium text-gray-900 hover:text-blue-600 cursor-pointer",children:r.merchant}),a.jsx("div",{className:"text-xs text-gray-500",children:r.currencies&&r.currencies.length>0?r.currencies.join(", "):"No transactions"})]}),a.jsx("td",{className:"px-4 py-3 text-right text-sm text-gray-900",children:(r.transaction_count||0).toLocaleString()}),a.jsx("td",{className:"px-4 py-3 text-right text-sm text-gray-900",children:(r.total_volume||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}),a.jsx("td",{className:"px-4 py-3 text-center text-sm text-gray-500",children:r.contract_rate!=null?`${r.contract_rate}%`:"-"}),a.jsx("td",{className:"px-4 py-3 text-right text-sm text-gray-500",children:r.expected_commission!=null?q(r.expected_commission):"-"}),a.jsx("td",{className:"px-4 py-3 text-right text-sm font-medium text-gray-900",children:r.actual_commission!=null?q(r.actual_commission):"-"}),a.jsx("td",{className:G("px-4 py-3 text-right text-sm font-medium",r.deviation===0?"text-green-600":r.deviation>0?"text-amber-600":"text-red-600"),children:r.status==="no_transactions"?a.jsx("span",{className:"text-gray-400",children:"-"}):r.deviation===0?a.jsx("span",{className:"text-green-600",children:"0.00"}):a.jsxs(a.Fragment,{children:[q(r.deviation),a.jsxs("div",{className:"text-xs font-normal",children:["(",r.deviation_percent>0?"+":"",r.deviation_percent.toFixed(2),"%)"]})]})}),a.jsx("td",{className:"px-4 py-3 text-center",children:a.jsx(jae,{status:r.status})})]},r.merchant))})]})})}async function Nae(e){const t=await fetch(`/api/merchants/${e}`);if(!t.ok)throw new Error("Failed to load merchant");return t.json()}function _ae({example:e}){var s;const[t,r]=O.useState(!1);if(!e||e.actual_commission==null||e.expected_commission==null)return null;const n=e.actual_commission-e.expected_commission,i=e.expected_commission>0?n/e.expected_commission*100:0;return a.jsxs("div",{className:"mb-6 border border-amber-200 rounded-lg bg-amber-50",children:[a.jsxs("button",{onClick:()=>r(!t),className:"w-full px-4 py-3 flex items-center justify-between text-left hover:bg-amber-100 rounded-lg transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ri,{className:"h-4 w-4 text-amber-600"}),a.jsx("span",{className:"font-medium text-amber-800",children:"Transaction Example"}),a.jsx("span",{className:"text-xs text-amber-600",children:"(showing deviation)"})]}),t?a.jsx(Ge,{className:"h-4 w-4 text-amber-600"}):a.jsx(Qr,{className:"h-4 w-4 text-amber-600"})]}),t&&a.jsxs("div",{className:"px-4 pb-4 space-y-3",children:[a.jsxs("div",{className:"text-xs text-gray-500",children:[a.jsx("span",{className:"font-medium",children:"Source:"})," ",e.source_file]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[a.jsxs("div",{className:"bg-white rounded p-2",children:[a.jsx("div",{className:"text-xs text-gray-500",children:"Date"}),a.jsx("div",{className:"font-medium",children:e.transaction_date})]}),a.jsxs("div",{className:"bg-white rounded p-2",children:[a.jsx("div",{className:"text-xs text-gray-500",children:"Amount"}),a.jsxs("div",{className:"font-medium",children:[((s=e.amount)==null?void 0:s.toFixed(2))??"N/A"," ",e.currency]})]}),a.jsxs("div",{className:"bg-white rounded p-2",children:[a.jsx("div",{className:"text-xs text-gray-500",children:"Point"}),a.jsx("div",{className:"font-medium",children:e.point_name||e.point_id||"N/A"})]}),a.jsxs("div",{className:"bg-white rounded p-2",children:[a.jsx("div",{className:"text-xs text-gray-500",children:"Effective Rate"}),a.jsxs("div",{className:G("font-medium",e.effective_rate>e.contract_rate?"text-red-600":"text-green-600"),children:[e.effective_rate.toFixed(2),"%"]})]})]}),a.jsx("div",{className:"bg-white rounded p-3",children:a.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-500",children:"Actual Commission"}),a.jsxs("div",{className:"font-medium",children:[e.actual_commission.toFixed(2)," EUR"]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-500",children:"Expected Commission"}),a.jsxs("div",{className:"font-medium text-gray-600",children:[e.expected_commission.toFixed(2)," EUR"]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-500",children:"Deviation"}),a.jsxs("div",{className:G("font-medium",n>0?"text-red-600":n<0?"text-green-600":"text-gray-600"),children:[n>0?"+":"",n.toFixed(2)," EUR (",i>0?"+":"",i.toFixed(1),"%)"]})]})]})}),e.contract_line&&a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded p-3",children:[a.jsx("div",{className:"text-xs text-blue-600 font-medium mb-1",children:"Contract Rate"}),a.jsx("div",{className:"text-sm text-blue-800 font-mono",children:e.contract_line}),a.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:["Rate: ",e.contract_rate,"% + ",e.contract_fixed," EUR fixed"]})]}),!e.contract_line&&a.jsxs("div",{className:"text-xs text-gray-500",children:["Contract rate: ",e.contract_rate,"% + ",e.contract_fixed," EUR fixed"]})]})]})}function Sae({merchant:e,merchantId:t,onClose:r}){const{data:n,isLoading:i}=pe({queryKey:["merchant",t],queryFn:()=>Nae(t),enabled:!!t});return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 bg-black/30 z-40",onClick:r}),a.jsxs("div",{className:"fixed top-0 right-0 h-full w-1/2 bg-white shadow-xl z-50 overflow-y-auto",children:[a.jsxs("div",{className:"sticky top-0 z-10 bg-white border-b px-6 py-4 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:e.merchant}),a.jsx("p",{className:"text-sm text-gray-500",children:"Monthly Reconciliation Details"})]}),a.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(Wt,{className:"h-5 w-5 text-gray-500"})})]}),a.jsxs("div",{className:"p-6",children:[e.transaction_example&&a.jsx(_ae,{example:e.transaction_example}),t?i?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(Ee,{className:"h-8 w-8 text-gray-400 animate-spin"})}):n!=null&&n.monthly_reconciliation&&(Array.isArray(n.monthly_reconciliation)?n.monthly_reconciliation.length>0:Object.keys(n.monthly_reconciliation).length>0)?a.jsx(Q0,{data:n.monthly_reconciliation,isLoading:!1}):a.jsxs("div",{className:"text-center py-12 text-gray-500",children:[a.jsx("p",{children:"No reconciliation data available for this merchant."}),a.jsx("p",{className:"text-xs mt-2",children:"Reconciliation data may not have been processed yet."})]}):a.jsx("div",{className:"text-center py-12 text-gray-500",children:"Could not find merchant ID for this merchant"})]})]})]})}function Oae({currencies:e}){return a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Currency"}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Transactions"}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Volume"}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Commission"}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Deviation"}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Eff. Rate"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(t=>a.jsxs("tr",{className:G("hover:bg-gray-50",t.deviation!==0&&"bg-amber-50 hover:bg-amber-100"),children:[a.jsx("td",{className:"px-4 py-3",children:a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded text-sm font-medium bg-blue-100 text-blue-800",children:t.currency})}),a.jsx("td",{className:"px-4 py-3 text-right text-gray-900",children:t.transaction_count.toLocaleString()}),a.jsx("td",{className:"px-4 py-3 text-right text-gray-900",children:t.total_volume.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}),a.jsx("td",{className:"px-4 py-3 text-right font-medium text-gray-900",children:t.actual_commission.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}),a.jsx("td",{className:G("px-4 py-3 text-right font-medium",t.deviation===0?"text-green-600":"text-red-600"),children:t.deviation===0?"0.00":q(t.deviation)}),a.jsxs("td",{className:"px-4 py-3 text-right text-gray-500",children:[t.avg_effective_rate.toFixed(2),"%"]})]},t.currency))})]})})}function Cae(){var p;const[e,t]=O.useState(null),{data:r,isLoading:n,error:i}=pe({queryKey:["reports","commission-compliance"],queryFn:ie.getCommissionComplianceReport}),{data:s}=pe({queryKey:["merchants"],queryFn:ie.getMerchants}),o=O.useMemo(()=>{if(!s)return new Map;const y=new Map;return s.forEach(j=>{y.set(j.merchant_name,j.merchant_id)}),y},[s]);if(n)return a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(Ee,{className:"h-8 w-8 text-gray-400 animate-spin"})});if(i||!r)return a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-red-600",children:"Failed to load report."})});const{summary:l,deviation_distribution:c,merchant_summary:u,currency_breakdown:f}=r,d=((p=c.no_transactions)==null?void 0:p.count)||0,h=c.exact_match.count+c.minor_deviation.count+c.significant_deviation.count+d,m=h>0?c.exact_match.count/h*100:0,x=h>0?c.minor_deviation.count/h*100:0,g=h>0?c.significant_deviation.count/h*100:0,v=h>0?d/h*100:0;return a.jsxs("div",{children:[a.jsxs(De,{to:"/",className:"inline-flex items-center gap-2 text-sm text-gray-500 hover:text-gray-700 mb-4",children:[a.jsx(kr,{className:"h-4 w-4"}),"Back to Reports"]}),a.jsxs(ne,{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(Ta,{className:"h-6 w-6 text-green-600"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Commission Mismatch Report"}),a.jsx("p",{className:"text-sm text-gray-500",children:r.scope})]})]}),a.jsxs("div",{className:"text-right text-sm text-gray-500",children:[a.jsxs("div",{children:["Generated: ",new Date(r.generated_at).toLocaleDateString()]}),a.jsx("div",{className:"text-xs",children:r.data_source})]})]}),a.jsxs("div",{className:"grid grid-cols-5 gap-4 mb-6",children:[a.jsx(el,{label:"Transactions",value:l.total_transactions.toLocaleString(),subValue:"Analyzed"}),a.jsx(el,{label:"Total Volume",value:q(l.total_volume),subValue:"All currencies"}),a.jsx(el,{label:"Expected Commission",value:q(l.total_expected_commission),subValue:"Per contracts"}),a.jsx(el,{label:"Actual Commission",value:q(l.total_actual_commission),subValue:"Charged",variant:l.total_deviation===0?"success":l.total_deviation<0?"danger":"warning"}),a.jsx(el,{label:"Match Rate",value:`${l.match_percentage.toFixed(1)}%`,subValue:`${l.merchants_analyzed} merchants`,variant:l.match_percentage>=99?"success":l.match_percentage>=95?"warning":"danger"})]}),l.total_deviation!==0&&a.jsx("div",{className:G("p-4 rounded-lg border",l.total_deviation<0?"bg-red-50 border-red-200":"bg-amber-50 border-amber-200"),children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Dc,{className:G("h-5 w-5 mt-0.5",l.total_deviation<0?"text-red-600":"text-amber-600")}),a.jsxs("div",{children:[a.jsx("div",{className:G("font-medium",l.total_deviation<0?"text-red-800":"text-amber-800"),children:l.total_deviation<0?"Underpayment Detected":"Overpayment Detected"}),a.jsxs("div",{className:G("text-sm",l.total_deviation<0?"text-red-700":"text-amber-700"),children:["Total deviation: ",a.jsx("strong",{children:q(Math.abs(l.total_deviation))})," ","(",(Math.abs(l.total_deviation)/l.total_expected_commission*100).toFixed(2),"% of expected)"]})]})]})}),l.total_deviation===0&&a.jsx("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Ta,{className:"h-5 w-5 text-green-600 mt-0.5"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-green-800",children:"Perfect Commission Match"}),a.jsx("div",{className:"text-sm text-green-700",children:"All merchant commissions match contracted rates exactly."})]})]})})]}),a.jsxs(ne,{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(Eb,{className:"h-5 w-5 text-gray-600"}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Merchant Compliance Distribution"})]}),a.jsxs("div",{className:"flex items-center gap-2 h-8 rounded-lg overflow-hidden mb-4",children:[m>0&&a.jsx("div",{className:"h-full bg-green-500 flex items-center justify-center text-white text-xs font-medium",style:{width:`${m}%`},children:c.exact_match.count}),x>0&&a.jsx("div",{className:"h-full bg-amber-500 flex items-center justify-center text-white text-xs font-medium",style:{width:`${x}%`},children:c.minor_deviation.count}),g>0&&a.jsx("div",{className:"h-full bg-red-500 flex items-center justify-center text-white text-xs font-medium",style:{width:`${g}%`},children:c.significant_deviation.count}),v>0&&a.jsx("div",{className:"h-full bg-gray-400 flex items-center justify-center text-white text-xs font-medium",style:{width:`${v}%`},children:d})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded bg-green-500"}),a.jsxs("span",{className:"text-gray-600",children:["Exact Match (",c.exact_match.count,")"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded bg-amber-500"}),a.jsxs("span",{className:"text-gray-600",children:["Minor (",c.minor_deviation.count,")"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded bg-red-500"}),a.jsxs("span",{className:"text-gray-600",children:["Significant (",c.significant_deviation.count,")"]})]}),d>0&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded bg-gray-400"}),a.jsxs("span",{className:"text-gray-600",children:["No Transactions (",d,")"]})]})]})]}),a.jsxs(ne,{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(Eb,{className:"h-5 w-5 text-gray-600"}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Merchant Summary"}),a.jsxs("span",{className:"text-sm text-gray-500",children:["(",u.length," merchants)"]})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Comparison of expected commission (based on contract rates) vs actual commission charged. Merchants with significant deviations are highlighted."}),a.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:a.jsx(wae,{merchants:u,onMerchantClick:y=>t(y)})})]}),a.jsxs(ne,{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(ET,{className:"h-5 w-5 text-gray-600"}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Currency Breakdown"})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Commission analysis grouped by transaction currency. Shows effective rate calculated from actual commission."}),a.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:a.jsx(Oae,{currencies:f})})]}),e&&a.jsx(Sae,{merchant:e,merchantId:o.get(e.merchant)??null,onClose:()=>t(null)})]})}async function Pae(){const e=await fetch("/api/reports/merchants-overview");if(!e.ok)throw new Error("Failed to load report");return e.json()}function Aae(e){switch(e){case"critical":return"bg-red-500 text-white";case"warning":return"bg-amber-400 text-amber-900";case"minor":return"bg-yellow-200 text-yellow-800";case"ok":return"bg-green-100 text-green-700";default:return"bg-gray-50 text-gray-400"}}function qm(e){return e==null?"-":`${e.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`}function kae({problem:e,columnId:t,position:r}){var i;const n=r==="above"?"bottom-full mb-2":"top-full mt-2";return a.jsxs("div",{className:G("absolute z-50 bg-white border border-gray-200 rounded-lg shadow-xl p-4 min-w-[320px] text-sm",n,"left-1/2 -translate-x-1/2"),children:[a.jsxs("div",{className:"font-semibold text-gray-900 mb-3 pb-2 border-b",children:[t==="commission_mismatch"&&"Commission Mismatch",t==="date_shifts"&&"Date Shifts",t==="unmatched_transactions"&&"Unmatched Transactions",t==="missing_reconciliation"&&"Missing Reconciliation"]}),t==="commission_mismatch"&&a.jsxs("div",{className:"space-y-2",children:[e.expected!==void 0&&a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-500",children:"Expected"}),a.jsx("div",{className:"font-medium text-gray-900",children:qm(e.expected)})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-500",children:"Actual"}),a.jsx("div",{className:"font-medium text-gray-900",children:qm(e.actual)})]})]}),e.amount!==void 0&&e.amount!==0&&a.jsxs("div",{className:G("mt-2 p-2 rounded text-xs font-medium",e.amount>0?"bg-amber-50 text-amber-800":"bg-red-50 text-red-800"),children:["Deviation: ",qm(e.amount)," (",e.percent!==void 0?`${e.percent>0?"+":""}${e.percent.toFixed(2)}%`:"",")"]}),e.severity==="ok"&&a.jsxs("div",{className:"text-green-600 text-xs flex items-center gap-1",children:[a.jsx(Ta,{className:"h-3 w-3"}),"No deviation detected"]})]}),t==="date_shifts"&&e.shifts&&a.jsx("div",{className:"space-y-2",children:e.shifts.map((s,o)=>a.jsxs("div",{className:"text-xs p-2 bg-gray-50 rounded",children:[a.jsx("span",{className:G("inline-block px-1.5 py-0.5 rounded text-xs font-medium mr-2",s.severity==="critical"?"bg-red-100 text-red-700":"bg-amber-100 text-amber-700"),children:s.currency}),s.description]},o))}),t==="unmatched_transactions"&&e.groups&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"text-xs text-gray-600 mb-2",children:["Total: ",(i=e.count)==null?void 0:i.toLocaleString()," transactions"]}),e.groups.slice(0,3).map((s,o)=>a.jsxs("div",{className:"text-xs p-2 bg-gray-50 rounded",children:[a.jsx("span",{className:"inline-block px-1.5 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-700 mr-2",children:s.currency}),a.jsx("span",{className:"font-medium",children:s.count.toLocaleString()})," txns",a.jsx("div",{className:"text-gray-500 mt-1",children:s.reason})]},o)),e.groups.length>3&&a.jsxs("div",{className:"text-xs text-gray-500",children:["+",e.groups.length-3," more issues"]})]}),t==="missing_reconciliation"&&a.jsxs("div",{className:"space-y-2",children:[e.records!==void 0&&a.jsxs("div",{className:"text-xs",children:[a.jsx("span",{className:"font-medium",children:e.records})," records missing"]}),e.reason&&a.jsx("div",{className:"text-xs p-2 bg-gray-50 rounded text-gray-600",children:e.reason})]}),e.severity==="none"&&a.jsx("div",{className:"text-gray-400 text-xs",children:"No data"})]})}function ku(e){if(e==null||e===0)return"";const t=Math.abs(e);return t>=1e6?`${(e/1e6).toFixed(1)}M`:t>=1e3?`${(e/1e3).toFixed(0)}K`:`${e.toFixed(0)}`}function Eae(e,t){if(e.severity==="none")return{primary:"-"};if(e.severity==="ok")return{primary:""};switch(t){case"commission_mismatch":const r=e.effective_rate!==void 0&&e.contract_rate!==void 0?`${e.effective_rate.toFixed(1)}% vs ${e.contract_rate}%`:void 0;return{primary:ku(e.amount)||"!",secondary:r};case"date_shifts":return{primary:e.count?`${e.count}`:"!",secondary:e.net_impact?ku(e.net_impact):void 0};case"unmatched_transactions":return{primary:ku(e.amount)||"!",secondary:e.count?`${(e.count/1e3).toFixed(0)}K txn`:void 0};case"missing_reconciliation":return{primary:ku(e.amount)||"!",secondary:e.records?`${e.records} rec`:void 0};default:return{primary:"!"}}}function $ae({problem:e,columnId:t,rowIndex:r,totalRows:n}){const[i,s]=O.useState(!1),o=r>n/2?"above":"below",l=Eae(e,t);return a.jsxs("td",{className:"relative p-0",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),onClick:c=>c.stopPropagation(),children:[a.jsxs("div",{className:G("h-14 flex flex-col items-center justify-center transition-all px-1",Aae(e.severity),"hover:opacity-80"),children:[a.jsx("span",{className:"text-xs font-semibold leading-tight",children:l.primary}),l.secondary&&a.jsx("span",{className:"text-[10px] leading-tight opacity-80",children:l.secondary})]}),i&&e.severity!=="none"&&a.jsx(kae,{problem:e,columnId:t,position:o})]})}async function Tae(e){const t=await fetch(`/api/merchants/${e}`);if(!t.ok)throw new Error("Failed to load merchant");return t.json()}function Mae({merchant:e,onClose:t}){const{data:r,isLoading:n}=pe({queryKey:["merchant",e.merchant_id],queryFn:()=>Tae(e.merchant_id),enabled:!!e.merchant_id});return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 bg-black/30 z-40",onClick:t}),a.jsxs("div",{className:"fixed top-0 right-0 h-full w-1/2 bg-white shadow-xl z-50 overflow-y-auto",children:[a.jsxs("div",{className:"sticky top-0 z-10 bg-white border-b px-6 py-4 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:e.merchant_name}),a.jsx("p",{className:"text-sm text-gray-500",children:"Monthly Reconciliation Details"})]}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(Wt,{className:"h-5 w-5 text-gray-500"})})]}),a.jsxs("div",{className:"p-6",children:[n?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(Ee,{className:"h-8 w-8 text-gray-400 animate-spin"})}):r?a.jsx(Q0,{data:r.monthly_reconciliation,isLoading:!1}):a.jsx("div",{className:"text-center py-12 text-gray-500",children:"No data available"}),e.merchant_id&&a.jsx("div",{className:"mt-6 pt-6 border-t",children:a.jsx(De,{to:`/merchant/${e.merchant_id}`,className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View full merchant details "})})]})]})]})}function Rae(){const[e,t]=O.useState(null),{data:r,isLoading:n,error:i}=pe({queryKey:["reports","merchants-overview"],queryFn:Pae});if(n)return a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(Ee,{className:"h-8 w-8 text-gray-400 animate-spin"})});if(i||!r)return a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-red-600",children:"Failed to load report."})});const s=[...r.columns].reverse();return a.jsxs("div",{children:[a.jsxs(De,{to:"/",className:"inline-flex items-center gap-2 text-sm text-gray-500 hover:text-gray-700 mb-4",children:[a.jsx(kr,{className:"h-4 w-4"}),"Back to Reports"]}),a.jsxs(ne,{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:a.jsx(IT,{className:"h-6 w-6 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Merchants Overview Report"}),a.jsx("p",{className:"text-sm text-gray-500",children:r.description})]})]}),a.jsx("div",{className:"text-right text-sm text-gray-500",children:a.jsxs("div",{children:["Generated: ",new Date(r.generated_at).toLocaleDateString()]})})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[a.jsxs("div",{className:"rounded-lg p-4 bg-gray-50",children:[a.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:r.summary.total_merchants}),a.jsx("div",{className:"text-sm text-gray-500",children:"Total Merchants"})]}),a.jsxs("div",{className:"rounded-lg p-4 bg-amber-50",children:[a.jsx("div",{className:"text-2xl font-semibold text-amber-700",children:r.summary.merchants_with_issues}),a.jsx("div",{className:"text-sm text-gray-500",children:"With Issues"})]}),a.jsxs("div",{className:"rounded-lg p-4 bg-red-50",children:[a.jsx("div",{className:"text-2xl font-semibold text-red-700",children:r.summary.critical_issues}),a.jsx("div",{className:"text-sm text-gray-500",children:"Critical Issues"})]}),a.jsxs("div",{className:"rounded-lg p-4 bg-yellow-50",children:[a.jsx("div",{className:"text-2xl font-semibold text-yellow-700",children:r.summary.warning_issues}),a.jsx("div",{className:"text-sm text-gray-500",children:"Warnings"})]})]}),a.jsxs("div",{className:"flex items-center gap-6 text-sm border-t pt-4",children:[a.jsx("span",{className:"text-gray-500 font-medium",children:"Legend:"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-6 h-6 rounded bg-red-500"}),a.jsx("span",{className:"text-gray-600",children:"Critical"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-6 h-6 rounded bg-amber-400"}),a.jsx("span",{className:"text-gray-600",children:"Warning"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-6 h-6 rounded bg-yellow-200"}),a.jsx("span",{className:"text-gray-600",children:"Minor"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-6 h-6 rounded bg-green-100"}),a.jsx("span",{className:"text-gray-600",children:"OK"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-6 h-6 rounded bg-gray-100"}),a.jsx("span",{className:"text-gray-600",children:"No Data"})]})]})]}),a.jsxs(ne,{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(nt,{className:"h-5 w-5 text-gray-600"}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Issues Heatmap"}),a.jsx("span",{className:"text-sm text-gray-500",children:"(sorted by severity - worst at top-right)"})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600 bg-gray-50 border-b w-48",children:"Merchant"}),s.map(o=>a.jsx("th",{className:"text-center py-3 px-2 font-medium text-gray-600 bg-gray-50 border-b w-32",children:a.jsx("div",{className:"text-xs",children:o.label})},o.id)),a.jsx("th",{className:"text-center py-3 px-4 font-medium text-gray-600 bg-gray-50 border-b w-20",children:"Score"})]})}),a.jsx("tbody",{children:r.merchants.map((o,l)=>a.jsxs("tr",{className:G("border-b border-gray-100",l===0&&"bg-red-50/30",(e==null?void 0:e.merchant_name)===o.merchant_name&&"bg-blue-50"),children:[a.jsx("td",{className:"py-2 px-4 cursor-pointer hover:bg-gray-50",onClick:()=>t(o),children:a.jsx("div",{className:"font-medium text-gray-900 text-sm truncate max-w-[180px] hover:text-blue-600",children:o.merchant_name})}),s.map(c=>a.jsx($ae,{problem:o.problems[c.id],columnId:c.id,rowIndex:l,totalRows:r.merchants.length},c.id)),a.jsx("td",{className:"text-center py-2 px-4",children:a.jsx("span",{className:G("text-sm font-medium",o.total_score>100?"text-red-600":o.total_score>50?"text-amber-600":o.total_score>0?"text-yellow-600":"text-gray-400"),children:o.total_score>0?o.total_score.toFixed(0):"-"})})]},o.merchant_name))})]})}),a.jsx("div",{className:"mt-4 text-xs text-gray-500",children:"Hover over cells to see detailed information. Click a row to view monthly breakdown."})]}),e&&a.jsx(Mae,{merchant:e,onClose:()=>t(null)})]})}function Iae({rateHistory:e,stats:t}){return a.jsxs("div",{className:"grid grid-cols-[1fr_2fr] gap-12 mt-6 pt-6 border-t border-gray-100",children:[a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase mb-3",children:"Statistics"}),t?a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Success txn"}),a.jsx("span",{className:"font-medium text-gray-900",children:t.successTxn.toLocaleString()})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Failed txn"}),a.jsx("span",{className:"font-medium text-gray-900",children:t.failedTxn.toLocaleString()})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Accept rate"}),a.jsxs("span",{className:"font-medium text-gray-900",children:[t.acceptRate,"%"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Refund rate"}),a.jsxs("span",{className:"font-medium text-gray-900",children:[t.refundRate,"%"]})]})]}):a.jsx("div",{className:"text-sm text-gray-400",children:"No statistics available"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase mb-3",children:"Rate History"}),a.jsx("div",{className:"space-y-3",children:e.map((r,n)=>a.jsxs("div",{className:G(n>0&&"pt-3 border-t border-gray-100"),children:[a.jsxs("div",{className:"flex items-baseline gap-3 text-xs mb-1.5",children:[a.jsxs("span",{className:"font-semibold text-gray-900",children:[r.contract,r.suffix&&a.jsx("span",{className:"font-normal text-gray-400 ml-1",children:r.suffix})]}),a.jsx("span",{className:"text-gray-500",children:r.effectiveDate}),a.jsxs("span",{className:"text-gray-400 ml-auto",children:[r.periodFrom,"  ",r.periodTo]})]}),a.jsx("div",{className:"space-y-1",children:r.rates.map((i,s)=>a.jsxs("div",{className:"flex items-baseline gap-2 text-xs flex-wrap",children:[a.jsx("span",{className:"text-gray-700",children:i.parts.map(o=>`${o.label} ${o.rate}%`).join(" + ")}),i.refundFee!=null&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-gray-300",children:""}),a.jsxs("span",{className:"text-gray-500",children:["Refund: ",i.refundFee]})]}),i.rollingReserve!=null&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-gray-300",children:""}),a.jsxs("span",{className:"text-gray-500",children:["RR: ",i.rollingReserve,"%"]})]}),a.jsx("span",{className:"text-gray-300",children:""}),i.notes.map(o=>a.jsx("span",{className:"text-[10px] text-gray-400 bg-gray-50 px-1.5 py-0.5 rounded",children:o},o))]},s))})]},n))})]})]})}function ai(e){return new Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:0}).format(Math.round(e))}function ya(e,t=.5){return Math.abs(e)<t?"0":(e>0?"+":"")+ai(e)}function jf(e,t=.5){return Math.abs(e)<t?"text-gray-400":e>0?"text-green-600":"text-red-600"}function gs(e,t=1){return Math.abs(e)<t?"text-gray-400":e>0?"text-green-600":"text-red-600"}function xn({label:e,value:t,valueClass:r}){return a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:e}),a.jsx("span",{className:G("font-medium",r||"text-gray-900"),children:t})]})}function Dae({data:e,onClose:t}){const{type:r,month:n,day:i}=e;if(!i&&!n)return null;const s=!!i,o=s?i.turnover:n.registryAmount,l=s?i.reconCommission:n.reconCommission,c=s?i.regCommission:n.regCommission,u=s?i.regTxCount:n.regTxCount,f=s?i.reconTurnover:n.reconTurnover,d=s?i.parts:n.parts,h=d.reduce((p,y)=>p+y.amount,0),m=d.reduce((p,y)=>p+y.rate,0),x=d.reduce((p,y)=>p+y.contractRate,0),g=d.reduce((p,y)=>p+y.contractAmount,0),v=h-g;return a.jsxs("div",{className:"absolute z-50 bg-white border border-gray-200 rounded-lg shadow-lg p-4 min-w-[400px] text-sm",style:{bottom:"100%",left:"50%",transform:"translateX(-50%)",marginBottom:"8px"},onMouseEnter:p=>p.stopPropagation(),children:[a.jsxs("div",{className:"flex justify-between items-center mb-3",children:[a.jsxs("span",{className:"font-semibold text-gray-900",children:[r==="registry"&&"Registry",r==="reconciliation"&&"Reconciliation",r==="contract"&&"Contract Deviation"]}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 text-xs",children:""})]}),r==="registry"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(xn,{label:"Transactions",value:u.toLocaleString()}),a.jsx(xn,{label:"Amount (incoming)",value:q(o)}),!s&&(n!=null&&n.refundAmount)?a.jsx(xn,{label:"Refunds deducted",value:q(-n.refundAmount),valueClass:"text-red-500"}):null,a.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-100",children:[a.jsx("div",{className:"text-xs font-medium text-gray-500 mb-2",children:"Commission"}),d.map(p=>a.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[a.jsx("span",{className:"text-gray-500",children:p.label}),a.jsxs("span",{className:"text-gray-700",children:[q(p.amount),a.jsxs("span",{className:"text-gray-400 ml-1.5",children:["(",p.rate.toFixed(2),"%)"]})]})]},p.label)),a.jsxs("div",{className:"flex justify-between text-xs font-medium pt-1.5 mt-1 border-t border-gray-100",children:[a.jsx("span",{className:"text-gray-900",children:"Total"}),a.jsxs("span",{className:"text-gray-900",children:[q(h),a.jsxs("span",{className:"text-gray-400 ml-1.5",children:["(",m.toFixed(2),"%)"]})]})]})]}),a.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Effective rate ",lt(c/o*100,2)]}),a.jsx("div",{className:"mt-3 pt-2 border-t border-gray-100 space-y-0.5",children:d.map(p=>a.jsxs("div",{className:"text-[11px] text-gray-400",children:[p.label,": ",p.source]},p.label))})]}),r==="reconciliation"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(xn,{label:"Amount",value:q(f)}),a.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-100",children:[a.jsx("div",{className:"text-xs font-medium text-gray-500 mb-2",children:"Commission breakdown"}),a.jsxs("div",{className:"flex text-[10px] text-gray-400 mb-1",children:[a.jsx("span",{className:"flex-1",children:"Part"}),a.jsx("span",{className:"w-16 text-right",children:"Rate"}),a.jsx("span",{className:"w-24 text-right",children:"Amount"})]}),d.map(p=>a.jsxs("div",{className:"flex text-xs mb-0.5",children:[a.jsx("span",{className:"flex-1 text-gray-600",children:p.label}),a.jsxs("span",{className:"w-16 text-right text-gray-500",children:[p.rate.toFixed(2),"%"]}),a.jsx("span",{className:"w-24 text-right text-gray-700",children:q(p.amount)})]},p.label)),a.jsxs("div",{className:"flex text-xs font-medium pt-1.5 mt-1 border-t border-gray-100",children:[a.jsx("span",{className:"flex-1 text-gray-900",children:"Total"}),a.jsxs("span",{className:"w-16 text-right text-gray-900",children:[m.toFixed(2),"%"]}),a.jsx("span",{className:"w-24 text-right text-gray-900",children:q(h)})]})]}),(()=>{const p=l-c;return Math.abs(p)>.005?a.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-100",children:[a.jsx("div",{className:"text-xs font-medium text-gray-500 mb-1",children:"vs Registry"}),a.jsx(xn,{label:"Commission diff",value:q(p),valueClass:jf(p)})]}):null})(),a.jsx(xn,{label:"Period",value:s?i.date:n!=null&&n.period?`Partial ${n.period}`:"Full month"}),a.jsx("div",{className:"mt-3 pt-2 border-t border-gray-100 space-y-0.5",children:d.map(p=>a.jsxs("div",{className:"text-[11px] text-gray-400",children:[p.label,": ",p.source]},p.label))})]}),r==="contract"&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-xs font-medium text-gray-500 mb-2",children:"Commission breakdown"}),a.jsxs("div",{className:"flex text-[10px] text-gray-400 mb-1",children:[a.jsx("span",{className:"flex-1",children:"Part"}),a.jsx("span",{className:"w-16 text-right",children:"Contract"}),a.jsx("span",{className:"w-16 text-right",children:"Actual"}),a.jsx("span",{className:"w-24 text-right",children:"Deviation"})]}),d.map(p=>{const y=p.amount-p.contractAmount;return a.jsxs("div",{className:"flex text-xs mb-0.5 items-baseline",children:[a.jsx("span",{className:"flex-1 text-gray-600",children:p.label}),a.jsxs("span",{className:"w-16 text-right text-gray-400",children:[p.contractRate.toFixed(2),"%"]}),a.jsxs("span",{className:"w-16 text-right text-gray-700",children:[p.rate.toFixed(2),"%"]}),a.jsx("span",{className:G("w-24 text-right font-medium",gs(y)),children:ya(y)})]},p.label)}),a.jsxs("div",{className:"flex text-xs font-semibold pt-1.5 mt-1 border-t border-gray-100 items-baseline",children:[a.jsx("span",{className:"flex-1 text-gray-900",children:"Total"}),a.jsxs("span",{className:"w-16 text-right text-gray-400",children:[x.toFixed(2),"%"]}),a.jsxs("span",{className:"w-16 text-right text-gray-900",children:[m.toFixed(2),"%"]}),a.jsx("span",{className:G("w-24 text-right",gs(v)),children:ya(v)})]})]}),a.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-100 space-y-1",children:[a.jsx(xn,{label:"Expected (contract)",value:q(g)}),a.jsx(xn,{label:"Actual (recon)",value:q(h)}),a.jsx(xn,{label:"Deviation",value:q(v),valueClass:gs(v)})]}),a.jsx("div",{className:"mt-3 pt-2 border-t border-gray-100 space-y-0.5",children:d.map(p=>a.jsxs("div",{className:"text-[11px] text-gray-400",children:[p.label,": ",p.contractSource]},p.label))})]})]})}function wn({children:e,tooltipType:t,month:r,day:n,className:i}){const[s,o]=O.useState(!1);return a.jsxs("td",{className:G("relative cursor-pointer",i),onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[e,s&&a.jsx(Dae,{data:{type:t,month:r,day:n},onClose:()=>o(!1)})]})}function Lae({month:e,isExpanded:t,monthDiff:r,hasRateChange:n,onToggle:i}){var l;if(!(e.days.length>0))return a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("td",{className:"px-4 py-3 text-sm",children:a.jsx("span",{className:"font-medium text-gray-400",children:e.label})}),a.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-300 border-l border-gray-100",children:""}),a.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-300 border-l border-gray-100",children:""}),a.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-300",children:""}),a.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-300 border-l border-gray-100",children:""}),a.jsx("td",{})]});const o=n?(l=e.parts.find(c=>c.contractRate===e.rateFrom))==null?void 0:l.label:void 0;return a.jsxs(a.Fragment,{children:[a.jsxs("tr",{className:G("border-b border-gray-200 hover:bg-gray-50 cursor-pointer transition-colors",n&&"border-l-2 border-l-amber-400"),onClick:i,children:[a.jsx("td",{className:"px-4 py-3 text-sm",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium text-gray-900",children:e.label}),e.period&&a.jsx("span",{className:"text-gray-400 text-xs",children:e.period}),n&&a.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-amber-600 bg-amber-50 px-1.5 py-0.5 rounded",children:[a.jsx(nt,{className:"h-3 w-3"}),o,": ",e.rateFrom,"% ",a.jsx(Ry,{className:"h-3 w-3"})," ",e.rateTo,"%"]})]})}),a.jsx(wn,{className:"px-4 py-3 text-sm text-right text-gray-900 border-l border-gray-100",tooltipType:"registry",month:e,children:ai(e.registryAmount)}),a.jsx(wn,{className:"px-4 py-3 text-sm text-right text-gray-900 border-l border-gray-100",tooltipType:"reconciliation",month:e,children:ai(e.reconCommission)}),a.jsx("td",{className:G("px-4 py-3 text-sm text-right",jf(r)),children:ya(r)}),a.jsx(wn,{className:G("px-4 py-3 text-sm text-right border-l border-gray-100",gs(e.deviation)),tooltipType:"contract",month:e,children:ya(e.deviation)}),a.jsx("td",{className:"px-2 py-3 text-center",children:t?a.jsx(cr,{className:"h-4 w-4 text-gray-400"}):a.jsx(Ge,{className:"h-4 w-4 text-gray-400"})})]}),t&&[...e.days].reverse().map(c=>{var m;const u=c.parts.reduce((x,g)=>x+g.contractAmount,0),f=c.reconCommission-u,d=c.reconCommission-c.regCommission,h=c.rateChangeDay?(m=c.parts.find(x=>x.contractRate===c.rateFrom))==null?void 0:m.label:void 0;return a.jsxs("tr",{className:G("border-b border-gray-100 text-xs",c.rateChangeDay?"bg-amber-50 border-l-2 border-l-amber-400":"hover:bg-gray-50"),children:[a.jsx("td",{className:"px-4 py-2 pl-8 text-gray-600",children:a.jsxs("div",{className:"flex items-center gap-2",children:[c.rateChangeDay&&a.jsx("span",{className:"text-amber-500",children:""}),a.jsx("span",{className:c.rateChangeDay?"font-medium text-amber-700":"",children:c.date}),c.rateChangeDay&&a.jsxs("span",{className:"text-amber-600 text-[10px]",children:[h,": ",c.rateFrom,"%  ",c.rateTo,"%"]})]})}),a.jsx(wn,{className:"px-4 py-2 text-right text-gray-700 border-l border-gray-100",tooltipType:"registry",day:c,month:e,children:ai(c.turnover)}),a.jsx(wn,{className:"px-4 py-2 text-right text-gray-700 border-l border-gray-100",tooltipType:"reconciliation",day:c,month:e,children:ai(c.reconCommission)}),a.jsx("td",{className:G("px-4 py-2 text-right",jf(d)),children:ya(d)}),a.jsx(wn,{className:G("px-4 py-2 text-right border-l border-gray-100",gs(f)),tooltipType:"contract",day:c,month:e,children:ya(f)}),a.jsx("td",{})]},`${e.key}-${c.day}`)})]})}const Fae=[2025,2026],Bae=[{key:"incoming",label:"Incoming"},{key:"refund",label:"Refund"},{key:"failed",label:"Failed"},{key:"payout",label:"Payout"}],zae=[{key:"card",label:"Card"},{key:"apm",label:"APM"}];function Uae({months:e,total:t,totalContractRate:r,streams:n,selectedStream:i,onStreamChange:s,yearTabs:o=Fae,operationTypes:l=Bae,paymentMethods:c=zae,defaultYear:u=2025,defaultOperation:f="incoming",defaultPaymentMethod:d="card"}){const[h]=O.useState(u),[m,x]=O.useState(f),[g,v]=O.useState(d),[p,y]=O.useState(new Set),j=t.reconCommission-t.regCommission,w=b=>{y(N=>{const _=new Set(N);return _.has(b)?_.delete(b):_.add(b),_})};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"flex bg-gray-100 rounded-lg p-0.5",children:o.map(b=>a.jsx("button",{className:G("px-3 py-1.5 text-sm font-medium rounded-md transition-colors",b===h?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"),children:b},b))}),a.jsx("div",{className:"w-px h-6 bg-gray-200"}),a.jsx("div",{className:"flex bg-gray-100 rounded-lg p-0.5",children:l.map(b=>a.jsx("button",{onClick:()=>x(b.key),className:G("px-3 py-1.5 text-sm font-medium rounded-md transition-colors",b.key===m?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"),children:b.label},b.key))}),n&&n.length>0?a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-px h-6 bg-gray-200"})}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-px h-6 bg-gray-200"}),a.jsx("div",{className:"flex bg-gray-100 rounded-lg p-0.5",children:c.map(b=>a.jsx("button",{onClick:()=>v(b.key),className:G("px-3 py-1.5 text-sm font-medium rounded-md transition-colors",b.key===g?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"),children:b.label},b.key))})]})]}),n&&n.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1.5 mb-4 bg-gray-100 rounded-lg p-1",children:n.map(b=>a.jsx("button",{onClick:()=>s==null?void 0:s(b.id),className:G("px-3 py-1.5 text-sm font-medium rounded-md transition-colors whitespace-nowrap",b.id===i?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"),children:b.label},b.id))}),a.jsx(ne,{className:"p-0",children:a.jsx("div",{className:"p-6",children:a.jsxs("table",{className:"min-w-full",children:[a.jsxs("thead",{children:[a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase w-[280px]",rowSpan:2,children:"Period"}),a.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase border-l border-gray-100",colSpan:1,children:"Amount"}),a.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase border-l border-gray-100",colSpan:2,children:"Commission  diff"}),a.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase border-l border-gray-100",colSpan:1,children:"deviation"}),a.jsx("th",{className:"w-10",rowSpan:2})]}),a.jsxs("tr",{className:"border-b border-gray-300",children:[a.jsx("th",{className:"px-4 py-1 text-right text-[10px] font-normal text-gray-400 border-l border-gray-100",children:"registry"}),a.jsx("th",{className:"px-4 py-1 text-right text-[10px] font-normal text-gray-400 border-l border-gray-100",colSpan:2,children:"reconciliation"}),a.jsx("th",{className:"px-4 py-1 text-right text-[10px] font-normal text-gray-400 border-l border-gray-100",children:"contract"})]})]}),a.jsxs("tbody",{children:[(()=>{const b={key:"total",label:"Total",turnover:t.turnover,registryAmount:t.registryAmount,regCommission:t.regCommission,regTxCount:e.reduce((N,_)=>N+_.regTxCount,0),reconTurnover:t.turnover,reconCommission:t.reconCommission,reconRate:t.turnover>0?t.reconCommission/t.turnover*100:0,contractRate:r,contractExpected:t.contractExpected,deviation:t.deviation,parts:t.parts,days:[]};return a.jsxs("tr",{className:"bg-gray-50 border-b border-gray-300 font-semibold",children:[a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:"TOTAL"}),a.jsx(wn,{className:"px-4 py-3 text-sm text-right text-gray-900 border-l border-gray-100",tooltipType:"registry",month:b,children:ai(t.registryAmount)}),a.jsx(wn,{className:"px-4 py-3 text-sm text-right text-gray-900 border-l border-gray-100",tooltipType:"reconciliation",month:b,children:ai(t.reconCommission)}),a.jsx("td",{className:G("px-4 py-3 text-sm text-right",jf(j)),children:ya(j)}),a.jsx(wn,{className:G("px-4 py-3 text-sm text-right border-l border-gray-100",gs(t.deviation)),tooltipType:"contract",month:b,children:ya(t.deviation)}),a.jsx("td",{})]})})(),e.map(b=>{const N=p.has(b.key),_=b.reconCommission-b.regCommission,S=!!b.rateChangeDay;return a.jsx(Lae,{month:b,isExpanded:N,monthDiff:_,hasRateChange:S,onToggle:()=>w(b.key)},b.key)})]})]})})}),a.jsxs("div",{className:"mt-4 flex items-center gap-6 text-xs text-gray-400",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded border-l-2 border-amber-400 bg-amber-50"}),a.jsx("span",{children:"Rate change day"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-green-600 font-medium",children:"+123"}),a.jsx("span",{children:"Overpayment"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-red-600 font-medium",children:"-123"}),a.jsx("span",{children:"Underpayment"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-gray-400 font-medium",children:"0"}),a.jsx("span",{children:"No deviation"})]})]})]})}function Wae(e){const t=e.filter(s=>s.days.length>0),r=t.reduce((s,o)=>({turnover:s.turnover+o.turnover,registryAmount:s.registryAmount+o.registryAmount,reconCommission:s.reconCommission+o.reconCommission,regCommission:s.regCommission+o.regCommission,contractExpected:s.contractExpected+o.contractExpected,deviation:s.deviation+o.deviation}),{turnover:0,registryAmount:0,reconCommission:0,regCommission:0,contractExpected:0,deviation:0}),n=new Map;for(const s of t)for(const o of s.parts){const l=n.get(o.label);l?(l.amount+=o.amount,l.contractAmount+=o.contractAmount):n.set(o.label,{amount:o.amount,contractAmount:o.contractAmount,template:o})}const i=Array.from(n.values()).map(({amount:s,contractAmount:o,template:l})=>({...l,amount:Math.round(s*100)/100,contractAmount:Math.round(o*100)/100,rate:r.turnover>0?Math.round(s/r.turnover*1e4)/100:0}));return{...r,parts:i}}function Hae(){var N,_;const e=go(),t=e.shortname??e.id,[r,n]=O.useState(null),{data:i,isLoading:s,error:o}=pe({queryKey:["merchant",t],queryFn:()=>ie.getMerchantByShortname(t),enabled:!!t}),l=i==null?void 0:i.streams,c=r??((N=l==null?void 0:l[0])==null?void 0:N.id)??null,u=!!l&&l.length>0,{data:f}=pe({queryKey:["merchant-stream",t,c],queryFn:()=>ie.getMerchantStream(t,c),enabled:!!t&&!!c&&u}),d=O.useMemo(()=>u&&f?f.months:i?i.months:[],[u,f,i]),h=O.useMemo(()=>d.length===0?null:Wae(d),[d]);if(s)return a.jsx("div",{className:"flex items-center justify-center py-20",children:a.jsx(Ee,{className:"h-8 w-8 animate-spin text-gray-400"})});if(o||!i)return a.jsxs("div",{className:"py-20 text-center",children:[a.jsx(nt,{className:"h-8 w-8 text-red-400 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-600",children:"Failed to load merchant data"}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:o==null?void 0:o.message})]});const m=!!h&&d.some(S=>S.days.length>0),x=((_=d.find(S=>S.parts.length>0))==null?void 0:_.parts)||[],g=x.reduce((S,C)=>S+C.contractRate,0),v=x.map(S=>`${S.label} ${S.contractRate}%`).join(" + "),p=d.filter(S=>S.days.length>0),y=p[p.length-1],j=p[0],w=y?`${y.days[0].date}, 2025`:"",b=j?`${j.days[j.days.length-1].date}, 2025`:"";return a.jsxs("div",{children:[a.jsxs(De,{to:"/merchant-overview-v2",className:"inline-flex items-center gap-2 text-sm text-gray-500 hover:text-gray-700 mb-4",children:[a.jsx(kr,{className:"h-4 w-4"}),"Back to Overview"]}),a.jsxs(ne,{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-amber-100 rounded-lg",children:a.jsx(Dc,{className:"h-6 w-6 text-amber-600"})}),a.jsxs("div",{children:[a.jsxs("h1",{className:"text-xl font-semibold text-gray-900",children:[i.name,"  ",i.legalName]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Merchant Rate Deviation Analysis"})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["Contract ",i.contract]}),a.jsxs("div",{className:"text-sm text-gray-500",children:["Total: ",g.toFixed(2),"% (",v,")"]})]})]}),m&&h&&a.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[a.jsx(wr,{label:"Total Turnover",value:q(h.turnover)}),a.jsx(wr,{label:"Total Commission",value:q(h.reconCommission)}),a.jsx(wr,{label:"Total Deviation",value:q(h.deviation),variant:Math.abs(h.deviation)<1?"default":h.deviation<0?"danger":"success",subValue:`reconciliation vs contract expected ${q(h.contractExpected)}`}),a.jsx(wr,{label:"Period",value:`${w}  ${b}`,subValue:"first to last transaction"})]}),a.jsx(Iae,{rateHistory:i.rateHistory,stats:i.stats})]}),a.jsx(EA,{shortname:t}),m&&h&&a.jsx(Uae,{months:d,total:h,totalContractRate:g,streams:l,selectedStream:c??void 0,onStreamChange:n}),a.jsx("div",{className:"mt-6",children:a.jsx(TA,{shortname:t,readonly:!0})})]})}function Kae(){const[e,t]=V$(),{data:r,isError:n}=pe({queryKey:["overview-config"],queryFn:ie.getOverviewConfig,retry:!1}),i=(r==null?void 0:r.thresholds)??kA,s=(r==null?void 0:r.years)??[2025],o=Number(e.get("year"))||(r==null?void 0:r.defaultYear)||s[0],l=e.get("op")||(r==null?void 0:r.defaultOperation)||"incoming",c=e.get("method")||(r==null?void 0:r.defaultPaymentMethod)||"card",{data:u,isLoading:f}=pe({queryKey:["overview-grid",o,l,c],queryFn:()=>ie.getOverviewGrid(o,l,c),enabled:!!r&&!n}),{data:d,isLoading:h}=pe({queryKey:["overview"],queryFn:ie.getOverview,enabled:n}),m=n?h:!r||f,x=(r==null?void 0:r.title)??(d==null?void 0:d.title)??"Merchants Overview",g=(r==null?void 0:r.subtitle)??(d==null?void 0:d.subtitle)??"",v=(u==null?void 0:u.merchants)??(d==null?void 0:d.merchants)??[];if(m||v.length===0&&!u&&!d)return a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(Ee,{className:"h-8 w-8 text-gray-400 animate-spin"})});const p=y=>{const j=new URLSearchParams(e);j.set("year",String(y)),t(j)};return a.jsxs("div",{children:[a.jsxs(De,{to:"/",className:"inline-flex items-center gap-2 text-sm text-gray-500 hover:text-gray-700 mb-4",children:[a.jsx(kr,{className:"h-4 w-4"}),"Back to Reports"]}),a.jsx(lne,{title:x,subtitle:g,merchants:v,selectedYear:o,yearTabs:s,onYearChange:p,thresholds:i})]})}function qae({caseNumber:e,path:t}){const[r,n]=O.useState(!1),i=()=>{const s=window.location.origin+t;navigator.clipboard.writeText(s).then(()=>{n(!0),setTimeout(()=>n(!1),2e3)})};return a.jsxs("button",{onClick:i,className:"inline-flex items-center gap-1.5 px-2 py-0.5 text-xs font-mono font-medium bg-gray-100 text-gray-600 rounded-full hover:bg-gray-200 transition-colors",title:"Copy link",children:[e,r?a.jsx(Ds,{className:"h-3 w-3 text-green-500"}):a.jsx(LS,{className:"h-3 w-3 text-gray-400"})]})}function Te(e){return new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e)}function ht(e){return e.toFixed(2)+"%"}function wf(e){return new Intl.NumberFormat("en-US").format(e)}function Vae({sources:e}){return a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(Ri,{className:"h-4 w-4 text-blue-500"}),a.jsx("span",{className:"text-sm font-semibold text-gray-900",children:"Contract"})]}),a.jsxs("div",{className:"space-y-1.5 text-xs",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Name"}),a.jsx("span",{className:"text-gray-900 font-medium",children:e.contract.name})]}),e.contract.suffix&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Amendment"}),a.jsx("span",{className:"text-gray-900 font-medium",children:e.contract.suffix})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Effective"}),a.jsx("span",{className:"text-gray-900",children:e.contract.effectiveDate})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Period"}),a.jsx("span",{className:"text-gray-900",children:e.contract.period})]}),a.jsxs("div",{className:"mt-3 pt-2 border-t border-gray-100",children:[a.jsx("div",{className:"text-xs font-medium text-gray-500 mb-1.5",children:e.contract.previousRates?"Current rates":"Rates"}),e.contract.rates.map(t=>a.jsxs("div",{className:"flex justify-between py-0.5",children:[a.jsx("span",{className:"text-gray-500 truncate mr-2",children:t.label}),a.jsxs("span",{className:"text-gray-900 whitespace-nowrap",children:[ht(t.rate)," + ",t.fixedFee.toFixed(2)]})]},t.label))]}),e.contract.previousRates&&a.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-100",children:[a.jsx("div",{className:"text-xs font-medium text-gray-400 mb-1.5",children:"Previous rates"}),e.contract.previousRates.map(t=>a.jsxs("div",{className:"flex justify-between py-0.5",children:[a.jsx("span",{className:"text-gray-400 truncate mr-2",children:t.label}),a.jsxs("span",{className:"text-gray-400 whitespace-nowrap line-through",children:[ht(t.rate)," + ",t.fixedFee.toFixed(2)]})]},t.label))]})]})]}),a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(Dy,{className:"h-4 w-4 text-green-500"}),a.jsx("span",{className:"text-sm font-semibold text-gray-900",children:"Registry"})]}),a.jsxs("div",{className:"space-y-1.5 text-xs",children:[e.registry.files.map(t=>a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"File"}),a.jsx("span",{className:"text-gray-900 font-mono text-[11px]",children:t})]},t)),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Operation"}),a.jsx("span",{className:"text-gray-900",children:e.registry.operationType})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Currency"}),a.jsx("span",{className:"text-gray-900",children:e.registry.currency})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Period"}),a.jsx("span",{className:"text-gray-900",children:e.registry.period})]}),a.jsxs("div",{className:"mt-3 pt-2 border-t border-gray-100",children:[a.jsx("div",{className:"text-xs font-medium text-gray-500 mb-1.5",children:"Columns"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:e.registry.columns.map(t=>a.jsx("span",{className:"px-1.5 py-0.5 bg-gray-100 rounded text-[10px] font-mono text-gray-600",children:t},t))})]})]})]}),a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(WT,{className:"h-4 w-4 text-purple-500"}),a.jsx("span",{className:"text-sm font-semibold text-gray-900",children:"Reconciliation"})]}),a.jsxs("div",{className:"space-y-1.5 text-xs",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"File"}),a.jsx("span",{className:"text-gray-900 font-mono text-[11px]",children:e.reconciliation.file})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Sheet"}),a.jsx("span",{className:"text-gray-900",children:e.reconciliation.sheet})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Period"}),a.jsx("span",{className:"text-gray-900",children:e.reconciliation.period})]}),a.jsxs("div",{className:"mt-3 pt-2 border-t border-gray-100",children:[a.jsx("div",{className:"text-xs font-medium text-gray-500 mb-1.5",children:"Columns"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:e.reconciliation.columns.map(t=>a.jsx("span",{className:"px-1.5 py-0.5 bg-gray-100 rounded text-[10px] font-mono text-gray-600",children:t},t))})]})]})]})]})}function Gae({dailyData:e,contractRate:t,sampleTxBefore:r,sampleTxAfter:n}){const i=e.findIndex(l=>l.isAfterChange);if(i<1)return null;const s=e[i-1],o=e[i];return a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Rate Change Point"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{className:"border border-green-200 bg-green-50/30 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(Iy,{className:"h-4 w-4 text-green-600"}),a.jsxs("span",{className:"text-sm font-semibold text-green-800",children:["Before Change  ",s.date]})]}),a.jsxs("div",{className:"space-y-2 text-xs",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Registry effective rate"}),a.jsx("span",{className:"text-gray-900 font-medium",children:ht(s.registry.effectiveRate)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Reconciliation effective rate"}),a.jsx("span",{className:"text-gray-900 font-medium",children:ht(s.reconciliation.effectiveRate)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Contract rate"}),a.jsx("span",{className:"text-gray-900 font-medium",children:ht(t)})]}),a.jsxs("div",{className:"flex justify-between pt-2 border-t border-green-200",children:[a.jsx("span",{className:"text-green-700 font-medium",children:"Status"}),a.jsx("span",{className:"text-green-700 font-semibold",children:"Match"})]})]})]}),a.jsxs("div",{className:"border border-red-200 bg-red-50/30 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(nt,{className:"h-4 w-4 text-red-600"}),a.jsxs("span",{className:"text-sm font-semibold text-red-800",children:["After Change  ",o.date]})]}),a.jsxs("div",{className:"space-y-2 text-xs",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Registry effective rate"}),a.jsx("span",{className:"text-red-700 font-medium",children:ht(o.registry.effectiveRate)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Reconciliation effective rate"}),a.jsx("span",{className:"text-red-700 font-medium",children:ht(o.reconciliation.effectiveRate)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Contract rate"}),a.jsx("span",{className:"text-gray-900 font-medium",children:ht(t)})]}),a.jsxs("div",{className:"flex justify-between pt-2 border-t border-red-200",children:[a.jsx("span",{className:"text-red-700 font-medium",children:"Status"}),a.jsx("span",{className:"text-red-700 font-semibold",children:"Mismatch  rate changed, contract not updated"})]})]})]})]}),((r==null?void 0:r.length)||(n==null?void 0:n.length))&&a.jsxs("div",{className:"mt-4",children:[a.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase mb-2",children:"Sample Transactions Around Change Point"}),a.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:a.jsxs("table",{className:"w-full text-xs",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200",children:[a.jsx("th",{className:"text-left px-3 py-2 font-medium text-gray-500",children:"Transaction"}),a.jsx("th",{className:"text-left px-3 py-2 font-medium text-gray-500",children:"Date"}),a.jsx("th",{className:"text-right px-3 py-2 font-medium text-gray-500",children:"Amount"}),a.jsx("th",{className:"text-right px-3 py-2 font-medium text-gray-500",children:"Registry"}),a.jsx("th",{className:"text-right px-3 py-2 font-medium text-gray-500",children:"Reconciliation"}),a.jsx("th",{className:"text-right px-3 py-2 font-medium text-gray-500",children:"Contract Expected"}),a.jsx("th",{className:"text-right px-3 py-2 font-medium text-gray-500",children:"Diff"})]})}),a.jsxs("tbody",{children:[r&&r.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("tr",{className:"border-b border-gray-100",children:a.jsxs("td",{colSpan:7,className:"px-3 py-1.5 bg-green-50/50 text-[10px] font-medium text-green-700 uppercase",children:["Before change (",r[0].date,")"]})}),r.map(l=>{const c=l.reconciliation.commission-l.contractExpected;return a.jsxs("tr",{className:"border-b border-gray-100",children:[a.jsx("td",{className:"px-3 py-1.5 font-mono text-gray-600",children:l.txId}),a.jsx("td",{className:"px-3 py-1.5 text-gray-600",children:l.date}),a.jsx("td",{className:"px-3 py-1.5 text-right text-gray-900",children:Te(l.amount)}),a.jsxs("td",{className:"px-3 py-1.5 text-right text-gray-900",children:[Te(l.registry.commission)," ",a.jsxs("span",{className:"text-gray-400",children:["(",ht(l.registry.rate),")"]})]}),a.jsxs("td",{className:"px-3 py-1.5 text-right text-gray-900",children:[Te(l.reconciliation.commission)," ",a.jsxs("span",{className:"text-gray-400",children:["(",ht(l.reconciliation.rate),")"]})]}),a.jsx("td",{className:"px-3 py-1.5 text-right text-gray-900",children:Te(l.contractExpected)}),a.jsx("td",{className:"px-3 py-1.5 text-right text-green-600 font-medium",children:Te(c)})]},l.txId)})]}),n&&n.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("tr",{className:"border-b border-gray-100",children:a.jsxs("td",{colSpan:7,className:"px-3 py-1.5 bg-red-50/50 text-[10px] font-medium text-red-700 uppercase",children:["After change (",n[0].date,")"]})}),n.map(l=>{const c=l.reconciliation.commission-l.contractExpected;return a.jsxs("tr",{className:"border-b border-gray-100",children:[a.jsx("td",{className:"px-3 py-1.5 font-mono text-gray-600",children:l.txId}),a.jsx("td",{className:"px-3 py-1.5 text-gray-600",children:l.date}),a.jsx("td",{className:"px-3 py-1.5 text-right text-gray-900",children:Te(l.amount)}),a.jsxs("td",{className:"px-3 py-1.5 text-right text-red-600",children:[Te(l.registry.commission)," ",a.jsxs("span",{className:"text-red-400",children:["(",ht(l.registry.rate),")"]})]}),a.jsxs("td",{className:"px-3 py-1.5 text-right text-red-600",children:[Te(l.reconciliation.commission)," ",a.jsxs("span",{className:"text-red-400",children:["(",ht(l.reconciliation.rate),")"]})]}),a.jsx("td",{className:"px-3 py-1.5 text-right text-gray-900",children:Te(l.contractExpected)}),a.jsx("td",{className:"px-3 py-1.5 text-right text-red-600 font-medium",children:Te(c)})]},l.txId)})]})]})]})})]})]})}function Xae({dailyData:e,totalDiff:t}){const r=e.filter(o=>o.hasMismatch).map(o=>o.date),n=e.reduce((o,l)=>o+l.registry.count,0),i=e.reduce((o,l)=>o+l.reconciliation.count,0),s=e.reduce((o,l)=>o+(l.missingCount||0),0);return a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Monthly Summary"}),a.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:a.jsxs("table",{className:"w-full text-xs",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200",children:[a.jsx("th",{className:"text-left px-3 py-2 font-medium text-gray-500",children:"Month"}),a.jsx("th",{className:"text-right px-3 py-2 font-medium text-gray-500",children:"Registry Count"}),a.jsx("th",{className:"text-right px-3 py-2 font-medium text-gray-500",children:"Recon Count"}),a.jsx("th",{className:"text-right px-3 py-2 font-medium text-gray-500",children:"Missing"}),a.jsx("th",{className:"text-left px-3 py-2 font-medium text-gray-500",children:"Days Affected"}),a.jsx("th",{className:"text-right px-3 py-2 font-medium text-gray-500",children:"Deviation"})]})}),a.jsx("tbody",{children:a.jsxs("tr",{className:"border-b border-gray-100",children:[a.jsx("td",{className:"px-3 py-2 font-medium text-gray-900",children:"March 2025"}),a.jsx("td",{className:"text-right px-3 py-2 text-gray-700",children:wf(n)}),a.jsx("td",{className:"text-right px-3 py-2 text-gray-700",children:wf(i)}),a.jsx("td",{className:"text-right px-3 py-2 text-red-600 font-semibold",children:s}),a.jsx("td",{className:"px-3 py-2",children:r.map(o=>a.jsx("span",{className:"inline-block mr-1.5 px-1.5 py-0.5 bg-red-100 text-red-700 rounded text-[10px] font-medium",children:o},o))}),a.jsx("td",{className:"text-right px-3 py-2 text-red-600 font-semibold",children:q(t)})]})})]})})]})}function Qae({dailyData:e,type:t,valueColumns:r=["amount"]}){const[n,i]=O.useState(!0),s=r.includes("amount"),o=r.includes("commission"),l=1+(s?1:0)+(o?1:0)+1,c=O.useMemo(()=>e.reduce((u,f)=>({regCount:u.regCount+f.registry.count,regAmount:u.regAmount+f.registry.amount,regCommission:u.regCommission+f.registry.commission,reconCount:u.reconCount+f.reconciliation.count,reconAmount:u.reconAmount+f.reconciliation.amount,reconCommission:u.reconCommission+f.reconciliation.commission,contractExpected:u.contractExpected+f.contractExpected,diff:u.diff+f.diff}),{regCount:0,regAmount:0,regCommission:0,reconCount:0,reconAmount:0,reconCommission:0,contractExpected:0,diff:0}),[e]);return a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Day-by-Day Comparison"}),a.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:a.jsxs("table",{className:"w-full text-xs",children:[a.jsxs("thead",{children:[a.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200",children:[a.jsx("th",{className:"text-left px-3 py-2 font-medium text-gray-500 w-[80px]",children:"Day"}),a.jsx("th",{colSpan:l,className:"text-center px-3 py-2 font-medium text-gray-500 border-l border-gray-200",children:"Registry"}),a.jsx("th",{colSpan:l,className:"text-center px-3 py-2 font-medium text-gray-500 border-l border-gray-200",children:"Reconciliation"}),a.jsx("th",{className:"text-right px-3 py-2 font-medium text-gray-500 border-l border-gray-200",children:"Contract Exp."}),a.jsx("th",{className:"text-right px-3 py-2 font-medium text-gray-500 border-l border-gray-200",children:"Diff"})]}),a.jsxs("tr",{className:"bg-gray-50/50 border-b border-gray-200",children:[a.jsx("th",{className:"px-3 py-1"}),a.jsx("th",{className:"text-right px-3 py-1 text-[10px] font-normal text-gray-400 border-l border-gray-200",children:"Count"}),s&&a.jsx("th",{className:"text-right px-3 py-1 text-[10px] font-normal text-gray-400",children:"Amount"}),o&&a.jsx("th",{className:"text-right px-3 py-1 text-[10px] font-normal text-gray-400",children:"Commission"}),a.jsx("th",{className:"text-right px-3 py-1 text-[10px] font-normal text-gray-400",children:"Eff. Rate"}),a.jsx("th",{className:"text-right px-3 py-1 text-[10px] font-normal text-gray-400 border-l border-gray-200",children:"Count"}),s&&a.jsx("th",{className:"text-right px-3 py-1 text-[10px] font-normal text-gray-400",children:"Amount"}),o&&a.jsx("th",{className:"text-right px-3 py-1 text-[10px] font-normal text-gray-400",children:"Commission"}),a.jsx("th",{className:"text-right px-3 py-1 text-[10px] font-normal text-gray-400",children:"Eff. Rate"}),a.jsx("th",{className:"px-3 py-1 border-l border-gray-200"}),a.jsx("th",{className:"px-3 py-1 border-l border-gray-200"})]})]}),a.jsxs("tbody",{children:[a.jsxs("tr",{className:"bg-gray-100 border-b border-gray-300 font-semibold cursor-pointer hover:bg-gray-200/50 transition-colors",onClick:()=>i(!n),children:[a.jsxs("td",{className:"px-3 py-2 text-gray-900 flex items-center gap-1",children:[n?a.jsx(Ge,{className:"h-3 w-3"}):a.jsx(Qr,{className:"h-3 w-3"}),"Total"]}),a.jsx("td",{className:"text-right px-3 py-2 text-gray-900 font-mono border-l border-gray-200",children:wf(c.regCount)}),s&&a.jsx("td",{className:"text-right px-3 py-2 text-gray-900 font-mono",children:Te(c.regAmount)}),o&&a.jsx("td",{className:"text-right px-3 py-2 text-gray-900 font-mono",children:Te(c.regCommission)}),a.jsx("td",{className:"text-right px-3 py-2 text-gray-500",children:""}),a.jsx("td",{className:G("text-right px-3 py-2 font-mono border-l border-gray-200",t==="missing-transactions"?"text-red-600":"text-gray-900"),children:wf(c.reconCount)}),s&&a.jsx("td",{className:"text-right px-3 py-2 text-gray-900 font-mono",children:Te(c.reconAmount)}),o&&a.jsx("td",{className:"text-right px-3 py-2 text-gray-900 font-mono",children:Te(c.reconCommission)}),a.jsx("td",{className:"text-right px-3 py-2 text-gray-500",children:""}),a.jsx("td",{className:"text-right px-3 py-2 text-gray-900 font-mono border-l border-gray-200",children:Te(c.contractExpected)}),a.jsx("td",{className:G("text-right px-3 py-2 font-mono border-l border-gray-200",c.diff<0?"text-red-600":"text-gray-900"),children:q(c.diff)})]}),n&&e.map((u,f)=>{const d=t==="rate-change"&&u.isAfterChange&&(f===0||!e[f-1].isAfterChange);return t==="rate-change"?a.jsxs("tr",{className:G("border-b border-gray-100 transition-colors",d&&"bg-amber-50/50 border-t-2 border-t-amber-400",u.isAfterChange&&!d&&"bg-red-50/20"),children:[a.jsxs("td",{className:"px-3 py-1.5 text-gray-600 pl-7",children:[u.date,d&&a.jsx("span",{className:"ml-1 text-[9px] text-amber-600 font-semibold",children:"CHANGE"})]}),a.jsx("td",{className:"text-right px-3 py-1.5 text-gray-700 font-mono border-l border-gray-100",children:u.registry.count}),s&&a.jsx("td",{className:"text-right px-3 py-1.5 text-gray-700 font-mono",children:Te(u.registry.amount)}),o&&a.jsx("td",{className:"text-right px-3 py-1.5 text-gray-700 font-mono",children:Te(u.registry.commission)}),a.jsx("td",{className:G("text-right px-3 py-1.5 font-mono",u.isAfterChange?"text-red-600 font-medium":"text-gray-700"),children:ht(u.registry.effectiveRate)}),a.jsx("td",{className:"text-right px-3 py-1.5 text-gray-700 font-mono border-l border-gray-100",children:u.reconciliation.count}),s&&a.jsx("td",{className:"text-right px-3 py-1.5 text-gray-700 font-mono",children:Te(u.reconciliation.amount)}),o&&a.jsx("td",{className:"text-right px-3 py-1.5 text-gray-700 font-mono",children:Te(u.reconciliation.commission)}),a.jsx("td",{className:G("text-right px-3 py-1.5 font-mono",u.isAfterChange?"text-red-600 font-medium":"text-gray-700"),children:ht(u.reconciliation.effectiveRate)}),a.jsx("td",{className:"text-right px-3 py-1.5 text-gray-700 font-mono border-l border-gray-100",children:Te(u.contractExpected)}),a.jsx("td",{className:G("text-right px-3 py-1.5 font-mono border-l border-gray-100",u.diff<-.5?"text-red-600 font-medium":"text-gray-400"),children:Math.abs(u.diff)<.5?"0.00":q(u.diff)})]},u.date):a.jsxs("tr",{className:G("border-b border-gray-100 transition-colors",u.hasMismatch&&"bg-red-50/50 border-l-2 border-l-red-400"),children:[a.jsxs("td",{className:"px-3 py-1.5 text-gray-600 pl-7",children:[u.date,u.hasMismatch&&a.jsxs("span",{className:"ml-1 text-[9px] text-red-600 font-semibold",children:["-",u.missingCount]})]}),a.jsx("td",{className:"text-right px-3 py-1.5 text-gray-700 font-mono border-l border-gray-100",children:u.registry.count}),s&&a.jsx("td",{className:"text-right px-3 py-1.5 text-gray-700 font-mono",children:Te(u.registry.amount)}),o&&a.jsx("td",{className:"text-right px-3 py-1.5 text-gray-700 font-mono",children:Te(u.registry.commission)}),a.jsx("td",{className:"text-right px-3 py-1.5 text-gray-700 font-mono",children:ht(u.registry.effectiveRate)}),a.jsx("td",{className:G("text-right px-3 py-1.5 font-mono border-l border-gray-100",u.hasMismatch?"text-red-600 font-medium":"text-gray-700"),children:u.reconciliation.count}),s&&a.jsx("td",{className:"text-right px-3 py-1.5 text-gray-700 font-mono",children:Te(u.reconciliation.amount)}),o&&a.jsx("td",{className:"text-right px-3 py-1.5 text-gray-700 font-mono",children:Te(u.reconciliation.commission)}),a.jsx("td",{className:"text-right px-3 py-1.5 text-gray-700 font-mono",children:ht(u.reconciliation.effectiveRate)}),a.jsx("td",{className:"text-right px-3 py-1.5 text-gray-700 font-mono border-l border-gray-100",children:Te(u.contractExpected)}),a.jsx("td",{className:G("text-right px-3 py-1.5 font-mono border-l border-gray-100",u.hasMismatch?"text-red-600 font-medium":"text-gray-400"),children:u.hasMismatch?q(u.diff):"0.00"})]},u.date)})]})]})})]})}function Yae({missingTransactions:e}){return a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Missing Transactions"}),a.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"Transactions present in registry but absent in reconciliation settlement."}),a.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:a.jsxs("table",{className:"w-full text-xs",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200",children:[a.jsx("th",{className:"text-left px-3 py-2 font-medium text-gray-500",children:"Transaction ID"}),a.jsx("th",{className:"text-left px-3 py-2 font-medium text-gray-500",children:"Date"}),a.jsx("th",{className:"text-right px-3 py-2 font-medium text-gray-500",children:"Amount"}),a.jsx("th",{className:"text-right px-3 py-2 font-medium text-gray-500",children:"Rate"}),a.jsx("th",{className:"text-right px-3 py-2 font-medium text-gray-500",children:"Commission"}),a.jsx("th",{className:"text-left px-3 py-2 font-medium text-gray-500",children:"Present In"}),a.jsx("th",{className:"text-left px-3 py-2 font-medium text-gray-500",children:"Missing From"})]})}),a.jsx("tbody",{children:e.map(t=>a.jsxs("tr",{className:"border-b border-gray-100 bg-red-50/30",children:[a.jsx("td",{className:"px-3 py-2 font-mono text-gray-700",children:t.txId}),a.jsx("td",{className:"px-3 py-2 text-gray-700",children:t.date}),a.jsx("td",{className:"text-right px-3 py-2 text-gray-900",children:Te(t.amount)}),a.jsx("td",{className:"text-right px-3 py-2 text-gray-700",children:ht(t.rate)}),a.jsx("td",{className:"text-right px-3 py-2 text-red-600 font-medium",children:Te(t.commission)}),a.jsx("td",{className:"px-3 py-2",children:a.jsx("span",{className:"px-1.5 py-0.5 bg-green-100 text-green-700 rounded text-[10px] font-medium",children:"Registry"})}),a.jsx("td",{className:"px-3 py-2",children:a.jsx("span",{className:"px-1.5 py-0.5 bg-red-100 text-red-700 rounded text-[10px] font-medium",children:"Reconciliation"})})]},t.txId))}),a.jsx("tfoot",{children:a.jsxs("tr",{className:"bg-gray-50 border-t border-gray-200 font-semibold",children:[a.jsxs("td",{className:"px-3 py-2 text-gray-900",colSpan:2,children:["Total (",e.length," transactions)"]}),a.jsx("td",{className:"text-right px-3 py-2 text-gray-900",children:Te(e.reduce((t,r)=>t+r.amount,0))}),a.jsx("td",{className:"px-3 py-2"}),a.jsx("td",{className:"text-right px-3 py-2 text-red-600",children:Te(e.reduce((t,r)=>t+r.commission,0))}),a.jsx("td",{colSpan:2})]})})]})})]})}function Zae({notes:e}){const t={info:a.jsx(zS,{className:"h-4 w-4 text-blue-500 mt-0.5 shrink-0"}),warning:a.jsx(nt,{className:"h-4 w-4 text-amber-500 mt-0.5 shrink-0"}),error:a.jsx(nt,{className:"h-4 w-4 text-red-500 mt-0.5 shrink-0"})},r={info:"bg-blue-50 border-blue-200",warning:"bg-amber-50 border-amber-200",error:"bg-red-50 border-red-200"};return a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Analysis Notes"}),a.jsx("div",{className:"space-y-2",children:e.map((n,i)=>a.jsxs("div",{className:G("flex gap-2 p-3 rounded-lg border text-xs",r[n.type]),children:[t[n.type],a.jsx("span",{className:"text-gray-700",children:n.text})]},i))})]})}function Jae(){const{id:e}=go(),{data:t,isLoading:r,error:n}=pe({queryKey:["case",e],queryFn:()=>ie.getCase(e),enabled:!!e});if(r)return a.jsx("div",{className:"flex items-center justify-center py-20",children:a.jsx(Ee,{className:"h-8 w-8 animate-spin text-gray-400"})});if(n||!t)return a.jsxs("div",{className:"py-20 text-center",children:[a.jsx(nt,{className:"h-8 w-8 text-red-400 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-600",children:"Failed to load investigation case"}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:n==null?void 0:n.message})]});const i=t.type==="rate-change",s=t.type==="missing-transactions",o=t.dailyData.reduce((l,c)=>l+c.diff,0);return a.jsxs("div",{children:[a.jsxs(De,{to:"/merchant-overview-v2",className:"inline-flex items-center gap-2 text-sm text-gray-500 hover:text-gray-700 mb-4",children:[a.jsx(kr,{className:"h-4 w-4"}),"Back to Overview"]}),a.jsxs(ne,{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[a.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:i?"Rate Change Investigation":"Missing Transactions Investigation"}),a.jsx("span",{className:G("px-2 py-0.5 text-xs font-medium rounded-full",i?"bg-red-100 text-red-700":"bg-amber-100 text-amber-700"),children:i?"Rate Mismatch":"Missing Transactions"}),a.jsx(qae,{caseNumber:t.caseNumber,path:`/investigate/${t.caseNumber}`})]}),a.jsxs("p",{className:"text-sm text-gray-500",children:[t.merchant.name," (",t.merchant.legalName,")  ",t.partLabel,"  ",t.merchant.contract]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-2xl font-semibold text-red-600",children:q(t.deviation)}),a.jsxs("div",{className:"text-xs text-gray-500",children:[t.period.from,"  ",t.period.to]})]})]}),a.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[i&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Contract rate: "}),a.jsx("span",{className:"font-medium text-gray-900",children:ht(t.contractRate)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Actual rate: "}),a.jsx("span",{className:"font-medium text-red-600",children:ht(t.actualRate)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Change date: "}),a.jsx("span",{className:"font-medium text-amber-600",children:t.changeDate})]})]}),s&&t.missingTransactions&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Missing transactions: "}),a.jsx("span",{className:"font-medium text-red-600",children:t.missingTransactions.length})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Unsettled amount: "}),a.jsx("span",{className:"font-medium text-gray-900",children:q(t.missingTransactions.reduce((l,c)=>l+c.amount,0))})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Affected days: "}),a.jsx("span",{className:"font-medium text-amber-600",children:t.dailyData.filter(l=>l.hasMismatch).map(l=>l.date).join(", ")})]})]})]})]}),a.jsxs(ne,{className:"mb-6",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("h2",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Summary"}),a.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:t.summary})]}),a.jsx(Zae,{notes:t.notes})]}),a.jsxs(ne,{className:"mb-6",children:[a.jsx("h2",{className:"text-sm font-semibold text-gray-900 mb-4",children:"Sources Used"}),a.jsx(Vae,{sources:t.sources})]}),i&&a.jsx(ne,{className:"mb-6",children:a.jsx(Gae,{dailyData:t.dailyData,contractRate:t.contractRate,sampleTxBefore:t.sampleTxBefore,sampleTxAfter:t.sampleTxAfter})}),s&&t.missingTransactions&&a.jsx(ne,{className:"mb-6",children:a.jsx(Xae,{dailyData:t.dailyData,totalDiff:o})}),a.jsx(ne,{className:"mb-6",children:a.jsx(Qae,{dailyData:t.dailyData,type:t.type,valueColumns:t.valueColumns})}),s&&t.missingTransactions&&a.jsx(ne,{className:"mb-6",children:a.jsx(Yae,{missingTransactions:t.missingTransactions})})]})}function eie({c:e}){const t={"rate-change":{badge:"Rate Change",badgeClass:"bg-red-100 text-red-700",icon:a.jsx(Dc,{className:"h-4 w-4 text-red-500"})},"missing-transactions":{badge:"Missing Transactions",badgeClass:"bg-amber-100 text-amber-700",icon:a.jsx(qS,{className:"h-4 w-4 text-amber-500"})}}[e.type]||{badge:e.type,badgeClass:"bg-gray-100 text-gray-700",icon:a.jsx(nt,{className:"h-4 w-4 text-gray-500"})},r={open:{label:"Open",className:"bg-blue-100 text-blue-700"},resolved:{label:"Resolved",className:"bg-green-100 text-green-700"},closed:{label:"Closed",className:"bg-gray-100 text-gray-600"}}[e.status]||{label:e.status,className:"bg-gray-100 text-gray-600"};return a.jsxs(De,{to:`/investigate/${e.id}`,className:"block border border-gray-200 rounded-lg p-4 hover:border-gray-300 hover:shadow-sm transition-all group",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[t.icon,a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-mono text-sm text-gray-500",children:e.id}),a.jsx("span",{className:G("px-1.5 py-0.5 text-[10px] font-medium rounded-full",t.badgeClass),children:t.badge}),a.jsx("span",{className:G("px-1.5 py-0.5 text-[10px] font-medium rounded-full",r.className),children:r.label})]}),a.jsx("h3",{className:"text-sm font-semibold text-gray-900 mt-0.5",children:e.title})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:G("text-lg font-semibold",e.deviation<0?"text-red-600":"text-green-600"),children:q(e.deviation)}),a.jsx(Ry,{className:"h-4 w-4 text-gray-300 group-hover:text-gray-500 transition-colors ml-auto mt-1"})]})]}),a.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 mb-2",children:[a.jsxs("span",{children:["Merchant: ",a.jsx("span",{className:"text-gray-700 font-medium",children:e.merchant})]}),a.jsxs("span",{children:["Part: ",a.jsx("span",{className:"text-gray-700 font-medium",children:e.partLabel})]}),a.jsxs("span",{children:["Period: ",a.jsx("span",{className:"text-gray-700",children:e.period})]})]}),a.jsx("p",{className:"text-xs text-gray-500 leading-relaxed line-clamp-2",children:e.summary})]})}function tie(){const{data:e,isLoading:t,error:r}=pe({queryKey:["cases"],queryFn:ie.getCases});if(t)return a.jsx("div",{className:"flex items-center justify-center py-20",children:a.jsx(Ee,{className:"h-8 w-8 animate-spin text-gray-400"})});if(r||!e)return a.jsxs("div",{className:"py-20 text-center",children:[a.jsx(nt,{className:"h-8 w-8 text-red-400 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-600",children:"Failed to load cases"})]});const n=e.cases,i=n.reduce((s,o)=>s+o.deviation,0);return a.jsxs("div",{children:[a.jsx(ne,{className:"mb-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Investigation Cases"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"All open deviation cases across merchants"})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-sm text-gray-500",children:[n.length," cases"]}),a.jsx("div",{className:G("text-xl font-semibold",i<0?"text-red-600":"text-green-600"),children:q(i)}),a.jsx("div",{className:"text-xs text-gray-400",children:"total deviation"})]})]})}),a.jsx("div",{className:"space-y-3",children:n.map(s=>a.jsx(eie,{c:s},s.id))}),n.length===0&&a.jsx("div",{className:"py-12 text-center text-gray-400",children:"No investigation cases found"})]})}function rie(){const{id:e}=go();return e&&/^\d+$/.test(e)?a.jsx(Ene,{}):a.jsx(Hae,{})}function nie(){return a.jsx(TM,{children:a.jsxs(R$,{children:[a.jsx(vt,{path:"/",element:a.jsx(RM,{})}),a.jsx(vt,{path:"/reports/underpayment",element:a.jsx(uae,{})}),a.jsx(vt,{path:"/reports/contract-mismatch",element:a.jsx(fae,{})}),a.jsx(vt,{path:"/reports/anomalies",element:a.jsx(xae,{})}),a.jsx(vt,{path:"/reports/reconciliation-deviation",element:a.jsx(bae,{})}),a.jsx(vt,{path:"/reports/commission-mismatch",element:a.jsx(Cae,{})}),a.jsx(vt,{path:"/reports/merchants-overview",element:a.jsx(Rae,{})}),a.jsx(vt,{path:"/merchant-overview-v2",element:a.jsx(Kae,{})}),a.jsx(vt,{path:"/merchant/:id",element:a.jsx(rie,{})}),a.jsx(vt,{path:"/investigate/:id",element:a.jsx(Jae,{})}),a.jsx(vt,{path:"/cases",element:a.jsx(tie,{})}),a.jsx(vt,{path:"/transactions",element:a.jsx(cne,{})}),a.jsx(vt,{path:"/transaction/:id",element:a.jsx(une,{})}),a.jsx(vt,{path:"/merchants",element:a.jsx(fne,{})}),a.jsx(vt,{path:"/rateplan/:merchantId/:planKey",element:a.jsx(Dne,{})}),a.jsx(vt,{path:"/experiments",element:a.jsx(lae,{})}),a.jsx(vt,{path:"/settings",element:a.jsx(rae,{})})]})})}const aie=new kE({defaultOptions:{queries:{staleTime:5*60*1e3,retry:1}}});Hf.getState().checkConnection();Vm.createRoot(document.getElementById("root")).render(a.jsx(R.StrictMode,{children:a.jsx(EE,{client:aie,children:a.jsx(W$,{children:a.jsx(nie,{})})})}));
