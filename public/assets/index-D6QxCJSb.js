var Z0=e=>{throw TypeError(e)};var Rh=(e,t,r)=>t.has(e)||Z0("Cannot "+r);var $=(e,t,r)=>(Rh(e,t,"read from private field"),r?r.call(e):t.get(e)),ie=(e,t,r)=>t.has(e)?Z0("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ee=(e,t,r,n)=>(Rh(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),ge=(e,t,r)=>(Rh(e,t,"access private method"),r);var Gc=(e,t,r,n)=>({set _(i){ee(e,t,i,r)},get _(){return $(e,t,n)}});function $A(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Xc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function De(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var qN={exports:{}},Nf={},GN={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ac=Symbol.for("react.element"),TA=Symbol.for("react.portal"),MA=Symbol.for("react.fragment"),RA=Symbol.for("react.strict_mode"),IA=Symbol.for("react.profiler"),DA=Symbol.for("react.provider"),LA=Symbol.for("react.context"),FA=Symbol.for("react.forward_ref"),BA=Symbol.for("react.suspense"),zA=Symbol.for("react.memo"),UA=Symbol.for("react.lazy"),J0=Symbol.iterator;function WA(e){return e===null||typeof e!="object"?null:(e=J0&&e[J0]||e["@@iterator"],typeof e=="function"?e:null)}var XN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},QN=Object.assign,YN={};function uo(e,t,r){this.props=e,this.context=t,this.refs=YN,this.updater=r||XN}uo.prototype.isReactComponent={};uo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};uo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ZN(){}ZN.prototype=uo.prototype;function $g(e,t,r){this.props=e,this.context=t,this.refs=YN,this.updater=r||XN}var Tg=$g.prototype=new ZN;Tg.constructor=$g;QN(Tg,uo.prototype);Tg.isPureReactComponent=!0;var ev=Array.isArray,JN=Object.prototype.hasOwnProperty,Mg={current:null},e2={key:!0,ref:!0,__self:!0,__source:!0};function t2(e,t,r){var n,i={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)JN.call(t,n)&&!e2.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:Ac,type:e,key:s,ref:o,props:i,_owner:Mg.current}}function HA(e,t){return{$$typeof:Ac,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Rg(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ac}function KA(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var tv=/\/+/g;function Ih(e,t){return typeof e=="object"&&e!==null&&e.key!=null?KA(""+e.key):t.toString(36)}function Eu(e,t,r,n,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ac:case TA:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+Ih(o,0):n,ev(i)?(r="",e!=null&&(r=e.replace(tv,"$&/")+"/"),Eu(i,t,r,"",function(u){return u})):i!=null&&(Rg(i)&&(i=HA(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(tv,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",ev(e))for(var l=0;l<e.length;l++){s=e[l];var c=n+Ih(s,l);o+=Eu(s,t,r,c,i)}else if(c=WA(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=n+Ih(s,l++),o+=Eu(s,t,r,c,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Qc(e,t,r){if(e==null)return e;var n=[],i=0;return Eu(e,n,"","",function(s){return t.call(r,s,i++)}),n}function VA(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ht={current:null},$u={transition:null},qA={ReactCurrentDispatcher:Ht,ReactCurrentBatchConfig:$u,ReactCurrentOwner:Mg};function r2(){throw Error("act(...) is not supported in production builds of React.")}we.Children={map:Qc,forEach:function(e,t,r){Qc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Qc(e,function(){t++}),t},toArray:function(e){return Qc(e,function(t){return t})||[]},only:function(e){if(!Rg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};we.Component=uo;we.Fragment=MA;we.Profiler=IA;we.PureComponent=$g;we.StrictMode=RA;we.Suspense=BA;we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qA;we.act=r2;we.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=QN({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Mg.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)JN.call(t,c)&&!e2.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Ac,type:e.type,key:i,ref:s,props:n,_owner:o}};we.createContext=function(e){return e={$$typeof:LA,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:DA,_context:e},e.Consumer=e};we.createElement=t2;we.createFactory=function(e){var t=t2.bind(null,e);return t.type=e,t};we.createRef=function(){return{current:null}};we.forwardRef=function(e){return{$$typeof:FA,render:e}};we.isValidElement=Rg;we.lazy=function(e){return{$$typeof:UA,_payload:{_status:-1,_result:e},_init:VA}};we.memo=function(e,t){return{$$typeof:zA,type:e,compare:t===void 0?null:t}};we.startTransition=function(e){var t=$u.transition;$u.transition={};try{e()}finally{$u.transition=t}};we.unstable_act=r2;we.useCallback=function(e,t){return Ht.current.useCallback(e,t)};we.useContext=function(e){return Ht.current.useContext(e)};we.useDebugValue=function(){};we.useDeferredValue=function(e){return Ht.current.useDeferredValue(e)};we.useEffect=function(e,t){return Ht.current.useEffect(e,t)};we.useId=function(){return Ht.current.useId()};we.useImperativeHandle=function(e,t,r){return Ht.current.useImperativeHandle(e,t,r)};we.useInsertionEffect=function(e,t){return Ht.current.useInsertionEffect(e,t)};we.useLayoutEffect=function(e,t){return Ht.current.useLayoutEffect(e,t)};we.useMemo=function(e,t){return Ht.current.useMemo(e,t)};we.useReducer=function(e,t,r){return Ht.current.useReducer(e,t,r)};we.useRef=function(e){return Ht.current.useRef(e)};we.useState=function(e){return Ht.current.useState(e)};we.useSyncExternalStore=function(e,t,r){return Ht.current.useSyncExternalStore(e,t,r)};we.useTransition=function(){return Ht.current.useTransition()};we.version="18.3.1";GN.exports=we;var O=GN.exports;const R=De(O),GA=$A({__proto__:null,default:R},[O]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XA=O,QA=Symbol.for("react.element"),YA=Symbol.for("react.fragment"),ZA=Object.prototype.hasOwnProperty,JA=XA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,e5={key:!0,ref:!0,__self:!0,__source:!0};function n2(e,t,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)ZA.call(t,n)&&!e5.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:QA,type:e,key:s,ref:o,props:i,_owner:JA.current}}Nf.Fragment=YA;Nf.jsx=n2;Nf.jsxs=n2;qN.exports=Nf;var a=qN.exports,qm={},a2={exports:{}},fr={},i2={exports:{}},s2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,B){var k=M.length;M.push(B);e:for(;0<k;){var I=k-1>>>1,L=M[I];if(0<i(L,B))M[I]=B,M[k]=L,k=I;else break e}}function r(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var B=M[0],k=M.pop();if(k!==B){M[0]=k;e:for(var I=0,L=M.length,q=L>>>1;I<q;){var Y=2*(I+1)-1,le=M[Y],me=Y+1,oe=M[me];if(0>i(le,k))me<L&&0>i(oe,le)?(M[I]=oe,M[me]=k,I=me):(M[I]=le,M[Y]=k,I=Y);else if(me<L&&0>i(oe,k))M[I]=oe,M[me]=k,I=me;else break e}}return B}function i(M,B){var k=M.sortIndex-B.sortIndex;return k!==0?k:M.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,y=!1,x=!1,v=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(M){for(var B=r(u);B!==null;){if(B.callback===null)n(u);else if(B.startTime<=M)n(u),B.sortIndex=B.expirationTime,t(c,B);else break;B=r(u)}}function w(M){if(x=!1,b(M),!y)if(r(c)!==null)y=!0,T(j);else{var B=r(u);B!==null&&z(w,B.startTime-M)}}function j(M,B){y=!1,x&&(x=!1,p(S),S=-1),m=!0;var k=h;try{for(b(B),f=r(c);f!==null&&(!(f.expirationTime>B)||M&&!A());){var I=f.callback;if(typeof I=="function"){f.callback=null,h=f.priorityLevel;var L=I(f.expirationTime<=B);B=e.unstable_now(),typeof L=="function"?f.callback=L:f===r(c)&&n(c),b(B)}else n(c);f=r(c)}if(f!==null)var q=!0;else{var Y=r(u);Y!==null&&z(w,Y.startTime-B),q=!1}return q}finally{f=null,h=k,m=!1}}var N=!1,_=null,S=-1,C=5,P=-1;function A(){return!(e.unstable_now()-P<C)}function E(){if(_!==null){var M=e.unstable_now();P=M;var B=!0;try{B=_(!0,M)}finally{B?W():(N=!1,_=null)}}else N=!1}var W;if(typeof g=="function")W=function(){g(E)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,F=D.port2;D.port1.onmessage=E,W=function(){F.postMessage(null)}}else W=function(){v(E,0)};function T(M){_=M,N||(N=!0,W())}function z(M,B){S=v(function(){M(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){y||m||(y=!0,T(j))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(M){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var k=h;h=B;try{return M()}finally{h=k}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,B){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var k=h;h=M;try{return B()}finally{h=k}},e.unstable_scheduleCallback=function(M,B,k){var I=e.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?I+k:I):k=I,M){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=k+L,M={id:d++,callback:B,priorityLevel:M,startTime:k,expirationTime:L,sortIndex:-1},k>I?(M.sortIndex=k,t(u,M),r(c)===null&&M===r(u)&&(x?(p(S),S=-1):x=!0,z(w,k-I))):(M.sortIndex=L,t(c,M),y||m||(y=!0,T(j))),M},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(M){var B=h;return function(){var k=h;h=B;try{return M.apply(this,arguments)}finally{h=k}}}})(s2);i2.exports=s2;var t5=i2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r5=O,ur=t5;function X(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o2=new Set,jl={};function $i(e,t){ks(e,t),ks(e+"Capture",t)}function ks(e,t){for(jl[e]=t,e=0;e<t.length;e++)o2.add(t[e])}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gm=Object.prototype.hasOwnProperty,n5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rv={},nv={};function a5(e){return Gm.call(nv,e)?!0:Gm.call(rv,e)?!1:n5.test(e)?nv[e]=!0:(rv[e]=!0,!1)}function i5(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function s5(e,t,r,n){if(t===null||typeof t>"u"||i5(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Kt(e,t,r,n,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var At={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){At[e]=new Kt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];At[t]=new Kt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){At[e]=new Kt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){At[e]=new Kt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){At[e]=new Kt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){At[e]=new Kt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){At[e]=new Kt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){At[e]=new Kt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){At[e]=new Kt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ig=/[\-:]([a-z])/g;function Dg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ig,Dg);At[t]=new Kt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ig,Dg);At[t]=new Kt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ig,Dg);At[t]=new Kt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){At[e]=new Kt(e,1,!1,e.toLowerCase(),null,!1,!1)});At.xlinkHref=new Kt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){At[e]=new Kt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Lg(e,t,r,n){var i=At.hasOwnProperty(t)?At[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(s5(t,r,i,n)&&(r=null),n||i===null?a5(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Kn=r5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yc=Symbol.for("react.element"),Vi=Symbol.for("react.portal"),qi=Symbol.for("react.fragment"),Fg=Symbol.for("react.strict_mode"),Xm=Symbol.for("react.profiler"),l2=Symbol.for("react.provider"),c2=Symbol.for("react.context"),Bg=Symbol.for("react.forward_ref"),Qm=Symbol.for("react.suspense"),Ym=Symbol.for("react.suspense_list"),zg=Symbol.for("react.memo"),Jn=Symbol.for("react.lazy"),u2=Symbol.for("react.offscreen"),av=Symbol.iterator;function $o(e){return e===null||typeof e!="object"?null:(e=av&&e[av]||e["@@iterator"],typeof e=="function"?e:null)}var Je=Object.assign,Dh;function el(e){if(Dh===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Dh=t&&t[1]||""}return`
`+Dh+e}var Lh=!1;function Fh(e,t){if(!e||Lh)return"";Lh=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Lh=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?el(e):""}function o5(e){switch(e.tag){case 5:return el(e.type);case 16:return el("Lazy");case 13:return el("Suspense");case 19:return el("SuspenseList");case 0:case 2:case 15:return e=Fh(e.type,!1),e;case 11:return e=Fh(e.type.render,!1),e;case 1:return e=Fh(e.type,!0),e;default:return""}}function Zm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case qi:return"Fragment";case Vi:return"Portal";case Xm:return"Profiler";case Fg:return"StrictMode";case Qm:return"Suspense";case Ym:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case c2:return(e.displayName||"Context")+".Consumer";case l2:return(e._context.displayName||"Context")+".Provider";case Bg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case zg:return t=e.displayName||null,t!==null?t:Zm(e.type)||"Memo";case Jn:t=e._payload,e=e._init;try{return Zm(e(t))}catch{}}return null}function l5(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zm(t);case 8:return t===Fg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ea(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function d2(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function c5(e){var t=d2(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Zc(e){e._valueTracker||(e._valueTracker=c5(e))}function f2(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=d2(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Hu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Jm(e,t){var r=t.checked;return Je({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function iv(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ea(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function h2(e,t){t=t.checked,t!=null&&Lg(e,"checked",t,!1)}function ep(e,t){h2(e,t);var r=Ea(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?tp(e,t.type,r):t.hasOwnProperty("defaultValue")&&tp(e,t.type,Ea(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function sv(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function tp(e,t,r){(t!=="number"||Hu(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var tl=Array.isArray;function os(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ea(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function rp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(X(91));return Je({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ov(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(X(92));if(tl(r)){if(1<r.length)throw Error(X(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ea(r)}}function m2(e,t){var r=Ea(t.value),n=Ea(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function lv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function p2(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function np(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?p2(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Jc,x2=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Jc=Jc||document.createElement("div"),Jc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Jc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function wl(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ol={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},u5=["Webkit","ms","Moz","O"];Object.keys(ol).forEach(function(e){u5.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ol[t]=ol[e]})});function g2(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ol.hasOwnProperty(e)&&ol[e]?(""+t).trim():t+"px"}function y2(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=g2(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var d5=Je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ap(e,t){if(t){if(d5[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(X(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(X(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(X(61))}if(t.style!=null&&typeof t.style!="object")throw Error(X(62))}}function ip(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sp=null;function Ug(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var op=null,ls=null,cs=null;function cv(e){if(e=$c(e)){if(typeof op!="function")throw Error(X(280));var t=e.stateNode;t&&(t=Pf(t),op(e.stateNode,e.type,t))}}function v2(e){ls?cs?cs.push(e):cs=[e]:ls=e}function b2(){if(ls){var e=ls,t=cs;if(cs=ls=null,cv(e),t)for(e=0;e<t.length;e++)cv(t[e])}}function j2(e,t){return e(t)}function w2(){}var Bh=!1;function N2(e,t,r){if(Bh)return e(t,r);Bh=!0;try{return j2(e,t,r)}finally{Bh=!1,(ls!==null||cs!==null)&&(w2(),b2())}}function Nl(e,t){var r=e.stateNode;if(r===null)return null;var n=Pf(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(X(231,t,typeof r));return r}var lp=!1;if(Dn)try{var To={};Object.defineProperty(To,"passive",{get:function(){lp=!0}}),window.addEventListener("test",To,To),window.removeEventListener("test",To,To)}catch{lp=!1}function f5(e,t,r,n,i,s,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var ll=!1,Ku=null,Vu=!1,cp=null,h5={onError:function(e){ll=!0,Ku=e}};function m5(e,t,r,n,i,s,o,l,c){ll=!1,Ku=null,f5.apply(h5,arguments)}function p5(e,t,r,n,i,s,o,l,c){if(m5.apply(this,arguments),ll){if(ll){var u=Ku;ll=!1,Ku=null}else throw Error(X(198));Vu||(Vu=!0,cp=u)}}function Ti(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function _2(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function uv(e){if(Ti(e)!==e)throw Error(X(188))}function x5(e){var t=e.alternate;if(!t){if(t=Ti(e),t===null)throw Error(X(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return uv(i),e;if(s===n)return uv(i),t;s=s.sibling}throw Error(X(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o)throw Error(X(189))}}if(r.alternate!==n)throw Error(X(190))}if(r.tag!==3)throw Error(X(188));return r.stateNode.current===r?e:t}function S2(e){return e=x5(e),e!==null?O2(e):null}function O2(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=O2(e);if(t!==null)return t;e=e.sibling}return null}var C2=ur.unstable_scheduleCallback,dv=ur.unstable_cancelCallback,g5=ur.unstable_shouldYield,y5=ur.unstable_requestPaint,at=ur.unstable_now,v5=ur.unstable_getCurrentPriorityLevel,Wg=ur.unstable_ImmediatePriority,P2=ur.unstable_UserBlockingPriority,qu=ur.unstable_NormalPriority,b5=ur.unstable_LowPriority,A2=ur.unstable_IdlePriority,_f=null,on=null;function j5(e){if(on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(_f,e,void 0,(e.current.flags&128)===128)}catch{}}var qr=Math.clz32?Math.clz32:_5,w5=Math.log,N5=Math.LN2;function _5(e){return e>>>=0,e===0?32:31-(w5(e)/N5|0)|0}var eu=64,tu=4194304;function rl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Gu(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~i;l!==0?n=rl(l):(s&=o,s!==0&&(n=rl(s)))}else o=r&~i,o!==0?n=rl(o):s!==0&&(n=rl(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-qr(t),i=1<<r,n|=e[r],t&=~i;return n}function S5(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function O5(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-qr(s),l=1<<o,c=i[o];c===-1?(!(l&r)||l&n)&&(i[o]=S5(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function up(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function k2(){var e=eu;return eu<<=1,!(eu&4194240)&&(eu=64),e}function zh(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function kc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-qr(t),e[t]=r}function C5(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-qr(r),s=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~s}}function Hg(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-qr(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Te=0;function E2(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var $2,Kg,T2,M2,R2,dp=!1,ru=[],va=null,ba=null,ja=null,_l=new Map,Sl=new Map,ra=[],P5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fv(e,t){switch(e){case"focusin":case"focusout":va=null;break;case"dragenter":case"dragleave":ba=null;break;case"mouseover":case"mouseout":ja=null;break;case"pointerover":case"pointerout":_l.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sl.delete(t.pointerId)}}function Mo(e,t,r,n,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=$c(t),t!==null&&Kg(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function A5(e,t,r,n,i){switch(t){case"focusin":return va=Mo(va,e,t,r,n,i),!0;case"dragenter":return ba=Mo(ba,e,t,r,n,i),!0;case"mouseover":return ja=Mo(ja,e,t,r,n,i),!0;case"pointerover":var s=i.pointerId;return _l.set(s,Mo(_l.get(s)||null,e,t,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Sl.set(s,Mo(Sl.get(s)||null,e,t,r,n,i)),!0}return!1}function I2(e){var t=Qa(e.target);if(t!==null){var r=Ti(t);if(r!==null){if(t=r.tag,t===13){if(t=_2(r),t!==null){e.blockedOn=t,R2(e.priority,function(){T2(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Tu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=fp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);sp=n,r.target.dispatchEvent(n),sp=null}else return t=$c(r),t!==null&&Kg(t),e.blockedOn=r,!1;t.shift()}return!0}function hv(e,t,r){Tu(e)&&r.delete(t)}function k5(){dp=!1,va!==null&&Tu(va)&&(va=null),ba!==null&&Tu(ba)&&(ba=null),ja!==null&&Tu(ja)&&(ja=null),_l.forEach(hv),Sl.forEach(hv)}function Ro(e,t){e.blockedOn===t&&(e.blockedOn=null,dp||(dp=!0,ur.unstable_scheduleCallback(ur.unstable_NormalPriority,k5)))}function Ol(e){function t(i){return Ro(i,e)}if(0<ru.length){Ro(ru[0],e);for(var r=1;r<ru.length;r++){var n=ru[r];n.blockedOn===e&&(n.blockedOn=null)}}for(va!==null&&Ro(va,e),ba!==null&&Ro(ba,e),ja!==null&&Ro(ja,e),_l.forEach(t),Sl.forEach(t),r=0;r<ra.length;r++)n=ra[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ra.length&&(r=ra[0],r.blockedOn===null);)I2(r),r.blockedOn===null&&ra.shift()}var us=Kn.ReactCurrentBatchConfig,Xu=!0;function E5(e,t,r,n){var i=Te,s=us.transition;us.transition=null;try{Te=1,Vg(e,t,r,n)}finally{Te=i,us.transition=s}}function $5(e,t,r,n){var i=Te,s=us.transition;us.transition=null;try{Te=4,Vg(e,t,r,n)}finally{Te=i,us.transition=s}}function Vg(e,t,r,n){if(Xu){var i=fp(e,t,r,n);if(i===null)Yh(e,t,n,Qu,r),fv(e,n);else if(A5(i,e,t,r,n))n.stopPropagation();else if(fv(e,n),t&4&&-1<P5.indexOf(e)){for(;i!==null;){var s=$c(i);if(s!==null&&$2(s),s=fp(e,t,r,n),s===null&&Yh(e,t,n,Qu,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Yh(e,t,n,null,r)}}var Qu=null;function fp(e,t,r,n){if(Qu=null,e=Ug(n),e=Qa(e),e!==null)if(t=Ti(e),t===null)e=null;else if(r=t.tag,r===13){if(e=_2(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qu=e,null}function D2(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(v5()){case Wg:return 1;case P2:return 4;case qu:case b5:return 16;case A2:return 536870912;default:return 16}default:return 16}}var ma=null,qg=null,Mu=null;function L2(){if(Mu)return Mu;var e,t=qg,r=t.length,n,i="value"in ma?ma.value:ma.textContent,s=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[s-n];n++);return Mu=i.slice(e,1<n?1-n:void 0)}function Ru(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function nu(){return!0}function mv(){return!1}function hr(e){function t(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?nu:mv,this.isPropagationStopped=mv,this}return Je(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=nu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=nu)},persist:function(){},isPersistent:nu}),t}var fo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gg=hr(fo),Ec=Je({},fo,{view:0,detail:0}),T5=hr(Ec),Uh,Wh,Io,Sf=Je({},Ec,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Io&&(Io&&e.type==="mousemove"?(Uh=e.screenX-Io.screenX,Wh=e.screenY-Io.screenY):Wh=Uh=0,Io=e),Uh)},movementY:function(e){return"movementY"in e?e.movementY:Wh}}),pv=hr(Sf),M5=Je({},Sf,{dataTransfer:0}),R5=hr(M5),I5=Je({},Ec,{relatedTarget:0}),Hh=hr(I5),D5=Je({},fo,{animationName:0,elapsedTime:0,pseudoElement:0}),L5=hr(D5),F5=Je({},fo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),B5=hr(F5),z5=Je({},fo,{data:0}),xv=hr(z5),U5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},W5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},H5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function K5(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=H5[e])?!!t[e]:!1}function Xg(){return K5}var V5=Je({},Ec,{key:function(e){if(e.key){var t=U5[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ru(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?W5[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xg,charCode:function(e){return e.type==="keypress"?Ru(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ru(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),q5=hr(V5),G5=Je({},Sf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gv=hr(G5),X5=Je({},Ec,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xg}),Q5=hr(X5),Y5=Je({},fo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Z5=hr(Y5),J5=Je({},Sf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ek=hr(J5),tk=[9,13,27,32],Qg=Dn&&"CompositionEvent"in window,cl=null;Dn&&"documentMode"in document&&(cl=document.documentMode);var rk=Dn&&"TextEvent"in window&&!cl,F2=Dn&&(!Qg||cl&&8<cl&&11>=cl),yv=" ",vv=!1;function B2(e,t){switch(e){case"keyup":return tk.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function z2(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Gi=!1;function nk(e,t){switch(e){case"compositionend":return z2(t);case"keypress":return t.which!==32?null:(vv=!0,yv);case"textInput":return e=t.data,e===yv&&vv?null:e;default:return null}}function ak(e,t){if(Gi)return e==="compositionend"||!Qg&&B2(e,t)?(e=L2(),Mu=qg=ma=null,Gi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return F2&&t.locale!=="ko"?null:t.data;default:return null}}var ik={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ik[e.type]:t==="textarea"}function U2(e,t,r,n){v2(n),t=Yu(t,"onChange"),0<t.length&&(r=new Gg("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ul=null,Cl=null;function sk(e){J2(e,0)}function Of(e){var t=Yi(e);if(f2(t))return e}function ok(e,t){if(e==="change")return t}var W2=!1;if(Dn){var Kh;if(Dn){var Vh="oninput"in document;if(!Vh){var jv=document.createElement("div");jv.setAttribute("oninput","return;"),Vh=typeof jv.oninput=="function"}Kh=Vh}else Kh=!1;W2=Kh&&(!document.documentMode||9<document.documentMode)}function wv(){ul&&(ul.detachEvent("onpropertychange",H2),Cl=ul=null)}function H2(e){if(e.propertyName==="value"&&Of(Cl)){var t=[];U2(t,Cl,e,Ug(e)),N2(sk,t)}}function lk(e,t,r){e==="focusin"?(wv(),ul=t,Cl=r,ul.attachEvent("onpropertychange",H2)):e==="focusout"&&wv()}function ck(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Of(Cl)}function uk(e,t){if(e==="click")return Of(t)}function dk(e,t){if(e==="input"||e==="change")return Of(t)}function fk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Xr=typeof Object.is=="function"?Object.is:fk;function Pl(e,t){if(Xr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Gm.call(t,i)||!Xr(e[i],t[i]))return!1}return!0}function Nv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _v(e,t){var r=Nv(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Nv(r)}}function K2(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?K2(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function V2(){for(var e=window,t=Hu();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Hu(e.document)}return t}function Yg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function hk(e){var t=V2(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&K2(r.ownerDocument.documentElement,r)){if(n!==null&&Yg(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!e.extend&&s>n&&(i=n,n=s,s=i),i=_v(r,s);var o=_v(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mk=Dn&&"documentMode"in document&&11>=document.documentMode,Xi=null,hp=null,dl=null,mp=!1;function Sv(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;mp||Xi==null||Xi!==Hu(n)||(n=Xi,"selectionStart"in n&&Yg(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),dl&&Pl(dl,n)||(dl=n,n=Yu(hp,"onSelect"),0<n.length&&(t=new Gg("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Xi)))}function au(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Qi={animationend:au("Animation","AnimationEnd"),animationiteration:au("Animation","AnimationIteration"),animationstart:au("Animation","AnimationStart"),transitionend:au("Transition","TransitionEnd")},qh={},q2={};Dn&&(q2=document.createElement("div").style,"AnimationEvent"in window||(delete Qi.animationend.animation,delete Qi.animationiteration.animation,delete Qi.animationstart.animation),"TransitionEvent"in window||delete Qi.transitionend.transition);function Cf(e){if(qh[e])return qh[e];if(!Qi[e])return e;var t=Qi[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in q2)return qh[e]=t[r];return e}var G2=Cf("animationend"),X2=Cf("animationiteration"),Q2=Cf("animationstart"),Y2=Cf("transitionend"),Z2=new Map,Ov="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ma(e,t){Z2.set(e,t),$i(t,[e])}for(var Gh=0;Gh<Ov.length;Gh++){var Xh=Ov[Gh],pk=Xh.toLowerCase(),xk=Xh[0].toUpperCase()+Xh.slice(1);Ma(pk,"on"+xk)}Ma(G2,"onAnimationEnd");Ma(X2,"onAnimationIteration");Ma(Q2,"onAnimationStart");Ma("dblclick","onDoubleClick");Ma("focusin","onFocus");Ma("focusout","onBlur");Ma(Y2,"onTransitionEnd");ks("onMouseEnter",["mouseout","mouseover"]);ks("onMouseLeave",["mouseout","mouseover"]);ks("onPointerEnter",["pointerout","pointerover"]);ks("onPointerLeave",["pointerout","pointerover"]);$i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$i("onBeforeInput",["compositionend","keypress","textInput","paste"]);$i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gk=new Set("cancel close invalid load scroll toggle".split(" ").concat(nl));function Cv(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,p5(n,t,void 0,e),e.currentTarget=null}function J2(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;Cv(i,l,u),s=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;Cv(i,l,u),s=c}}}if(Vu)throw e=cp,Vu=!1,cp=null,e}function We(e,t){var r=t[vp];r===void 0&&(r=t[vp]=new Set);var n=e+"__bubble";r.has(n)||(e_(t,e,2,!1),r.add(n))}function Qh(e,t,r){var n=0;t&&(n|=4),e_(r,e,n,t)}var iu="_reactListening"+Math.random().toString(36).slice(2);function Al(e){if(!e[iu]){e[iu]=!0,o2.forEach(function(r){r!=="selectionchange"&&(gk.has(r)||Qh(r,!1,e),Qh(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[iu]||(t[iu]=!0,Qh("selectionchange",!1,t))}}function e_(e,t,r,n){switch(D2(t)){case 1:var i=E5;break;case 4:i=$5;break;default:i=Vg}r=i.bind(null,t,r,e),i=void 0,!lp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Yh(e,t,r,n,i){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Qa(l),o===null)return;if(c=o.tag,c===5||c===6){n=s=o;continue e}l=l.parentNode}}n=n.return}N2(function(){var u=s,d=Ug(r),f=[];e:{var h=Z2.get(e);if(h!==void 0){var m=Gg,y=e;switch(e){case"keypress":if(Ru(r)===0)break e;case"keydown":case"keyup":m=q5;break;case"focusin":y="focus",m=Hh;break;case"focusout":y="blur",m=Hh;break;case"beforeblur":case"afterblur":m=Hh;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=pv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=R5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Q5;break;case G2:case X2:case Q2:m=L5;break;case Y2:m=Z5;break;case"scroll":m=T5;break;case"wheel":m=ek;break;case"copy":case"cut":case"paste":m=B5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=gv}var x=(t&4)!==0,v=!x&&e==="scroll",p=x?h!==null?h+"Capture":null:h;x=[];for(var g=u,b;g!==null;){b=g;var w=b.stateNode;if(b.tag===5&&w!==null&&(b=w,p!==null&&(w=Nl(g,p),w!=null&&x.push(kl(g,w,b)))),v)break;g=g.return}0<x.length&&(h=new m(h,y,null,r,d),f.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==sp&&(y=r.relatedTarget||r.fromElement)&&(Qa(y)||y[Ln]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(y=r.relatedTarget||r.toElement,m=u,y=y?Qa(y):null,y!==null&&(v=Ti(y),y!==v||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(x=pv,w="onMouseLeave",p="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(x=gv,w="onPointerLeave",p="onPointerEnter",g="pointer"),v=m==null?h:Yi(m),b=y==null?h:Yi(y),h=new x(w,g+"leave",m,r,d),h.target=v,h.relatedTarget=b,w=null,Qa(d)===u&&(x=new x(p,g+"enter",y,r,d),x.target=b,x.relatedTarget=v,w=x),v=w,m&&y)t:{for(x=m,p=y,g=0,b=x;b;b=zi(b))g++;for(b=0,w=p;w;w=zi(w))b++;for(;0<g-b;)x=zi(x),g--;for(;0<b-g;)p=zi(p),b--;for(;g--;){if(x===p||p!==null&&x===p.alternate)break t;x=zi(x),p=zi(p)}x=null}else x=null;m!==null&&Pv(f,h,m,x,!1),y!==null&&v!==null&&Pv(f,v,y,x,!0)}}e:{if(h=u?Yi(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var j=ok;else if(bv(h))if(W2)j=dk;else{j=ck;var N=lk}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=uk);if(j&&(j=j(e,u))){U2(f,j,r,d);break e}N&&N(e,h,u),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&tp(h,"number",h.value)}switch(N=u?Yi(u):window,e){case"focusin":(bv(N)||N.contentEditable==="true")&&(Xi=N,hp=u,dl=null);break;case"focusout":dl=hp=Xi=null;break;case"mousedown":mp=!0;break;case"contextmenu":case"mouseup":case"dragend":mp=!1,Sv(f,r,d);break;case"selectionchange":if(mk)break;case"keydown":case"keyup":Sv(f,r,d)}var _;if(Qg)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Gi?B2(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(F2&&r.locale!=="ko"&&(Gi||S!=="onCompositionStart"?S==="onCompositionEnd"&&Gi&&(_=L2()):(ma=d,qg="value"in ma?ma.value:ma.textContent,Gi=!0)),N=Yu(u,S),0<N.length&&(S=new xv(S,e,null,r,d),f.push({event:S,listeners:N}),_?S.data=_:(_=z2(r),_!==null&&(S.data=_)))),(_=rk?nk(e,r):ak(e,r))&&(u=Yu(u,"onBeforeInput"),0<u.length&&(d=new xv("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=_))}J2(f,t)})}function kl(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Yu(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Nl(e,r),s!=null&&n.unshift(kl(e,s,i)),s=Nl(e,t),s!=null&&n.push(kl(e,s,i))),e=e.return}return n}function zi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Pv(e,t,r,n,i){for(var s=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,i?(c=Nl(r,s),c!=null&&o.unshift(kl(r,c,l))):i||(c=Nl(r,s),c!=null&&o.push(kl(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var yk=/\r\n?/g,vk=/\u0000|\uFFFD/g;function Av(e){return(typeof e=="string"?e:""+e).replace(yk,`
`).replace(vk,"")}function su(e,t,r){if(t=Av(t),Av(e)!==t&&r)throw Error(X(425))}function Zu(){}var pp=null,xp=null;function gp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var yp=typeof setTimeout=="function"?setTimeout:void 0,bk=typeof clearTimeout=="function"?clearTimeout:void 0,kv=typeof Promise=="function"?Promise:void 0,jk=typeof queueMicrotask=="function"?queueMicrotask:typeof kv<"u"?function(e){return kv.resolve(null).then(e).catch(wk)}:yp;function wk(e){setTimeout(function(){throw e})}function Zh(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Ol(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Ol(t)}function wa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ev(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ho=Math.random().toString(36).slice(2),an="__reactFiber$"+ho,El="__reactProps$"+ho,Ln="__reactContainer$"+ho,vp="__reactEvents$"+ho,Nk="__reactListeners$"+ho,_k="__reactHandles$"+ho;function Qa(e){var t=e[an];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ln]||r[an]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Ev(e);e!==null;){if(r=e[an])return r;e=Ev(e)}return t}e=r,r=e.parentNode}return null}function $c(e){return e=e[an]||e[Ln],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Yi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(X(33))}function Pf(e){return e[El]||null}var bp=[],Zi=-1;function Ra(e){return{current:e}}function Ve(e){0>Zi||(e.current=bp[Zi],bp[Zi]=null,Zi--)}function Be(e,t){Zi++,bp[Zi]=e.current,e.current=t}var $a={},It=Ra($a),Yt=Ra(!1),vi=$a;function Es(e,t){var r=e.type.contextTypes;if(!r)return $a;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Zt(e){return e=e.childContextTypes,e!=null}function Ju(){Ve(Yt),Ve(It)}function $v(e,t,r){if(It.current!==$a)throw Error(X(168));Be(It,t),Be(Yt,r)}function t_(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(X(108,l5(e)||"Unknown",i));return Je({},r,n)}function ed(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||$a,vi=It.current,Be(It,e),Be(Yt,Yt.current),!0}function Tv(e,t,r){var n=e.stateNode;if(!n)throw Error(X(169));r?(e=t_(e,t,vi),n.__reactInternalMemoizedMergedChildContext=e,Ve(Yt),Ve(It),Be(It,e)):Ve(Yt),Be(Yt,r)}var bn=null,Af=!1,Jh=!1;function r_(e){bn===null?bn=[e]:bn.push(e)}function Sk(e){Af=!0,r_(e)}function Ia(){if(!Jh&&bn!==null){Jh=!0;var e=0,t=Te;try{var r=bn;for(Te=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}bn=null,Af=!1}catch(i){throw bn!==null&&(bn=bn.slice(e+1)),C2(Wg,Ia),i}finally{Te=t,Jh=!1}}return null}var Ji=[],es=0,td=null,rd=0,vr=[],br=0,bi=null,Cn=1,Pn="";function Ka(e,t){Ji[es++]=rd,Ji[es++]=td,td=e,rd=t}function n_(e,t,r){vr[br++]=Cn,vr[br++]=Pn,vr[br++]=bi,bi=e;var n=Cn;e=Pn;var i=32-qr(n)-1;n&=~(1<<i),r+=1;var s=32-qr(t)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Cn=1<<32-qr(t)+i|r<<i|n,Pn=s+e}else Cn=1<<s|r<<i|n,Pn=e}function Zg(e){e.return!==null&&(Ka(e,1),n_(e,1,0))}function Jg(e){for(;e===td;)td=Ji[--es],Ji[es]=null,rd=Ji[--es],Ji[es]=null;for(;e===bi;)bi=vr[--br],vr[br]=null,Pn=vr[--br],vr[br]=null,Cn=vr[--br],vr[br]=null}var lr=null,or=null,Ge=!1,Wr=null;function a_(e,t){var r=jr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Mv(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,lr=e,or=wa(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,lr=e,or=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=bi!==null?{id:Cn,overflow:Pn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=jr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,lr=e,or=null,!0):!1;default:return!1}}function jp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function wp(e){if(Ge){var t=or;if(t){var r=t;if(!Mv(e,t)){if(jp(e))throw Error(X(418));t=wa(r.nextSibling);var n=lr;t&&Mv(e,t)?a_(n,r):(e.flags=e.flags&-4097|2,Ge=!1,lr=e)}}else{if(jp(e))throw Error(X(418));e.flags=e.flags&-4097|2,Ge=!1,lr=e}}}function Rv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;lr=e}function ou(e){if(e!==lr)return!1;if(!Ge)return Rv(e),Ge=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!gp(e.type,e.memoizedProps)),t&&(t=or)){if(jp(e))throw i_(),Error(X(418));for(;t;)a_(e,t),t=wa(t.nextSibling)}if(Rv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(X(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){or=wa(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}or=null}}else or=lr?wa(e.stateNode.nextSibling):null;return!0}function i_(){for(var e=or;e;)e=wa(e.nextSibling)}function $s(){or=lr=null,Ge=!1}function ey(e){Wr===null?Wr=[e]:Wr.push(e)}var Ok=Kn.ReactCurrentBatchConfig;function Do(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(X(309));var n=r.stateNode}if(!n)throw Error(X(147,e));var i=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(X(284));if(!r._owner)throw Error(X(290,e))}return e}function lu(e,t){throw e=Object.prototype.toString.call(t),Error(X(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Iv(e){var t=e._init;return t(e._payload)}function s_(e){function t(p,g){if(e){var b=p.deletions;b===null?(p.deletions=[g],p.flags|=16):b.push(g)}}function r(p,g){if(!e)return null;for(;g!==null;)t(p,g),g=g.sibling;return null}function n(p,g){for(p=new Map;g!==null;)g.key!==null?p.set(g.key,g):p.set(g.index,g),g=g.sibling;return p}function i(p,g){return p=Oa(p,g),p.index=0,p.sibling=null,p}function s(p,g,b){return p.index=b,e?(b=p.alternate,b!==null?(b=b.index,b<g?(p.flags|=2,g):b):(p.flags|=2,g)):(p.flags|=1048576,g)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,g,b,w){return g===null||g.tag!==6?(g=sm(b,p.mode,w),g.return=p,g):(g=i(g,b),g.return=p,g)}function c(p,g,b,w){var j=b.type;return j===qi?d(p,g,b.props.children,w,b.key):g!==null&&(g.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Jn&&Iv(j)===g.type)?(w=i(g,b.props),w.ref=Do(p,g,b),w.return=p,w):(w=Uu(b.type,b.key,b.props,null,p.mode,w),w.ref=Do(p,g,b),w.return=p,w)}function u(p,g,b,w){return g===null||g.tag!==4||g.stateNode.containerInfo!==b.containerInfo||g.stateNode.implementation!==b.implementation?(g=om(b,p.mode,w),g.return=p,g):(g=i(g,b.children||[]),g.return=p,g)}function d(p,g,b,w,j){return g===null||g.tag!==7?(g=pi(b,p.mode,w,j),g.return=p,g):(g=i(g,b),g.return=p,g)}function f(p,g,b){if(typeof g=="string"&&g!==""||typeof g=="number")return g=sm(""+g,p.mode,b),g.return=p,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Yc:return b=Uu(g.type,g.key,g.props,null,p.mode,b),b.ref=Do(p,null,g),b.return=p,b;case Vi:return g=om(g,p.mode,b),g.return=p,g;case Jn:var w=g._init;return f(p,w(g._payload),b)}if(tl(g)||$o(g))return g=pi(g,p.mode,b,null),g.return=p,g;lu(p,g)}return null}function h(p,g,b,w){var j=g!==null?g.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return j!==null?null:l(p,g,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Yc:return b.key===j?c(p,g,b,w):null;case Vi:return b.key===j?u(p,g,b,w):null;case Jn:return j=b._init,h(p,g,j(b._payload),w)}if(tl(b)||$o(b))return j!==null?null:d(p,g,b,w,null);lu(p,b)}return null}function m(p,g,b,w,j){if(typeof w=="string"&&w!==""||typeof w=="number")return p=p.get(b)||null,l(g,p,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Yc:return p=p.get(w.key===null?b:w.key)||null,c(g,p,w,j);case Vi:return p=p.get(w.key===null?b:w.key)||null,u(g,p,w,j);case Jn:var N=w._init;return m(p,g,b,N(w._payload),j)}if(tl(w)||$o(w))return p=p.get(b)||null,d(g,p,w,j,null);lu(g,w)}return null}function y(p,g,b,w){for(var j=null,N=null,_=g,S=g=0,C=null;_!==null&&S<b.length;S++){_.index>S?(C=_,_=null):C=_.sibling;var P=h(p,_,b[S],w);if(P===null){_===null&&(_=C);break}e&&_&&P.alternate===null&&t(p,_),g=s(P,g,S),N===null?j=P:N.sibling=P,N=P,_=C}if(S===b.length)return r(p,_),Ge&&Ka(p,S),j;if(_===null){for(;S<b.length;S++)_=f(p,b[S],w),_!==null&&(g=s(_,g,S),N===null?j=_:N.sibling=_,N=_);return Ge&&Ka(p,S),j}for(_=n(p,_);S<b.length;S++)C=m(_,p,S,b[S],w),C!==null&&(e&&C.alternate!==null&&_.delete(C.key===null?S:C.key),g=s(C,g,S),N===null?j=C:N.sibling=C,N=C);return e&&_.forEach(function(A){return t(p,A)}),Ge&&Ka(p,S),j}function x(p,g,b,w){var j=$o(b);if(typeof j!="function")throw Error(X(150));if(b=j.call(b),b==null)throw Error(X(151));for(var N=j=null,_=g,S=g=0,C=null,P=b.next();_!==null&&!P.done;S++,P=b.next()){_.index>S?(C=_,_=null):C=_.sibling;var A=h(p,_,P.value,w);if(A===null){_===null&&(_=C);break}e&&_&&A.alternate===null&&t(p,_),g=s(A,g,S),N===null?j=A:N.sibling=A,N=A,_=C}if(P.done)return r(p,_),Ge&&Ka(p,S),j;if(_===null){for(;!P.done;S++,P=b.next())P=f(p,P.value,w),P!==null&&(g=s(P,g,S),N===null?j=P:N.sibling=P,N=P);return Ge&&Ka(p,S),j}for(_=n(p,_);!P.done;S++,P=b.next())P=m(_,p,S,P.value,w),P!==null&&(e&&P.alternate!==null&&_.delete(P.key===null?S:P.key),g=s(P,g,S),N===null?j=P:N.sibling=P,N=P);return e&&_.forEach(function(E){return t(p,E)}),Ge&&Ka(p,S),j}function v(p,g,b,w){if(typeof b=="object"&&b!==null&&b.type===qi&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Yc:e:{for(var j=b.key,N=g;N!==null;){if(N.key===j){if(j=b.type,j===qi){if(N.tag===7){r(p,N.sibling),g=i(N,b.props.children),g.return=p,p=g;break e}}else if(N.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Jn&&Iv(j)===N.type){r(p,N.sibling),g=i(N,b.props),g.ref=Do(p,N,b),g.return=p,p=g;break e}r(p,N);break}else t(p,N);N=N.sibling}b.type===qi?(g=pi(b.props.children,p.mode,w,b.key),g.return=p,p=g):(w=Uu(b.type,b.key,b.props,null,p.mode,w),w.ref=Do(p,g,b),w.return=p,p=w)}return o(p);case Vi:e:{for(N=b.key;g!==null;){if(g.key===N)if(g.tag===4&&g.stateNode.containerInfo===b.containerInfo&&g.stateNode.implementation===b.implementation){r(p,g.sibling),g=i(g,b.children||[]),g.return=p,p=g;break e}else{r(p,g);break}else t(p,g);g=g.sibling}g=om(b,p.mode,w),g.return=p,p=g}return o(p);case Jn:return N=b._init,v(p,g,N(b._payload),w)}if(tl(b))return y(p,g,b,w);if($o(b))return x(p,g,b,w);lu(p,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,g!==null&&g.tag===6?(r(p,g.sibling),g=i(g,b),g.return=p,p=g):(r(p,g),g=sm(b,p.mode,w),g.return=p,p=g),o(p)):r(p,g)}return v}var Ts=s_(!0),o_=s_(!1),nd=Ra(null),ad=null,ts=null,ty=null;function ry(){ty=ts=ad=null}function ny(e){var t=nd.current;Ve(nd),e._currentValue=t}function Np(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ds(e,t){ad=e,ty=ts=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Xt=!0),e.firstContext=null)}function Cr(e){var t=e._currentValue;if(ty!==e)if(e={context:e,memoizedValue:t,next:null},ts===null){if(ad===null)throw Error(X(308));ts=e,ad.dependencies={lanes:0,firstContext:e}}else ts=ts.next=e;return t}var Ya=null;function ay(e){Ya===null?Ya=[e]:Ya.push(e)}function l_(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,ay(t)):(r.next=i.next,i.next=r),t.interleaved=r,Fn(e,n)}function Fn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ea=!1;function iy(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function c_(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $n(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Na(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Pe&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Fn(e,r)}return i=n.interleaved,i===null?(t.next=t,ay(n)):(t.next=i.next,i.next=t),n.interleaved=t,Fn(e,r)}function Iu(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Hg(e,r)}}function Dv(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=t:s=s.next=t}else i=s=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function id(e,t,r,n){var i=e.updateQueue;ea=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=i.baseState;o=0,d=u=c=null,l=s;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,x=l;switch(h=t,m=r,x.tag){case 1:if(y=x.payload,typeof y=="function"){f=y.call(m,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,h=typeof y=="function"?y.call(m,f,h):y,h==null)break e;f=Je({},f,h);break e;case 2:ea=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;h=l,l=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);wi|=o,e.lanes=o,e.memoizedState=f}}function Lv(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(X(191,i));i.call(n)}}}var Tc={},ln=Ra(Tc),$l=Ra(Tc),Tl=Ra(Tc);function Za(e){if(e===Tc)throw Error(X(174));return e}function sy(e,t){switch(Be(Tl,t),Be($l,e),Be(ln,Tc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:np(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=np(t,e)}Ve(ln),Be(ln,t)}function Ms(){Ve(ln),Ve($l),Ve(Tl)}function u_(e){Za(Tl.current);var t=Za(ln.current),r=np(t,e.type);t!==r&&(Be($l,e),Be(ln,r))}function oy(e){$l.current===e&&(Ve(ln),Ve($l))}var Ye=Ra(0);function sd(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var em=[];function ly(){for(var e=0;e<em.length;e++)em[e]._workInProgressVersionPrimary=null;em.length=0}var Du=Kn.ReactCurrentDispatcher,tm=Kn.ReactCurrentBatchConfig,ji=0,Ze=null,mt=null,wt=null,od=!1,fl=!1,Ml=0,Ck=0;function kt(){throw Error(X(321))}function cy(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Xr(e[r],t[r]))return!1;return!0}function uy(e,t,r,n,i,s){if(ji=s,Ze=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Du.current=e===null||e.memoizedState===null?Ek:$k,e=r(n,i),fl){s=0;do{if(fl=!1,Ml=0,25<=s)throw Error(X(301));s+=1,wt=mt=null,t.updateQueue=null,Du.current=Tk,e=r(n,i)}while(fl)}if(Du.current=ld,t=mt!==null&&mt.next!==null,ji=0,wt=mt=Ze=null,od=!1,t)throw Error(X(300));return e}function dy(){var e=Ml!==0;return Ml=0,e}function Jr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Ze.memoizedState=wt=e:wt=wt.next=e,wt}function Pr(){if(mt===null){var e=Ze.alternate;e=e!==null?e.memoizedState:null}else e=mt.next;var t=wt===null?Ze.memoizedState:wt.next;if(t!==null)wt=t,mt=e;else{if(e===null)throw Error(X(310));mt=e,e={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},wt===null?Ze.memoizedState=wt=e:wt=wt.next=e}return wt}function Rl(e,t){return typeof t=="function"?t(e):t}function rm(e){var t=Pr(),r=t.queue;if(r===null)throw Error(X(311));r.lastRenderedReducer=e;var n=mt,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var l=o=null,c=null,u=s;do{var d=u.lane;if((ji&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,Ze.lanes|=d,wi|=d}u=u.next}while(u!==null&&u!==s);c===null?o=n:c.next=l,Xr(n,t.memoizedState)||(Xt=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do s=i.lane,Ze.lanes|=s,wi|=s,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function nm(e){var t=Pr(),r=t.queue;if(r===null)throw Error(X(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,s=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Xr(s,t.memoizedState)||(Xt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function d_(){}function f_(e,t){var r=Ze,n=Pr(),i=t(),s=!Xr(n.memoizedState,i);if(s&&(n.memoizedState=i,Xt=!0),n=n.queue,fy(p_.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||wt!==null&&wt.memoizedState.tag&1){if(r.flags|=2048,Il(9,m_.bind(null,r,n,i,t),void 0,null),Nt===null)throw Error(X(349));ji&30||h_(r,t,i)}return i}function h_(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ze.updateQueue,t===null?(t={lastEffect:null,stores:null},Ze.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function m_(e,t,r,n){t.value=r,t.getSnapshot=n,x_(t)&&g_(e)}function p_(e,t,r){return r(function(){x_(t)&&g_(e)})}function x_(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Xr(e,r)}catch{return!0}}function g_(e){var t=Fn(e,1);t!==null&&Gr(t,e,1,-1)}function Fv(e){var t=Jr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rl,lastRenderedState:e},t.queue=e,e=e.dispatch=kk.bind(null,Ze,e),[t.memoizedState,e]}function Il(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ze.updateQueue,t===null?(t={lastEffect:null,stores:null},Ze.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function y_(){return Pr().memoizedState}function Lu(e,t,r,n){var i=Jr();Ze.flags|=e,i.memoizedState=Il(1|t,r,void 0,n===void 0?null:n)}function kf(e,t,r,n){var i=Pr();n=n===void 0?null:n;var s=void 0;if(mt!==null){var o=mt.memoizedState;if(s=o.destroy,n!==null&&cy(n,o.deps)){i.memoizedState=Il(t,r,s,n);return}}Ze.flags|=e,i.memoizedState=Il(1|t,r,s,n)}function Bv(e,t){return Lu(8390656,8,e,t)}function fy(e,t){return kf(2048,8,e,t)}function v_(e,t){return kf(4,2,e,t)}function b_(e,t){return kf(4,4,e,t)}function j_(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function w_(e,t,r){return r=r!=null?r.concat([e]):null,kf(4,4,j_.bind(null,t,e),r)}function hy(){}function N_(e,t){var r=Pr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&cy(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function __(e,t){var r=Pr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&cy(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function S_(e,t,r){return ji&21?(Xr(r,t)||(r=k2(),Ze.lanes|=r,wi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Xt=!0),e.memoizedState=r)}function Pk(e,t){var r=Te;Te=r!==0&&4>r?r:4,e(!0);var n=tm.transition;tm.transition={};try{e(!1),t()}finally{Te=r,tm.transition=n}}function O_(){return Pr().memoizedState}function Ak(e,t,r){var n=Sa(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},C_(e))P_(t,r);else if(r=l_(e,t,r,n),r!==null){var i=Ut();Gr(r,e,n,i),A_(r,t,n)}}function kk(e,t,r){var n=Sa(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(C_(e))P_(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,r);if(i.hasEagerState=!0,i.eagerState=l,Xr(l,o)){var c=t.interleaved;c===null?(i.next=i,ay(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}r=l_(e,t,i,n),r!==null&&(i=Ut(),Gr(r,e,n,i),A_(r,t,n))}}function C_(e){var t=e.alternate;return e===Ze||t!==null&&t===Ze}function P_(e,t){fl=od=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function A_(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Hg(e,r)}}var ld={readContext:Cr,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useInsertionEffect:kt,useLayoutEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useMutableSource:kt,useSyncExternalStore:kt,useId:kt,unstable_isNewReconciler:!1},Ek={readContext:Cr,useCallback:function(e,t){return Jr().memoizedState=[e,t===void 0?null:t],e},useContext:Cr,useEffect:Bv,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Lu(4194308,4,j_.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Lu(4194308,4,e,t)},useInsertionEffect:function(e,t){return Lu(4,2,e,t)},useMemo:function(e,t){var r=Jr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Jr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Ak.bind(null,Ze,e),[n.memoizedState,e]},useRef:function(e){var t=Jr();return e={current:e},t.memoizedState=e},useState:Fv,useDebugValue:hy,useDeferredValue:function(e){return Jr().memoizedState=e},useTransition:function(){var e=Fv(!1),t=e[0];return e=Pk.bind(null,e[1]),Jr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ze,i=Jr();if(Ge){if(r===void 0)throw Error(X(407));r=r()}else{if(r=t(),Nt===null)throw Error(X(349));ji&30||h_(n,t,r)}i.memoizedState=r;var s={value:r,getSnapshot:t};return i.queue=s,Bv(p_.bind(null,n,s,e),[e]),n.flags|=2048,Il(9,m_.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=Jr(),t=Nt.identifierPrefix;if(Ge){var r=Pn,n=Cn;r=(n&~(1<<32-qr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ml++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Ck++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},$k={readContext:Cr,useCallback:N_,useContext:Cr,useEffect:fy,useImperativeHandle:w_,useInsertionEffect:v_,useLayoutEffect:b_,useMemo:__,useReducer:rm,useRef:y_,useState:function(){return rm(Rl)},useDebugValue:hy,useDeferredValue:function(e){var t=Pr();return S_(t,mt.memoizedState,e)},useTransition:function(){var e=rm(Rl)[0],t=Pr().memoizedState;return[e,t]},useMutableSource:d_,useSyncExternalStore:f_,useId:O_,unstable_isNewReconciler:!1},Tk={readContext:Cr,useCallback:N_,useContext:Cr,useEffect:fy,useImperativeHandle:w_,useInsertionEffect:v_,useLayoutEffect:b_,useMemo:__,useReducer:nm,useRef:y_,useState:function(){return nm(Rl)},useDebugValue:hy,useDeferredValue:function(e){var t=Pr();return mt===null?t.memoizedState=e:S_(t,mt.memoizedState,e)},useTransition:function(){var e=nm(Rl)[0],t=Pr().memoizedState;return[e,t]},useMutableSource:d_,useSyncExternalStore:f_,useId:O_,unstable_isNewReconciler:!1};function Dr(e,t){if(e&&e.defaultProps){t=Je({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function _p(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Je({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ef={isMounted:function(e){return(e=e._reactInternals)?Ti(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ut(),i=Sa(e),s=$n(n,i);s.payload=t,r!=null&&(s.callback=r),t=Na(e,s,i),t!==null&&(Gr(t,e,i,n),Iu(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ut(),i=Sa(e),s=$n(n,i);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=Na(e,s,i),t!==null&&(Gr(t,e,i,n),Iu(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ut(),n=Sa(e),i=$n(r,n);i.tag=2,t!=null&&(i.callback=t),t=Na(e,i,n),t!==null&&(Gr(t,e,n,r),Iu(t,e,n))}};function zv(e,t,r,n,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!Pl(r,n)||!Pl(i,s):!0}function k_(e,t,r){var n=!1,i=$a,s=t.contextType;return typeof s=="object"&&s!==null?s=Cr(s):(i=Zt(t)?vi:It.current,n=t.contextTypes,s=(n=n!=null)?Es(e,i):$a),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ef,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Uv(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ef.enqueueReplaceState(t,t.state,null)}function Sp(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},iy(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Cr(s):(s=Zt(t)?vi:It.current,i.context=Es(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(_p(e,t,s,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ef.enqueueReplaceState(i,i.state,null),id(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Rs(e,t){try{var r="",n=t;do r+=o5(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function am(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Op(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Mk=typeof WeakMap=="function"?WeakMap:Map;function E_(e,t,r){r=$n(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ud||(ud=!0,Ip=n),Op(e,t)},r}function $_(e,t,r){r=$n(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){Op(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){Op(e,t),typeof n!="function"&&(_a===null?_a=new Set([this]):_a.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Wv(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Mk;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=Gk.bind(null,e,t,r),t.then(e,e))}function Hv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Kv(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=$n(-1,1),t.tag=2,Na(r,t,1))),r.lanes|=1),e)}var Rk=Kn.ReactCurrentOwner,Xt=!1;function Ft(e,t,r,n){t.child=e===null?o_(t,null,r,n):Ts(t,e.child,r,n)}function Vv(e,t,r,n,i){r=r.render;var s=t.ref;return ds(t,i),n=uy(e,t,r,n,s,i),r=dy(),e!==null&&!Xt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Bn(e,t,i)):(Ge&&r&&Zg(t),t.flags|=1,Ft(e,t,n,i),t.child)}function qv(e,t,r,n,i){if(e===null){var s=r.type;return typeof s=="function"&&!jy(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,T_(e,t,s,n,i)):(e=Uu(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Pl,r(o,n)&&e.ref===t.ref)return Bn(e,t,i)}return t.flags|=1,e=Oa(s,n),e.ref=t.ref,e.return=t,t.child=e}function T_(e,t,r,n,i){if(e!==null){var s=e.memoizedProps;if(Pl(s,n)&&e.ref===t.ref)if(Xt=!1,t.pendingProps=n=s,(e.lanes&i)!==0)e.flags&131072&&(Xt=!0);else return t.lanes=e.lanes,Bn(e,t,i)}return Cp(e,t,r,n,i)}function M_(e,t,r){var n=t.pendingProps,i=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(ns,ar),ar|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Be(ns,ar),ar|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Be(ns,ar),ar|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,Be(ns,ar),ar|=n;return Ft(e,t,i,r),t.child}function R_(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Cp(e,t,r,n,i){var s=Zt(r)?vi:It.current;return s=Es(t,s),ds(t,i),r=uy(e,t,r,n,s,i),n=dy(),e!==null&&!Xt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Bn(e,t,i)):(Ge&&n&&Zg(t),t.flags|=1,Ft(e,t,r,i),t.child)}function Gv(e,t,r,n,i){if(Zt(r)){var s=!0;ed(t)}else s=!1;if(ds(t,i),t.stateNode===null)Fu(e,t),k_(t,r,n),Sp(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Cr(u):(u=Zt(r)?vi:It.current,u=Es(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Uv(t,o,n,u),ea=!1;var h=t.memoizedState;o.state=h,id(t,n,o,i),c=t.memoizedState,l!==n||h!==c||Yt.current||ea?(typeof d=="function"&&(_p(t,r,d,n),c=t.memoizedState),(l=ea||zv(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,c_(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Dr(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Cr(c):(c=Zt(r)?vi:It.current,c=Es(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&Uv(t,o,n,c),ea=!1,h=t.memoizedState,o.state=h,id(t,n,o,i);var y=t.memoizedState;l!==f||h!==y||Yt.current||ea?(typeof m=="function"&&(_p(t,r,m,n),y=t.memoizedState),(u=ea||zv(t,r,u,n,h,y,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),o.props=n,o.state=y,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Pp(e,t,r,n,s,i)}function Pp(e,t,r,n,i,s){R_(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&Tv(t,r,!1),Bn(e,t,s);n=t.stateNode,Rk.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Ts(t,e.child,null,s),t.child=Ts(t,null,l,s)):Ft(e,t,l,s),t.memoizedState=n.state,i&&Tv(t,r,!0),t.child}function I_(e){var t=e.stateNode;t.pendingContext?$v(e,t.pendingContext,t.pendingContext!==t.context):t.context&&$v(e,t.context,!1),sy(e,t.containerInfo)}function Xv(e,t,r,n,i){return $s(),ey(i),t.flags|=256,Ft(e,t,r,n),t.child}var Ap={dehydrated:null,treeContext:null,retryLane:0};function kp(e){return{baseLanes:e,cachePool:null,transitions:null}}function D_(e,t,r){var n=t.pendingProps,i=Ye.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Be(Ye,i&1),e===null)return wp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Mf(o,n,0,null),e=pi(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=kp(r),t.memoizedState=Ap,e):my(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return Ik(e,t,o,n,l,i,r);if(s){s=n.fallback,o=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Oa(i,c),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Oa(l,s):(s=pi(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?kp(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=Ap,n}return s=e.child,e=s.sibling,n=Oa(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function my(e,t){return t=Mf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function cu(e,t,r,n){return n!==null&&ey(n),Ts(t,e.child,null,r),e=my(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ik(e,t,r,n,i,s,o){if(r)return t.flags&256?(t.flags&=-257,n=am(Error(X(422))),cu(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=Mf({mode:"visible",children:n.children},i,0,null),s=pi(s,i,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&Ts(t,e.child,null,o),t.child.memoizedState=kp(o),t.memoizedState=Ap,s);if(!(t.mode&1))return cu(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(X(419)),n=am(s,n,void 0),cu(e,t,o,n)}if(l=(o&e.childLanes)!==0,Xt||l){if(n=Nt,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Fn(e,i),Gr(n,e,i,-1))}return by(),n=am(Error(X(421))),cu(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Xk.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,or=wa(i.nextSibling),lr=t,Ge=!0,Wr=null,e!==null&&(vr[br++]=Cn,vr[br++]=Pn,vr[br++]=bi,Cn=e.id,Pn=e.overflow,bi=t),t=my(t,n.children),t.flags|=4096,t)}function Qv(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Np(e.return,t,r)}function im(e,t,r,n,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function L_(e,t,r){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(Ft(e,t,n.children,r),n=Ye.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qv(e,r,t);else if(e.tag===19)Qv(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Be(Ye,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&sd(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),im(t,!1,i,r,s);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&sd(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}im(t,!0,r,null,s);break;case"together":im(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Fu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Bn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),wi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(X(153));if(t.child!==null){for(e=t.child,r=Oa(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Oa(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Dk(e,t,r){switch(t.tag){case 3:I_(t),$s();break;case 5:u_(t);break;case 1:Zt(t.type)&&ed(t);break;case 4:sy(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Be(nd,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Be(Ye,Ye.current&1),t.flags|=128,null):r&t.child.childLanes?D_(e,t,r):(Be(Ye,Ye.current&1),e=Bn(e,t,r),e!==null?e.sibling:null);Be(Ye,Ye.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return L_(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Be(Ye,Ye.current),n)break;return null;case 22:case 23:return t.lanes=0,M_(e,t,r)}return Bn(e,t,r)}var F_,Ep,B_,z_;F_=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ep=function(){};B_=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Za(ln.current);var s=null;switch(r){case"input":i=Jm(e,i),n=Jm(e,n),s=[];break;case"select":i=Je({},i,{value:void 0}),n=Je({},n,{value:void 0}),s=[];break;case"textarea":i=rp(e,i),n=rp(e,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Zu)}ap(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(jl.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(l=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(jl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&We("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};z_=function(e,t,r,n){r!==n&&(t.flags|=4)};function Lo(e,t){if(!Ge)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Et(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Lk(e,t,r){var n=t.pendingProps;switch(Jg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(t),null;case 1:return Zt(t.type)&&Ju(),Et(t),null;case 3:return n=t.stateNode,Ms(),Ve(Yt),Ve(It),ly(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ou(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Wr!==null&&(Fp(Wr),Wr=null))),Ep(e,t),Et(t),null;case 5:oy(t);var i=Za(Tl.current);if(r=t.type,e!==null&&t.stateNode!=null)B_(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(X(166));return Et(t),null}if(e=Za(ln.current),ou(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[an]=t,n[El]=s,e=(t.mode&1)!==0,r){case"dialog":We("cancel",n),We("close",n);break;case"iframe":case"object":case"embed":We("load",n);break;case"video":case"audio":for(i=0;i<nl.length;i++)We(nl[i],n);break;case"source":We("error",n);break;case"img":case"image":case"link":We("error",n),We("load",n);break;case"details":We("toggle",n);break;case"input":iv(n,s),We("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},We("invalid",n);break;case"textarea":ov(n,s),We("invalid",n)}ap(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&su(n.textContent,l,e),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&su(n.textContent,l,e),i=["children",""+l]):jl.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&We("scroll",n)}switch(r){case"input":Zc(n),sv(n,s,!0);break;case"textarea":Zc(n),lv(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Zu)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=p2(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[an]=t,e[El]=n,F_(e,t,!1,!1),t.stateNode=e;e:{switch(o=ip(r,n),r){case"dialog":We("cancel",e),We("close",e),i=n;break;case"iframe":case"object":case"embed":We("load",e),i=n;break;case"video":case"audio":for(i=0;i<nl.length;i++)We(nl[i],e);i=n;break;case"source":We("error",e),i=n;break;case"img":case"image":case"link":We("error",e),We("load",e),i=n;break;case"details":We("toggle",e),i=n;break;case"input":iv(e,n),i=Jm(e,n),We("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Je({},n,{value:void 0}),We("invalid",e);break;case"textarea":ov(e,n),i=rp(e,n),We("invalid",e);break;default:i=n}ap(r,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?y2(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&x2(e,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&wl(e,c):typeof c=="number"&&wl(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(jl.hasOwnProperty(s)?c!=null&&s==="onScroll"&&We("scroll",e):c!=null&&Lg(e,s,c,o))}switch(r){case"input":Zc(e),sv(e,n,!1);break;case"textarea":Zc(e),lv(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ea(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?os(e,!!n.multiple,s,!1):n.defaultValue!=null&&os(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Zu)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Et(t),null;case 6:if(e&&t.stateNode!=null)z_(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(X(166));if(r=Za(Tl.current),Za(ln.current),ou(t)){if(n=t.stateNode,r=t.memoizedProps,n[an]=t,(s=n.nodeValue!==r)&&(e=lr,e!==null))switch(e.tag){case 3:su(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&su(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[an]=t,t.stateNode=n}return Et(t),null;case 13:if(Ve(Ye),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ge&&or!==null&&t.mode&1&&!(t.flags&128))i_(),$s(),t.flags|=98560,s=!1;else if(s=ou(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(X(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(X(317));s[an]=t}else $s(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Et(t),s=!1}else Wr!==null&&(Fp(Wr),Wr=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ye.current&1?xt===0&&(xt=3):by())),t.updateQueue!==null&&(t.flags|=4),Et(t),null);case 4:return Ms(),Ep(e,t),e===null&&Al(t.stateNode.containerInfo),Et(t),null;case 10:return ny(t.type._context),Et(t),null;case 17:return Zt(t.type)&&Ju(),Et(t),null;case 19:if(Ve(Ye),s=t.memoizedState,s===null)return Et(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)Lo(s,!1);else{if(xt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=sd(e),o!==null){for(t.flags|=128,Lo(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Be(Ye,Ye.current&1|2),t.child}e=e.sibling}s.tail!==null&&at()>Is&&(t.flags|=128,n=!0,Lo(s,!1),t.lanes=4194304)}else{if(!n)if(e=sd(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Lo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ge)return Et(t),null}else 2*at()-s.renderingStartTime>Is&&r!==1073741824&&(t.flags|=128,n=!0,Lo(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=at(),t.sibling=null,r=Ye.current,Be(Ye,n?r&1|2:r&1),t):(Et(t),null);case 22:case 23:return vy(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ar&1073741824&&(Et(t),t.subtreeFlags&6&&(t.flags|=8192)):Et(t),null;case 24:return null;case 25:return null}throw Error(X(156,t.tag))}function Fk(e,t){switch(Jg(t),t.tag){case 1:return Zt(t.type)&&Ju(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ms(),Ve(Yt),Ve(It),ly(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return oy(t),null;case 13:if(Ve(Ye),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(X(340));$s()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ve(Ye),null;case 4:return Ms(),null;case 10:return ny(t.type._context),null;case 22:case 23:return vy(),null;case 24:return null;default:return null}}var uu=!1,Tt=!1,Bk=typeof WeakSet=="function"?WeakSet:Set,te=null;function rs(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){tt(e,t,n)}else r.current=null}function $p(e,t,r){try{r()}catch(n){tt(e,t,n)}}var Yv=!1;function zk(e,t){if(pp=Xu,e=V2(),Yg(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||i!==0&&f.nodeType!==3||(l=o+i),f!==s||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===i&&(l=o),h===s&&++d===n&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(xp={focusedElem:e,selectionRange:r},Xu=!1,te=t;te!==null;)if(t=te,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,te=e;else for(;te!==null;){t=te;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,v=y.memoizedState,p=t.stateNode,g=p.getSnapshotBeforeUpdate(t.elementType===t.type?x:Dr(t.type,x),v);p.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(w){tt(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,te=e;break}te=t.return}return y=Yv,Yv=!1,y}function hl(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&$p(t,r,s)}i=i.next}while(i!==n)}}function $f(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Tp(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function U_(e){var t=e.alternate;t!==null&&(e.alternate=null,U_(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[an],delete t[El],delete t[vp],delete t[Nk],delete t[_k])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function W_(e){return e.tag===5||e.tag===3||e.tag===4}function Zv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||W_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Mp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Zu));else if(n!==4&&(e=e.child,e!==null))for(Mp(e,t,r),e=e.sibling;e!==null;)Mp(e,t,r),e=e.sibling}function Rp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Rp(e,t,r),e=e.sibling;e!==null;)Rp(e,t,r),e=e.sibling}var Ot=null,Br=!1;function Xn(e,t,r){for(r=r.child;r!==null;)H_(e,t,r),r=r.sibling}function H_(e,t,r){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(_f,r)}catch{}switch(r.tag){case 5:Tt||rs(r,t);case 6:var n=Ot,i=Br;Ot=null,Xn(e,t,r),Ot=n,Br=i,Ot!==null&&(Br?(e=Ot,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ot.removeChild(r.stateNode));break;case 18:Ot!==null&&(Br?(e=Ot,r=r.stateNode,e.nodeType===8?Zh(e.parentNode,r):e.nodeType===1&&Zh(e,r),Ol(e)):Zh(Ot,r.stateNode));break;case 4:n=Ot,i=Br,Ot=r.stateNode.containerInfo,Br=!0,Xn(e,t,r),Ot=n,Br=i;break;case 0:case 11:case 14:case 15:if(!Tt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&$p(r,t,o),i=i.next}while(i!==n)}Xn(e,t,r);break;case 1:if(!Tt&&(rs(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){tt(r,t,l)}Xn(e,t,r);break;case 21:Xn(e,t,r);break;case 22:r.mode&1?(Tt=(n=Tt)||r.memoizedState!==null,Xn(e,t,r),Tt=n):Xn(e,t,r);break;default:Xn(e,t,r)}}function Jv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Bk),t.forEach(function(n){var i=Qk.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Rr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ot=l.stateNode,Br=!1;break e;case 3:Ot=l.stateNode.containerInfo,Br=!0;break e;case 4:Ot=l.stateNode.containerInfo,Br=!0;break e}l=l.return}if(Ot===null)throw Error(X(160));H_(s,o,i),Ot=null,Br=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){tt(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)K_(t,e),t=t.sibling}function K_(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Rr(t,e),Zr(e),n&4){try{hl(3,e,e.return),$f(3,e)}catch(x){tt(e,e.return,x)}try{hl(5,e,e.return)}catch(x){tt(e,e.return,x)}}break;case 1:Rr(t,e),Zr(e),n&512&&r!==null&&rs(r,r.return);break;case 5:if(Rr(t,e),Zr(e),n&512&&r!==null&&rs(r,r.return),e.flags&32){var i=e.stateNode;try{wl(i,"")}catch(x){tt(e,e.return,x)}}if(n&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&h2(i,s),ip(l,o);var u=ip(l,s);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?y2(i,f):d==="dangerouslySetInnerHTML"?x2(i,f):d==="children"?wl(i,f):Lg(i,d,f,u)}switch(l){case"input":ep(i,s);break;case"textarea":m2(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?os(i,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?os(i,!!s.multiple,s.defaultValue,!0):os(i,!!s.multiple,s.multiple?[]:"",!1))}i[El]=s}catch(x){tt(e,e.return,x)}}break;case 6:if(Rr(t,e),Zr(e),n&4){if(e.stateNode===null)throw Error(X(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(x){tt(e,e.return,x)}}break;case 3:if(Rr(t,e),Zr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ol(t.containerInfo)}catch(x){tt(e,e.return,x)}break;case 4:Rr(t,e),Zr(e);break;case 13:Rr(t,e),Zr(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(gy=at())),n&4&&Jv(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Tt=(u=Tt)||d,Rr(t,e),Tt=u):Rr(t,e),Zr(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(te=e,d=e.child;d!==null;){for(f=te=d;te!==null;){switch(h=te,m=h.child,h.tag){case 0:case 11:case 14:case 15:hl(4,h,h.return);break;case 1:rs(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(x){tt(n,r,x)}}break;case 5:rs(h,h.return);break;case 22:if(h.memoizedState!==null){tb(f);continue}}m!==null?(m.return=h,te=m):tb(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=g2("display",o))}catch(x){tt(e,e.return,x)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){tt(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Rr(t,e),Zr(e),n&4&&Jv(e);break;case 21:break;default:Rr(t,e),Zr(e)}}function Zr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(W_(r)){var n=r;break e}r=r.return}throw Error(X(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(wl(i,""),n.flags&=-33);var s=Zv(e);Rp(e,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Zv(e);Mp(e,l,o);break;default:throw Error(X(161))}}catch(c){tt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Uk(e,t,r){te=e,V_(e)}function V_(e,t,r){for(var n=(e.mode&1)!==0;te!==null;){var i=te,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||uu;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Tt;l=uu;var u=Tt;if(uu=o,(Tt=c)&&!u)for(te=i;te!==null;)o=te,c=o.child,o.tag===22&&o.memoizedState!==null?rb(i):c!==null?(c.return=o,te=c):rb(i);for(;s!==null;)te=s,V_(s),s=s.sibling;te=i,uu=l,Tt=u}eb(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,te=s):eb(e)}}function eb(e){for(;te!==null;){var t=te;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Tt||$f(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Tt)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Dr(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Lv(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Lv(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ol(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}Tt||t.flags&512&&Tp(t)}catch(h){tt(t,t.return,h)}}if(t===e){te=null;break}if(r=t.sibling,r!==null){r.return=t.return,te=r;break}te=t.return}}function tb(e){for(;te!==null;){var t=te;if(t===e){te=null;break}var r=t.sibling;if(r!==null){r.return=t.return,te=r;break}te=t.return}}function rb(e){for(;te!==null;){var t=te;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{$f(4,t)}catch(c){tt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){tt(t,i,c)}}var s=t.return;try{Tp(t)}catch(c){tt(t,s,c)}break;case 5:var o=t.return;try{Tp(t)}catch(c){tt(t,o,c)}}}catch(c){tt(t,t.return,c)}if(t===e){te=null;break}var l=t.sibling;if(l!==null){l.return=t.return,te=l;break}te=t.return}}var Wk=Math.ceil,cd=Kn.ReactCurrentDispatcher,py=Kn.ReactCurrentOwner,_r=Kn.ReactCurrentBatchConfig,Pe=0,Nt=null,ot=null,Pt=0,ar=0,ns=Ra(0),xt=0,Dl=null,wi=0,Tf=0,xy=0,ml=null,Gt=null,gy=0,Is=1/0,yn=null,ud=!1,Ip=null,_a=null,du=!1,pa=null,dd=0,pl=0,Dp=null,Bu=-1,zu=0;function Ut(){return Pe&6?at():Bu!==-1?Bu:Bu=at()}function Sa(e){return e.mode&1?Pe&2&&Pt!==0?Pt&-Pt:Ok.transition!==null?(zu===0&&(zu=k2()),zu):(e=Te,e!==0||(e=window.event,e=e===void 0?16:D2(e.type)),e):1}function Gr(e,t,r,n){if(50<pl)throw pl=0,Dp=null,Error(X(185));kc(e,r,n),(!(Pe&2)||e!==Nt)&&(e===Nt&&(!(Pe&2)&&(Tf|=r),xt===4&&na(e,Pt)),Jt(e,n),r===1&&Pe===0&&!(t.mode&1)&&(Is=at()+500,Af&&Ia()))}function Jt(e,t){var r=e.callbackNode;O5(e,t);var n=Gu(e,e===Nt?Pt:0);if(n===0)r!==null&&dv(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&dv(r),t===1)e.tag===0?Sk(nb.bind(null,e)):r_(nb.bind(null,e)),jk(function(){!(Pe&6)&&Ia()}),r=null;else{switch(E2(n)){case 1:r=Wg;break;case 4:r=P2;break;case 16:r=qu;break;case 536870912:r=A2;break;default:r=qu}r=eS(r,q_.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function q_(e,t){if(Bu=-1,zu=0,Pe&6)throw Error(X(327));var r=e.callbackNode;if(fs()&&e.callbackNode!==r)return null;var n=Gu(e,e===Nt?Pt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=fd(e,n);else{t=n;var i=Pe;Pe|=2;var s=X_();(Nt!==e||Pt!==t)&&(yn=null,Is=at()+500,mi(e,t));do try{Vk();break}catch(l){G_(e,l)}while(!0);ry(),cd.current=s,Pe=i,ot!==null?t=0:(Nt=null,Pt=0,t=xt)}if(t!==0){if(t===2&&(i=up(e),i!==0&&(n=i,t=Lp(e,i))),t===1)throw r=Dl,mi(e,0),na(e,n),Jt(e,at()),r;if(t===6)na(e,n);else{if(i=e.current.alternate,!(n&30)&&!Hk(i)&&(t=fd(e,n),t===2&&(s=up(e),s!==0&&(n=s,t=Lp(e,s))),t===1))throw r=Dl,mi(e,0),na(e,n),Jt(e,at()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(X(345));case 2:Va(e,Gt,yn);break;case 3:if(na(e,n),(n&130023424)===n&&(t=gy+500-at(),10<t)){if(Gu(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Ut(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=yp(Va.bind(null,e,Gt,yn),t);break}Va(e,Gt,yn);break;case 4:if(na(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-qr(n);s=1<<o,o=t[o],o>i&&(i=o),n&=~s}if(n=i,n=at()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Wk(n/1960))-n,10<n){e.timeoutHandle=yp(Va.bind(null,e,Gt,yn),n);break}Va(e,Gt,yn);break;case 5:Va(e,Gt,yn);break;default:throw Error(X(329))}}}return Jt(e,at()),e.callbackNode===r?q_.bind(null,e):null}function Lp(e,t){var r=ml;return e.current.memoizedState.isDehydrated&&(mi(e,t).flags|=256),e=fd(e,t),e!==2&&(t=Gt,Gt=r,t!==null&&Fp(t)),e}function Fp(e){Gt===null?Gt=e:Gt.push.apply(Gt,e)}function Hk(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Xr(s(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function na(e,t){for(t&=~xy,t&=~Tf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-qr(t),n=1<<r;e[r]=-1,t&=~n}}function nb(e){if(Pe&6)throw Error(X(327));fs();var t=Gu(e,0);if(!(t&1))return Jt(e,at()),null;var r=fd(e,t);if(e.tag!==0&&r===2){var n=up(e);n!==0&&(t=n,r=Lp(e,n))}if(r===1)throw r=Dl,mi(e,0),na(e,t),Jt(e,at()),r;if(r===6)throw Error(X(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Va(e,Gt,yn),Jt(e,at()),null}function yy(e,t){var r=Pe;Pe|=1;try{return e(t)}finally{Pe=r,Pe===0&&(Is=at()+500,Af&&Ia())}}function Ni(e){pa!==null&&pa.tag===0&&!(Pe&6)&&fs();var t=Pe;Pe|=1;var r=_r.transition,n=Te;try{if(_r.transition=null,Te=1,e)return e()}finally{Te=n,_r.transition=r,Pe=t,!(Pe&6)&&Ia()}}function vy(){ar=ns.current,Ve(ns)}function mi(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,bk(r)),ot!==null)for(r=ot.return;r!==null;){var n=r;switch(Jg(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ju();break;case 3:Ms(),Ve(Yt),Ve(It),ly();break;case 5:oy(n);break;case 4:Ms();break;case 13:Ve(Ye);break;case 19:Ve(Ye);break;case 10:ny(n.type._context);break;case 22:case 23:vy()}r=r.return}if(Nt=e,ot=e=Oa(e.current,null),Pt=ar=t,xt=0,Dl=null,xy=Tf=wi=0,Gt=ml=null,Ya!==null){for(t=0;t<Ya.length;t++)if(r=Ya[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}Ya=null}return e}function G_(e,t){do{var r=ot;try{if(ry(),Du.current=ld,od){for(var n=Ze.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}od=!1}if(ji=0,wt=mt=Ze=null,fl=!1,Ml=0,py.current=null,r===null||r.return===null){xt=1,Dl=t,ot=null;break}e:{var s=e,o=r.return,l=r,c=t;if(t=Pt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Hv(o);if(m!==null){m.flags&=-257,Kv(m,o,l,s,t),m.mode&1&&Wv(s,u,t),t=m,c=u;var y=t.updateQueue;if(y===null){var x=new Set;x.add(c),t.updateQueue=x}else y.add(c);break e}else{if(!(t&1)){Wv(s,u,t),by();break e}c=Error(X(426))}}else if(Ge&&l.mode&1){var v=Hv(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Kv(v,o,l,s,t),ey(Rs(c,l));break e}}s=c=Rs(c,l),xt!==4&&(xt=2),ml===null?ml=[s]:ml.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var p=E_(s,c,t);Dv(s,p);break e;case 1:l=c;var g=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(_a===null||!_a.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t;var w=$_(s,l,t);Dv(s,w);break e}}s=s.return}while(s!==null)}Y_(r)}catch(j){t=j,ot===r&&r!==null&&(ot=r=r.return);continue}break}while(!0)}function X_(){var e=cd.current;return cd.current=ld,e===null?ld:e}function by(){(xt===0||xt===3||xt===2)&&(xt=4),Nt===null||!(wi&268435455)&&!(Tf&268435455)||na(Nt,Pt)}function fd(e,t){var r=Pe;Pe|=2;var n=X_();(Nt!==e||Pt!==t)&&(yn=null,mi(e,t));do try{Kk();break}catch(i){G_(e,i)}while(!0);if(ry(),Pe=r,cd.current=n,ot!==null)throw Error(X(261));return Nt=null,Pt=0,xt}function Kk(){for(;ot!==null;)Q_(ot)}function Vk(){for(;ot!==null&&!g5();)Q_(ot)}function Q_(e){var t=J_(e.alternate,e,ar);e.memoizedProps=e.pendingProps,t===null?Y_(e):ot=t,py.current=null}function Y_(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Fk(r,t),r!==null){r.flags&=32767,ot=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{xt=6,ot=null;return}}else if(r=Lk(r,t,ar),r!==null){ot=r;return}if(t=t.sibling,t!==null){ot=t;return}ot=t=e}while(t!==null);xt===0&&(xt=5)}function Va(e,t,r){var n=Te,i=_r.transition;try{_r.transition=null,Te=1,qk(e,t,r,n)}finally{_r.transition=i,Te=n}return null}function qk(e,t,r,n){do fs();while(pa!==null);if(Pe&6)throw Error(X(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(X(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(C5(e,s),e===Nt&&(ot=Nt=null,Pt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||du||(du=!0,eS(qu,function(){return fs(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=_r.transition,_r.transition=null;var o=Te;Te=1;var l=Pe;Pe|=4,py.current=null,zk(e,r),K_(r,e),hk(xp),Xu=!!pp,xp=pp=null,e.current=r,Uk(r),y5(),Pe=l,Te=o,_r.transition=s}else e.current=r;if(du&&(du=!1,pa=e,dd=i),s=e.pendingLanes,s===0&&(_a=null),j5(r.stateNode),Jt(e,at()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(ud)throw ud=!1,e=Ip,Ip=null,e;return dd&1&&e.tag!==0&&fs(),s=e.pendingLanes,s&1?e===Dp?pl++:(pl=0,Dp=e):pl=0,Ia(),null}function fs(){if(pa!==null){var e=E2(dd),t=_r.transition,r=Te;try{if(_r.transition=null,Te=16>e?16:e,pa===null)var n=!1;else{if(e=pa,pa=null,dd=0,Pe&6)throw Error(X(331));var i=Pe;for(Pe|=4,te=e.current;te!==null;){var s=te,o=s.child;if(te.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(te=u;te!==null;){var d=te;switch(d.tag){case 0:case 11:case 15:hl(8,d,s)}var f=d.child;if(f!==null)f.return=d,te=f;else for(;te!==null;){d=te;var h=d.sibling,m=d.return;if(U_(d),d===u){te=null;break}if(h!==null){h.return=m,te=h;break}te=m}}}var y=s.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var v=x.sibling;x.sibling=null,x=v}while(x!==null)}}te=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,te=o;else e:for(;te!==null;){if(s=te,s.flags&2048)switch(s.tag){case 0:case 11:case 15:hl(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,te=p;break e}te=s.return}}var g=e.current;for(te=g;te!==null;){o=te;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,te=b;else e:for(o=g;te!==null;){if(l=te,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:$f(9,l)}}catch(j){tt(l,l.return,j)}if(l===o){te=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,te=w;break e}te=l.return}}if(Pe=i,Ia(),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(_f,e)}catch{}n=!0}return n}finally{Te=r,_r.transition=t}}return!1}function ab(e,t,r){t=Rs(r,t),t=E_(e,t,1),e=Na(e,t,1),t=Ut(),e!==null&&(kc(e,1,t),Jt(e,t))}function tt(e,t,r){if(e.tag===3)ab(e,e,r);else for(;t!==null;){if(t.tag===3){ab(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(_a===null||!_a.has(n))){e=Rs(r,e),e=$_(t,e,1),t=Na(t,e,1),e=Ut(),t!==null&&(kc(t,1,e),Jt(t,e));break}}t=t.return}}function Gk(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ut(),e.pingedLanes|=e.suspendedLanes&r,Nt===e&&(Pt&r)===r&&(xt===4||xt===3&&(Pt&130023424)===Pt&&500>at()-gy?mi(e,0):xy|=r),Jt(e,t)}function Z_(e,t){t===0&&(e.mode&1?(t=tu,tu<<=1,!(tu&130023424)&&(tu=4194304)):t=1);var r=Ut();e=Fn(e,t),e!==null&&(kc(e,t,r),Jt(e,r))}function Xk(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Z_(e,r)}function Qk(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(X(314))}n!==null&&n.delete(t),Z_(e,r)}var J_;J_=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Yt.current)Xt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Xt=!1,Dk(e,t,r);Xt=!!(e.flags&131072)}else Xt=!1,Ge&&t.flags&1048576&&n_(t,rd,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Fu(e,t),e=t.pendingProps;var i=Es(t,It.current);ds(t,r),i=uy(null,t,n,e,i,r);var s=dy();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Zt(n)?(s=!0,ed(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,iy(t),i.updater=Ef,t.stateNode=i,i._reactInternals=t,Sp(t,n,e,r),t=Pp(null,t,n,!0,s,r)):(t.tag=0,Ge&&s&&Zg(t),Ft(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Fu(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=Zk(n),e=Dr(n,e),i){case 0:t=Cp(null,t,n,e,r);break e;case 1:t=Gv(null,t,n,e,r);break e;case 11:t=Vv(null,t,n,e,r);break e;case 14:t=qv(null,t,n,Dr(n.type,e),r);break e}throw Error(X(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Dr(n,i),Cp(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Dr(n,i),Gv(e,t,n,i,r);case 3:e:{if(I_(t),e===null)throw Error(X(387));n=t.pendingProps,s=t.memoizedState,i=s.element,c_(e,t),id(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Rs(Error(X(423)),t),t=Xv(e,t,n,r,i);break e}else if(n!==i){i=Rs(Error(X(424)),t),t=Xv(e,t,n,r,i);break e}else for(or=wa(t.stateNode.containerInfo.firstChild),lr=t,Ge=!0,Wr=null,r=o_(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if($s(),n===i){t=Bn(e,t,r);break e}Ft(e,t,n,r)}t=t.child}return t;case 5:return u_(t),e===null&&wp(t),n=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,gp(n,i)?o=null:s!==null&&gp(n,s)&&(t.flags|=32),R_(e,t),Ft(e,t,o,r),t.child;case 6:return e===null&&wp(t),null;case 13:return D_(e,t,r);case 4:return sy(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ts(t,null,n,r):Ft(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Dr(n,i),Vv(e,t,n,i,r);case 7:return Ft(e,t,t.pendingProps,r),t.child;case 8:return Ft(e,t,t.pendingProps.children,r),t.child;case 12:return Ft(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Be(nd,n._currentValue),n._currentValue=o,s!==null)if(Xr(s.value,o)){if(s.children===i.children&&!Yt.current){t=Bn(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=$n(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),Np(s.return,r,t),l.lanes|=r;break}c=c.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(X(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Np(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ft(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,ds(t,r),i=Cr(i),n=n(i),t.flags|=1,Ft(e,t,n,r),t.child;case 14:return n=t.type,i=Dr(n,t.pendingProps),i=Dr(n.type,i),qv(e,t,n,i,r);case 15:return T_(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Dr(n,i),Fu(e,t),t.tag=1,Zt(n)?(e=!0,ed(t)):e=!1,ds(t,r),k_(t,n,i),Sp(t,n,i,r),Pp(null,t,n,!0,e,r);case 19:return L_(e,t,r);case 22:return M_(e,t,r)}throw Error(X(156,t.tag))};function eS(e,t){return C2(e,t)}function Yk(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jr(e,t,r,n){return new Yk(e,t,r,n)}function jy(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zk(e){if(typeof e=="function")return jy(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Bg)return 11;if(e===zg)return 14}return 2}function Oa(e,t){var r=e.alternate;return r===null?(r=jr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Uu(e,t,r,n,i,s){var o=2;if(n=e,typeof e=="function")jy(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case qi:return pi(r.children,i,s,t);case Fg:o=8,i|=8;break;case Xm:return e=jr(12,r,t,i|2),e.elementType=Xm,e.lanes=s,e;case Qm:return e=jr(13,r,t,i),e.elementType=Qm,e.lanes=s,e;case Ym:return e=jr(19,r,t,i),e.elementType=Ym,e.lanes=s,e;case u2:return Mf(r,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case l2:o=10;break e;case c2:o=9;break e;case Bg:o=11;break e;case zg:o=14;break e;case Jn:o=16,n=null;break e}throw Error(X(130,e==null?e:typeof e,""))}return t=jr(o,r,t,i),t.elementType=e,t.type=n,t.lanes=s,t}function pi(e,t,r,n){return e=jr(7,e,n,t),e.lanes=r,e}function Mf(e,t,r,n){return e=jr(22,e,n,t),e.elementType=u2,e.lanes=r,e.stateNode={isHidden:!1},e}function sm(e,t,r){return e=jr(6,e,null,t),e.lanes=r,e}function om(e,t,r){return t=jr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Jk(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zh(0),this.expirationTimes=zh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zh(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function wy(e,t,r,n,i,s,o,l,c){return e=new Jk(e,t,r,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=jr(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},iy(s),e}function eE(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vi,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function tS(e){if(!e)return $a;e=e._reactInternals;e:{if(Ti(e)!==e||e.tag!==1)throw Error(X(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Zt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(X(171))}if(e.tag===1){var r=e.type;if(Zt(r))return t_(e,r,t)}return t}function rS(e,t,r,n,i,s,o,l,c){return e=wy(r,n,!0,e,i,s,o,l,c),e.context=tS(null),r=e.current,n=Ut(),i=Sa(r),s=$n(n,i),s.callback=t??null,Na(r,s,i),e.current.lanes=i,kc(e,i,n),Jt(e,n),e}function Rf(e,t,r,n){var i=t.current,s=Ut(),o=Sa(i);return r=tS(r),t.context===null?t.context=r:t.pendingContext=r,t=$n(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Na(i,t,o),e!==null&&(Gr(e,i,o,s),Iu(e,i,o)),o}function hd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ib(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Ny(e,t){ib(e,t),(e=e.alternate)&&ib(e,t)}function tE(){return null}var nS=typeof reportError=="function"?reportError:function(e){console.error(e)};function _y(e){this._internalRoot=e}If.prototype.render=_y.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(X(409));Rf(e,t,null,null)};If.prototype.unmount=_y.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ni(function(){Rf(null,e,null,null)}),t[Ln]=null}};function If(e){this._internalRoot=e}If.prototype.unstable_scheduleHydration=function(e){if(e){var t=M2();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ra.length&&t!==0&&t<ra[r].priority;r++);ra.splice(r,0,e),r===0&&I2(e)}};function Sy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Df(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function sb(){}function rE(e,t,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=hd(o);s.call(u)}}var o=rS(t,n,e,0,null,!1,!1,"",sb);return e._reactRootContainer=o,e[Ln]=o.current,Al(e.nodeType===8?e.parentNode:e),Ni(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var u=hd(c);l.call(u)}}var c=wy(e,0,!1,null,null,!1,!1,"",sb);return e._reactRootContainer=c,e[Ln]=c.current,Al(e.nodeType===8?e.parentNode:e),Ni(function(){Rf(t,c,r,n)}),c}function Lf(e,t,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var c=hd(o);l.call(c)}}Rf(t,o,e,i)}else o=rE(r,t,e,i,n);return hd(o)}$2=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=rl(t.pendingLanes);r!==0&&(Hg(t,r|1),Jt(t,at()),!(Pe&6)&&(Is=at()+500,Ia()))}break;case 13:Ni(function(){var n=Fn(e,1);if(n!==null){var i=Ut();Gr(n,e,1,i)}}),Ny(e,1)}};Kg=function(e){if(e.tag===13){var t=Fn(e,134217728);if(t!==null){var r=Ut();Gr(t,e,134217728,r)}Ny(e,134217728)}};T2=function(e){if(e.tag===13){var t=Sa(e),r=Fn(e,t);if(r!==null){var n=Ut();Gr(r,e,t,n)}Ny(e,t)}};M2=function(){return Te};R2=function(e,t){var r=Te;try{return Te=e,t()}finally{Te=r}};op=function(e,t,r){switch(t){case"input":if(ep(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Pf(n);if(!i)throw Error(X(90));f2(n),ep(n,i)}}}break;case"textarea":m2(e,r);break;case"select":t=r.value,t!=null&&os(e,!!r.multiple,t,!1)}};j2=yy;w2=Ni;var nE={usingClientEntryPoint:!1,Events:[$c,Yi,Pf,v2,b2,yy]},Fo={findFiberByHostInstance:Qa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},aE={bundleType:Fo.bundleType,version:Fo.version,rendererPackageName:Fo.rendererPackageName,rendererConfig:Fo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=S2(e),e===null?null:e.stateNode},findFiberByHostInstance:Fo.findFiberByHostInstance||tE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fu.isDisabled&&fu.supportsFiber)try{_f=fu.inject(aE),on=fu}catch{}}fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nE;fr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sy(t))throw Error(X(200));return eE(e,t,null,r)};fr.createRoot=function(e,t){if(!Sy(e))throw Error(X(299));var r=!1,n="",i=nS;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=wy(e,1,!1,null,null,r,!1,n,i),e[Ln]=t.current,Al(e.nodeType===8?e.parentNode:e),new _y(t)};fr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(X(188)):(e=Object.keys(e).join(","),Error(X(268,e)));return e=S2(t),e=e===null?null:e.stateNode,e};fr.flushSync=function(e){return Ni(e)};fr.hydrate=function(e,t,r){if(!Df(t))throw Error(X(200));return Lf(null,e,t,!0,r)};fr.hydrateRoot=function(e,t,r){if(!Sy(e))throw Error(X(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=nS;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=rS(t,null,e,1,r??null,i,!1,s,o),e[Ln]=t.current,Al(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new If(t)};fr.render=function(e,t,r){if(!Df(t))throw Error(X(200));return Lf(null,e,t,!1,r)};fr.unmountComponentAtNode=function(e){if(!Df(e))throw Error(X(40));return e._reactRootContainer?(Ni(function(){Lf(null,null,e,!1,function(){e._reactRootContainer=null,e[Ln]=null})}),!0):!1};fr.unstable_batchedUpdates=yy;fr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Df(r))throw Error(X(200));if(e==null||e._reactInternals===void 0)throw Error(X(38));return Lf(e,t,r,!1,n)};fr.version="18.3.1-next-f1338f8080-20240426";function aS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(aS)}catch(e){console.error(e)}}aS(),a2.exports=fr;var iS=a2.exports,ob=iS;qm.createRoot=ob.createRoot,qm.hydrateRoot=ob.hydrateRoot;var mo=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},iE={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},ia,Eg,IN,sE=(IN=class{constructor(){ie(this,ia,iE);ie(this,Eg,!1)}setTimeoutProvider(e){ee(this,ia,e)}setTimeout(e,t){return $(this,ia).setTimeout(e,t)}clearTimeout(e){$(this,ia).clearTimeout(e)}setInterval(e,t){return $(this,ia).setInterval(e,t)}clearInterval(e){$(this,ia).clearInterval(e)}},ia=new WeakMap,Eg=new WeakMap,IN),Ja=new sE;function oE(e){setTimeout(e,0)}var _i=typeof window>"u"||"Deno"in globalThis;function Bt(){}function lE(e,t){return typeof e=="function"?e(t):e}function Bp(e){return typeof e=="number"&&e>=0&&e!==1/0}function sS(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ca(e,t){return typeof e=="function"?e(t):e}function yr(e,t){return typeof e=="function"?e(t):e}function lb(e,t){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==Oy(o,t.options))return!1}else if(!Ll(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||i&&i!==t.state.fetchStatus||s&&!s(t))}function cb(e,t){const{exact:r,status:n,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(Si(t.options.mutationKey)!==Si(s))return!1}else if(!Ll(t.options.mutationKey,s))return!1}return!(n&&t.state.status!==n||i&&!i(t))}function Oy(e,t){return((t==null?void 0:t.queryKeyHashFn)||Si)(e)}function Si(e){return JSON.stringify(e,(t,r)=>zp(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function Ll(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Ll(e[r],t[r])):!1}var cE=Object.prototype.hasOwnProperty;function oS(e,t){if(e===t)return e;const r=ub(e)&&ub(t);if(!r&&!(zp(e)&&zp(t)))return t;const i=(r?e:Object.keys(e)).length,s=r?t:Object.keys(t),o=s.length,l=r?new Array(o):{};let c=0;for(let u=0;u<o;u++){const d=r?u:s[u],f=e[d],h=t[d];if(f===h){l[d]=f,(r?u<i:cE.call(e,d))&&c++;continue}if(f===null||h===null||typeof f!="object"||typeof h!="object"){l[d]=h;continue}const m=oS(f,h);l[d]=m,m===f&&c++}return i===o&&c===i?e:l}function md(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function ub(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function zp(e){if(!db(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!db(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function db(e){return Object.prototype.toString.call(e)==="[object Object]"}function uE(e){return new Promise(t=>{Ja.setTimeout(t,e)})}function Up(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?oS(e,t):t}function dE(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function fE(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Cy=Symbol();function lS(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Cy?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function cS(e,t){return typeof e=="function"?e(...t):!!e}var ii,sa,ys,DN,hE=(DN=class extends mo{constructor(){super();ie(this,ii);ie(this,sa);ie(this,ys);ee(this,ys,t=>{if(!_i&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){$(this,sa)||this.setEventListener($(this,ys))}onUnsubscribe(){var t;this.hasListeners()||((t=$(this,sa))==null||t.call(this),ee(this,sa,void 0))}setEventListener(t){var r;ee(this,ys,t),(r=$(this,sa))==null||r.call(this),ee(this,sa,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){$(this,ii)!==t&&(ee(this,ii,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof $(this,ii)=="boolean"?$(this,ii):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ii=new WeakMap,sa=new WeakMap,ys=new WeakMap,DN),Py=new hE;function Wp(){let e,t;const r=new Promise((i,s)=>{e=i,t=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),e(i)},r.reject=i=>{n({status:"rejected",reason:i}),t(i)},r}var mE=oE;function pE(){let e=[],t=0,r=l=>{l()},n=l=>{l()},i=mE;const s=l=>{t?e.push(l):i(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&i(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{i=l}}}var pt=pE(),vs,oa,bs,LN,xE=(LN=class extends mo{constructor(){super();ie(this,vs,!0);ie(this,oa);ie(this,bs);ee(this,bs,t=>{if(!_i&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){$(this,oa)||this.setEventListener($(this,bs))}onUnsubscribe(){var t;this.hasListeners()||((t=$(this,oa))==null||t.call(this),ee(this,oa,void 0))}setEventListener(t){var r;ee(this,bs,t),(r=$(this,oa))==null||r.call(this),ee(this,oa,t(this.setOnline.bind(this)))}setOnline(t){$(this,vs)!==t&&(ee(this,vs,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return $(this,vs)}},vs=new WeakMap,oa=new WeakMap,bs=new WeakMap,LN),pd=new xE;function gE(e){return Math.min(1e3*2**e,3e4)}function uS(e){return(e??"online")==="online"?pd.isOnline():!0}var Hp=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function dS(e){let t=!1,r=0,n;const i=Wp(),s=()=>i.status!=="pending",o=x=>{var v;if(!s()){const p=new Hp(x);h(p),(v=e.onCancel)==null||v.call(e,p)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>Py.isFocused()&&(e.networkMode==="always"||pd.isOnline())&&e.canRun(),d=()=>uS(e.networkMode)&&e.canRun(),f=x=>{s()||(n==null||n(),i.resolve(x))},h=x=>{s()||(n==null||n(),i.reject(x))},m=()=>new Promise(x=>{var v;n=p=>{(s()||u())&&x(p)},(v=e.onPause)==null||v.call(e)}).then(()=>{var x;n=void 0,s()||(x=e.onContinue)==null||x.call(e)}),y=()=>{if(s())return;let x;const v=r===0?e.initialPromise:void 0;try{x=v??e.fn()}catch(p){x=Promise.reject(p)}Promise.resolve(x).then(f).catch(p=>{var N;if(s())return;const g=e.retry??(_i?0:3),b=e.retryDelay??gE,w=typeof b=="function"?b(r,p):b,j=g===!0||typeof g=="number"&&r<g||typeof g=="function"&&g(r,p);if(t||!j){h(p);return}r++,(N=e.onFail)==null||N.call(e,r,p),uE(w).then(()=>u()?void 0:m()).then(()=>{t?h(p):y()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(n==null||n(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?y():m().then(y),i)}}var si,FN,fS=(FN=class{constructor(){ie(this,si)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Bp(this.gcTime)&&ee(this,si,Ja.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(_i?1/0:5*60*1e3))}clearGcTimeout(){$(this,si)&&(Ja.clearTimeout($(this,si)),ee(this,si,void 0))}},si=new WeakMap,FN),oi,js,gr,li,bt,_c,ci,Lr,gn,BN,yE=(BN=class extends fS{constructor(t){super();ie(this,Lr);ie(this,oi);ie(this,js);ie(this,gr);ie(this,li);ie(this,bt);ie(this,_c);ie(this,ci);ee(this,ci,!1),ee(this,_c,t.defaultOptions),this.setOptions(t.options),this.observers=[],ee(this,li,t.client),ee(this,gr,$(this,li).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ee(this,oi,hb(this.options)),this.state=t.state??$(this,oi),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=$(this,bt))==null?void 0:t.promise}setOptions(t){if(this.options={...$(this,_c),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=hb(this.options);r.data!==void 0&&(this.setState(fb(r.data,r.dataUpdatedAt)),ee(this,oi,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&$(this,gr).remove(this)}setData(t,r){const n=Up(this.state.data,t,this.options);return ge(this,Lr,gn).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){ge(this,Lr,gn).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,i;const r=(n=$(this,bt))==null?void 0:n.promise;return(i=$(this,bt))==null||i.cancel(t),r?r.then(Bt).catch(Bt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState($(this,oi))}isActive(){return this.observers.some(t=>yr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Cy||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Ca(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!sS(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=$(this,bt))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=$(this,bt))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),$(this,gr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||($(this,bt)&&($(this,ci)?$(this,bt).cancel({revert:!0}):$(this,bt).cancelRetry()),this.scheduleGc()),$(this,gr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ge(this,Lr,gn).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,d,f,h,m,y,x,v,p,g,b;if(this.state.fetchStatus!=="idle"&&((c=$(this,bt))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if($(this,bt))return $(this,bt).continueRetry(),$(this,bt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const w=this.observers.find(j=>j.options.queryFn);w&&this.setOptions(w.options)}const n=new AbortController,i=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(ee(this,ci,!0),n.signal)})},s=()=>{const w=lS(this.options,r),N=(()=>{const _={client:$(this,li),queryKey:this.queryKey,meta:this.meta};return i(_),_})();return ee(this,ci,!1),this.options.persister?this.options.persister(w,N,this):w(N)},l=(()=>{const w={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:$(this,li),state:this.state,fetchFn:s};return i(w),w})();(u=this.options.behavior)==null||u.onFetch(l,this),ee(this,js,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&ge(this,Lr,gn).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),ee(this,bt,dS({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:w=>{w instanceof Hp&&w.revert&&this.setState({...$(this,js),fetchStatus:"idle"}),n.abort()},onFail:(w,j)=>{ge(this,Lr,gn).call(this,{type:"failed",failureCount:w,error:j})},onPause:()=>{ge(this,Lr,gn).call(this,{type:"pause"})},onContinue:()=>{ge(this,Lr,gn).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const w=await $(this,bt).start();if(w===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(w),(m=(h=$(this,gr).config).onSuccess)==null||m.call(h,w,this),(x=(y=$(this,gr).config).onSettled)==null||x.call(y,w,this.state.error,this),w}catch(w){if(w instanceof Hp){if(w.silent)return $(this,bt).promise;if(w.revert){if(this.state.data===void 0)throw w;return this.state.data}}throw ge(this,Lr,gn).call(this,{type:"error",error:w}),(p=(v=$(this,gr).config).onError)==null||p.call(v,w,this),(b=(g=$(this,gr).config).onSettled)==null||b.call(g,this.state.data,w,this),w}finally{this.scheduleGc()}}},oi=new WeakMap,js=new WeakMap,gr=new WeakMap,li=new WeakMap,bt=new WeakMap,_c=new WeakMap,ci=new WeakMap,Lr=new WeakSet,gn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...hS(n.data,this.options),fetchMeta:t.meta??null};case"success":const i={...n,...fb(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ee(this,js,t.manual?i:void 0),i;case"error":const s=t.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),pt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),$(this,gr).notify({query:this,type:"updated",action:t})})},BN);function hS(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:uS(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function fb(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function hb(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Vt,Se,Sc,Dt,ui,ws,Nn,la,Oc,Ns,_s,di,fi,ca,Ss,$e,al,Kp,Vp,qp,Gp,Xp,Qp,Yp,mS,zN,vE=(zN=class extends mo{constructor(t,r){super();ie(this,$e);ie(this,Vt);ie(this,Se);ie(this,Sc);ie(this,Dt);ie(this,ui);ie(this,ws);ie(this,Nn);ie(this,la);ie(this,Oc);ie(this,Ns);ie(this,_s);ie(this,di);ie(this,fi);ie(this,ca);ie(this,Ss,new Set);this.options=r,ee(this,Vt,t),ee(this,la,null),ee(this,Nn,Wp()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&($(this,Se).addObserver(this),mb($(this,Se),this.options)?ge(this,$e,al).call(this):this.updateResult(),ge(this,$e,Gp).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Zp($(this,Se),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Zp($(this,Se),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ge(this,$e,Xp).call(this),ge(this,$e,Qp).call(this),$(this,Se).removeObserver(this)}setOptions(t){const r=this.options,n=$(this,Se);if(this.options=$(this,Vt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof yr(this.options.enabled,$(this,Se))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ge(this,$e,Yp).call(this),$(this,Se).setOptions(this.options),r._defaulted&&!md(this.options,r)&&$(this,Vt).getQueryCache().notify({type:"observerOptionsUpdated",query:$(this,Se),observer:this});const i=this.hasListeners();i&&pb($(this,Se),n,this.options,r)&&ge(this,$e,al).call(this),this.updateResult(),i&&($(this,Se)!==n||yr(this.options.enabled,$(this,Se))!==yr(r.enabled,$(this,Se))||Ca(this.options.staleTime,$(this,Se))!==Ca(r.staleTime,$(this,Se)))&&ge(this,$e,Kp).call(this);const s=ge(this,$e,Vp).call(this);i&&($(this,Se)!==n||yr(this.options.enabled,$(this,Se))!==yr(r.enabled,$(this,Se))||s!==$(this,ca))&&ge(this,$e,qp).call(this,s)}getOptimisticResult(t){const r=$(this,Vt).getQueryCache().build($(this,Vt),t),n=this.createResult(r,t);return jE(this,n)&&(ee(this,Dt,n),ee(this,ws,this.options),ee(this,ui,$(this,Se).state)),n}getCurrentResult(){return $(this,Dt)}trackResult(t,r){return new Proxy(t,{get:(n,i)=>(this.trackProp(i),r==null||r(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&$(this,Nn).status==="pending"&&$(this,Nn).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,i))})}trackProp(t){$(this,Ss).add(t)}getCurrentQuery(){return $(this,Se)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=$(this,Vt).defaultQueryOptions(t),n=$(this,Vt).getQueryCache().build($(this,Vt),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return ge(this,$e,al).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),$(this,Dt)))}createResult(t,r){var C;const n=$(this,Se),i=this.options,s=$(this,Dt),o=$(this,ui),l=$(this,ws),u=t!==n?t.state:$(this,Sc),{state:d}=t;let f={...d},h=!1,m;if(r._optimisticResults){const P=this.hasListeners(),A=!P&&mb(t,r),E=P&&pb(t,n,r,i);(A||E)&&(f={...f,...hS(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:y,errorUpdatedAt:x,status:v}=f;m=f.data;let p=!1;if(r.placeholderData!==void 0&&m===void 0&&v==="pending"){let P;s!=null&&s.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(P=s.data,p=!0):P=typeof r.placeholderData=="function"?r.placeholderData((C=$(this,_s))==null?void 0:C.state.data,$(this,_s)):r.placeholderData,P!==void 0&&(v="success",m=Up(s==null?void 0:s.data,P,r),h=!0)}if(r.select&&m!==void 0&&!p)if(s&&m===(o==null?void 0:o.data)&&r.select===$(this,Oc))m=$(this,Ns);else try{ee(this,Oc,r.select),m=r.select(m),m=Up(s==null?void 0:s.data,m,r),ee(this,Ns,m),ee(this,la,null)}catch(P){ee(this,la,P)}$(this,la)&&(y=$(this,la),m=$(this,Ns),x=Date.now(),v="error");const g=f.fetchStatus==="fetching",b=v==="pending",w=v==="error",j=b&&g,N=m!==void 0,S={status:v,fetchStatus:f.fetchStatus,isPending:b,isSuccess:v==="success",isError:w,isInitialLoading:j,isLoading:j,data:m,dataUpdatedAt:f.dataUpdatedAt,error:y,errorUpdatedAt:x,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:g,isRefetching:g&&!b,isLoadingError:w&&!N,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:w&&N,isStale:Ay(t,r),refetch:this.refetch,promise:$(this,Nn),isEnabled:yr(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const P=W=>{S.status==="error"?W.reject(S.error):S.data!==void 0&&W.resolve(S.data)},A=()=>{const W=ee(this,Nn,S.promise=Wp());P(W)},E=$(this,Nn);switch(E.status){case"pending":t.queryHash===n.queryHash&&P(E);break;case"fulfilled":(S.status==="error"||S.data!==E.value)&&A();break;case"rejected":(S.status!=="error"||S.error!==E.reason)&&A();break}}return S}updateResult(){const t=$(this,Dt),r=this.createResult($(this,Se),this.options);if(ee(this,ui,$(this,Se).state),ee(this,ws,this.options),$(this,ui).data!==void 0&&ee(this,_s,$(this,Se)),md(r,t))return;ee(this,Dt,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!$(this,Ss).size)return!0;const o=new Set(s??$(this,Ss));return this.options.throwOnError&&o.add("error"),Object.keys($(this,Dt)).some(l=>{const c=l;return $(this,Dt)[c]!==t[c]&&o.has(c)})};ge(this,$e,mS).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ge(this,$e,Gp).call(this)}},Vt=new WeakMap,Se=new WeakMap,Sc=new WeakMap,Dt=new WeakMap,ui=new WeakMap,ws=new WeakMap,Nn=new WeakMap,la=new WeakMap,Oc=new WeakMap,Ns=new WeakMap,_s=new WeakMap,di=new WeakMap,fi=new WeakMap,ca=new WeakMap,Ss=new WeakMap,$e=new WeakSet,al=function(t){ge(this,$e,Yp).call(this);let r=$(this,Se).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Bt)),r},Kp=function(){ge(this,$e,Xp).call(this);const t=Ca(this.options.staleTime,$(this,Se));if(_i||$(this,Dt).isStale||!Bp(t))return;const n=sS($(this,Dt).dataUpdatedAt,t)+1;ee(this,di,Ja.setTimeout(()=>{$(this,Dt).isStale||this.updateResult()},n))},Vp=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval($(this,Se)):this.options.refetchInterval)??!1},qp=function(t){ge(this,$e,Qp).call(this),ee(this,ca,t),!(_i||yr(this.options.enabled,$(this,Se))===!1||!Bp($(this,ca))||$(this,ca)===0)&&ee(this,fi,Ja.setInterval(()=>{(this.options.refetchIntervalInBackground||Py.isFocused())&&ge(this,$e,al).call(this)},$(this,ca)))},Gp=function(){ge(this,$e,Kp).call(this),ge(this,$e,qp).call(this,ge(this,$e,Vp).call(this))},Xp=function(){$(this,di)&&(Ja.clearTimeout($(this,di)),ee(this,di,void 0))},Qp=function(){$(this,fi)&&(Ja.clearInterval($(this,fi)),ee(this,fi,void 0))},Yp=function(){const t=$(this,Vt).getQueryCache().build($(this,Vt),this.options);if(t===$(this,Se))return;const r=$(this,Se);ee(this,Se,t),ee(this,Sc,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},mS=function(t){pt.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r($(this,Dt))}),$(this,Vt).getQueryCache().notify({query:$(this,Se),type:"observerResultsUpdated"})})},zN);function bE(e,t){return yr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function mb(e,t){return bE(e,t)||e.state.data!==void 0&&Zp(e,t,t.refetchOnMount)}function Zp(e,t,r){if(yr(t.enabled,e)!==!1&&Ca(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&Ay(e,t)}return!1}function pb(e,t,r,n){return(e!==t||yr(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Ay(e,r)}function Ay(e,t){return yr(t.enabled,e)!==!1&&e.isStaleByTime(Ca(t.staleTime,e))}function jE(e,t){return!md(e.getCurrentResult(),t)}function xb(e){return{onFetch:(t,r)=>{var d,f,h,m,y;const n=t.options,i=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,s=((m=t.state.data)==null?void 0:m.pages)||[],o=((y=t.state.data)==null?void 0:y.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let x=!1;const v=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?x=!0:t.signal.addEventListener("abort",()=>{x=!0}),t.signal)})},p=lS(t.options,t.fetchOptions),g=async(b,w,j)=>{if(x)return Promise.reject();if(w==null&&b.pages.length)return Promise.resolve(b);const _=(()=>{const A={client:t.client,queryKey:t.queryKey,pageParam:w,direction:j?"backward":"forward",meta:t.options.meta};return v(A),A})(),S=await p(_),{maxPages:C}=t.options,P=j?fE:dE;return{pages:P(b.pages,S,C),pageParams:P(b.pageParams,w,C)}};if(i&&s.length){const b=i==="backward",w=b?wE:gb,j={pages:s,pageParams:o},N=w(n,j);l=await g(j,N,b)}else{const b=e??s.length;do{const w=c===0?o[0]??n.initialPageParam:gb(n,l);if(c>0&&w==null)break;l=await g(l,w),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var x,v;return(v=(x=t.options).persister)==null?void 0:v.call(x,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function gb(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function wE(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Cc,tn,Lt,hi,rn,Zn,UN,NE=(UN=class extends fS{constructor(t){super();ie(this,rn);ie(this,Cc);ie(this,tn);ie(this,Lt);ie(this,hi);ee(this,Cc,t.client),this.mutationId=t.mutationId,ee(this,Lt,t.mutationCache),ee(this,tn,[]),this.state=t.state||pS(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){$(this,tn).includes(t)||($(this,tn).push(t),this.clearGcTimeout(),$(this,Lt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ee(this,tn,$(this,tn).filter(r=>r!==t)),this.scheduleGc(),$(this,Lt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){$(this,tn).length||(this.state.status==="pending"?this.scheduleGc():$(this,Lt).remove(this))}continue(){var t;return((t=$(this,hi))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,u,d,f,h,m,y,x,v,p,g,b,w,j,N,_,S,C;const r=()=>{ge(this,rn,Zn).call(this,{type:"continue"})},n={client:$(this,Cc),meta:this.options.meta,mutationKey:this.options.mutationKey};ee(this,hi,dS({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(P,A)=>{ge(this,rn,Zn).call(this,{type:"failed",failureCount:P,error:A})},onPause:()=>{ge(this,rn,Zn).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>$(this,Lt).canRun(this)}));const i=this.state.status==="pending",s=!$(this,hi).canStart();try{if(i)r();else{ge(this,rn,Zn).call(this,{type:"pending",variables:t,isPaused:s}),await((l=(o=$(this,Lt).config).onMutate)==null?void 0:l.call(o,t,this,n));const A=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,n));A!==this.state.context&&ge(this,rn,Zn).call(this,{type:"pending",context:A,variables:t,isPaused:s})}const P=await $(this,hi).start();return await((f=(d=$(this,Lt).config).onSuccess)==null?void 0:f.call(d,P,t,this.state.context,this,n)),await((m=(h=this.options).onSuccess)==null?void 0:m.call(h,P,t,this.state.context,n)),await((x=(y=$(this,Lt).config).onSettled)==null?void 0:x.call(y,P,null,this.state.variables,this.state.context,this,n)),await((p=(v=this.options).onSettled)==null?void 0:p.call(v,P,null,t,this.state.context,n)),ge(this,rn,Zn).call(this,{type:"success",data:P}),P}catch(P){try{throw await((b=(g=$(this,Lt).config).onError)==null?void 0:b.call(g,P,t,this.state.context,this,n)),await((j=(w=this.options).onError)==null?void 0:j.call(w,P,t,this.state.context,n)),await((_=(N=$(this,Lt).config).onSettled)==null?void 0:_.call(N,void 0,P,this.state.variables,this.state.context,this,n)),await((C=(S=this.options).onSettled)==null?void 0:C.call(S,void 0,P,t,this.state.context,n)),P}finally{ge(this,rn,Zn).call(this,{type:"error",error:P})}}finally{$(this,Lt).runNext(this)}}},Cc=new WeakMap,tn=new WeakMap,Lt=new WeakMap,hi=new WeakMap,rn=new WeakSet,Zn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),pt.batch(()=>{$(this,tn).forEach(n=>{n.onMutationUpdate(t)}),$(this,Lt).notify({mutation:this,type:"updated",action:t})})},UN);function pS(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var _n,Fr,Pc,WN,_E=(WN=class extends mo{constructor(t={}){super();ie(this,_n);ie(this,Fr);ie(this,Pc);this.config=t,ee(this,_n,new Set),ee(this,Fr,new Map),ee(this,Pc,0)}build(t,r,n){const i=new NE({client:t,mutationCache:this,mutationId:++Gc(this,Pc)._,options:t.defaultMutationOptions(r),state:n});return this.add(i),i}add(t){$(this,_n).add(t);const r=hu(t);if(typeof r=="string"){const n=$(this,Fr).get(r);n?n.push(t):$(this,Fr).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if($(this,_n).delete(t)){const r=hu(t);if(typeof r=="string"){const n=$(this,Fr).get(r);if(n)if(n.length>1){const i=n.indexOf(t);i!==-1&&n.splice(i,1)}else n[0]===t&&$(this,Fr).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=hu(t);if(typeof r=="string"){const n=$(this,Fr).get(r),i=n==null?void 0:n.find(s=>s.state.status==="pending");return!i||i===t}else return!0}runNext(t){var n;const r=hu(t);if(typeof r=="string"){const i=(n=$(this,Fr).get(r))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){pt.batch(()=>{$(this,_n).forEach(t=>{this.notify({type:"removed",mutation:t})}),$(this,_n).clear(),$(this,Fr).clear()})}getAll(){return Array.from($(this,_n))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>cb(r,n))}findAll(t={}){return this.getAll().filter(r=>cb(t,r))}notify(t){pt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return pt.batch(()=>Promise.all(t.map(r=>r.continue().catch(Bt))))}},_n=new WeakMap,Fr=new WeakMap,Pc=new WeakMap,WN);function hu(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Sn,ua,qt,On,In,Wu,Jp,HN,SE=(HN=class extends mo{constructor(r,n){super();ie(this,In);ie(this,Sn);ie(this,ua);ie(this,qt);ie(this,On);ee(this,Sn,r),this.setOptions(n),this.bindMethods(),ge(this,In,Wu).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var i;const n=this.options;this.options=$(this,Sn).defaultMutationOptions(r),md(this.options,n)||$(this,Sn).getMutationCache().notify({type:"observerOptionsUpdated",mutation:$(this,qt),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Si(n.mutationKey)!==Si(this.options.mutationKey)?this.reset():((i=$(this,qt))==null?void 0:i.state.status)==="pending"&&$(this,qt).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=$(this,qt))==null||r.removeObserver(this)}onMutationUpdate(r){ge(this,In,Wu).call(this),ge(this,In,Jp).call(this,r)}getCurrentResult(){return $(this,ua)}reset(){var r;(r=$(this,qt))==null||r.removeObserver(this),ee(this,qt,void 0),ge(this,In,Wu).call(this),ge(this,In,Jp).call(this)}mutate(r,n){var i;return ee(this,On,n),(i=$(this,qt))==null||i.removeObserver(this),ee(this,qt,$(this,Sn).getMutationCache().build($(this,Sn),this.options)),$(this,qt).addObserver(this),$(this,qt).execute(r)}},Sn=new WeakMap,ua=new WeakMap,qt=new WeakMap,On=new WeakMap,In=new WeakSet,Wu=function(){var n;const r=((n=$(this,qt))==null?void 0:n.state)??pS();ee(this,ua,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Jp=function(r){pt.batch(()=>{var n,i,s,o,l,c,u,d;if($(this,On)&&this.hasListeners()){const f=$(this,ua).variables,h=$(this,ua).context,m={client:$(this,Sn),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((i=(n=$(this,On)).onSuccess)==null||i.call(n,r.data,f,h,m),(o=(s=$(this,On)).onSettled)==null||o.call(s,r.data,null,f,h,m)):(r==null?void 0:r.type)==="error"&&((c=(l=$(this,On)).onError)==null||c.call(l,r.error,f,h,m),(d=(u=$(this,On)).onSettled)==null||d.call(u,void 0,r.error,f,h,m))}this.listeners.forEach(f=>{f($(this,ua))})})},HN),nn,KN,OE=(KN=class extends mo{constructor(t={}){super();ie(this,nn);this.config=t,ee(this,nn,new Map)}build(t,r,n){const i=r.queryKey,s=r.queryHash??Oy(i,r);let o=this.get(s);return o||(o=new yE({client:t,queryKey:i,queryHash:s,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(i)}),this.add(o)),o}add(t){$(this,nn).has(t.queryHash)||($(this,nn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=$(this,nn).get(t.queryHash);r&&(t.destroy(),r===t&&$(this,nn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){pt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return $(this,nn).get(t)}getAll(){return[...$(this,nn).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>lb(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>lb(t,n)):r}notify(t){pt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){pt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){pt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},nn=new WeakMap,KN),et,da,fa,Os,Cs,ha,Ps,As,VN,CE=(VN=class{constructor(e={}){ie(this,et);ie(this,da);ie(this,fa);ie(this,Os);ie(this,Cs);ie(this,ha);ie(this,Ps);ie(this,As);ee(this,et,e.queryCache||new OE),ee(this,da,e.mutationCache||new _E),ee(this,fa,e.defaultOptions||{}),ee(this,Os,new Map),ee(this,Cs,new Map),ee(this,ha,0)}mount(){Gc(this,ha)._++,$(this,ha)===1&&(ee(this,Ps,Py.subscribe(async e=>{e&&(await this.resumePausedMutations(),$(this,et).onFocus())})),ee(this,As,pd.subscribe(async e=>{e&&(await this.resumePausedMutations(),$(this,et).onOnline())})))}unmount(){var e,t;Gc(this,ha)._--,$(this,ha)===0&&((e=$(this,Ps))==null||e.call(this),ee(this,Ps,void 0),(t=$(this,As))==null||t.call(this),ee(this,As,void 0))}isFetching(e){return $(this,et).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return $(this,da).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=$(this,et).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=$(this,et).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Ca(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return $(this,et).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),i=$(this,et).get(n.queryHash),s=i==null?void 0:i.state.data,o=lE(t,s);if(o!==void 0)return $(this,et).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return pt.batch(()=>$(this,et).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=$(this,et).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=$(this,et);pt.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=$(this,et);return pt.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=pt.batch(()=>$(this,et).findAll(e).map(i=>i.cancel(r)));return Promise.all(n).then(Bt).catch(Bt)}invalidateQueries(e,t={}){return pt.batch(()=>($(this,et).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=pt.batch(()=>$(this,et).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(Bt)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(Bt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=$(this,et).build(this,t);return r.isStaleByTime(Ca(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Bt).catch(Bt)}fetchInfiniteQuery(e){return e.behavior=xb(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Bt).catch(Bt)}ensureInfiniteQueryData(e){return e.behavior=xb(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return pd.isOnline()?$(this,da).resumePausedMutations():Promise.resolve()}getQueryCache(){return $(this,et)}getMutationCache(){return $(this,da)}getDefaultOptions(){return $(this,fa)}setDefaultOptions(e){ee(this,fa,e)}setQueryDefaults(e,t){$(this,Os).set(Si(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...$(this,Os).values()],r={};return t.forEach(n=>{Ll(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){$(this,Cs).set(Si(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...$(this,Cs).values()],r={};return t.forEach(n=>{Ll(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...$(this,fa).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Oy(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Cy&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...$(this,fa).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){$(this,et).clear(),$(this,da).clear()}},et=new WeakMap,da=new WeakMap,fa=new WeakMap,Os=new WeakMap,Cs=new WeakMap,ha=new WeakMap,Ps=new WeakMap,As=new WeakMap,VN),xS=O.createContext(void 0),Mc=e=>{const t=O.useContext(xS);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},PE=({client:e,children:t})=>(O.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(xS.Provider,{value:e,children:t})),gS=O.createContext(!1),AE=()=>O.useContext(gS);gS.Provider;function kE(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var EE=O.createContext(kE()),$E=()=>O.useContext(EE),TE=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},ME=e=>{O.useEffect(()=>{e.clearReset()},[e])},RE=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(i&&e.data===void 0||cS(r,[e.error,n])),IE=e=>{if(e.suspense){const r=i=>i==="static"?i:Math.max(i??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...i)=>r(n(...i)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},DE=(e,t)=>e.isLoading&&e.isFetching&&!t,LE=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,yb=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function FE(e,t,r){var f,h,m,y,x;const n=AE(),i=$E(),s=Mc(),o=s.defaultQueryOptions(e);(h=(f=s.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,o),o._optimisticResults=n?"isRestoring":"optimistic",IE(o),TE(o,i),ME(i);const l=!s.getQueryCache().get(o.queryHash),[c]=O.useState(()=>new t(s,o)),u=c.getOptimisticResult(o),d=!n&&e.subscribed!==!1;if(O.useSyncExternalStore(O.useCallback(v=>{const p=d?c.subscribe(pt.batchCalls(v)):Bt;return c.updateResult(),p},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),O.useEffect(()=>{c.setOptions(o)},[o,c]),LE(o,u))throw yb(o,c,i);if(RE({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((y=(m=s.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||y.call(m,o,u),o.experimental_prefetchInRender&&!_i&&DE(u,n)){const v=l?yb(o,c,i):(x=s.getQueryCache().get(o.queryHash))==null?void 0:x.promise;v==null||v.catch(Bt).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function ye(e,t){return FE(e,vE)}function BE(e,t){const r=Mc(),[n]=O.useState(()=>new SE(r,e));O.useEffect(()=>{n.setOptions(e)},[n,e]);const i=O.useSyncExternalStore(O.useCallback(o=>n.subscribe(pt.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=O.useCallback((o,l)=>{n.mutate(o,l).catch(Bt)},[n]);if(i.error&&cS(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fl(){return Fl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fl.apply(this,arguments)}var xa;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(xa||(xa={}));const vb="popstate";function zE(e){e===void 0&&(e={});function t(n,i){let{pathname:s,search:o,hash:l}=n.location;return ex("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:xd(i)}return WE(t,r,null,e)}function ct(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ky(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function UE(){return Math.random().toString(36).substr(2,8)}function bb(e,t){return{usr:e.state,key:e.key,idx:t}}function ex(e,t,r,n){return r===void 0&&(r=null),Fl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?po(t):t,{state:r,key:t&&t.key||n||UE()})}function xd(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function po(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function WE(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,l=xa.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Fl({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=xa.Pop;let v=d(),p=v==null?null:v-u;u=v,c&&c({action:l,location:x.location,delta:p})}function h(v,p){l=xa.Push;let g=ex(x.location,v,p);u=d()+1;let b=bb(g,u),w=x.createHref(g);try{o.pushState(b,"",w)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(w)}s&&c&&c({action:l,location:x.location,delta:1})}function m(v,p){l=xa.Replace;let g=ex(x.location,v,p);u=d();let b=bb(g,u),w=x.createHref(g);o.replaceState(b,"",w),s&&c&&c({action:l,location:x.location,delta:0})}function y(v){let p=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof v=="string"?v:xd(v);return g=g.replace(/ $/,"%20"),ct(p,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,p)}let x={get action(){return l},get location(){return e(i,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(vb,f),c=v,()=>{i.removeEventListener(vb,f),c=null}},createHref(v){return t(i,v)},createURL:y,encodeLocation(v){let p=y(v);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:h,replace:m,go(v){return o.go(v)}};return x}var jb;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(jb||(jb={}));function HE(e,t,r){return r===void 0&&(r="/"),KE(e,t,r)}function KE(e,t,r,n){let i=typeof t=="string"?po(t):t,s=Ey(i.pathname||"/",r);if(s==null)return null;let o=yS(e);VE(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=a$(s);l=t$(o[c],u)}return l}function yS(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(ct(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Pa([n,c.relativePath]),d=r.concat(c);s.children&&s.children.length>0&&(ct(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),yS(s.children,t,d,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:JE(u,s.index),routesMeta:d})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let c of vS(s.path))i(s,o,c)}),t}function vS(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=vS(n.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function VE(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:e$(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const qE=/^:[\w-]+$/,GE=3,XE=2,QE=1,YE=10,ZE=-2,wb=e=>e==="*";function JE(e,t){let r=e.split("/"),n=r.length;return r.some(wb)&&(n+=ZE),t&&(n+=XE),r.filter(i=>!wb(i)).reduce((i,s)=>i+(qE.test(s)?GE:s===""?QE:YE),n)}function e$(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function t$(e,t,r){let{routesMeta:n}=e,i={},s="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=s==="/"?t:t.slice(s.length)||"/",f=r$({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Pa([s,f.pathname]),pathnameBase:c$(Pa([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=Pa([s,f.pathnameBase]))}return o}function r$(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=n$(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let x=l[f]||"";o=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const y=l[f];return m&&!y?u[h]=void 0:u[h]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function n$(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),ky(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function a$(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ky(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ey(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const i$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,s$=e=>i$.test(e);function o$(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?po(e):e,s;if(r)if(s$(r))s=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),ky(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?s=Nb(r.substring(1),"/"):s=Nb(r,t)}else s=t;return{pathname:s,search:u$(n),hash:d$(i)}}function Nb(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function lm(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function l$(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function bS(e,t){let r=l$(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function jS(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=po(e):(i=Fl({},e),ct(!i.pathname||!i.pathname.includes("?"),lm("?","pathname","search",i)),ct(!i.pathname||!i.pathname.includes("#"),lm("#","pathname","hash",i)),ct(!i.search||!i.search.includes("#"),lm("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=o$(i,l),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Pa=e=>e.join("/").replace(/\/\/+/g,"/"),c$=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),u$=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,d$=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function f$(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const wS=["post","put","patch","delete"];new Set(wS);const h$=["get",...wS];new Set(h$);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bl(){return Bl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bl.apply(this,arguments)}const $y=O.createContext(null),m$=O.createContext(null),Mi=O.createContext(null),Ff=O.createContext(null),Da=O.createContext({outlet:null,matches:[],isDataRoute:!1}),NS=O.createContext(null);function p$(e,t){let{relative:r}=t===void 0?{}:t;Rc()||ct(!1);let{basename:n,navigator:i}=O.useContext(Mi),{hash:s,pathname:o,search:l}=SS(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Pa([n,o])),i.createHref({pathname:c,search:l,hash:s})}function Rc(){return O.useContext(Ff)!=null}function Ic(){return Rc()||ct(!1),O.useContext(Ff).location}function _S(e){O.useContext(Mi).static||O.useLayoutEffect(e)}function x$(){let{isDataRoute:e}=O.useContext(Da);return e?A$():g$()}function g$(){Rc()||ct(!1);let e=O.useContext($y),{basename:t,future:r,navigator:n}=O.useContext(Mi),{matches:i}=O.useContext(Da),{pathname:s}=Ic(),o=JSON.stringify(bS(i,r.v7_relativeSplatPath)),l=O.useRef(!1);return _S(()=>{l.current=!0}),O.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=jS(u,JSON.parse(o),s,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Pa([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,s,e])}function xo(){let{matches:e}=O.useContext(Da),t=e[e.length-1];return t?t.params:{}}function SS(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=O.useContext(Mi),{matches:i}=O.useContext(Da),{pathname:s}=Ic(),o=JSON.stringify(bS(i,n.v7_relativeSplatPath));return O.useMemo(()=>jS(e,JSON.parse(o),s,r==="path"),[e,o,s,r])}function y$(e,t){return v$(e,t)}function v$(e,t,r,n){Rc()||ct(!1);let{navigator:i}=O.useContext(Mi),{matches:s}=O.useContext(Da),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Ic(),d;if(t){var f;let v=typeof t=="string"?po(t):t;c==="/"||(f=v.pathname)!=null&&f.startsWith(c)||ct(!1),d=v}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let v=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let y=HE(e,{pathname:m}),x=_$(y&&y.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Pa([c,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:Pa([c,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,r,n);return t&&x?O.createElement(Ff.Provider,{value:{location:Bl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:xa.Pop}},x):x}function b$(){let e=P$(),t=f$(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},t),r?O.createElement("pre",{style:i},r):null,null)}const j$=O.createElement(b$,null);class w$ extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?O.createElement(Da.Provider,{value:this.props.routeContext},O.createElement(NS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function N$(e){let{routeContext:t,match:r,children:n}=e,i=O.useContext($y);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),O.createElement(Da.Provider,{value:t},n)}function _$(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(i=r)==null?void 0:i.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||ct(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,y=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||y){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,y=!1,x=null,v=null;r&&(m=l&&f.route.id?l[f.route.id]:void 0,x=f.route.errorElement||j$,c&&(u<0&&h===0?(k$("route-fallback"),y=!0,v=null):u===h&&(y=!0,v=f.route.hydrateFallbackElement||null)));let p=t.concat(o.slice(0,h+1)),g=()=>{let b;return m?b=x:y?b=v:f.route.Component?b=O.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,O.createElement(N$,{match:f,routeContext:{outlet:d,matches:p,isDataRoute:r!=null},children:b})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?O.createElement(w$,{location:r.location,revalidation:r.revalidation,component:x,error:m,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()},null)}var OS=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(OS||{}),CS=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(CS||{});function S$(e){let t=O.useContext($y);return t||ct(!1),t}function O$(e){let t=O.useContext(m$);return t||ct(!1),t}function C$(e){let t=O.useContext(Da);return t||ct(!1),t}function PS(e){let t=C$(),r=t.matches[t.matches.length-1];return r.route.id||ct(!1),r.route.id}function P$(){var e;let t=O.useContext(NS),r=O$(),n=PS();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function A$(){let{router:e}=S$(OS.UseNavigateStable),t=PS(CS.UseNavigateStable),r=O.useRef(!1);return _S(()=>{r.current=!0}),O.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Bl({fromRouteId:t},s)))},[e,t])}const _b={};function k$(e,t,r){_b[e]||(_b[e]=!0)}function E$(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function vt(e){ct(!1)}function $$(e){let{basename:t="/",children:r=null,location:n,navigationType:i=xa.Pop,navigator:s,static:o=!1,future:l}=e;Rc()&&ct(!1);let c=t.replace(/^\/*/,"/"),u=O.useMemo(()=>({basename:c,navigator:s,static:o,future:Bl({v7_relativeSplatPath:!1},l)}),[c,l,s,o]);typeof n=="string"&&(n=po(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:y="default"}=n,x=O.useMemo(()=>{let v=Ey(d,c);return v==null?null:{location:{pathname:v,search:f,hash:h,state:m,key:y},navigationType:i}},[c,d,f,h,m,y,i]);return x==null?null:O.createElement(Mi.Provider,{value:u},O.createElement(Ff.Provider,{children:r,value:x}))}function T$(e){let{children:t,location:r}=e;return y$(tx(t),r)}new Promise(()=>{});function tx(e,t){t===void 0&&(t=[]);let r=[];return O.Children.forEach(e,(n,i)=>{if(!O.isValidElement(n))return;let s=[...t,i];if(n.type===O.Fragment){r.push.apply(r,tx(n.props.children,s));return}n.type!==vt&&ct(!1),!n.props.index||!n.props.children||ct(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=tx(n.props.children,s)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rx(){return rx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rx.apply(this,arguments)}function M$(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function R$(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function I$(e,t){return e.button===0&&(!t||t==="_self")&&!R$(e)}const D$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],L$="6";try{window.__reactRouterVersion=L$}catch{}const F$="startTransition",Sb=GA[F$];function B$(e){let{basename:t,children:r,future:n,window:i}=e,s=O.useRef();s.current==null&&(s.current=zE({window:i,v5Compat:!0}));let o=s.current,[l,c]=O.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=O.useCallback(f=>{u&&Sb?Sb(()=>c(f)):c(f)},[c,u]);return O.useLayoutEffect(()=>o.listen(d),[o,d]),O.useEffect(()=>E$(n),[n]),O.createElement($$,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const z$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",U$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ie=O.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:s,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=M$(t,D$),{basename:m}=O.useContext(Mi),y,x=!1;if(typeof u=="string"&&U$.test(u)&&(y=u,z$))try{let b=new URL(window.location.href),w=u.startsWith("//")?new URL(b.protocol+u):new URL(u),j=Ey(w.pathname,m);w.origin===b.origin&&j!=null?u=j+w.search+w.hash:x=!0}catch{}let v=p$(u,{relative:i}),p=W$(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:f});function g(b){n&&n(b),b.defaultPrevented||p(b)}return O.createElement("a",rx({},h,{href:y||v,onClick:x||s?n:g,ref:r,target:c}))});var Ob;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ob||(Ob={}));var Cb;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Cb||(Cb={}));function W$(e,t){let{target:r,replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:l}=t===void 0?{}:t,c=x$(),u=Ic(),d=SS(e,{relative:o});return O.useCallback(f=>{if(I$(f,r)){f.preventDefault();let h=n!==void 0?n:xd(u)===xd(d);c(e,{replace:h,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[u,c,d,n,i,r,e,s,o,l])}function AS(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=AS(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ce(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=AS(e))&&(n&&(n+=" "),n+=t);return n}const Ty="-",H$=e=>{const t=V$(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(Ty);return l[0]===""&&l.length!==1&&l.shift(),kS(l,t)||K$(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},kS=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),i=n?kS(e.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const s=e.join(Ty);return(o=t.validators.find(({validator:l})=>l(s)))==null?void 0:o.classGroupId},Pb=/^\[(.+)\]$/,K$=e=>{if(Pb.test(e)){const t=Pb.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},V$=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return G$(Object.entries(e.classGroups),r).forEach(([s,o])=>{nx(o,n,s,t)}),n},nx=(e,t,r,n)=>{e.forEach(i=>{if(typeof i=="string"){const s=i===""?t:Ab(t,i);s.classGroupId=r;return}if(typeof i=="function"){if(q$(i)){nx(i(n),t,r,n);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([s,o])=>{nx(o,Ab(t,s),r,n)})})},Ab=(e,t)=>{let r=e;return t.split(Ty).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},q$=e=>e.isThemeGetter,G$=(e,t)=>t?e.map(([r,n])=>{const i=n.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[t+o,l])):s);return[r,i]}):e,X$=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const i=(s,o)=>{r.set(s,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(s){let o=r.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return i(s,o),o},set(s,o){r.has(s)?r.set(s,o):i(s,o)}}},ES="!",Q$=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,i=t[0],s=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let v=0;v<l.length;v++){let p=l[v];if(u===0){if(p===i&&(n||l.slice(v,v+s)===t)){c.push(l.slice(d,v)),d=v+s;continue}if(p==="/"){f=v;continue}}p==="["?u++:p==="]"&&u--}const h=c.length===0?l:l.substring(d),m=h.startsWith(ES),y=m?h.substring(1):h,x=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:x}};return r?l=>r({className:l,parseClassName:o}):o},Y$=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},Z$=e=>({cache:X$(e.cacheSize),parseClassName:Q$(e),...H$(e)}),J$=/\s+/,eT=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=t,s=[],o=e.trim().split(J$);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let y=!!m,x=n(y?h.substring(0,m):h);if(!x){if(!y){l=u+(l.length>0?" "+l:l);continue}if(x=n(h),!x){l=u+(l.length>0?" "+l:l);continue}y=!1}const v=Y$(d).join(":"),p=f?v+ES:v,g=p+x;if(s.includes(g))continue;s.push(g);const b=i(x,y);for(let w=0;w<b.length;++w){const j=b[w];s.push(p+j)}l=u+(l.length>0?" "+l:l)}return l};function tT(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=$S(t))&&(n&&(n+=" "),n+=r);return n}const $S=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=$S(e[n]))&&(r&&(r+=" "),r+=t);return r};function rT(e,...t){let r,n,i,s=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=Z$(u),n=r.cache.get,i=r.cache.set,s=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=eT(c,r);return i(c,d),d}return function(){return s(tT.apply(null,arguments))}}const Ue=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},TS=/^\[(?:([a-z-]+):)?(.+)\]$/i,nT=/^\d+\/\d+$/,aT=new Set(["px","full","screen"]),iT=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,sT=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,oT=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,lT=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,cT=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,mn=e=>hs(e)||aT.has(e)||nT.test(e),Qn=e=>go(e,"length",gT),hs=e=>!!e&&!Number.isNaN(Number(e)),cm=e=>go(e,"number",hs),Bo=e=>!!e&&Number.isInteger(Number(e)),uT=e=>e.endsWith("%")&&hs(e.slice(0,-1)),pe=e=>TS.test(e),Yn=e=>iT.test(e),dT=new Set(["length","size","percentage"]),fT=e=>go(e,dT,MS),hT=e=>go(e,"position",MS),mT=new Set(["image","url"]),pT=e=>go(e,mT,vT),xT=e=>go(e,"",yT),zo=()=>!0,go=(e,t,r)=>{const n=TS.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},gT=e=>sT.test(e)&&!oT.test(e),MS=()=>!1,yT=e=>lT.test(e),vT=e=>cT.test(e),bT=()=>{const e=Ue("colors"),t=Ue("spacing"),r=Ue("blur"),n=Ue("brightness"),i=Ue("borderColor"),s=Ue("borderRadius"),o=Ue("borderSpacing"),l=Ue("borderWidth"),c=Ue("contrast"),u=Ue("grayscale"),d=Ue("hueRotate"),f=Ue("invert"),h=Ue("gap"),m=Ue("gradientColorStops"),y=Ue("gradientColorStopPositions"),x=Ue("inset"),v=Ue("margin"),p=Ue("opacity"),g=Ue("padding"),b=Ue("saturate"),w=Ue("scale"),j=Ue("sepia"),N=Ue("skew"),_=Ue("space"),S=Ue("translate"),C=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",pe,t],E=()=>[pe,t],W=()=>["",mn,Qn],D=()=>["auto",hs,pe],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],T=()=>["solid","dashed","dotted","double","none"],z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",pe],k=()=>["auto","avoid","all","avoid-page","page","left","right","column"],I=()=>[hs,pe];return{cacheSize:500,separator:":",theme:{colors:[zo],spacing:[mn,Qn],blur:["none","",Yn,pe],brightness:I(),borderColor:[e],borderRadius:["none","","full",Yn,pe],borderSpacing:E(),borderWidth:W(),contrast:I(),grayscale:B(),hueRotate:I(),invert:B(),gap:E(),gradientColorStops:[e],gradientColorStopPositions:[uT,Qn],inset:A(),margin:A(),opacity:I(),padding:E(),saturate:I(),scale:I(),sepia:B(),skew:I(),space:E(),translate:E()},classGroups:{aspect:[{aspect:["auto","square","video",pe]}],container:["container"],columns:[{columns:[Yn]}],"break-after":[{"break-after":k()}],"break-before":[{"break-before":k()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),pe]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Bo,pe]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",pe]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",Bo,pe]}],"grid-cols":[{"grid-cols":[zo]}],"col-start-end":[{col:["auto",{span:["full",Bo,pe]},pe]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[zo]}],"row-start-end":[{row:["auto",{span:[Bo,pe]},pe]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",pe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",pe]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",pe,t]}],"min-w":[{"min-w":[pe,t,"min","max","fit"]}],"max-w":[{"max-w":[pe,t,"none","full","min","max","fit","prose",{screen:[Yn]},Yn]}],h:[{h:[pe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[pe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[pe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[pe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Yn,Qn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",cm]}],"font-family":[{font:[zo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",pe]}],"line-clamp":[{"line-clamp":["none",hs,cm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",mn,pe]}],"list-image":[{"list-image":["none",pe]}],"list-style-type":[{list:["none","disc","decimal",pe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[p]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[p]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...T(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",mn,Qn]}],"underline-offset":[{"underline-offset":["auto",mn,pe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[p]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),hT]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",fT]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},pT]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[p]}],"border-style":[{border:[...T(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[p]}],"divide-style":[{divide:T()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...T()]}],"outline-offset":[{"outline-offset":[mn,pe]}],"outline-w":[{outline:[mn,Qn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[p]}],"ring-offset-w":[{"ring-offset":[mn,Qn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Yn,xT]}],"shadow-color":[{shadow:[zo]}],opacity:[{opacity:[p]}],"mix-blend":[{"mix-blend":[...z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":z()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Yn,pe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[p]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",pe]}],duration:[{duration:I()}],ease:[{ease:["linear","in","out","in-out",pe]}],delay:[{delay:I()}],animate:[{animate:["none","spin","ping","pulse","bounce",pe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[Bo,pe]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",pe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",pe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",pe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[mn,Qn,cm]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},jT=rT(bT);function G(...e){return jT(Ce(e))}function V(e,t="EUR"){if(e==null)return"-";const r=Object.is(e,-0)||e>-.005&&e<0?0:e;return new Intl.NumberFormat("en-US",{style:"currency",currency:t,minimumFractionDigits:2,maximumFractionDigits:2}).format(r)}function lt(e,t=1){if(e==null)return"-";const r=e.toFixed(t);return`${r.startsWith("-0.")&&parseFloat(r)===0?r.slice(1):r}%`}function Ne(e){return e==null?"-":e>=1e6?`${(e/1e6).toFixed(1)}M`:e>=1e3?`${(e/1e3).toFixed(1)}K`:e.toLocaleString()}function Bf(e){return e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"-"}function RS(e){return e?new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-"}/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ae=(e,t)=>{const r=O.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>O.createElement("svg",{ref:d,...wT,width:i,height:i,stroke:n,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${NT(e)}`,l].join(" "),...u},[...t.map(([f,h])=>O.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gd=ae("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=ae("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=ae("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=ae("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=ae("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=ae("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=ae("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=ae("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=ae("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ry=ae("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=ae("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=ae("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=ae("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=ae("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=ae("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=ae("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=ae("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=ae("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=ae("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=ae("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=ae("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=ae("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=ae("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=ae("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=ae("FileWarning",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=ae("FileX",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m14.5 12.5-5 5",key:"b62r18"}],["path",{d:"m9.5 12.5 5 5",key:"1rk7el"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uf=ae("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=ae("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=ae("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=ae("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=ae("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=ae("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=ae("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=ae("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=ae("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=ae("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BS=ae("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yd=ae("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oi=ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=ae("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=ae("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=ae("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=ae("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=ae("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=ae("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=ae("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=ae("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=ae("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=ae("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=ae("Table2",[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",key:"gugj83"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=ae("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=ae("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=ae("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=ae("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=ae("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=ae("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zy=ae("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),KT={},Eb=e=>{let t;const r=new Set,n=(d,f)=>{const h=typeof d=="function"?d(t):d;if(!Object.is(h,t)){const m=t;t=f??(typeof h!="object"||h===null)?h:Object.assign({},t,h),r.forEach(y=>y(t,m))}},i=()=>t,c={setState:n,getState:i,getInitialState:()=>u,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{(KT?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=t=e(n,i,c);return c},VT=e=>e?Eb(e):Eb;var VS={exports:{}},qS={},GS={exports:{}},XS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fs=O;function qT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var GT=typeof Object.is=="function"?Object.is:qT,XT=Fs.useState,QT=Fs.useEffect,YT=Fs.useLayoutEffect,ZT=Fs.useDebugValue;function JT(e,t){var r=t(),n=XT({inst:{value:r,getSnapshot:t}}),i=n[0].inst,s=n[1];return YT(function(){i.value=r,i.getSnapshot=t,um(i)&&s({inst:i})},[e,r,t]),QT(function(){return um(i)&&s({inst:i}),e(function(){um(i)&&s({inst:i})})},[e]),ZT(r),r}function um(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!GT(e,r)}catch{return!0}}function eM(e,t){return t()}var tM=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?eM:JT;XS.useSyncExternalStore=Fs.useSyncExternalStore!==void 0?Fs.useSyncExternalStore:tM;GS.exports=XS;var rM=GS.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wf=O,nM=rM;function aM(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var iM=typeof Object.is=="function"?Object.is:aM,sM=nM.useSyncExternalStore,oM=Wf.useRef,lM=Wf.useEffect,cM=Wf.useMemo,uM=Wf.useDebugValue;qS.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var s=oM(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=cM(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),i!==void 0&&o.hasValue){var y=o.value;if(i(y,m))return f=y}return f=m}if(y=f,iM(d,m))return y;var x=n(m);return i!==void 0&&i(y,x)?(d=m,y):(d=m,f=x)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,i]);var l=sM(e,s[0],s[1]);return lM(function(){o.hasValue=!0,o.value=l},[l]),uM(l),l};VS.exports=qS;var dM=VS.exports;const fM=De(dM),QS={},{useDebugValue:hM}=R,{useSyncExternalStoreWithSelector:mM}=fM;let $b=!1;const pM=e=>e;function xM(e,t=pM,r){(QS?"production":void 0)!=="production"&&r&&!$b&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),$b=!0);const n=mM(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return hM(n),n}const gM=e=>{(QS?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?VT(e):e,r=(n,i)=>xM(t,n,i);return Object.assign(r,t),r},yM=e=>gM,vM={};function bM(e,t){let r;try{r=e()}catch{return}return{getItem:i=>{var s;const o=c=>c===null?null:JSON.parse(c,void 0),l=(s=r.getItem(i))!=null?s:null;return l instanceof Promise?l.then(o):o(l)},setItem:(i,s)=>r.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>r.removeItem(i)}}const zl=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return zl(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return zl(n)(r)}}}},jM=(e,t)=>(r,n,i)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:v=>v,version:0,merge:(v,p)=>({...p,...v}),...t},o=!1;const l=new Set,c=new Set;let u;try{u=s.getStorage()}catch{}if(!u)return e((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),r(...v)},n,i);const d=zl(s.serialize),f=()=>{const v=s.partialize({...n()});let p;const g=d({state:v,version:s.version}).then(b=>u.setItem(s.name,b)).catch(b=>{p=b});if(p)throw p;return g},h=i.setState;i.setState=(v,p)=>{h(v,p),f()};const m=e((...v)=>{r(...v),f()},n,i);let y;const x=()=>{var v;if(!u)return;o=!1,l.forEach(g=>g(n()));const p=((v=s.onRehydrateStorage)==null?void 0:v.call(s,n()))||void 0;return zl(u.getItem.bind(u))(s.name).then(g=>{if(g)return s.deserialize(g)}).then(g=>{if(g)if(typeof g.version=="number"&&g.version!==s.version){if(s.migrate)return s.migrate(g.state,g.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return g.state}).then(g=>{var b;return y=s.merge(g,(b=n())!=null?b:m),r(y,!0),f()}).then(()=>{p==null||p(y,void 0),o=!0,c.forEach(g=>g(y))}).catch(g=>{p==null||p(void 0,g)})};return i.persist={setOptions:v=>{s={...s,...v},v.getStorage&&(u=v.getStorage())},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>x(),hasHydrated:()=>o,onHydrate:v=>(l.add(v),()=>{l.delete(v)}),onFinishHydration:v=>(c.add(v),()=>{c.delete(v)})},x(),y||m},wM=(e,t)=>(r,n,i)=>{let s={storage:bM(()=>localStorage),partialize:x=>x,version:0,merge:(x,v)=>({...v,...x}),...t},o=!1;const l=new Set,c=new Set;let u=s.storage;if(!u)return e((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),r(...x)},n,i);const d=()=>{const x=s.partialize({...n()});return u.setItem(s.name,{state:x,version:s.version})},f=i.setState;i.setState=(x,v)=>{f(x,v),d()};const h=e((...x)=>{r(...x),d()},n,i);i.getInitialState=()=>h;let m;const y=()=>{var x,v;if(!u)return;o=!1,l.forEach(g=>{var b;return g((b=n())!=null?b:h)});const p=((v=s.onRehydrateStorage)==null?void 0:v.call(s,(x=n())!=null?x:h))||void 0;return zl(u.getItem.bind(u))(s.name).then(g=>{if(g)if(typeof g.version=="number"&&g.version!==s.version){if(s.migrate)return[!0,s.migrate(g.state,g.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,g.state];return[!1,void 0]}).then(g=>{var b;const[w,j]=g;if(m=s.merge(j,(b=n())!=null?b:h),r(m,!0),w)return d()}).then(()=>{p==null||p(m,void 0),m=n(),o=!0,c.forEach(g=>g(m))}).catch(g=>{p==null||p(void 0,g)})};return i.persist={setOptions:x=>{s={...s,...x},x.storage&&(u=x.storage)},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>y(),hasHydrated:()=>o,onHydrate:x=>(l.add(x),()=>{l.delete(x)}),onFinishHydration:x=>(c.add(x),()=>{c.delete(x)})},s.skipHydration||y(),m||h},NM=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((vM?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),jM(e,t)):wM(e,t),_M=NM,Tb="",Hf=yM()(_M((e,t)=>({status:"disconnected",backendUrl:Tb,lastChecked:null,error:null,setBackendUrl:r=>{e({backendUrl:r,status:"disconnected",error:null})},setStatus:r=>{e({status:r})},setError:r=>{e({error:r})},checkConnection:async()=>{const{backendUrl:r}=t();if(!r)return e({status:"disconnected",lastChecked:Date.now(),error:null}),!1;e({status:"checking",error:null});try{const n=new AbortController,i=setTimeout(()=>n.abort(),5e3),s=await fetch(`${r}/api/health`,{method:"GET",signal:n.signal});return clearTimeout(i),s.ok?(e({status:"connected",lastChecked:Date.now(),error:null}),!0):(e({status:"disconnected",lastChecked:Date.now(),error:`Backend returned status ${s.status}`}),!1)}catch(n){const i=n instanceof Error?n.message:"Connection failed";return e({status:"disconnected",lastChecked:Date.now(),error:i}),!1}},resetToDefault:()=>{e({backendUrl:Tb,status:"disconnected",error:null})}}),{name:"finalyst-backend",partialize:e=>({backendUrl:e.backendUrl})}));function Kf(){return Hf(t=>t.status)!=="connected"}function SM({isOpen:e,onClose:t}){const{backendUrl:r,status:n,error:i,setBackendUrl:s,checkConnection:o,resetToDefault:l}=Hf(),[c,u]=O.useState(r),[d,f]=O.useState(!1),[h,m]=O.useState(null);O.useEffect(()=>{e&&(u(r),m(null))},[e,r]);const y=async()=>{if(!c.trim()){m("error");return}f(!0),m(null);try{const p=new AbortController,g=setTimeout(()=>p.abort(),5e3),b=await fetch(`${c.trim()}/api/health`,{method:"GET",signal:p.signal});clearTimeout(g),m(b.ok?"success":"error")}catch{m("error")}finally{f(!1)}},x=async()=>{s(c.trim()),await o(),t()},v=()=>{l(),u(""),m(null)};return e?a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:t}),a.jsxs("div",{className:"relative w-full max-w-lg bg-white rounded-xl shadow-2xl",children:[a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(IT,{className:"w-5 h-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Backend Connection"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Configure the backend API URL"})]})]}),a.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(Wt,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"px-6 py-4 space-y-4",children:[a.jsxs("div",{className:`p-3 rounded-lg ${n==="connected"?"bg-green-50 border border-green-200":"bg-gray-50 border border-gray-200"}`,children:[a.jsx("div",{className:"flex items-center gap-2",children:n==="connected"?a.jsxs(a.Fragment,{children:[a.jsx(Ds,{className:"w-4 h-4 text-green-600"}),a.jsx("span",{className:"text-sm font-medium text-green-700",children:"Currently connected"})]}):n==="checking"?a.jsxs(a.Fragment,{children:[a.jsx(Ee,{className:"w-4 h-4 text-blue-600 animate-spin"}),a.jsx("span",{className:"text-sm font-medium text-blue-700",children:"Checking connection..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(gd,{className:"w-4 h-4 text-gray-500"}),a.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Not connected - read-only mode"})]})}),i&&a.jsx("p",{className:"mt-1 text-xs text-red-600",children:i})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Backend API URL"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:c,onChange:p=>{u(p.target.value),m(null)},placeholder:"https://api.example.com",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.jsx("button",{onClick:y,disabled:d||!c.trim(),className:"px-4 py-2 text-sm font-medium text-blue-600 border border-blue-300 rounded-lg hover:bg-blue-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:d?a.jsx(Ee,{className:"w-4 h-4 animate-spin"}):"Test"})]}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Enter the base URL of your backend API (without /api/health)"}),h&&a.jsx("div",{className:`mt-2 flex items-center gap-2 text-sm ${h==="success"?"text-green-600":"text-red-600"}`,children:h==="success"?a.jsxs(a.Fragment,{children:[a.jsx(Ds,{className:"w-4 h-4"}),"Connection successful"]}):a.jsxs(a.Fragment,{children:[a.jsx(gd,{className:"w-4 h-4"}),"Connection failed - check URL and try again"]})})]}),a.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg text-xs text-gray-600",children:[a.jsx("p",{className:"font-medium mb-1",children:"When connected:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-0.5",children:[a.jsx("li",{children:"Full UI functionality is available"}),a.jsx("li",{children:"Settings can be modified and saved"}),a.jsx("li",{children:"Experiments can be created and run"}),a.jsx("li",{children:"Transaction search is enabled"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-gray-50 rounded-b-xl",children:[a.jsxs("button",{onClick:v,className:"flex items-center gap-2 px-3 py-2 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[a.jsx(Ly,{className:"w-4 h-4"}),"Reset to Default"]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:t,className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),a.jsx("button",{onClick:x,className:"px-4 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Save & Connect"})]})]})]})]}):null}const OM=[{name:"Reports",href:"/",icon:Ri},{name:"Merchants",href:"/merchants",icon:KS},{name:"Transactions",href:"/transactions",icon:zS},{name:"Experiments",href:"/experiments",icon:Uf}];function CM({status:e,onClick:t}){const r={connected:{icon:WT,bg:"bg-green-50",iconColor:"text-green-600",textColor:"text-green-700",label:"Connected"},disconnected:{icon:UT,bg:"bg-gray-50",iconColor:"text-gray-400",textColor:"text-gray-500",label:"Offline"},checking:{icon:Ee,bg:"bg-blue-50",iconColor:"text-blue-600",textColor:"text-blue-700",label:"Checking..."}}[e],n=r.icon;return a.jsxs("button",{onClick:t,className:G("w-full flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-colors",r.bg,"hover:opacity-80"),title:e==="connected"?"Click to configure":"Click to connect",children:[a.jsx(n,{className:G("h-5 w-5",r.iconColor,e==="checking"&&"animate-spin")}),a.jsx("span",{className:r.textColor,children:r.label})]})}function PM({currentPath:e}){const[t,r]=O.useState(!1),{status:n,checkConnection:i}=Hf(),s=async()=>{n!=="checking"&&(n==="disconnected"&&await i()||r(!0))};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-gray-200 space-y-2",children:[a.jsx(CM,{status:n,onClick:s}),a.jsxs(Ie,{to:"/settings",className:G("flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-colors",e==="/settings"?"bg-primary-50 text-primary-700":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"),children:[a.jsx(Fy,{className:"h-5 w-5"}),"Settings"]})]}),a.jsx(SM,{isOpen:t,onClose:()=>r(!1)})]})}function AM({children:e}){const t=Ic(),[r,n]=O.useState([]),[i,s]=O.useState(""),[o,l]=O.useState(!1),[c,u]=O.useState(!0),[d,f]=O.useState(!1);O.useEffect(()=>{async function y(){try{const x=await fetch("/api/client/versions");if(x.ok){const v=await x.json();n(v.versions),s(v.current)}}catch(x){console.error("Failed to fetch versions:",x)}finally{u(!1)}}y()},[]);async function h(y){if(!(y===i||d)){f(!0);try{(await fetch("/api/version",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({version:y})})).ok&&window.location.reload()}catch(x){console.error("Failed to switch version:",x)}finally{f(!1),l(!1)}}}const m=r.find(y=>y.id===i);return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsxs("aside",{className:"fixed inset-y-0 left-0 z-50 w-64 bg-white border-r border-gray-200",children:[a.jsx("div",{className:"flex h-16 items-center px-6 border-b border-gray-200",children:a.jsx("img",{src:"/logo.svg",alt:"Finalyst",className:"h-8"})}),a.jsx("div",{className:"p-4 border-b border-gray-100",children:a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>l(!o),disabled:c||d||r.length<=1,className:G("w-full flex items-center justify-between gap-2 px-3 py-2 bg-gray-50 rounded-lg transition-colors",r.length>1?"hover:bg-gray-100 cursor-pointer":"cursor-default",(c||d)&&"opacity-50"),children:[a.jsxs("div",{className:"flex items-center gap-2",children:[d?a.jsx(Ee,{className:"h-4 w-4 text-gray-500 animate-spin"}):a.jsx(Dy,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:c?"Loading...":(m==null?void 0:m.name)||i||"Mainline"})]}),r.length>1&&a.jsx(qe,{className:G("h-4 w-4 text-gray-400 transition-transform",o&&"rotate-180")})]}),o&&r.length>1&&a.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-10 py-1",children:r.map(y=>a.jsxs("button",{onClick:()=>h(y.id),disabled:d,className:G("w-full text-left px-3 py-2 hover:bg-gray-50",i===y.id&&"bg-blue-50"),children:[a.jsx("div",{className:"text-sm font-medium text-gray-700",children:y.name}),y.description&&a.jsx("div",{className:"text-xs text-gray-500",children:y.description})]},y.id))})]})}),a.jsx("nav",{className:"flex flex-col gap-1 p-4",children:OM.map(y=>{const x=t.pathname===y.href;return a.jsxs(Ie,{to:y.href,className:G("flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-colors",x?"bg-primary-50 text-primary-700":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"),children:[a.jsx(y.icon,{className:"h-5 w-5"}),y.name]},y.name)})}),a.jsx(PM,{currentPath:t.pathname})]}),a.jsx("main",{className:"pl-64",children:a.jsx("div",{className:"p-8",children:e})})]})}const YS="/api";async function he(e,t){const r=await fetch(`${YS}${e}`,{...t,headers:{"Content-Type":"application/json",...t==null?void 0:t.headers}});if(!r.ok){const n=await r.json().catch(()=>({detail:"Request failed"}));throw new Error(n.detail||"Request failed")}return r.json()}const se={health:()=>he("/health"),searchTransactions:e=>he(`/transactions/search?q=${encodeURIComponent(e)}`),getTransaction:e=>he(`/transactions/${e}`),getTransactionWhy:e=>he(`/transactions/${e}/why`),refreshTransaction:e=>he(`/transactions/${e}/refresh`,{method:"POST"}),getMerchants:()=>he("/merchants"),getMerchant:e=>he(`/merchants/${e}`),getMerchantMonthly:e=>he(`/merchants/${e}/monthly`),getMerchantDynamics:e=>he(`/merchants/${e}/dynamics`),getPlanDailyData:(e,t,r)=>he(`/merchants/${e}/plan-daily?plan_id=${encodeURIComponent(t)}&month=${r}`),getPlanDynamics:(e,t)=>he(`/merchants/${e}/plan-dynamics/${encodeURIComponent(t)}`),getMerchantRatePlanAnalysis:(e,t,r)=>{const n=new URLSearchParams;r&&n.append("contract_id",r),t&&(t.rate_precision!==void 0&&n.append("rate_precision",String(t.rate_precision)),t.fixed_tolerance!==void 0&&n.append("fixed_tolerance",String(t.fixed_tolerance)),t.match_tolerance!==void 0&&n.append("match_tolerance",String(t.match_tolerance)),t.min_confidence!==void 0&&n.append("min_confidence",String(t.min_confidence)),t.max_variants!==void 0&&n.append("max_variants",String(t.max_variants)),t.min_period_days!==void 0&&n.append("min_period_days",String(t.min_period_days)),t.min_transactions!==void 0&&n.append("min_transactions",String(t.min_transactions)),t.prefer_lower_rate!==void 0&&n.append("prefer_lower_rate",String(t.prefer_lower_rate)));const i=n.toString();return he(`/merchants/${e}/rate-plan-analysis${i?"?"+i:""}`)},refreshMerchant:e=>he(`/merchants/${e}/refresh`,{method:"POST"}),recreateRatePlans:e=>he(`/merchants/${e}/recreate-rate-plans`,{method:"POST"}),applyContractRates:e=>he(`/merchants/${e}/apply-contract-rates`,{method:"POST"}),getMerchantAnalysisConfig:e=>he(`/merchants/${e}/analysis-config`),saveMerchantAnalysisConfig:(e,t)=>he(`/merchants/${e}/analysis-config`,{method:"PUT",body:JSON.stringify(t)}),getContracts:e=>he(`/contracts/${e}`),getContract:(e,t)=>he(`/contracts/${e}/${encodeURIComponent(t)}`),uploadContract:async(e,t)=>{const r=new FormData;r.append("file",t);const n=await fetch(`${YS}/contracts/convert?merchant_id=${e}`,{method:"POST",body:r});if(!n.ok){const i=await n.json().catch(()=>({detail:"Upload failed"}));throw new Error(i.detail||"Upload failed")}return n.json()},deleteContract:(e,t)=>he(`/contracts/${e}/${encodeURIComponent(t)}`,{method:"DELETE"}),getPlanStats:(e,t)=>he(`/merchants/${e}/plan-stats/${encodeURIComponent(t)}`),getContractPlans:e=>he(`/merchants/${e}/contract-plans`),getContractMapping:(e,t,r,n=!1)=>he(`/contracts/${e}/${encodeURIComponent(t)}/mapping`,{method:"POST",body:JSON.stringify({fees:r,force_recalculate:n})}),testFormula:(e,t,r,n,i=.05)=>he(`/merchants/${e}/test-formula/${encodeURIComponent(t)}?rate=${r}&fixed=${n}&tolerance=${i}`),getReportsList:()=>he("/reports/list"),getDeviationReport:()=>he("/reports/deviation"),getUnderpaymentReport:()=>he("/reports/deviation/underpay"),getContractMismatchReport:()=>he("/reports/contract-mismatch"),getAnomaliesReport:()=>he("/reports/anomalies"),getReconciliationDeviationReport:()=>he("/reports/reconciliation-deviation"),getCommissionComplianceReport:()=>he("/reports/underpayment-v2"),getOverview:()=>he("/overview"),getCases:()=>he("/cases"),getCase:e=>he(`/cases/${e}`),getMerchantByShortname:e=>he(`/merchant/${e}`),getMerchantStream:(e,t)=>he(`/merchant/${e}/streams/${t}`),getDynamicsByShortname:e=>he(`/merchant/${e}/dynamics`),getAnalysisByShortname:(e,t)=>{const r=new URLSearchParams;t&&(t.rate_precision!==void 0&&r.append("rate_precision",String(t.rate_precision)),t.fixed_tolerance!==void 0&&r.append("fixed_tolerance",String(t.fixed_tolerance)),t.match_tolerance!==void 0&&r.append("match_tolerance",String(t.match_tolerance)),t.min_confidence!==void 0&&r.append("min_confidence",String(t.min_confidence)),t.max_variants!==void 0&&r.append("max_variants",String(t.max_variants)),t.min_period_days!==void 0&&r.append("min_period_days",String(t.min_period_days)),t.min_transactions!==void 0&&r.append("min_transactions",String(t.min_transactions)),t.prefer_lower_rate!==void 0&&r.append("prefer_lower_rate",String(t.prefer_lower_rate)));const n=r.toString();return he(`/merchant/${e}/rate-plan-analysis${n?"?"+n:""}`)},getContractsByShortname:e=>he(`/merchant/${e}/contracts`),getContractByShortname:(e,t)=>he(`/merchant/${e}/contracts/${encodeURIComponent(t)}`),getContractPlansByShortname:e=>he(`/merchant/${e}/contract-plans`),getAnalysisConfigByShortname:e=>he(`/merchant/${e}/analysis-config`),getPlanDynamicsByShortname:(e,t)=>he(`/merchant/${e}/plan-dynamics/${encodeURIComponent(t)}`)};function ne({children:e,title:t,className:r,actions:n}){return a.jsxs("div",{className:G("bg-white rounded-xl border border-gray-200 shadow-sm",r),children:[(t||n)&&a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[t&&a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t}),n&&a.jsx("div",{children:n})]}),a.jsx("div",{className:"p-6",children:e})]})}const kM={TrendingDown:Dc,FileWarning:kT,AlertTriangle:nt,FileCheck:DS,CheckCircle:Ta};function EM(){var v;const{data:e,isLoading:t}=ye({queryKey:["reports","list"],queryFn:se.getReportsList}),{data:r,isLoading:n}=ye({queryKey:["reports","deviation"],queryFn:se.getDeviationReport}),{data:i,isLoading:s}=ye({queryKey:["reports","contract-mismatch"],queryFn:se.getContractMismatchReport}),{data:o,isLoading:l}=ye({queryKey:["reports","anomalies"],queryFn:se.getAnomaliesReport}),c=t||n||s||l,u=r!=null&&r.merchant_summary?{totalLoss:-Object.values(r.merchant_summary).reduce((p,g)=>p+g.underpay_volume,0),transactions:Object.values(r.merchant_summary).reduce((p,g)=>p+g.underpay_count,0)}:null,d=i!=null&&i.match_quality?{totalDeviation:i.match_quality.total_deviation??0,transactions:i.match_quality.total??0,criticalCount:typeof i.match_quality.critical=="object"?((v=i.match_quality.critical)==null?void 0:v.count)??0:i.match_quality.critical??0}:null,f=o?{zeroCommission:o.zero_commission.total_count,totalAnomalies:o.zero_commission.total_count+o.fixed_fee_mismatch.total_count+o.manual_transactions.total_count}:null,h={"underpayment-analysis":{bg:"bg-red-100",color:"text-red-600"},"contract-mismatch":{bg:"bg-amber-100",color:"text-amber-600"},anomalies:{bg:"bg-purple-100",color:"text-purple-600"},"reconciliation-deviation":{bg:"bg-blue-100",color:"text-blue-600"},"commission-compliance":{bg:"bg-green-100",color:"text-green-600"}},m=p=>{switch(p){case"underpayment-analysis":return u?{totalLoss:u.totalLoss,transactions:u.transactions,criticalIssues:u.totalLoss<-1e3?1:0}:null;case"contract-mismatch":return d?{totalLoss:d.totalDeviation,transactions:d.transactions,criticalIssues:d.criticalCount>1e5?1:0}:null;case"anomalies":return f?{totalLoss:null,transactions:f.totalAnomalies,criticalIssues:f.zeroCommission}:null;default:return null}},y=p=>{switch(p){case"underpayment-analysis":return u&&u.totalLoss<-1e3?"critical":"ok";case"contract-mismatch":return d&&d.criticalCount>1e5?"critical":"ok";case"anomalies":return f&&f.totalAnomalies>1e3?"warning":"ok";default:return"ok"}},x=((e==null?void 0:e.reports)||[]).filter(p=>p.available).map(p=>{var g,b,w;return{id:p.id,title:p.title,description:p.description,icon:kM[p.icon]||nt,iconBg:((g=h[p.id])==null?void 0:g.bg)||"bg-gray-100",iconColor:((b=h[p.id])==null?void 0:b.color)||"text-gray-600",href:p.href,stats:m(p.id),status:y(p.id),lastUpdated:((w=p.generated_at)==null?void 0:w.split("T")[0])||"-"}});return c?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(Ee,{className:"h-8 w-8 text-gray-400 animate-spin"})}):a.jsxs("div",{children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Reports"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Commission analysis and deviation reports"})]})}),a.jsx("div",{className:"grid grid-cols-1 gap-6",children:x.map(p=>{const g=p.icon;return a.jsx(Ie,{to:p.href,className:"block",children:a.jsxs(ne,{className:"hover:shadow-md transition-shadow cursor-pointer",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:G("p-3 rounded-lg",p.iconBg),children:a.jsx(g,{className:G("h-6 w-6",p.iconColor)})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:p.title}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:p.description}),p.stats&&a.jsxs("div",{className:"flex items-center gap-6 mt-4",children:[p.stats.totalLoss!=null&&a.jsxs("div",{children:[a.jsx("div",{className:G("text-lg font-semibold",p.id==="underpayment-analysis"?"text-red-600":"text-orange-600"),children:V(Math.abs(p.stats.totalLoss))}),a.jsx("div",{className:"text-xs text-gray-500",children:p.id==="underpayment-analysis"?"Revenue Loss":"Total Deviation"})]}),p.stats.transactions>0&&a.jsxs("div",{children:[a.jsx("div",{className:"text-lg font-semibold text-gray-900",children:p.stats.transactions.toLocaleString()}),a.jsx("div",{className:"text-xs text-gray-500",children:"Transactions"})]}),p.stats.criticalIssues>0&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(nt,{className:"h-4 w-4 text-amber-500"}),a.jsxs("span",{className:"text-sm font-medium text-amber-600",children:[p.stats.criticalIssues," ",p.id==="anomalies"?"anomalies":"critical issues"]})]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[p.status==="critical"&&a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-red-100 text-red-700",children:"Needs Attention"}),p.status==="warning"&&a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-amber-100 text-amber-700",children:"Review Required"}),a.jsx(My,{className:"h-5 w-5 text-gray-400"})]})]}),a.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 text-xs text-gray-400",children:["Last updated: ",p.lastUpdated]})]})},p.id)})})]})}function $M({title:e,fields:t,isOpen:r,onToggle:n}){return a.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[a.jsxs("button",{onClick:n,className:"w-full px-4 py-2 flex items-center justify-between bg-gray-50 hover:bg-gray-100 transition-colors",children:[a.jsx("span",{className:"font-medium text-gray-700",children:e}),r?a.jsx(qe,{className:"h-4 w-4 text-gray-400"}):a.jsx(Qr,{className:"h-4 w-4 text-gray-400"})]}),r&&a.jsx("div",{className:"px-4 py-3 bg-white",children:a.jsx("div",{className:"grid grid-cols-2 gap-x-8 gap-y-2 text-sm",children:t.map(i=>a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:i.label}),a.jsx("span",{className:"font-medium text-gray-900",children:i.value??"-"})]},i.label))})})]})}function TM(){return a.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:a.jsx("div",{className:"px-4 py-2 bg-gray-50",children:a.jsx("div",{className:"h-5 w-32 bg-gray-200 rounded animate-pulse"})})})}function vn({title:e,fields:t,defaultOpen:r=!1,isLoading:n=!1,className:i}){const[s,o]=O.useState(r);return n?a.jsx(TM,{}):a.jsx("div",{className:i,children:a.jsx($M,{title:e,fields:t,isOpen:s,onToggle:()=>o(!s)})})}const MM={success:"bg-green-100 text-green-700",error:"bg-red-100 text-red-700",warning:"bg-orange-100 text-orange-700",info:"bg-blue-100 text-blue-700",default:"bg-gray-100 text-gray-700"};function ZS({children:e,variant:t="default",className:r}){return a.jsx("span",{className:G("px-2 py-0.5 text-xs font-medium rounded",MM[t],r),children:e})}function RM({status:e}){const t=e==="approved"?"success":e==="declined"?"error":"default";return a.jsx(ZS,{variant:t,children:e})}function IM({type:e}){return a.jsx(ZS,{variant:"info",children:e})}const Bs=O.forwardRef(({className:e,variant:t="primary",size:r="md",disabled:n,children:i,...s},o)=>a.jsx("button",{ref:o,disabled:n,className:G("inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2",{"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500":t==="primary","bg-gray-100 text-gray-700 hover:bg-gray-200 focus:ring-gray-500":t==="secondary","text-gray-600 hover:bg-gray-100 hover:text-gray-900 focus:ring-gray-500":t==="ghost","bg-red-600 text-white hover:bg-red-700 focus:ring-red-500":t==="danger","px-3 py-1.5 text-sm":r==="sm","px-4 py-2 text-sm":r==="md","px-6 py-3 text-base":r==="lg","opacity-50 cursor-not-allowed":n},e),...s,children:i}));Bs.displayName="Button";function xe({className:e}){return a.jsx("div",{className:G("animate-pulse rounded bg-gray-200",e)})}const DM={default:"bg-gray-50",success:"bg-green-50",warning:"bg-amber-50",danger:"bg-red-50"},LM={default:"text-gray-900",success:"text-green-700",warning:"text-amber-700",danger:"text-red-700"};function wr({label:e,value:t,subValue:r,variant:n="default",className:i}){return a.jsxs("div",{className:G("rounded-lg p-4",DM[n],i),children:[a.jsx("div",{className:G("text-2xl font-semibold",LM[n]),children:t}),a.jsx("div",{className:"text-sm text-gray-500",children:e}),r&&a.jsx("div",{className:"text-xs text-gray-400 mt-1",children:r})]})}function JS({children:e,columns:t=4,className:r}){const n={2:"grid-cols-2",3:"grid-cols-3",4:"grid-cols-4"};return a.jsx("div",{className:G("grid gap-4",n[t],r),children:e})}function FM({value:e,onChange:t,onSubmit:r,placeholder:n="Enter transaction_id or order_id...",helpText:i="Enter a transaction UUID or numeric order ID to search",disabled:s=!1}){const o=l=>{l.preventDefault(),s||r()};return a.jsx(ne,{className:"mb-6",children:a.jsxs("form",{onSubmit:o,children:[a.jsxs("div",{className:"relative",children:[a.jsx(HS,{className:`absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 ${s?"text-gray-300":"text-gray-400"}`}),a.jsx("input",{type:"text",value:e,onChange:l=>t(l.target.value),placeholder:s?"Connect to backend to search":n,disabled:s,className:`w-full pl-10 pr-4 py-3 border rounded-lg outline-none ${s?"border-gray-200 bg-gray-50 text-gray-400 cursor-not-allowed":"border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}`})]}),a.jsx("p",{className:"mt-2 text-sm text-gray-500",children:s?"Connect to backend to enable transaction search":i})]})})}function BM({results:e,title:t,count:r}){return a.jsxs("div",{children:[a.jsxs("h2",{className:"text-sm font-medium text-gray-700 mb-3",children:[t,a.jsxs("span",{className:"ml-2 text-gray-400",children:["(",r," found)"]})]}),a.jsx("div",{className:"space-y-2",children:e.map(n=>a.jsx(zM,{transaction:n},n.transaction_id))})]})}function zM({transaction:e}){return a.jsx(Ie,{to:`/transaction/${e.transaction_id}`,className:"block",children:a.jsx(ne,{className:"hover:border-gray-300 hover:shadow-md transition-all cursor-pointer",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[a.jsx("span",{className:"font-mono text-sm text-gray-700",children:e.transaction_id}),a.jsx(RM,{status:e.status||"unknown"}),e.transaction_type&&a.jsx(IM,{type:e.transaction_type})]}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[a.jsx("span",{children:V(e.amount_eur)}),e.currency&&e.currency!=="EUR"&&a.jsx("span",{className:"text-orange-600",children:e.currency}),e.card_brand&&a.jsx("span",{children:e.card_brand}),a.jsx("span",{children:RS(e.created_date)}),e.merchant_name&&a.jsx("span",{className:"text-gray-400",children:e.merchant_name})]})]}),a.jsx(Qr,{className:"h-5 w-5 text-gray-400"})]})})})}function UM({query:e}){return a.jsxs("div",{className:"text-gray-500 text-center py-8",children:['No transactions found for "',e,'"']})}function WM({error:e}){return a.jsxs("div",{className:"text-red-500 text-center py-8",children:["Error: ",e]})}function HM(){return a.jsx("div",{className:"text-gray-500 text-center py-8",children:"Searching..."})}function KM({className:e}){const t=Kf(),[r,n]=O.useState(""),[i,s]=O.useState(""),{data:o,isLoading:l,error:c}=ye({queryKey:["transactions-search",i],queryFn:()=>se.searchTransactions(i),enabled:i.length>0}),u=()=>{r.trim()&&s(r.trim())},d=i&&/^\d+$/.test(i),f=()=>d?`Transactions for Order #${i}`:`Results for "${i}"`;return a.jsxs("div",{className:e,children:[a.jsx(FM,{value:r,onChange:n,onSubmit:u,disabled:t}),i&&a.jsx(VM,{isLoading:l,error:c,results:o,query:i,title:f()})]})}function VM({isLoading:e,error:t,results:r,query:n,title:i}){return e?a.jsx(HM,{}):t?a.jsx(WM,{error:t.message}):!r||r.length===0?a.jsx(UM,{query:n}):a.jsx(BM,{results:r,title:i,count:r.length})}function qM({transactionId:e,orderId:t,merchantName:r,backUrl:n="/transactions"}){return a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx(Ie,{to:n,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(kr,{className:"h-5 w-5 text-gray-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h1",{className:"text-lg font-semibold text-gray-900 font-mono",children:e}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[a.jsxs("span",{children:["Order #",t]}),a.jsx("span",{children:"-"}),a.jsx("span",{children:r})]})]})]})}function GM(){return a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx(xe,{className:"h-9 w-9 rounded-lg"}),a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx(xe,{className:"h-6 w-80"}),a.jsx(xe,{className:"h-4 w-48"})]})]})}function XM({appliedPlan:e,transactionId:t,ratePlanId:r,merchantId:n,currency:i,transactionType:s,onSelectPlan:o}){var m;const[l,c]=O.useState(!1),{data:u}=ye({queryKey:["contract-plans",n],queryFn:()=>se.getContractPlans(n),enabled:!!n&&!e&&!!r}),d=u==null?void 0:u.find(y=>y.plan_key===r),f=()=>{if(!e||e.volume_min==null&&e.volume_max==null)return null;const y=p=>p>=1e6?`${(p/1e6).toFixed(0)}M`:p>=1e3?`${(p/1e3).toFixed(0)}K`:p.toFixed(0),x=e.volume_min||0,v=e.volume_max;return v?`${y(x)}-${y(v)}`:`${y(x)}+`},h=(e==null?void 0:e.plan_rate)!=null;return a.jsxs(ne,{title:"Applied Plan",className:"mb-6",children:[e?a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium text-gray-900",children:e.plan_key}),h&&a.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-0.5 rounded",children:"from contract"})]}),a.jsx("div",{className:"text-sm text-gray-500 mt-1",children:[e.operation_type,e.payment_type,e.currency||e.currency_type,e.region,f()].filter(Boolean).join(" / ")})]}),a.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-1 px-3 py-1.5 text-sm font-medium text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:[a.jsx(yo,{className:"h-4 w-4"}),"Why?"]})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Operation"}),a.jsx("div",{className:"font-medium",children:e.operation_type||"-"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Payment Type"}),a.jsx("div",{className:"font-medium",children:e.payment_type||"-"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Currency"}),a.jsx("div",{className:"font-medium",children:e.currency||e.currency_type||"-"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Region"}),a.jsx("div",{className:"font-medium",children:e.region||"*"})]}),e.apm_type&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"APM Type"}),a.jsx("div",{className:"font-medium",children:e.apm_type})]}),f()&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Volume Tier"}),a.jsx("div",{className:"font-medium",children:f()})]}),e.traffic_type&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Traffic Type"}),a.jsx("div",{className:"font-medium",children:e.traffic_type})]}),e.card_brand&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Card Brand"}),a.jsx("div",{className:"font-medium",children:e.card_brand})]})]}),h&&a.jsx("div",{className:"border-t border-gray-200 mt-4 pt-4",children:a.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm",children:[s==="reversal"||s==="refund"?a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Refund Fee"}),a.jsx("div",{className:"font-medium text-green-600",children:e.refund_fee!=null?V(e.refund_fee):"-"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Contract Rate"}),a.jsx("div",{className:"font-medium text-green-600",children:lt(e.plan_rate,2)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Contract Fixed"}),a.jsx("div",{className:"font-medium text-green-600",children:e.plan_fixed!=null?V(e.plan_fixed):"-"})]})]}),e.fx_rate!=null&&e.fx_rate!==1&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"FX Rate"}),a.jsx("div",{className:"font-medium",children:(m=e.fx_rate)==null?void 0:m.toFixed(6)})]})]})})]}):d?a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-900",children:d.plan_key}),a.jsx("span",{className:"ml-2 text-xs bg-yellow-100 text-yellow-700 px-2 py-0.5 rounded",children:"From Contract"}),a.jsx("div",{className:"text-sm text-gray-500 mt-1",children:[d.operation_type,d.payment_type,d.currency,d.region].filter(Boolean).join(" / ")})]}),a.jsx(Bs,{variant:"primary",size:"sm",onClick:o,children:"Select Plan"})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm mb-4",children:[d.operation_type==="outgoing"?a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Payout Rate"}),a.jsx("div",{className:"font-medium",children:lt(d.payout_percent)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Payout Fixed"}),a.jsx("div",{className:"font-medium",children:d.payout_fixed!=null?`${d.payout_fixed} ${i||d.currency||""}`:"-"})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"WL Rate"}),a.jsx("div",{className:"font-medium",children:lt(d.wl_percent)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Fixed Fee"}),a.jsx("div",{className:"font-medium",children:d.fixed_fee!=null?`${d.fixed_fee} ${i||d.currency||""}`:"-"})]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Exchange Fee"}),a.jsx("div",{className:"font-medium",children:lt(d.exchange_fee_percent)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"APM Type"}),a.jsx("div",{className:"font-medium",children:d.apm_type||"-"})]})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Region"}),a.jsx("div",{className:"font-medium",children:d.region||"-"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Currency"}),a.jsx("div",{className:"font-medium",children:d.currency||"-"})]}),d.refund_fee!=null&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Refund Fee"}),a.jsxs("div",{className:"font-medium",children:[d.refund_fee," ",i||d.currency||""]})]})]})]}):a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-500",children:r?`Plan ID: ${r} (not found in contracts)`:"No plan applied to this transaction"}),a.jsx(Bs,{variant:"primary",size:"sm",onClick:o,children:"Select Plan"})]}),l&&a.jsx(QM,{transactionId:t,onClose:()=>c(!1)})]})}function QM({transactionId:e,onClose:t}){const{data:r,isLoading:n}=ye({queryKey:["transaction-why",e],queryFn:()=>se.getTransactionWhy(e)});return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-lg w-full mx-4",children:[a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Why This Plan Was Selected"}),a.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:a.jsx(Wt,{className:"h-5 w-5 text-gray-500"})})]}),a.jsx("div",{className:"p-6",children:n?a.jsx("div",{className:"text-gray-500 text-center py-4",children:"Loading..."}):r&&r.length>0?a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"text-left py-2 font-medium text-gray-600",children:"Transaction Field"}),a.jsx("th",{className:"text-left py-2 font-medium text-gray-600",children:"Plan Condition"}),a.jsx("th",{className:"text-center py-2 font-medium text-gray-600",children:"Match"})]})}),a.jsx("tbody",{children:r.map(i=>a.jsxs("tr",{className:"border-b border-gray-100",children:[a.jsxs("td",{className:"py-2",children:[a.jsxs("span",{className:"text-gray-500",children:[i.field,":"]})," ",a.jsx("span",{className:"font-medium",children:i.transaction_value||"-"})]}),a.jsx("td",{className:"py-2",children:i.plan_condition}),a.jsx("td",{className:"py-2 text-center",children:i.match?a.jsx(Ds,{className:"h-5 w-5 text-green-500 inline"}):a.jsx(Wt,{className:"h-5 w-5 text-red-500 inline"})})]},i.field))})]}):a.jsx("div",{className:"text-gray-500 text-center py-4",children:"No plan matching explanation available"})})]})})}function YM(){return a.jsxs(ne,{title:"Applied Plan",className:"mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(xe,{className:"h-5 w-48"}),a.jsx(xe,{className:"h-4 w-32"})]}),a.jsx(xe,{className:"h-8 w-16"})]}),a.jsx("div",{className:"grid grid-cols-4 gap-4",children:[1,2,3,4].map(e=>a.jsxs("div",{children:[a.jsx(xe,{className:"h-4 w-16 mb-1"}),a.jsx(xe,{className:"h-5 w-20"})]},e))})]})}function ZM({commissionFields:e,deviation:t,calculation:r,currency:n,isNonEur:i,planFixed:s}){const o=(e==null?void 0:e.comission_eur)!=null,l=[{label:"Commission EUR",value:e==null?void 0:e.comission_eur},{label:`Transaction Commission (${n||"EUR"})`,value:e==null?void 0:e.transaction_comission},{label:"Fixed EUR",value:e==null?void 0:e.fixed_eur},{label:"FX Rate",value:e==null?void 0:e.fx_rate},{label:"FX Date",value:e==null?void 0:e.fx_date}],c=(e==null?void 0:e.fx_rate)||1;let u;const d=t&&t.calculated!=null,h=!((r==null?void 0:r.type)==="refund")&&(t==null?void 0:t.effective_rate)!=null&&(t==null?void 0:t.plan_rate)!=null?t.effective_rate-t.plan_rate:null,m=s!=null&&(e==null?void 0:e.fixed_eur)!=null?e.fixed_eur-s:null,x=t&&Math.abs(t.difference)<.01;if(d)if(i){const v=e==null?void 0:e.transaction_comission,p=t.expected_local??t.calculated*c,g=t.deviation_local??t.difference*c;u=[{label:"Actual",value:`${v==null?void 0:v.toFixed(2)} ${n}`,subLabel:`(${V(e==null?void 0:e.comission_eur)})`},{label:"Calculated",value:`${p==null?void 0:p.toFixed(2)} ${n}`,subLabel:`(${V(t.calculated)})`},{label:"Difference",value:x?`0.00 ${n} (0%)`:`${g>0?"+":""}${g==null?void 0:g.toFixed(2)} ${n} (${t.percent!=null?(t.percent>0?"+":"")+lt(t.percent):""})`,subLabel:x?void 0:`(${t.difference>0?"+":""}${V(t.difference)})`,colorClass:x?"text-gray-500":t.difference<0?"text-red-600":"text-green-600"}]}else u=[{label:"Actual",value:V(e==null?void 0:e.comission_eur)},{label:"Calculated",value:V(t.calculated)},{label:"Difference",value:x?"0.00 (0%)":`${t.difference>0?"+":""}${V(t.difference)} (${t.percent!=null?(t.percent>0?"+":"")+lt(t.percent):""})`,colorClass:x?"text-gray-500":t.difference<0?"text-red-600":"text-green-600"}];else if(i){const v=e==null?void 0:e.transaction_comission,p=(e==null?void 0:e.fixed_eur)!=null?e.fixed_eur*c:null;u=[{label:"Commission",value:`${v==null?void 0:v.toFixed(2)} ${n}`,subLabel:`(${V(e==null?void 0:e.comission_eur)})`},{label:"Fixed Fee",value:p!=null?`${p.toFixed(2)} ${n}`:"-",subLabel:(e==null?void 0:e.fixed_eur)!=null?`(${V(e.fixed_eur)})`:void 0},{label:"Effective Rate",value:(r==null?void 0:r.effective_rate)!=null?lt(r.effective_rate):"-"}]}else u=[{label:"Commission",value:V(e==null?void 0:e.comission_eur)},{label:"Fixed Fee",value:V(e==null?void 0:e.fixed_eur)},{label:"Effective Rate",value:(r==null?void 0:r.effective_rate)!=null?lt(r.effective_rate):"-"}];return a.jsx(ne,{title:"Commission",className:"mb-6",children:o?a.jsxs("div",{children:[a.jsx("div",{className:"grid grid-cols-3 gap-6 mb-4",children:u.map((v,p)=>a.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[a.jsx("div",{className:"text-sm text-gray-500 mb-1",children:v.label}),a.jsx("div",{className:`text-2xl font-semibold ${v.colorClass||"text-gray-900"}`,children:v.value}),v.subLabel&&a.jsx("div",{className:"text-sm text-gray-500 mt-1",children:v.subLabel})]},p))}),d&&!i&&(m!=null||h!=null)&&a.jsxs("div",{className:"space-y-2 mb-4",children:[m!=null&&Math.abs(m)>.001&&a.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-amber-50 rounded-lg text-sm",children:[a.jsx("span",{className:"text-amber-700",children:"Fixed Fee Difference"}),a.jsxs("span",{className:`font-medium ${m<0?"text-red-600":"text-green-600"}`,children:[m>0?"+":"",V(m)]})]}),h!=null&&Math.abs(h)>.001&&a.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-amber-50 rounded-lg text-sm",children:[a.jsx("span",{className:"text-amber-700",children:"Rate Difference"}),a.jsxs("span",{className:`font-medium ${h<0?"text-red-600":"text-green-600"}`,children:[h>0?"+":"",lt(h)]})]})]}),d&&i&&m!=null&&Math.abs(m)>.001&&a.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-amber-50 rounded-lg mb-4 text-sm",children:[a.jsx("span",{className:"text-amber-700",children:"Fixed Fee Difference"}),a.jsxs("span",{className:`font-medium ${m<0?"text-red-600":"text-green-600"}`,children:[m>0?"+":"",V(m),c!==1&&` (${m>0?"+":""}${(m*c).toFixed(2)} ${n})`]})]}),a.jsx(vn,{title:"Commission Fields",fields:l}),r&&a.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:r.description}),a.jsx("span",{className:"text-xs text-gray-400 bg-gray-100 px-1.5 py-0.5 rounded",children:r.type})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsx("div",{className:"text-sm text-gray-600 font-mono mb-3",children:r.formula}),a.jsx("div",{className:"space-y-2 text-sm font-mono",children:r.steps.map((v,p)=>{const g=r.currency||"EUR",b=r.value_local,w=r.value,j=b&&w?b/w:null,N=i&&j!=null&&v.value!=null,_=N?v.value*j:null;return a.jsxs("div",{className:`flex justify-between ${v.label==="Total"?"border-t border-gray-300 pt-2 font-medium":""}`,children:[a.jsxs("span",{className:"text-gray-600",children:[v.label,":"]}),a.jsx("span",{children:N&&_!=null?a.jsxs(a.Fragment,{children:[_.toFixed(2)," ",g,a.jsxs("span",{className:"text-gray-400 ml-1",children:["(",v.formatted,")"]})]}):v.formatted})]},p)})})]})]})})]}):a.jsx("div",{className:"text-gray-500",children:"No commission data available"})})}function JM(){return a.jsxs(ne,{title:"Commission",className:"mb-6",children:[a.jsx("div",{className:"grid grid-cols-3 gap-6 mb-4",children:[1,2,3].map(e=>a.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[a.jsx(xe,{className:"h-4 w-16 mx-auto mb-2"}),a.jsx(xe,{className:"h-8 w-24 mx-auto"})]},e))}),a.jsx(xe,{className:"h-10 w-full rounded-lg"})]})}function e3({costFields:e}){const t=e?[{label:"Base EUR",value:e.base_eur},{label:"MDR",value:e.mdr},{label:"MDR EUR",value:e.mdr_eur},{label:"Agent EUR",value:e.agent_eur},{label:"Agent",value:e.agent},{label:"Tax Reserved EUR",value:e.tax_reserved_eur},{label:"Tax Reserve Cost",value:e.tax_reserve_cost},{label:"Settle EUR",value:e.settle_eur},{label:"Settlement",value:e.settlement},{label:"TRX (Exchange)",value:e.trx}]:[];return a.jsx(ne,{title:"Cost Analysis",className:"mb-6",children:e?a.jsx(vn,{title:"Cost Fields",fields:t}):a.jsx("div",{className:"text-gray-500",children:"No cost data available"})})}function t3(){return a.jsx(ne,{title:"Cost Analysis",className:"mb-6",children:a.jsx(xe,{className:"h-10 w-full rounded-lg"})})}function r3({transactionId:e}){const[t,r]=O.useState(!1),{data:n,isLoading:i,error:s}=ye({queryKey:["transaction",e],queryFn:()=>se.getTransaction(e),enabled:!!e});if(i)return a.jsx(n3,{});if(s||!n)return a.jsx(a3,{message:s?s.message:"Transaction not found"});const{transaction:o,order_details:l,payment_method:c,processing:u,merchant:d,commission_fields:f,cost_fields:h,other:m,applied_plan:y,deviation:x,calculation:v}=n,p=(o==null?void 0:o.transaction_status)==="declined",g=!!(o!=null&&o.error_code&&o.error_code!==0&&(o!=null&&o.error_message)&&o.error_message!=="0"),b=!!(l!=null&&l.currency&&l.currency!=="EUR"),w=[o==null?void 0:o.transaction_type,o==null?void 0:o.type].filter(Boolean).join(" / ");return a.jsxs("div",{children:[a.jsx(qM,{transactionId:o==null?void 0:o.transaction_id,orderId:l==null?void 0:l.order_id,merchantName:d==null?void 0:d.merchant_name}),a.jsxs(ne,{title:"General",className:"mb-6",children:[a.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-500 block",children:"Status"}),a.jsx("span",{className:`mt-1 inline-block px-2 py-1 text-sm font-medium rounded ${(o==null?void 0:o.transaction_status)==="approved"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:o==null?void 0:o.transaction_status})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Type"}),a.jsx("div",{className:"mt-1 font-medium",children:w||"-"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Date"}),a.jsx("div",{className:"mt-1 font-medium",children:RS(o==null?void 0:o.created_date)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Amount"}),a.jsx("div",{className:"mt-1 font-medium",children:b?a.jsxs(a.Fragment,{children:[a.jsxs("span",{children:[l==null?void 0:l.amount," ",l==null?void 0:l.currency]}),a.jsxs("span",{className:"ml-1 text-gray-500",children:["(",V(l==null?void 0:l.amount_eur),")"]})]}):V(l==null?void 0:l.amount_eur)})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(vn,{title:"Transaction Details",defaultOpen:!0,fields:[{label:"Transaction ID",value:o==null?void 0:o.transaction_id},{label:"Status",value:o==null?void 0:o.status},{label:"Transaction Status",value:o==null?void 0:o.transaction_status},{label:"Type",value:o==null?void 0:o.type},{label:"Transaction Type",value:o==null?void 0:o.transaction_type},{label:"Created Date",value:o==null?void 0:o.created_date},{label:"Created Date (no time)",value:o==null?void 0:o.created_date_no_time}]}),(p||g)&&a.jsx(vn,{title:"Error",defaultOpen:p,fields:[{label:"Error Code",value:o==null?void 0:o.error_code},{label:"Error Message",value:o==null?void 0:o.error_message},{label:"External Error Code",value:o==null?void 0:o.external_error_code},{label:"External Error Message",value:o==null?void 0:o.external_error_message}]}),a.jsx(vn,{title:"Order Details",fields:[{label:"Order ID",value:l==null?void 0:l.order_id},{label:"User ID",value:l==null?void 0:l.user_id},{label:"Item ID",value:l==null?void 0:l.item_id},{label:"Amount",value:l==null?void 0:l.amount},{label:"Amount EUR",value:l==null?void 0:l.amount_eur},{label:"Currency",value:l==null?void 0:l.currency},{label:"Country",value:l==null?void 0:l.country},{label:"European Union",value:l==null?void 0:l.european_union},{label:"EEA",value:l==null?void 0:l.eea},{label:"Requisites Country",value:l==null?void 0:l.requisites_country}]}),a.jsx(vn,{title:"Payment Method",fields:[{label:"Card Brand Group",value:c==null?void 0:c.card_brand_group},{label:"Card Type",value:c==null?void 0:c.card_type},{label:"Traffic Type Group",value:c==null?void 0:c.traffic_type_group},{label:"Gate Name",value:c==null?void 0:c.gate_name},{label:"Gate ID",value:c==null?void 0:c.gate_id},{label:"Gate Descriptor",value:c==null?void 0:c.gate_descriptor},{label:"Main Requisite",value:c==null?void 0:c.main_requisite}]}),a.jsx(vn,{title:"Processing",fields:[{label:"Processor Name",value:u==null?void 0:u.processor_name},{label:"Processor ID",value:u==null?void 0:u.processor_id},{label:"Proc Group",value:u==null?void 0:u.proc_group},{label:"Acquirer",value:u==null?void 0:u.acquirer_name},{label:"Endpoint ID",value:u==null?void 0:u.endpoint_id},{label:"Descr Group",value:u==null?void 0:u.descr_group},{label:"Source",value:u==null?void 0:u.source}]}),a.jsx(vn,{title:"Merchant",fields:[{label:"Merchant ID",value:d==null?void 0:d.merchant_id},{label:"Merchant Name",value:d==null?void 0:d.merchant_name},{label:"Merchant",value:d==null?void 0:d.merchant},{label:"Merchant Group",value:d==null?void 0:d.merchant_group},{label:"Company ID",value:d==null?void 0:d.company_id},{label:"Company Name",value:d==null?void 0:d.company_name},{label:"Legal Entity Abb",value:d==null?void 0:d.legal_entity_abb},{label:"White Label ID",value:d==null?void 0:d.white_label_id},{label:"KAM",value:d==null?void 0:d.kam}]}),a.jsx(vn,{title:"Other",fields:[{label:"Rate Plan ID",value:m==null?void 0:m.rate_plan_id},{label:"Running Sum",value:m==null?void 0:m.running_sum},{label:"Balance Mapping",value:m==null?void 0:m.balance_mapping},{label:"Mapping",value:m==null?void 0:m.mapping}]})]})]}),a.jsx(XM,{appliedPlan:y,transactionId:o==null?void 0:o.transaction_id,ratePlanId:m==null?void 0:m.rate_plan_id,merchantId:d==null?void 0:d.merchant_id,currency:l==null?void 0:l.currency,transactionType:o==null?void 0:o.transaction_type,onSelectPlan:()=>r(!0)}),a.jsx(ZM,{commissionFields:f,deviation:x,calculation:v,currency:l==null?void 0:l.currency,isNonEur:b,planFixed:x==null?void 0:x.plan_fixed}),a.jsx(e3,{costFields:h}),t&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-lg w-full mx-4 p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Select Plan"}),a.jsx("p",{className:"text-gray-500 mb-4",children:"Plan selection modal will be implemented here."}),a.jsx("button",{onClick:()=>r(!1),className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Close"})]})})]})}function n3(){return a.jsxs("div",{children:[a.jsx(GM,{}),a.jsxs(ne,{title:"General",className:"mb-6",children:[a.jsx("div",{className:"grid grid-cols-4 gap-4 mb-4",children:[1,2,3,4].map(e=>a.jsxs("div",{children:[a.jsx(xe,{className:"h-4 w-16 mb-2"}),a.jsx(xe,{className:"h-6 w-24"})]},e))}),a.jsx("div",{className:"space-y-2",children:[1,2,3,4,5,6,7].map(e=>a.jsx(xe,{className:"h-10 w-full rounded-lg"},e))})]}),a.jsx(YM,{}),a.jsx(JM,{}),a.jsx(t3,{})]})}function a3({message:e}){return a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"text-red-500",children:e})})}var i3=Array.isArray,er=i3,s3=typeof Xc=="object"&&Xc&&Xc.Object===Object&&Xc,eO=s3,o3=eO,l3=typeof self=="object"&&self&&self.Object===Object&&self,c3=o3||l3||Function("return this")(),fn=c3,u3=fn,d3=u3.Symbol,Lc=d3,Mb=Lc,tO=Object.prototype,f3=tO.hasOwnProperty,h3=tO.toString,Uo=Mb?Mb.toStringTag:void 0;function m3(e){var t=f3.call(e,Uo),r=e[Uo];try{e[Uo]=void 0;var n=!0}catch{}var i=h3.call(e);return n&&(t?e[Uo]=r:delete e[Uo]),i}var p3=m3,x3=Object.prototype,g3=x3.toString;function y3(e){return g3.call(e)}var v3=y3,Rb=Lc,b3=p3,j3=v3,w3="[object Null]",N3="[object Undefined]",Ib=Rb?Rb.toStringTag:void 0;function _3(e){return e==null?e===void 0?N3:w3:Ib&&Ib in Object(e)?b3(e):j3(e)}var Vn=_3;function S3(e){return e!=null&&typeof e=="object"}var qn=S3,O3=Vn,C3=qn,P3="[object Symbol]";function A3(e){return typeof e=="symbol"||C3(e)&&O3(e)==P3}var vo=A3,k3=er,E3=vo,$3=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,T3=/^\w*$/;function M3(e,t){if(k3(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||E3(e)?!0:T3.test(e)||!$3.test(e)||t!=null&&e in Object(t)}var Uy=M3;function R3(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var La=R3;const bo=De(La);var I3=Vn,D3=La,L3="[object AsyncFunction]",F3="[object Function]",B3="[object GeneratorFunction]",z3="[object Proxy]";function U3(e){if(!D3(e))return!1;var t=I3(e);return t==F3||t==B3||t==L3||t==z3}var Wy=U3;const be=De(Wy);var W3=fn,H3=W3["__core-js_shared__"],K3=H3,dm=K3,Db=function(){var e=/[^.]+$/.exec(dm&&dm.keys&&dm.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function V3(e){return!!Db&&Db in e}var q3=V3,G3=Function.prototype,X3=G3.toString;function Q3(e){if(e!=null){try{return X3.call(e)}catch{}try{return e+""}catch{}}return""}var rO=Q3,Y3=Wy,Z3=q3,J3=La,e4=rO,t4=/[\\^$.*+?()[\]{}|]/g,r4=/^\[object .+?Constructor\]$/,n4=Function.prototype,a4=Object.prototype,i4=n4.toString,s4=a4.hasOwnProperty,o4=RegExp("^"+i4.call(s4).replace(t4,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function l4(e){if(!J3(e)||Z3(e))return!1;var t=Y3(e)?o4:r4;return t.test(e4(e))}var c4=l4;function u4(e,t){return e==null?void 0:e[t]}var d4=u4,f4=c4,h4=d4;function m4(e,t){var r=h4(e,t);return f4(r)?r:void 0}var Ii=m4,p4=Ii,x4=p4(Object,"create"),Vf=x4,Lb=Vf;function g4(){this.__data__=Lb?Lb(null):{},this.size=0}var y4=g4;function v4(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var b4=v4,j4=Vf,w4="__lodash_hash_undefined__",N4=Object.prototype,_4=N4.hasOwnProperty;function S4(e){var t=this.__data__;if(j4){var r=t[e];return r===w4?void 0:r}return _4.call(t,e)?t[e]:void 0}var O4=S4,C4=Vf,P4=Object.prototype,A4=P4.hasOwnProperty;function k4(e){var t=this.__data__;return C4?t[e]!==void 0:A4.call(t,e)}var E4=k4,$4=Vf,T4="__lodash_hash_undefined__";function M4(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=$4&&t===void 0?T4:t,this}var R4=M4,I4=y4,D4=b4,L4=O4,F4=E4,B4=R4;function jo(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}jo.prototype.clear=I4;jo.prototype.delete=D4;jo.prototype.get=L4;jo.prototype.has=F4;jo.prototype.set=B4;var z4=jo;function U4(){this.__data__=[],this.size=0}var W4=U4;function H4(e,t){return e===t||e!==e&&t!==t}var Hy=H4,K4=Hy;function V4(e,t){for(var r=e.length;r--;)if(K4(e[r][0],t))return r;return-1}var qf=V4,q4=qf,G4=Array.prototype,X4=G4.splice;function Q4(e){var t=this.__data__,r=q4(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():X4.call(t,r,1),--this.size,!0}var Y4=Q4,Z4=qf;function J4(e){var t=this.__data__,r=Z4(t,e);return r<0?void 0:t[r][1]}var e6=J4,t6=qf;function r6(e){return t6(this.__data__,e)>-1}var n6=r6,a6=qf;function i6(e,t){var r=this.__data__,n=a6(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var s6=i6,o6=W4,l6=Y4,c6=e6,u6=n6,d6=s6;function wo(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}wo.prototype.clear=o6;wo.prototype.delete=l6;wo.prototype.get=c6;wo.prototype.has=u6;wo.prototype.set=d6;var Gf=wo,f6=Ii,h6=fn,m6=f6(h6,"Map"),Ky=m6,Fb=z4,p6=Gf,x6=Ky;function g6(){this.size=0,this.__data__={hash:new Fb,map:new(x6||p6),string:new Fb}}var y6=g6;function v6(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var b6=v6,j6=b6;function w6(e,t){var r=e.__data__;return j6(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Xf=w6,N6=Xf;function _6(e){var t=N6(this,e).delete(e);return this.size-=t?1:0,t}var S6=_6,O6=Xf;function C6(e){return O6(this,e).get(e)}var P6=C6,A6=Xf;function k6(e){return A6(this,e).has(e)}var E6=k6,$6=Xf;function T6(e,t){var r=$6(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var M6=T6,R6=y6,I6=S6,D6=P6,L6=E6,F6=M6;function No(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}No.prototype.clear=R6;No.prototype.delete=I6;No.prototype.get=D6;No.prototype.has=L6;No.prototype.set=F6;var Vy=No,nO=Vy,B6="Expected a function";function qy(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(B6);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var o=e.apply(this,n);return r.cache=s.set(i,o)||s,o};return r.cache=new(qy.Cache||nO),r}qy.Cache=nO;var aO=qy;const z6=De(aO);var U6=aO,W6=500;function H6(e){var t=U6(e,function(n){return r.size===W6&&r.clear(),n}),r=t.cache;return t}var K6=H6,V6=K6,q6=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,G6=/\\(\\)?/g,X6=V6(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(q6,function(r,n,i,s){t.push(i?s.replace(G6,"$1"):n||r)}),t}),Q6=X6;function Y6(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var Gy=Y6,Bb=Lc,Z6=Gy,J6=er,eR=vo,zb=Bb?Bb.prototype:void 0,Ub=zb?zb.toString:void 0;function iO(e){if(typeof e=="string")return e;if(J6(e))return Z6(e,iO)+"";if(eR(e))return Ub?Ub.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var tR=iO,rR=tR;function nR(e){return e==null?"":rR(e)}var sO=nR,aR=er,iR=Uy,sR=Q6,oR=sO;function lR(e,t){return aR(e)?e:iR(e,t)?[e]:sR(oR(e))}var oO=lR,cR=vo;function uR(e){if(typeof e=="string"||cR(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Qf=uR,dR=oO,fR=Qf;function hR(e,t){t=dR(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[fR(t[r++])];return r&&r==n?e:void 0}var Xy=hR,mR=Xy;function pR(e,t,r){var n=e==null?void 0:mR(e,t);return n===void 0?r:n}var lO=pR;const Sr=De(lO);function xR(e){return e==null}var gR=xR;const je=De(gR);var yR=Vn,vR=er,bR=qn,jR="[object String]";function wR(e){return typeof e=="string"||!vR(e)&&bR(e)&&yR(e)==jR}var NR=wR;const Ci=De(NR);var cO={exports:{}},Me={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qy=Symbol.for("react.element"),Yy=Symbol.for("react.portal"),Yf=Symbol.for("react.fragment"),Zf=Symbol.for("react.strict_mode"),Jf=Symbol.for("react.profiler"),eh=Symbol.for("react.provider"),th=Symbol.for("react.context"),_R=Symbol.for("react.server_context"),rh=Symbol.for("react.forward_ref"),nh=Symbol.for("react.suspense"),ah=Symbol.for("react.suspense_list"),ih=Symbol.for("react.memo"),sh=Symbol.for("react.lazy"),SR=Symbol.for("react.offscreen"),uO;uO=Symbol.for("react.module.reference");function Er(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Qy:switch(e=e.type,e){case Yf:case Jf:case Zf:case nh:case ah:return e;default:switch(e=e&&e.$$typeof,e){case _R:case th:case rh:case sh:case ih:case eh:return e;default:return t}}case Yy:return t}}}Me.ContextConsumer=th;Me.ContextProvider=eh;Me.Element=Qy;Me.ForwardRef=rh;Me.Fragment=Yf;Me.Lazy=sh;Me.Memo=ih;Me.Portal=Yy;Me.Profiler=Jf;Me.StrictMode=Zf;Me.Suspense=nh;Me.SuspenseList=ah;Me.isAsyncMode=function(){return!1};Me.isConcurrentMode=function(){return!1};Me.isContextConsumer=function(e){return Er(e)===th};Me.isContextProvider=function(e){return Er(e)===eh};Me.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Qy};Me.isForwardRef=function(e){return Er(e)===rh};Me.isFragment=function(e){return Er(e)===Yf};Me.isLazy=function(e){return Er(e)===sh};Me.isMemo=function(e){return Er(e)===ih};Me.isPortal=function(e){return Er(e)===Yy};Me.isProfiler=function(e){return Er(e)===Jf};Me.isStrictMode=function(e){return Er(e)===Zf};Me.isSuspense=function(e){return Er(e)===nh};Me.isSuspenseList=function(e){return Er(e)===ah};Me.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Yf||e===Jf||e===Zf||e===nh||e===ah||e===SR||typeof e=="object"&&e!==null&&(e.$$typeof===sh||e.$$typeof===ih||e.$$typeof===eh||e.$$typeof===th||e.$$typeof===rh||e.$$typeof===uO||e.getModuleId!==void 0)};Me.typeOf=Er;cO.exports=Me;var OR=cO.exports,CR=Vn,PR=qn,AR="[object Number]";function kR(e){return typeof e=="number"||PR(e)&&CR(e)==AR}var dO=kR;const ER=De(dO);var $R=dO;function TR(e){return $R(e)&&e!=+e}var MR=TR;const Fc=De(MR);var Vr=function(t){return t===0?0:t>0?1:-1},ei=function(t){return Ci(t)&&t.indexOf("%")===t.length-1},Z=function(t){return ER(t)&&!Fc(t)},RR=function(t){return je(t)},gt=function(t){return Z(t)||Ci(t)},IR=0,Bc=function(t){var r=++IR;return"".concat(t||"").concat(r)},Pi=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Z(t)&&!Ci(t))return n;var s;if(ei(t)){var o=t.indexOf("%");s=r*parseFloat(t.slice(0,o))/100}else s=+t;return Fc(s)&&(s=n),i&&s>r&&(s=r),s},aa=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},DR=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},i=0;i<r;i++)if(!n[t[i]])n[t[i]]=!0;else return!0;return!1},Hr=function(t,r){return Z(t)&&Z(r)?function(n){return t+n*(r-t)}:function(){return r}};function vd(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Sr(n,t))===r})}var LR=function(t,r){return Z(t)&&Z(r)?t-r:Ci(t)&&Ci(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function ms(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function ix(e){"@babel/helpers - typeof";return ix=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ix(e)}var FR=["viewBox","children"],BR=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Wb=["points","pathLength"],fm={svg:FR,polygon:Wb,polyline:Wb},Zy=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],bd=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(O.isValidElement(t)&&(n=t.props),!bo(n))return null;var i={};return Object.keys(n).forEach(function(s){Zy.includes(s)&&(i[s]=r||function(o){return n[s](n,o)})}),i},zR=function(t,r,n){return function(i){return t(r,n,i),null}},jd=function(t,r,n){if(!bo(t)||ix(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(s){var o=t[s];Zy.includes(s)&&typeof o=="function"&&(i||(i={}),i[s]=zR(o,r,n))}),i},UR=["children"],WR=["children"];function Hb(e,t){if(e==null)return{};var r=HR(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function HR(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function sx(e){"@babel/helpers - typeof";return sx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sx(e)}var Kb={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Tn=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},Vb=null,hm=null,Jy=function e(t){if(t===Vb&&Array.isArray(hm))return hm;var r=[];return O.Children.forEach(t,function(n){je(n)||(OR.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),hm=r,Vb=t,r};function Or(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(i){return Tn(i)}):n=[Tn(t)],Jy(e).forEach(function(i){var s=Sr(i,"type.displayName")||Sr(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}function ir(e,t){var r=Or(e,t);return r&&r[0]}var qb=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,i=r.height;return!(!Z(n)||n<=0||!Z(i)||i<=0)},KR=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],VR=function(t){return t&&t.type&&Ci(t.type)&&KR.indexOf(t.type)>=0},qR=function(t){return t&&sx(t)==="object"&&"clipDot"in t},GR=function(t,r,n,i){var s,o=(s=fm==null?void 0:fm[i])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!be(t)&&(i&&o.includes(r)||BR.includes(r))||n&&Zy.includes(r)},Oe=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(O.isValidElement(t)&&(i=t.props),!bo(i))return null;var s={};return Object.keys(i).forEach(function(o){var l;GR((l=i)===null||l===void 0?void 0:l[o],o,r,n)&&(s[o]=i[o])}),s},ox=function e(t,r){if(t===r)return!0;var n=O.Children.count(t);if(n!==O.Children.count(r))return!1;if(n===0)return!0;if(n===1)return Gb(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var s=t[i],o=r[i];if(Array.isArray(s)||Array.isArray(o)){if(!e(s,o))return!1}else if(!Gb(s,o))return!1}return!0},Gb=function(t,r){if(je(t)&&je(r))return!0;if(!je(t)&&!je(r)){var n=t.props||{},i=n.children,s=Hb(n,UR),o=r.props||{},l=o.children,c=Hb(o,WR);return i&&l?ms(s,c)&&ox(i,l):!i&&!l?ms(s,c):!1}return!1},Xb=function(t,r){var n=[],i={};return Jy(t).forEach(function(s,o){if(VR(s))n.push(s);else if(s){var l=Tn(s.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!i[l])){var f=u(s,l,o);n.push(f),i[l]=!0}}}),n},XR=function(t){var r=t&&t.type;return r&&Kb[r]?Kb[r]:null},QR=function(t,r){return Jy(r).indexOf(t)},YR=["children","width","height","viewBox","className","style","title","desc"];function lx(){return lx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lx.apply(this,arguments)}function ZR(e,t){if(e==null)return{};var r=JR(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function JR(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function cx(e){var t=e.children,r=e.width,n=e.height,i=e.viewBox,s=e.className,o=e.style,l=e.title,c=e.desc,u=ZR(e,YR),d=i||{width:r,height:n,x:0,y:0},f=Ce("recharts-surface",s);return R.createElement("svg",lx({},Oe(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),R.createElement("title",null,l),R.createElement("desc",null,c),t)}var eI=["children","className"];function ux(){return ux=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ux.apply(this,arguments)}function tI(e,t){if(e==null)return{};var r=rI(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rI(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var it=R.forwardRef(function(e,t){var r=e.children,n=e.className,i=tI(e,eI),s=Ce("recharts-layer",n);return R.createElement("g",ux({className:s},Oe(i,!0),{ref:t}),r)}),Mn=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]};function nI(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),r=r>i?i:r,r<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(i);++n<i;)s[n]=e[n+t];return s}var aI=nI,iI=aI;function sI(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:iI(e,t,r)}var oI=sI,lI="\\ud800-\\udfff",cI="\\u0300-\\u036f",uI="\\ufe20-\\ufe2f",dI="\\u20d0-\\u20ff",fI=cI+uI+dI,hI="\\ufe0e\\ufe0f",mI="\\u200d",pI=RegExp("["+mI+lI+fI+hI+"]");function xI(e){return pI.test(e)}var fO=xI;function gI(e){return e.split("")}var yI=gI,hO="\\ud800-\\udfff",vI="\\u0300-\\u036f",bI="\\ufe20-\\ufe2f",jI="\\u20d0-\\u20ff",wI=vI+bI+jI,NI="\\ufe0e\\ufe0f",_I="["+hO+"]",dx="["+wI+"]",fx="\\ud83c[\\udffb-\\udfff]",SI="(?:"+dx+"|"+fx+")",mO="[^"+hO+"]",pO="(?:\\ud83c[\\udde6-\\uddff]){2}",xO="[\\ud800-\\udbff][\\udc00-\\udfff]",OI="\\u200d",gO=SI+"?",yO="["+NI+"]?",CI="(?:"+OI+"(?:"+[mO,pO,xO].join("|")+")"+yO+gO+")*",PI=yO+gO+CI,AI="(?:"+[mO+dx+"?",dx,pO,xO,_I].join("|")+")",kI=RegExp(fx+"(?="+fx+")|"+AI+PI,"g");function EI(e){return e.match(kI)||[]}var $I=EI,TI=yI,MI=fO,RI=$I;function II(e){return MI(e)?RI(e):TI(e)}var DI=II,LI=oI,FI=fO,BI=DI,zI=sO;function UI(e){return function(t){t=zI(t);var r=FI(t)?BI(t):void 0,n=r?r[0]:t.charAt(0),i=r?LI(r,1).join(""):t.slice(1);return n[e]()+i}}var WI=UI,HI=WI,KI=HI("toUpperCase"),VI=KI;const oh=De(VI);function Fe(e){return function(){return e}}const vO=Math.cos,wd=Math.sin,Yr=Math.sqrt,Nd=Math.PI,lh=2*Nd,hx=Math.PI,mx=2*hx,qa=1e-6,qI=mx-qa;function bO(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function GI(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return bO;const r=10**t;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class XI{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?bO:GI(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,s,o){this._append`C${+t},${+r},${+n},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(t,r,n,i,s){if(t=+t,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,c=n-t,u=i-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>qa)if(!(Math.abs(f*c-u*d)>qa)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,y=i-l,x=c*c+u*u,v=m*m+y*y,p=Math.sqrt(x),g=Math.sqrt(h),b=s*Math.tan((hx-Math.acos((x+h-v)/(2*p*g)))/2),w=b/g,j=b/p;Math.abs(w-1)>qa&&this._append`L${t+w*d},${r+w*f}`,this._append`A${s},${s},0,0,${+(f*m>d*y)},${this._x1=t+j*c},${this._y1=r+j*u}`}}arc(t,r,n,i,s,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),u=t+l,d=r+c,f=1^o,h=o?i-s:s-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>qa||Math.abs(this._y1-d)>qa)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%mx+mx),h>qI?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>qa&&this._append`A${n},${n},0,${+(h>=hx)},${f},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function e0(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new XI(t)}function t0(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function jO(e){this._context=e}jO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ch(e){return new jO(e)}function wO(e){return e[0]}function NO(e){return e[1]}function _O(e,t){var r=Fe(!0),n=null,i=ch,s=null,o=e0(l);e=typeof e=="function"?e:e===void 0?wO:Fe(e),t=typeof t=="function"?t:t===void 0?NO:Fe(t);function l(c){var u,d=(c=t0(c)).length,f,h=!1,m;for(n==null&&(s=i(m=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(f,u,c),+t(f,u,c));if(m)return s=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Fe(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Fe(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Fe(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(s=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=s=null:s=i(n=c),l):n},l}function mu(e,t,r){var n=null,i=Fe(!0),s=null,o=ch,l=null,c=e0(u);e=typeof e=="function"?e:e===void 0?wO:Fe(+e),t=typeof t=="function"?t:Fe(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?NO:Fe(+r);function u(f){var h,m,y,x=(f=t0(f)).length,v,p=!1,g,b=new Array(x),w=new Array(x);for(s==null&&(l=o(g=c())),h=0;h<=x;++h){if(!(h<x&&i(v=f[h],h,f))===p)if(p=!p)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=h-1;y>=m;--y)l.point(b[y],w[y]);l.lineEnd(),l.areaEnd()}p&&(b[h]=+e(v,h,f),w[h]=+t(v,h,f),l.point(n?+n(v,h,f):b[h],r?+r(v,h,f):w[h]))}if(g)return l=null,g+""||null}function d(){return _O().defined(i).curve(o).context(s)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Fe(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Fe(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Fe(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Fe(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Fe(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Fe(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Fe(!!f),u):i},u.curve=function(f){return arguments.length?(o=f,s!=null&&(l=o(s)),u):o},u.context=function(f){return arguments.length?(f==null?s=l=null:l=o(s=f),u):s},u}class SO{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function QI(e){return new SO(e,!0)}function YI(e){return new SO(e,!1)}const r0={draw(e,t){const r=Yr(t/Nd);e.moveTo(r,0),e.arc(0,0,r,0,lh)}},ZI={draw(e,t){const r=Yr(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},OO=Yr(1/3),JI=OO*2,eD={draw(e,t){const r=Yr(t/JI),n=r*OO;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},tD={draw(e,t){const r=Yr(t),n=-r/2;e.rect(n,n,r,r)}},rD=.8908130915292852,CO=wd(Nd/10)/wd(7*Nd/10),nD=wd(lh/10)*CO,aD=-vO(lh/10)*CO,iD={draw(e,t){const r=Yr(t*rD),n=nD*r,i=aD*r;e.moveTo(0,-r),e.lineTo(n,i);for(let s=1;s<5;++s){const o=lh*s/5,l=vO(o),c=wd(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*i,c*n+l*i)}e.closePath()}},mm=Yr(3),sD={draw(e,t){const r=-Yr(t/(mm*3));e.moveTo(0,r*2),e.lineTo(-mm*r,-r),e.lineTo(mm*r,-r),e.closePath()}},mr=-.5,pr=Yr(3)/2,px=1/Yr(12),oD=(px/2+1)*3,lD={draw(e,t){const r=Yr(t/oD),n=r/2,i=r*px,s=n,o=r*px+r,l=-s,c=o;e.moveTo(n,i),e.lineTo(s,o),e.lineTo(l,c),e.lineTo(mr*n-pr*i,pr*n+mr*i),e.lineTo(mr*s-pr*o,pr*s+mr*o),e.lineTo(mr*l-pr*c,pr*l+mr*c),e.lineTo(mr*n+pr*i,mr*i-pr*n),e.lineTo(mr*s+pr*o,mr*o-pr*s),e.lineTo(mr*l+pr*c,mr*c-pr*l),e.closePath()}};function cD(e,t){let r=null,n=e0(i);e=typeof e=="function"?e:Fe(e||r0),t=typeof t=="function"?t:Fe(t===void 0?64:+t);function i(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:Fe(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:Fe(+s),i):t},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function _d(){}function Sd(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function PO(e){this._context=e}PO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Sd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Sd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function uD(e){return new PO(e)}function AO(e){this._context=e}AO.prototype={areaStart:_d,areaEnd:_d,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Sd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function dD(e){return new AO(e)}function kO(e){this._context=e}kO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Sd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function fD(e){return new kO(e)}function EO(e){this._context=e}EO.prototype={areaStart:_d,areaEnd:_d,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function hD(e){return new EO(e)}function Qb(e){return e<0?-1:1}function Yb(e,t,r){var n=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),l=(s*i+o*n)/(n+i);return(Qb(s)+Qb(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function Zb(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function pm(e,t,r){var n=e._x0,i=e._y0,s=e._x1,o=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,i+l*t,s-l,o-l*r,s,o)}function Od(e){this._context=e}Od.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:pm(this,this._t0,Zb(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,pm(this,Zb(this,r=Yb(this,e,t)),r);break;default:pm(this,this._t0,r=Yb(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function $O(e){this._context=new TO(e)}($O.prototype=Object.create(Od.prototype)).point=function(e,t){Od.prototype.point.call(this,t,e)};function TO(e){this._context=e}TO.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,s){this._context.bezierCurveTo(t,e,n,r,s,i)}};function mD(e){return new Od(e)}function pD(e){return new $O(e)}function MO(e){this._context=e}MO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Jb(e),i=Jb(t),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Jb(e){var t,r=e.length-1,n,i=new Array(r),s=new Array(r),o=new Array(r);for(i[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,s[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/s[t-1],s[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/s[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/s[t];for(s[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function xD(e){return new MO(e)}function uh(e,t){this._context=e,this._t=t}uh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function gD(e){return new uh(e,.5)}function yD(e){return new uh(e,0)}function vD(e){return new uh(e,1)}function zs(e,t){if((o=e.length)>1)for(var r=1,n,i,s=e[t[0]],o,l=s.length;r<o;++r)for(i=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function xx(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function bD(e,t){return e[t]}function jD(e){const t=[];return t.key=e,t}function wD(){var e=Fe([]),t=xx,r=zs,n=bD;function i(s){var o=Array.from(e.apply(this,arguments),jD),l,c=o.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,s)]).data=f;for(l=0,d=t0(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Fe(Array.from(s)),i):e},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:Fe(+s),i):n},i.order=function(s){return arguments.length?(t=s==null?xx:typeof s=="function"?s:Fe(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(r=s??zs,i):r},i}function ND(e,t){if((n=e.length)>0){for(var r,n,i=0,s=e[0].length,o;i<s;++i){for(o=r=0;r<n;++r)o+=e[r][i][1]||0;if(o)for(r=0;r<n;++r)e[r][i][1]/=o}zs(e,t)}}function _D(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,s=n.length;r<s;++r){for(var o=0,l=0;o<i;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}zs(e,t)}}function SD(e,t){if(!(!((o=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,s,o;n<s;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,y=0;y<l;++y){var x=e[t[y]],v=x[n][1]||0,p=x[n-1][1]||0;m+=v-p}c+=f,u+=m*f}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,zs(e,t)}}function Ul(e){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ul(e)}var OD=["type","size","sizeType"];function gx(){return gx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gx.apply(this,arguments)}function ej(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ej(Object(r),!0).forEach(function(n){CD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ej(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CD(e,t,r){return t=PD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PD(e){var t=AD(e,"string");return Ul(t)=="symbol"?t:t+""}function AD(e,t){if(Ul(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ul(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kD(e,t){if(e==null)return{};var r=ED(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ED(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var RO={symbolCircle:r0,symbolCross:ZI,symbolDiamond:eD,symbolSquare:tD,symbolStar:iD,symbolTriangle:sD,symbolWye:lD},$D=Math.PI/180,TD=function(t){var r="symbol".concat(oh(t));return RO[r]||r0},MD=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*$D;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},RD=function(t,r){RO["symbol".concat(oh(t))]=r},n0=function(t){var r=t.type,n=r===void 0?"circle":r,i=t.size,s=i===void 0?64:i,o=t.sizeType,l=o===void 0?"area":o,c=kD(t,OD),u=tj(tj({},c),{},{type:n,size:s,sizeType:l}),d=function(){var v=TD(n),p=cD().type(v).size(MD(s,l,n));return p()},f=u.className,h=u.cx,m=u.cy,y=Oe(u,!0);return h===+h&&m===+m&&s===+s?R.createElement("path",gx({},y,{className:Ce("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};n0.registerSymbol=RD;function Us(e){"@babel/helpers - typeof";return Us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Us(e)}function yx(){return yx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yx.apply(this,arguments)}function rj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ID(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rj(Object(r),!0).forEach(function(n){Wl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DO(n.key),n)}}function FD(e,t,r){return t&&LD(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function BD(e,t,r){return t=Cd(t),zD(e,IO()?Reflect.construct(t,r||[],Cd(e).constructor):t.apply(e,r))}function zD(e,t){if(t&&(Us(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UD(e)}function UD(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IO=function(){return!!e})()}function Cd(e){return Cd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cd(e)}function WD(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vx(e,t)}function vx(e,t){return vx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},vx(e,t)}function Wl(e,t,r){return t=DO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DO(e){var t=HD(e,"string");return Us(t)=="symbol"?t:t+""}function HD(e,t){if(Us(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Us(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var xr=32,a0=function(e){function t(){return DD(this,t),BD(this,t,arguments)}return WD(t,e),FD(t,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,s=xr/2,o=xr/6,l=xr/3,c=n.inactive?i:n.color;if(n.type==="plainline")return R.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:xr,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return R.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(xr,"M").concat(2*l,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return R.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(xr/8,"h").concat(xr,"v").concat(xr*3/4,"h").concat(-xr,"z"),className:"recharts-legend-icon"});if(R.isValidElement(n.legendIcon)){var u=ID({},n);return delete u.legendIcon,R.cloneElement(n.legendIcon,u)}return R.createElement(n0,{fill:c,cx:s,cy:s,size:xr,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,s=i.payload,o=i.iconSize,l=i.layout,c=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:xr,height:xr},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(m,y){var x=m.formatter||c,v=Ce(Wl(Wl({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",m.inactive));if(m.type==="none")return null;var p=be(m.value)?null:m.value;Mn(!be(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var g=m.inactive?u:m.color;return R.createElement("li",yx({className:v,style:f,key:"legend-item-".concat(y)},jd(n.props,m,y)),R.createElement(cx,{width:o,height:o,viewBox:d,style:h},n.renderIcon(m)),R.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},x?x(p,m,y):p))})}},{key:"render",value:function(){var n=this.props,i=n.payload,s=n.layout,o=n.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return R.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(O.PureComponent);Wl(a0,"displayName","Legend");Wl(a0,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var KD=Gf;function VD(){this.__data__=new KD,this.size=0}var qD=VD;function GD(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var XD=GD;function QD(e){return this.__data__.get(e)}var YD=QD;function ZD(e){return this.__data__.has(e)}var JD=ZD,eL=Gf,tL=Ky,rL=Vy,nL=200;function aL(e,t){var r=this.__data__;if(r instanceof eL){var n=r.__data__;if(!tL||n.length<nL-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new rL(n)}return r.set(e,t),this.size=r.size,this}var iL=aL,sL=Gf,oL=qD,lL=XD,cL=YD,uL=JD,dL=iL;function _o(e){var t=this.__data__=new sL(e);this.size=t.size}_o.prototype.clear=oL;_o.prototype.delete=lL;_o.prototype.get=cL;_o.prototype.has=uL;_o.prototype.set=dL;var LO=_o,fL="__lodash_hash_undefined__";function hL(e){return this.__data__.set(e,fL),this}var mL=hL;function pL(e){return this.__data__.has(e)}var xL=pL,gL=Vy,yL=mL,vL=xL;function Pd(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new gL;++t<r;)this.add(e[t])}Pd.prototype.add=Pd.prototype.push=yL;Pd.prototype.has=vL;var FO=Pd;function bL(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var BO=bL;function jL(e,t){return e.has(t)}var zO=jL,wL=FO,NL=BO,_L=zO,SL=1,OL=2;function CL(e,t,r,n,i,s){var o=r&SL,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=s.get(e),d=s.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,m=r&OL?new wL:void 0;for(s.set(e,t),s.set(t,e);++f<l;){var y=e[f],x=t[f];if(n)var v=o?n(x,y,f,t,e,s):n(y,x,f,e,t,s);if(v!==void 0){if(v)continue;h=!1;break}if(m){if(!NL(t,function(p,g){if(!_L(m,g)&&(y===p||i(y,p,r,n,s)))return m.push(g)})){h=!1;break}}else if(!(y===x||i(y,x,r,n,s))){h=!1;break}}return s.delete(e),s.delete(t),h}var UO=CL,PL=fn,AL=PL.Uint8Array,kL=AL;function EL(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}var $L=EL;function TL(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var i0=TL,nj=Lc,aj=kL,ML=Hy,RL=UO,IL=$L,DL=i0,LL=1,FL=2,BL="[object Boolean]",zL="[object Date]",UL="[object Error]",WL="[object Map]",HL="[object Number]",KL="[object RegExp]",VL="[object Set]",qL="[object String]",GL="[object Symbol]",XL="[object ArrayBuffer]",QL="[object DataView]",ij=nj?nj.prototype:void 0,xm=ij?ij.valueOf:void 0;function YL(e,t,r,n,i,s,o){switch(r){case QL:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case XL:return!(e.byteLength!=t.byteLength||!s(new aj(e),new aj(t)));case BL:case zL:case HL:return ML(+e,+t);case UL:return e.name==t.name&&e.message==t.message;case KL:case qL:return e==t+"";case WL:var l=IL;case VL:var c=n&LL;if(l||(l=DL),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=FL,o.set(e,t);var d=RL(l(e),l(t),n,i,s,o);return o.delete(e),d;case GL:if(xm)return xm.call(e)==xm.call(t)}return!1}var ZL=YL;function JL(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var WO=JL,eF=WO,tF=er;function rF(e,t,r){var n=t(e);return tF(e)?n:eF(n,r(e))}var nF=rF;function aF(e,t){for(var r=-1,n=e==null?0:e.length,i=0,s=[];++r<n;){var o=e[r];t(o,r,e)&&(s[i++]=o)}return s}var iF=aF;function sF(){return[]}var oF=sF,lF=iF,cF=oF,uF=Object.prototype,dF=uF.propertyIsEnumerable,sj=Object.getOwnPropertySymbols,fF=sj?function(e){return e==null?[]:(e=Object(e),lF(sj(e),function(t){return dF.call(e,t)}))}:cF,hF=fF;function mF(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var pF=mF,xF=Vn,gF=qn,yF="[object Arguments]";function vF(e){return gF(e)&&xF(e)==yF}var bF=vF,oj=bF,jF=qn,HO=Object.prototype,wF=HO.hasOwnProperty,NF=HO.propertyIsEnumerable,_F=oj(function(){return arguments}())?oj:function(e){return jF(e)&&wF.call(e,"callee")&&!NF.call(e,"callee")},s0=_F,Ad={exports:{}};function SF(){return!1}var OF=SF;Ad.exports;(function(e,t){var r=fn,n=OF,i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===i,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(Ad,Ad.exports);var KO=Ad.exports,CF=9007199254740991,PF=/^(?:0|[1-9]\d*)$/;function AF(e,t){var r=typeof e;return t=t??CF,!!t&&(r=="number"||r!="symbol"&&PF.test(e))&&e>-1&&e%1==0&&e<t}var o0=AF,kF=9007199254740991;function EF(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=kF}var l0=EF,$F=Vn,TF=l0,MF=qn,RF="[object Arguments]",IF="[object Array]",DF="[object Boolean]",LF="[object Date]",FF="[object Error]",BF="[object Function]",zF="[object Map]",UF="[object Number]",WF="[object Object]",HF="[object RegExp]",KF="[object Set]",VF="[object String]",qF="[object WeakMap]",GF="[object ArrayBuffer]",XF="[object DataView]",QF="[object Float32Array]",YF="[object Float64Array]",ZF="[object Int8Array]",JF="[object Int16Array]",e8="[object Int32Array]",t8="[object Uint8Array]",r8="[object Uint8ClampedArray]",n8="[object Uint16Array]",a8="[object Uint32Array]",He={};He[QF]=He[YF]=He[ZF]=He[JF]=He[e8]=He[t8]=He[r8]=He[n8]=He[a8]=!0;He[RF]=He[IF]=He[GF]=He[DF]=He[XF]=He[LF]=He[FF]=He[BF]=He[zF]=He[UF]=He[WF]=He[HF]=He[KF]=He[VF]=He[qF]=!1;function i8(e){return MF(e)&&TF(e.length)&&!!He[$F(e)]}var s8=i8;function o8(e){return function(t){return e(t)}}var VO=o8,kd={exports:{}};kd.exports;(function(e,t){var r=eO,n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===n,o=s&&r.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(kd,kd.exports);var l8=kd.exports,c8=s8,u8=VO,lj=l8,cj=lj&&lj.isTypedArray,d8=cj?u8(cj):c8,qO=d8,f8=pF,h8=s0,m8=er,p8=KO,x8=o0,g8=qO,y8=Object.prototype,v8=y8.hasOwnProperty;function b8(e,t){var r=m8(e),n=!r&&h8(e),i=!r&&!n&&p8(e),s=!r&&!n&&!i&&g8(e),o=r||n||i||s,l=o?f8(e.length,String):[],c=l.length;for(var u in e)(t||v8.call(e,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||x8(u,c)))&&l.push(u);return l}var j8=b8,w8=Object.prototype;function N8(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||w8;return e===r}var _8=N8;function S8(e,t){return function(r){return e(t(r))}}var GO=S8,O8=GO,C8=O8(Object.keys,Object),P8=C8,A8=_8,k8=P8,E8=Object.prototype,$8=E8.hasOwnProperty;function T8(e){if(!A8(e))return k8(e);var t=[];for(var r in Object(e))$8.call(e,r)&&r!="constructor"&&t.push(r);return t}var M8=T8,R8=Wy,I8=l0;function D8(e){return e!=null&&I8(e.length)&&!R8(e)}var zc=D8,L8=j8,F8=M8,B8=zc;function z8(e){return B8(e)?L8(e):F8(e)}var dh=z8,U8=nF,W8=hF,H8=dh;function K8(e){return U8(e,H8,W8)}var V8=K8,uj=V8,q8=1,G8=Object.prototype,X8=G8.hasOwnProperty;function Q8(e,t,r,n,i,s){var o=r&q8,l=uj(e),c=l.length,u=uj(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:X8.call(t,h)))return!1}var m=s.get(e),y=s.get(t);if(m&&y)return m==t&&y==e;var x=!0;s.set(e,t),s.set(t,e);for(var v=o;++f<c;){h=l[f];var p=e[h],g=t[h];if(n)var b=o?n(g,p,h,t,e,s):n(p,g,h,e,t,s);if(!(b===void 0?p===g||i(p,g,r,n,s):b)){x=!1;break}v||(v=h=="constructor")}if(x&&!v){var w=e.constructor,j=t.constructor;w!=j&&"constructor"in e&&"constructor"in t&&!(typeof w=="function"&&w instanceof w&&typeof j=="function"&&j instanceof j)&&(x=!1)}return s.delete(e),s.delete(t),x}var Y8=Q8,Z8=Ii,J8=fn,e7=Z8(J8,"DataView"),t7=e7,r7=Ii,n7=fn,a7=r7(n7,"Promise"),i7=a7,s7=Ii,o7=fn,l7=s7(o7,"Set"),XO=l7,c7=Ii,u7=fn,d7=c7(u7,"WeakMap"),f7=d7,bx=t7,jx=Ky,wx=i7,Nx=XO,_x=f7,QO=Vn,So=rO,dj="[object Map]",h7="[object Object]",fj="[object Promise]",hj="[object Set]",mj="[object WeakMap]",pj="[object DataView]",m7=So(bx),p7=So(jx),x7=So(wx),g7=So(Nx),y7=So(_x),Ga=QO;(bx&&Ga(new bx(new ArrayBuffer(1)))!=pj||jx&&Ga(new jx)!=dj||wx&&Ga(wx.resolve())!=fj||Nx&&Ga(new Nx)!=hj||_x&&Ga(new _x)!=mj)&&(Ga=function(e){var t=QO(e),r=t==h7?e.constructor:void 0,n=r?So(r):"";if(n)switch(n){case m7:return pj;case p7:return dj;case x7:return fj;case g7:return hj;case y7:return mj}return t});var v7=Ga,gm=LO,b7=UO,j7=ZL,w7=Y8,xj=v7,gj=er,yj=KO,N7=qO,_7=1,vj="[object Arguments]",bj="[object Array]",pu="[object Object]",S7=Object.prototype,jj=S7.hasOwnProperty;function O7(e,t,r,n,i,s){var o=gj(e),l=gj(t),c=o?bj:xj(e),u=l?bj:xj(t);c=c==vj?pu:c,u=u==vj?pu:u;var d=c==pu,f=u==pu,h=c==u;if(h&&yj(e)){if(!yj(t))return!1;o=!0,d=!1}if(h&&!d)return s||(s=new gm),o||N7(e)?b7(e,t,r,n,i,s):j7(e,t,c,r,n,i,s);if(!(r&_7)){var m=d&&jj.call(e,"__wrapped__"),y=f&&jj.call(t,"__wrapped__");if(m||y){var x=m?e.value():e,v=y?t.value():t;return s||(s=new gm),i(x,v,r,n,s)}}return h?(s||(s=new gm),w7(e,t,r,n,i,s)):!1}var C7=O7,P7=C7,wj=qn;function YO(e,t,r,n,i){return e===t?!0:e==null||t==null||!wj(e)&&!wj(t)?e!==e&&t!==t:P7(e,t,r,n,YO,i)}var c0=YO,A7=LO,k7=c0,E7=1,$7=2;function T7(e,t,r,n){var i=r.length,s=i,o=!n;if(e==null)return!s;for(e=Object(e);i--;){var l=r[i];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<s;){l=r[i];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new A7;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?k7(d,u,E7|$7,n,f):h))return!1}}return!0}var M7=T7,R7=La;function I7(e){return e===e&&!R7(e)}var ZO=I7,D7=ZO,L7=dh;function F7(e){for(var t=L7(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,D7(i)]}return t}var B7=F7;function z7(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var JO=z7,U7=M7,W7=B7,H7=JO;function K7(e){var t=W7(e);return t.length==1&&t[0][2]?H7(t[0][0],t[0][1]):function(r){return r===e||U7(r,e,t)}}var V7=K7;function q7(e,t){return e!=null&&t in Object(e)}var G7=q7,X7=oO,Q7=s0,Y7=er,Z7=o0,J7=l0,eB=Qf;function tB(e,t,r){t=X7(t,e);for(var n=-1,i=t.length,s=!1;++n<i;){var o=eB(t[n]);if(!(s=e!=null&&r(e,o)))break;e=e[o]}return s||++n!=i?s:(i=e==null?0:e.length,!!i&&J7(i)&&Z7(o,i)&&(Y7(e)||Q7(e)))}var rB=tB,nB=G7,aB=rB;function iB(e,t){return e!=null&&aB(e,t,nB)}var sB=iB,oB=c0,lB=lO,cB=sB,uB=Uy,dB=ZO,fB=JO,hB=Qf,mB=1,pB=2;function xB(e,t){return uB(e)&&dB(t)?fB(hB(e),t):function(r){var n=lB(r,e);return n===void 0&&n===t?cB(r,e):oB(t,n,mB|pB)}}var gB=xB;function yB(e){return e}var Oo=yB;function vB(e){return function(t){return t==null?void 0:t[e]}}var bB=vB,jB=Xy;function wB(e){return function(t){return jB(t,e)}}var NB=wB,_B=bB,SB=NB,OB=Uy,CB=Qf;function PB(e){return OB(e)?_B(CB(e)):SB(e)}var AB=PB,kB=V7,EB=gB,$B=Oo,TB=er,MB=AB;function RB(e){return typeof e=="function"?e:e==null?$B:typeof e=="object"?TB(e)?EB(e[0],e[1]):kB(e):MB(e)}var Fa=RB;function IB(e,t,r,n){for(var i=e.length,s=r+(n?1:-1);n?s--:++s<i;)if(t(e[s],s,e))return s;return-1}var eC=IB;function DB(e){return e!==e}var LB=DB;function FB(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}var BB=FB,zB=eC,UB=LB,WB=BB;function HB(e,t,r){return t===t?WB(e,t,r):zB(e,UB,r)}var KB=HB,VB=KB;function qB(e,t){var r=e==null?0:e.length;return!!r&&VB(e,t,0)>-1}var GB=qB;function XB(e,t,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}var QB=XB;function YB(){}var ZB=YB,ym=XO,JB=ZB,ez=i0,tz=1/0,rz=ym&&1/ez(new ym([,-0]))[1]==tz?function(e){return new ym(e)}:JB,nz=rz,az=FO,iz=GB,sz=QB,oz=zO,lz=nz,cz=i0,uz=200;function dz(e,t,r){var n=-1,i=iz,s=e.length,o=!0,l=[],c=l;if(r)o=!1,i=sz;else if(s>=uz){var u=t?null:lz(e);if(u)return cz(u);o=!1,i=oz,c=new az}else c=t?[]:l;e:for(;++n<s;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else i(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var fz=dz,hz=Fa,mz=fz;function pz(e,t){return e&&e.length?mz(e,hz(t)):[]}var xz=pz;const Nj=De(xz);function tC(e,t,r){return t===!0?Nj(e,r):be(t)?Nj(e,t):e}function Ws(e){"@babel/helpers - typeof";return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ws(e)}var gz=["ref"];function _j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_j(Object(r),!0).forEach(function(n){fh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_j(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nC(n.key),n)}}function vz(e,t,r){return t&&Sj(e.prototype,t),r&&Sj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function bz(e,t,r){return t=Ed(t),jz(e,rC()?Reflect.construct(t,r||[],Ed(e).constructor):t.apply(e,r))}function jz(e,t){if(t&&(Ws(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wz(e)}function wz(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rC=function(){return!!e})()}function Ed(e){return Ed=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ed(e)}function Nz(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sx(e,t)}function Sx(e,t){return Sx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Sx(e,t)}function fh(e,t,r){return t=nC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nC(e){var t=_z(e,"string");return Ws(t)=="symbol"?t:t+""}function _z(e,t){if(Ws(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ws(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Sz(e,t){if(e==null)return{};var r=Oz(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Oz(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Cz(e){return e.value}function Pz(e,t){if(R.isValidElement(e))return R.cloneElement(e,t);if(typeof e=="function")return R.createElement(e,t);t.ref;var r=Sz(t,gz);return R.createElement(a0,r)}var Oj=1,xi=function(e){function t(){var r;yz(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=bz(this,t,[].concat(i)),fh(r,"lastBoundingBox",{width:-1,height:-1}),r}return Nz(t,e),vz(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>Oj||Math.abs(i.height-this.lastBoundingBox.height)>Oj)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?pn({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,s=i.layout,o=i.align,l=i.verticalAlign,c=i.margin,u=i.chartWidth,d=i.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&s==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var y=this.getBBoxSnapshot();h={top:((d||0)-y.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return pn(pn({},f),h)}},{key:"render",value:function(){var n=this,i=this.props,s=i.content,o=i.width,l=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=pn(pn({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return R.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){n.wrapperNode=m}},Pz(s,pn(pn({},this.props),{},{payload:tC(d,u,Cz)})))}}],[{key:"getWithHeight",value:function(n,i){var s=pn(pn({},this.defaultProps),n.props),o=s.layout;return o==="vertical"&&Z(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])}(O.PureComponent);fh(xi,"displayName","Legend");fh(xi,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Cj=Lc,Az=s0,kz=er,Pj=Cj?Cj.isConcatSpreadable:void 0;function Ez(e){return kz(e)||Az(e)||!!(Pj&&e&&e[Pj])}var $z=Ez,Tz=WO,Mz=$z;function aC(e,t,r,n,i){var s=-1,o=e.length;for(r||(r=Mz),i||(i=[]);++s<o;){var l=e[s];t>0&&r(l)?t>1?aC(l,t-1,r,n,i):Tz(i,l):n||(i[i.length]=l)}return i}var iC=aC;function Rz(e){return function(t,r,n){for(var i=-1,s=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++i];if(r(s[c],c,s)===!1)break}return t}}var Iz=Rz,Dz=Iz,Lz=Dz(),Fz=Lz,Bz=Fz,zz=dh;function Uz(e,t){return e&&Bz(e,t,zz)}var sC=Uz,Wz=zc;function Hz(e,t){return function(r,n){if(r==null)return r;if(!Wz(r))return e(r,n);for(var i=r.length,s=t?i:-1,o=Object(r);(t?s--:++s<i)&&n(o[s],s,o)!==!1;);return r}}var Kz=Hz,Vz=sC,qz=Kz,Gz=qz(Vz),u0=Gz,Xz=u0,Qz=zc;function Yz(e,t){var r=-1,n=Qz(e)?Array(e.length):[];return Xz(e,function(i,s,o){n[++r]=t(i,s,o)}),n}var oC=Yz;function Zz(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var Jz=Zz,Aj=vo;function e9(e,t){if(e!==t){var r=e!==void 0,n=e===null,i=e===e,s=Aj(e),o=t!==void 0,l=t===null,c=t===t,u=Aj(t);if(!l&&!u&&!s&&e>t||s&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!i)return 1;if(!n&&!s&&!u&&e<t||u&&r&&i&&!n&&!s||l&&r&&i||!o&&i||!c)return-1}return 0}var t9=e9,r9=t9;function n9(e,t,r){for(var n=-1,i=e.criteria,s=t.criteria,o=i.length,l=r.length;++n<o;){var c=r9(i[n],s[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var a9=n9,vm=Gy,i9=Xy,s9=Fa,o9=oC,l9=Jz,c9=VO,u9=a9,d9=Oo,f9=er;function h9(e,t,r){t.length?t=vm(t,function(s){return f9(s)?function(o){return i9(o,s.length===1?s[0]:s)}:s}):t=[d9];var n=-1;t=vm(t,c9(s9));var i=o9(e,function(s,o,l){var c=vm(t,function(u){return u(s)});return{criteria:c,index:++n,value:s}});return l9(i,function(s,o){return u9(s,o,r)})}var m9=h9;function p9(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var x9=p9,g9=x9,kj=Math.max;function y9(e,t,r){return t=kj(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,s=kj(n.length-t,0),o=Array(s);++i<s;)o[i]=n[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=n[i];return l[t]=r(o),g9(e,this,l)}}var v9=y9;function b9(e){return function(){return e}}var j9=b9,w9=Ii,N9=function(){try{var e=w9(Object,"defineProperty");return e({},"",{}),e}catch{}}(),lC=N9,_9=j9,Ej=lC,S9=Oo,O9=Ej?function(e,t){return Ej(e,"toString",{configurable:!0,enumerable:!1,value:_9(t),writable:!0})}:S9,C9=O9,P9=800,A9=16,k9=Date.now;function E9(e){var t=0,r=0;return function(){var n=k9(),i=A9-(n-r);if(r=n,i>0){if(++t>=P9)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var $9=E9,T9=C9,M9=$9,R9=M9(T9),I9=R9,D9=Oo,L9=v9,F9=I9;function B9(e,t){return F9(L9(e,t,D9),e+"")}var z9=B9,U9=Hy,W9=zc,H9=o0,K9=La;function V9(e,t,r){if(!K9(r))return!1;var n=typeof t;return(n=="number"?W9(r)&&H9(t,r.length):n=="string"&&t in r)?U9(r[t],e):!1}var hh=V9,q9=iC,G9=m9,X9=z9,$j=hh,Q9=X9(function(e,t){if(e==null)return[];var r=t.length;return r>1&&$j(e,t[0],t[1])?t=[]:r>2&&$j(t[0],t[1],t[2])&&(t=[t[0]]),G9(e,q9(t,1),[])}),Y9=Q9;const d0=De(Y9);function Hl(e){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hl(e)}function Ox(){return Ox=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ox.apply(this,arguments)}function Z9(e,t){return rU(e)||tU(e,t)||eU(e,t)||J9()}function J9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eU(e,t){if(e){if(typeof e=="string")return Tj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tj(e,t)}}function Tj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tU(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function rU(e){if(Array.isArray(e))return e}function Mj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mj(Object(r),!0).forEach(function(n){nU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nU(e,t,r){return t=aU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aU(e){var t=iU(e,"string");return Hl(t)=="symbol"?t:t+""}function iU(e,t){if(Hl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sU(e){return Array.isArray(e)&&gt(e[0])&&gt(e[1])?e.join(" ~ "):e}var oU=function(t){var r=t.separator,n=r===void 0?" : ":r,i=t.contentStyle,s=i===void 0?{}:i,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,m=t.wrapperClassName,y=t.labelClassName,x=t.label,v=t.labelFormatter,p=t.accessibilityLayer,g=p===void 0?!1:p,b=function(){if(d&&d.length){var E={padding:0,margin:0},W=(h?d0(d,h):d).map(function(D,F){if(D.type==="none")return null;var T=bm({display:"block",paddingTop:4,paddingBottom:4,color:D.color||"#000"},l),z=D.formatter||f||sU,M=D.value,B=D.name,k=M,I=B;if(z&&k!=null&&I!=null){var L=z(M,B,D,F,d);if(Array.isArray(L)){var q=Z9(L,2);k=q[0],I=q[1]}else k=L}return R.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:T},gt(I)?R.createElement("span",{className:"recharts-tooltip-item-name"},I):null,gt(I)?R.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,R.createElement("span",{className:"recharts-tooltip-item-value"},k),R.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return R.createElement("ul",{className:"recharts-tooltip-item-list",style:E},W)}return null},w=bm({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),j=bm({margin:0},u),N=!je(x),_=N?x:"",S=Ce("recharts-default-tooltip",m),C=Ce("recharts-tooltip-label",y);N&&v&&d!==void 0&&d!==null&&(_=v(x,d));var P=g?{role:"status","aria-live":"assertive"}:{};return R.createElement("div",Ox({className:S,style:w},P),R.createElement("p",{className:C,style:j},R.isValidElement(_)?_:"".concat(_)),b())};function Kl(e){"@babel/helpers - typeof";return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kl(e)}function xu(e,t,r){return t=lU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lU(e){var t=cU(e,"string");return Kl(t)=="symbol"?t:t+""}function cU(e,t){if(Kl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wo="recharts-tooltip-wrapper",uU={visibility:"hidden"};function dU(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Ce(Wo,xu(xu(xu(xu({},"".concat(Wo,"-right"),Z(r)&&t&&Z(t.x)&&r>=t.x),"".concat(Wo,"-left"),Z(r)&&t&&Z(t.x)&&r<t.x),"".concat(Wo,"-bottom"),Z(n)&&t&&Z(t.y)&&n>=t.y),"".concat(Wo,"-top"),Z(n)&&t&&Z(t.y)&&n<t.y))}function Rj(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,i=e.offsetTopLeft,s=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(s&&Z(s[n]))return s[n];var d=r[n]-l-i,f=r[n]+i;if(t[n])return o[n]?d:f;if(o[n]){var h=d,m=c[n];return h<m?Math.max(f,c[n]):Math.max(d,c[n])}var y=f+l,x=c[n]+u;return y>x?Math.max(d,c[n]):Math.max(f,c[n])}function fU(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function hU(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,i=e.position,s=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=Rj({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=Rj({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=fU({translateX:d,translateY:f,useTranslate3d:l})):u=uU,{cssProperties:u,cssClasses:dU({translateX:d,translateY:f,coordinate:r})}}function Hs(e){"@babel/helpers - typeof";return Hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hs(e)}function Ij(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Dj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ij(Object(r),!0).forEach(function(n){Px(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ij(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pU(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uC(n.key),n)}}function xU(e,t,r){return t&&pU(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function gU(e,t,r){return t=$d(t),yU(e,cC()?Reflect.construct(t,r||[],$d(e).constructor):t.apply(e,r))}function yU(e,t){if(t&&(Hs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vU(e)}function vU(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cC=function(){return!!e})()}function $d(e){return $d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$d(e)}function bU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cx(e,t)}function Cx(e,t){return Cx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Cx(e,t)}function Px(e,t,r){return t=uC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uC(e){var t=jU(e,"string");return Hs(t)=="symbol"?t:t+""}function jU(e,t){if(Hs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Lj=1,wU=function(e){function t(){var r;mU(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=gU(this,t,[].concat(i)),Px(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Px(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return bU(t,e),xU(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>Lj||Math.abs(n.height-this.state.lastBoundingBox.height)>Lj)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,m=i.offset,y=i.position,x=i.reverseDirection,v=i.useTranslate3d,p=i.viewBox,g=i.wrapperStyle,b=hU({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:y,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:p}),w=b.cssClasses,j=b.cssProperties,N=Dj(Dj({transition:h&&s?"transform ".concat(l,"ms ").concat(c):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},g);return R.createElement("div",{tabIndex:-1,className:w,style:N,ref:function(S){n.wrapperNode=S}},u)}}])}(O.PureComponent),NU=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Co={isSsr:NU()};function Ks(e){"@babel/helpers - typeof";return Ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ks(e)}function Fj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Bj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fj(Object(r),!0).forEach(function(n){f0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _U(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SU(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fC(n.key),n)}}function OU(e,t,r){return t&&SU(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function CU(e,t,r){return t=Td(t),PU(e,dC()?Reflect.construct(t,r||[],Td(e).constructor):t.apply(e,r))}function PU(e,t){if(t&&(Ks(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AU(e)}function AU(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dC=function(){return!!e})()}function Td(e){return Td=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Td(e)}function kU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ax(e,t)}function Ax(e,t){return Ax=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ax(e,t)}function f0(e,t,r){return t=fC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fC(e){var t=EU(e,"string");return Ks(t)=="symbol"?t:t+""}function EU(e,t){if(Ks(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ks(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function $U(e){return e.dataKey}function TU(e,t){return R.isValidElement(e)?R.cloneElement(e,t):typeof e=="function"?R.createElement(e,t):R.createElement(oU,t)}var en=function(e){function t(){return _U(this,t),CU(this,t,arguments)}return kU(t,e),OU(t,[{key:"render",value:function(){var n=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,m=i.offset,y=i.payload,x=i.payloadUniqBy,v=i.position,p=i.reverseDirection,g=i.useTranslate3d,b=i.viewBox,w=i.wrapperStyle,j=y??[];f&&j.length&&(j=tC(y.filter(function(_){return _.value!=null&&(_.hide!==!0||n.props.includeHidden)}),x,$U));var N=j.length>0;return R.createElement(wU,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:s,coordinate:d,hasPayload:N,offset:m,position:v,reverseDirection:p,useTranslate3d:g,viewBox:b,wrapperStyle:w},TU(u,Bj(Bj({},this.props),{},{payload:j})))}}])}(O.PureComponent);f0(en,"displayName","Tooltip");f0(en,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Co.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var MU=fn,RU=function(){return MU.Date.now()},IU=RU,DU=/\s/;function LU(e){for(var t=e.length;t--&&DU.test(e.charAt(t)););return t}var FU=LU,BU=FU,zU=/^\s+/;function UU(e){return e&&e.slice(0,BU(e)+1).replace(zU,"")}var WU=UU,HU=WU,zj=La,KU=vo,Uj=NaN,VU=/^[-+]0x[0-9a-f]+$/i,qU=/^0b[01]+$/i,GU=/^0o[0-7]+$/i,XU=parseInt;function QU(e){if(typeof e=="number")return e;if(KU(e))return Uj;if(zj(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=zj(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=HU(e);var r=qU.test(e);return r||GU.test(e)?XU(e.slice(2),r?2:8):VU.test(e)?Uj:+e}var hC=QU,YU=La,jm=IU,Wj=hC,ZU="Expected a function",JU=Math.max,eW=Math.min;function tW(e,t,r){var n,i,s,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(ZU);t=Wj(t)||0,YU(r)&&(d=!!r.leading,f="maxWait"in r,s=f?JU(Wj(r.maxWait)||0,t):s,h="trailing"in r?!!r.trailing:h);function m(N){var _=n,S=i;return n=i=void 0,u=N,o=e.apply(S,_),o}function y(N){return u=N,l=setTimeout(p,t),d?m(N):o}function x(N){var _=N-c,S=N-u,C=t-_;return f?eW(C,s-S):C}function v(N){var _=N-c,S=N-u;return c===void 0||_>=t||_<0||f&&S>=s}function p(){var N=jm();if(v(N))return g(N);l=setTimeout(p,x(N))}function g(N){return l=void 0,h&&n?m(N):(n=i=void 0,o)}function b(){l!==void 0&&clearTimeout(l),u=0,n=c=i=l=void 0}function w(){return l===void 0?o:g(jm())}function j(){var N=jm(),_=v(N);if(n=arguments,i=this,c=N,_){if(l===void 0)return y(c);if(f)return clearTimeout(l),l=setTimeout(p,t),m(c)}return l===void 0&&(l=setTimeout(p,t)),o}return j.cancel=b,j.flush=w,j}var rW=tW,nW=rW,aW=La,iW="Expected a function";function sW(e,t,r){var n=!0,i=!0;if(typeof e!="function")throw new TypeError(iW);return aW(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),nW(e,t,{leading:n,maxWait:t,trailing:i})}var oW=sW;const mC=De(oW);function Vl(e){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vl(e)}function Hj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hj(Object(r),!0).forEach(function(n){lW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lW(e,t,r){return t=cW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cW(e){var t=uW(e,"string");return Vl(t)=="symbol"?t:t+""}function uW(e,t){if(Vl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dW(e,t){return pW(e)||mW(e,t)||hW(e,t)||fW()}function fW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hW(e,t){if(e){if(typeof e=="string")return Kj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kj(e,t)}}function Kj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mW(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function pW(e){if(Array.isArray(e))return e}var xW=O.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,i=n===void 0?{width:-1,height:-1}:n,s=e.width,o=s===void 0?"100%":s,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,m=e.children,y=e.debounce,x=y===void 0?0:y,v=e.id,p=e.className,g=e.onResize,b=e.style,w=b===void 0?{}:b,j=O.useRef(null),N=O.useRef();N.current=g,O.useImperativeHandle(t,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var _=O.useState({containerWidth:i.width,containerHeight:i.height}),S=dW(_,2),C=S[0],P=S[1],A=O.useCallback(function(W,D){P(function(F){var T=Math.round(W),z=Math.round(D);return F.containerWidth===T&&F.containerHeight===z?F:{containerWidth:T,containerHeight:z}})},[]);O.useEffect(function(){var W=function(B){var k,I=B[0].contentRect,L=I.width,q=I.height;A(L,q),(k=N.current)===null||k===void 0||k.call(N,L,q)};x>0&&(W=mC(W,x,{trailing:!0,leading:!1}));var D=new ResizeObserver(W),F=j.current.getBoundingClientRect(),T=F.width,z=F.height;return A(T,z),D.observe(j.current),function(){D.disconnect()}},[A,x]);var E=O.useMemo(function(){var W=C.containerWidth,D=C.containerHeight;if(W<0||D<0)return null;Mn(ei(o)||ei(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Mn(!r||r>0,"The aspect(%s) must be greater than zero.",r);var F=ei(o)?W:o,T=ei(c)?D:c;r&&r>0&&(F?T=F/r:T&&(F=T*r),h&&T>h&&(T=h)),Mn(F>0||T>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,T,o,c,d,f,r);var z=!Array.isArray(m)&&Tn(m.type).endsWith("Chart");return R.Children.map(m,function(M){return R.isValidElement(M)?O.cloneElement(M,gu({width:F,height:T},z?{style:gu({height:"100%",width:"100%",maxHeight:T,maxWidth:F},M.props.style)}:{})):M})},[r,m,c,h,f,d,C,o]);return R.createElement("div",{id:v?"".concat(v):void 0,className:Ce("recharts-responsive-container",p),style:gu(gu({},w),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:j},E)}),pC=function(t){return null};pC.displayName="Cell";function ql(e){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ql(e)}function Vj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vj(Object(r),!0).forEach(function(n){gW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gW(e,t,r){return t=yW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yW(e){var t=vW(e,"string");return ql(t)=="symbol"?t:t+""}function vW(e,t){if(ql(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ql(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ui={widthCache:{},cacheCount:0},bW=2e3,jW={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},qj="recharts_measurement_span";function wW(e){var t=kx({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var xl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Co.isSsr)return{width:0,height:0};var n=wW(r),i=JSON.stringify({text:t,copyStyle:n});if(Ui.widthCache[i])return Ui.widthCache[i];try{var s=document.getElementById(qj);s||(s=document.createElement("span"),s.setAttribute("id",qj),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=kx(kx({},jW),n);Object.assign(s.style,o),s.textContent="".concat(t);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return Ui.widthCache[i]=c,++Ui.cacheCount>bW&&(Ui.cacheCount=0,Ui.widthCache={}),c}catch{return{width:0,height:0}}},NW=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Gl(e){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gl(e)}function Md(e,t){return CW(e)||OW(e,t)||SW(e,t)||_W()}function _W(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SW(e,t){if(e){if(typeof e=="string")return Gj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gj(e,t)}}function Gj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function OW(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function CW(e){if(Array.isArray(e))return e}function PW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kW(n.key),n)}}function AW(e,t,r){return t&&Xj(e.prototype,t),r&&Xj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function kW(e){var t=EW(e,"string");return Gl(t)=="symbol"?t:t+""}function EW(e,t){if(Gl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Qj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Yj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,$W=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,TW=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,xC={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},MW=Object.keys(xC),as="NaN";function RW(e,t){return e*xC[t]}var yu=function(){function e(t,r){PW(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!$W.test(r)&&(this.num=NaN,this.unit=""),MW.includes(r)&&(this.num=RW(t,r),this.unit="px")}return AW(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=TW.exec(r))!==null&&n!==void 0?n:[],s=Md(i,3),o=s[1],l=s[2];return new e(parseFloat(o),l??"")}}])}();function gC(e){if(e.includes(as))return as;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=Qj.exec(t))!==null&&r!==void 0?r:[],i=Md(n,4),s=i[1],o=i[2],l=i[3],c=yu.parse(s??""),u=yu.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return as;t=t.replace(Qj,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=Yj.exec(t))!==null&&f!==void 0?f:[],m=Md(h,4),y=m[1],x=m[2],v=m[3],p=yu.parse(y??""),g=yu.parse(v??""),b=x==="+"?p.add(g):p.subtract(g);if(b.isNaN())return as;t=t.replace(Yj,b.toString())}return t}var Zj=/\(([^()]*)\)/;function IW(e){for(var t=e;t.includes("(");){var r=Zj.exec(t),n=Md(r,2),i=n[1];t=t.replace(Zj,gC(i))}return t}function DW(e){var t=e.replace(/\s+/g,"");return t=IW(t),t=gC(t),t}function LW(e){try{return DW(e)}catch{return as}}function wm(e){var t=LW(e.slice(5,-1));return t===as?"":t}var FW=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],BW=["dx","dy","angle","className","breakAll"];function Ex(){return Ex=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ex.apply(this,arguments)}function Jj(e,t){if(e==null)return{};var r=zW(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zW(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function e1(e,t){return KW(e)||HW(e,t)||WW(e,t)||UW()}function UW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WW(e,t){if(e){if(typeof e=="string")return t1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t1(e,t)}}function t1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function HW(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function KW(e){if(Array.isArray(e))return e}var yC=/[ \f\n\r\t\v\u2028\u2029]+/,vC=function(t){var r=t.children,n=t.breakAll,i=t.style;try{var s=[];je(r)||(n?s=r.toString().split(""):s=r.toString().split(yC));var o=s.map(function(c){return{word:c,width:xl(c,i).width}}),l=n?0:xl("",i).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},VW=function(t,r,n,i,s){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=Z(o),f=l,h=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce(function(T,z){var M=z.word,B=z.width,k=T[T.length-1];if(k&&(i==null||s||k.width+B+n<Number(i)))k.words.push(M),k.width+=B+n;else{var I={words:[M],width:B};T.push(I)}return T},[])},m=h(r),y=function(F){return F.reduce(function(T,z){return T.width>z.width?T:z})};if(!d)return m;for(var x="",v=function(F){var T=f.slice(0,F),z=vC({breakAll:u,style:c,children:T+x}).wordsWithComputedWidth,M=h(z),B=M.length>o||y(M).width>Number(i);return[B,M]},p=0,g=f.length-1,b=0,w;p<=g&&b<=f.length-1;){var j=Math.floor((p+g)/2),N=j-1,_=v(N),S=e1(_,2),C=S[0],P=S[1],A=v(j),E=e1(A,1),W=E[0];if(!C&&!W&&(p=j+1),C&&W&&(g=j-1),!C&&W){w=P;break}b++}return w||m},r1=function(t){var r=je(t)?[]:t.toString().split(yC);return[{words:r}]},qW=function(t){var r=t.width,n=t.scaleToFit,i=t.children,s=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!Co.isSsr){var c,u,d=vC({breakAll:o,children:i,style:s});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return r1(i);return VW({breakAll:o,children:i,maxLines:l,style:s},c,u,r,n)}return r1(i)},n1="#808080",Rd=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,s=i===void 0?0:i,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,m=h===void 0?"start":h,y=t.verticalAnchor,x=y===void 0?"end":y,v=t.fill,p=v===void 0?n1:v,g=Jj(t,FW),b=O.useMemo(function(){return qW({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width})},[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),w=g.dx,j=g.dy,N=g.angle,_=g.className,S=g.breakAll,C=Jj(g,BW);if(!gt(n)||!gt(s))return null;var P=n+(Z(w)?w:0),A=s+(Z(j)?j:0),E;switch(x){case"start":E=wm("calc(".concat(u,")"));break;case"middle":E=wm("calc(".concat((b.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:E=wm("calc(".concat(b.length-1," * -").concat(l,")"));break}var W=[];if(f){var D=b[0].width,F=g.width;W.push("scale(".concat((Z(F)?F/D:1)/D,")"))}return N&&W.push("rotate(".concat(N,", ").concat(P,", ").concat(A,")")),W.length&&(C.transform=W.join(" ")),R.createElement("text",Ex({},Oe(C,!0),{x:P,y:A,className:Ce("recharts-text",_),textAnchor:m,fill:p.includes("url")?n1:p}),b.map(function(T,z){var M=T.words.join(S?"":" ");return R.createElement("tspan",{x:P,dy:z===0?E:l,key:"".concat(M,"-").concat(z)},M)}))};function Aa(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function GW(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function h0(e){let t,r,n;e.length!==2?(t=Aa,r=(l,c)=>Aa(e(l),c),n=(l,c)=>e(l)-c):(t=e===Aa||e===GW?e:XW,r=e,n=e);function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=i(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:i,center:o,right:s}}function XW(){return 0}function bC(e){return e===null?NaN:+e}function*QW(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const YW=h0(Aa),Uc=YW.right;h0(bC).center;class a1 extends Map{constructor(t,r=eH){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(i1(this,t))}has(t){return super.has(i1(this,t))}set(t,r){return super.set(ZW(this,t),r)}delete(t){return super.delete(JW(this,t))}}function i1({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function ZW({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function JW({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function eH(e){return e!==null&&typeof e=="object"?e.valueOf():e}function tH(e=Aa){if(e===Aa)return jC;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function jC(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const rH=Math.sqrt(50),nH=Math.sqrt(10),aH=Math.sqrt(2);function Id(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),o=s>=rH?10:s>=nH?5:s>=aH?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?Id(e,t,r*2):[l,c,u]}function $x(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,s,o]=n?Id(t,e,r):Id(e,t,r);if(!(s>=i))return[];const l=s-i+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(s-u)/-o;else for(let u=0;u<l;++u)c[u]=(s-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(i+u)/-o;else for(let u=0;u<l;++u)c[u]=(i+u)*o;return c}function Tx(e,t,r){return t=+t,e=+e,r=+r,Id(e,t,r)[2]}function Mx(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?Tx(t,e,r):Tx(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function s1(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function o1(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function wC(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?jC:tH(i);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),y=Math.min(n,Math.floor(t+(c-u)*f/c+h));wC(e,t,m,y,i)}const s=e[t];let o=r,l=n;for(Ho(e,r,t),i(e[n],s)>0&&Ho(e,r,n);o<l;){for(Ho(e,o,l),++o,--l;i(e[o],s)<0;)++o;for(;i(e[l],s)>0;)--l}i(e[r],s)===0?Ho(e,r,l):(++l,Ho(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Ho(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function iH(e,t,r){if(e=Float64Array.from(QW(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return o1(e);if(t>=1)return s1(e);var n,i=(n-1)*t,s=Math.floor(i),o=s1(wC(e,s).subarray(0,s+1)),l=o1(e.subarray(s+1));return o+(l-o)*(i-s)}}function sH(e,t,r=bC){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,s=Math.floor(i),o=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return o+(l-o)*(i-s)}}function oH(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(i);++n<i;)s[n]=e+n*r;return s}function $r(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Gn(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Rx=Symbol("implicit");function m0(){var e=new a1,t=[],r=[],n=Rx;function i(s){let o=e.get(s);if(o===void 0){if(n!==Rx)return n;e.set(s,o=t.push(s)-1)}return r[o%r.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new a1;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return m0(t,r).unknown(n)},$r.apply(i,arguments),i}function Xl(){var e=m0().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,s,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=i<n,y=m?i:n,x=m?n:i;s=(x-y)/Math.max(1,h-c+u*2),l&&(s=Math.floor(s)),y+=(x-y-s*(h-c))*d,o=s*(1-c),l&&(y=Math.round(y),o=Math.round(o));var v=oH(h).map(function(p){return y+s*p});return r(m?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},e.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Xl(t(),[n,i]).round(l).paddingInner(c).paddingOuter(u).align(d)},$r.apply(f(),arguments)}function NC(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return NC(t())},e}function gl(){return NC(Xl.apply(null,arguments).paddingInner(1))}function p0(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function _C(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Wc(){}var Ql=.7,Dd=1/Ql,ps="\\s*([+-]?\\d+)\\s*",Yl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",cn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",lH=/^#([0-9a-f]{3,8})$/,cH=new RegExp(`^rgb\\(${ps},${ps},${ps}\\)$`),uH=new RegExp(`^rgb\\(${cn},${cn},${cn}\\)$`),dH=new RegExp(`^rgba\\(${ps},${ps},${ps},${Yl}\\)$`),fH=new RegExp(`^rgba\\(${cn},${cn},${cn},${Yl}\\)$`),hH=new RegExp(`^hsl\\(${Yl},${cn},${cn}\\)$`),mH=new RegExp(`^hsla\\(${Yl},${cn},${cn},${Yl}\\)$`),l1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};p0(Wc,Zl,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:c1,formatHex:c1,formatHex8:pH,formatHsl:xH,formatRgb:u1,toString:u1});function c1(){return this.rgb().formatHex()}function pH(){return this.rgb().formatHex8()}function xH(){return SC(this).formatHsl()}function u1(){return this.rgb().formatRgb()}function Zl(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=lH.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?d1(t):r===3?new Qt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?vu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?vu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=cH.exec(e))?new Qt(t[1],t[2],t[3],1):(t=uH.exec(e))?new Qt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=dH.exec(e))?vu(t[1],t[2],t[3],t[4]):(t=fH.exec(e))?vu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=hH.exec(e))?m1(t[1],t[2]/100,t[3]/100,1):(t=mH.exec(e))?m1(t[1],t[2]/100,t[3]/100,t[4]):l1.hasOwnProperty(e)?d1(l1[e]):e==="transparent"?new Qt(NaN,NaN,NaN,0):null}function d1(e){return new Qt(e>>16&255,e>>8&255,e&255,1)}function vu(e,t,r,n){return n<=0&&(e=t=r=NaN),new Qt(e,t,r,n)}function gH(e){return e instanceof Wc||(e=Zl(e)),e?(e=e.rgb(),new Qt(e.r,e.g,e.b,e.opacity)):new Qt}function Ix(e,t,r,n){return arguments.length===1?gH(e):new Qt(e,t,r,n??1)}function Qt(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}p0(Qt,Ix,_C(Wc,{brighter(e){return e=e==null?Dd:Math.pow(Dd,e),new Qt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ql:Math.pow(Ql,e),new Qt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Qt(gi(this.r),gi(this.g),gi(this.b),Ld(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:f1,formatHex:f1,formatHex8:yH,formatRgb:h1,toString:h1}));function f1(){return`#${ti(this.r)}${ti(this.g)}${ti(this.b)}`}function yH(){return`#${ti(this.r)}${ti(this.g)}${ti(this.b)}${ti((isNaN(this.opacity)?1:this.opacity)*255)}`}function h1(){const e=Ld(this.opacity);return`${e===1?"rgb(":"rgba("}${gi(this.r)}, ${gi(this.g)}, ${gi(this.b)}${e===1?")":`, ${e})`}`}function Ld(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function gi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ti(e){return e=gi(e),(e<16?"0":"")+e.toString(16)}function m1(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Kr(e,t,r,n)}function SC(e){if(e instanceof Kr)return new Kr(e.h,e.s,e.l,e.opacity);if(e instanceof Wc||(e=Zl(e)),!e)return new Kr;if(e instanceof Kr)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,l=s-i,c=(s+i)/2;return l?(t===s?o=(r-n)/l+(r<n)*6:r===s?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?s+i:2-s-i,o*=60):l=c>0&&c<1?0:o,new Kr(o,l,c,e.opacity)}function vH(e,t,r,n){return arguments.length===1?SC(e):new Kr(e,t,r,n??1)}function Kr(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}p0(Kr,vH,_C(Wc,{brighter(e){return e=e==null?Dd:Math.pow(Dd,e),new Kr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ql:Math.pow(Ql,e),new Kr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Qt(Nm(e>=240?e-240:e+120,i,n),Nm(e,i,n),Nm(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Kr(p1(this.h),bu(this.s),bu(this.l),Ld(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ld(this.opacity);return`${e===1?"hsl(":"hsla("}${p1(this.h)}, ${bu(this.s)*100}%, ${bu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function p1(e){return e=(e||0)%360,e<0?e+360:e}function bu(e){return Math.max(0,Math.min(1,e||0))}function Nm(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const x0=e=>()=>e;function bH(e,t){return function(r){return e+r*t}}function jH(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function wH(e){return(e=+e)==1?OC:function(t,r){return r-t?jH(t,r,e):x0(isNaN(t)?r:t)}}function OC(e,t){var r=t-e;return r?bH(e,r):x0(isNaN(e)?t:e)}const x1=function e(t){var r=wH(t);function n(i,s){var o=r((i=Ix(i)).r,(s=Ix(s)).r),l=r(i.g,s.g),c=r(i.b,s.b),u=OC(i.opacity,s.opacity);return function(d){return i.r=o(d),i.g=l(d),i.b=c(d),i.opacity=u(d),i+""}}return n.gamma=e,n}(1);function NH(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=e[i]*(1-s)+t[i]*s;return n}}function _H(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function SH(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)i[o]=Po(e[o],t[o]);for(;o<r;++o)s[o]=t[o];return function(l){for(o=0;o<n;++o)s[o]=i[o](l);return s}}function OH(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Fd(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function CH(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Po(e[i],t[i]):n[i]=t[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var Dx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_m=new RegExp(Dx.source,"g");function PH(e){return function(){return e}}function AH(e){return function(t){return e(t)+""}}function kH(e,t){var r=Dx.lastIndex=_m.lastIndex=0,n,i,s,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=Dx.exec(e))&&(i=_m.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),l[o]?l[o]+=s:l[++o]=s),(n=n[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:Fd(n,i)})),r=_m.lastIndex;return r<t.length&&(s=t.slice(r),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?AH(c[0].x):PH(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Po(e,t){var r=typeof t,n;return t==null||r==="boolean"?x0(t):(r==="number"?Fd:r==="string"?(n=Zl(t))?(t=n,x1):kH:t instanceof Zl?x1:t instanceof Date?OH:_H(t)?NH:Array.isArray(t)?SH:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?CH:Fd)(e,t)}function g0(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function EH(e,t){t===void 0&&(t=e,e=Po);for(var r=0,n=t.length-1,i=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(i,i=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[l](o-l)}}function $H(e){return function(){return e}}function Bd(e){return+e}var g1=[0,1];function zt(e){return e}function Lx(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:$H(isNaN(t)?NaN:.5)}function TH(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function MH(e,t,r){var n=e[0],i=e[1],s=t[0],o=t[1];return i<n?(n=Lx(i,n),s=r(o,s)):(n=Lx(n,i),s=r(s,o)),function(l){return s(n(l))}}function RH(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),s=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=Lx(e[o],e[o+1]),s[o]=r(t[o],t[o+1]);return function(l){var c=Uc(e,l,1,n)-1;return s[c](i[c](l))}}function Hc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function mh(){var e=g1,t=g1,r=Po,n,i,s,o=zt,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==zt&&(o=TH(e[0],e[h-1])),l=h>2?RH:MH,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?s:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(i((u||(u=l(t,e.map(n),Fd)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Bd),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=g0,d()},f.clamp=function(h){return arguments.length?(o=h?!0:zt,d()):o!==zt},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,m){return n=h,i=m,d()}}function y0(){return mh()(zt,zt)}function IH(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function zd(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Vs(e){return e=zd(Math.abs(e)),e?e[1]:NaN}function DH(e,t){return function(r,n){for(var i=r.length,s=[],o=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return s.reverse().join(t)}}function LH(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var FH=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Jl(e){if(!(t=FH.exec(e)))throw new Error("invalid format: "+e);var t;return new v0({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Jl.prototype=v0.prototype;function v0(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}v0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function BH(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var CC;function zH(e,t){var r=zd(e,t);if(!r)return e+"";var n=r[0],i=r[1],s=i-(CC=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+zd(e,Math.max(0,t+s-1))[0]}function y1(e,t){var r=zd(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const v1={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:IH,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>y1(e*100,t),r:y1,s:zH,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function b1(e){return e}var j1=Array.prototype.map,w1=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function UH(e){var t=e.grouping===void 0||e.thousands===void 0?b1:DH(j1.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?b1:LH(j1.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Jl(f);var h=f.fill,m=f.align,y=f.sign,x=f.symbol,v=f.zero,p=f.width,g=f.comma,b=f.precision,w=f.trim,j=f.type;j==="n"?(g=!0,j="g"):v1[j]||(b===void 0&&(b=12),w=!0,j="g"),(v||h==="0"&&m==="=")&&(v=!0,h="0",m="=");var N=x==="$"?r:x==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",_=x==="$"?n:/[%p]/.test(j)?o:"",S=v1[j],C=/[defgprs%]/.test(j);b=b===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function P(A){var E=N,W=_,D,F,T;if(j==="c")W=S(A)+W,A="";else{A=+A;var z=A<0||1/A<0;if(A=isNaN(A)?c:S(Math.abs(A),b),w&&(A=BH(A)),z&&+A==0&&y!=="+"&&(z=!1),E=(z?y==="("?y:l:y==="-"||y==="("?"":y)+E,W=(j==="s"?w1[8+CC/3]:"")+W+(z&&y==="("?")":""),C){for(D=-1,F=A.length;++D<F;)if(T=A.charCodeAt(D),48>T||T>57){W=(T===46?i+A.slice(D+1):A.slice(D))+W,A=A.slice(0,D);break}}}g&&!v&&(A=t(A,1/0));var M=E.length+A.length+W.length,B=M<p?new Array(p-M+1).join(h):"";switch(g&&v&&(A=t(B+A,B.length?p-W.length:1/0),B=""),m){case"<":A=E+A+W+B;break;case"=":A=E+B+A+W;break;case"^":A=B.slice(0,M=B.length>>1)+E+A+W+B.slice(M);break;default:A=B+E+A+W;break}return s(A)}return P.toString=function(){return f+""},P}function d(f,h){var m=u((f=Jl(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(Vs(h)/3)))*3,x=Math.pow(10,-y),v=w1[8+y/3];return function(p){return m(x*p)+v}}return{format:u,formatPrefix:d}}var ju,b0,PC;WH({thousands:",",grouping:[3],currency:["$",""]});function WH(e){return ju=UH(e),b0=ju.format,PC=ju.formatPrefix,ju}function HH(e){return Math.max(0,-Vs(Math.abs(e)))}function KH(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Vs(t)/3)))*3-Vs(Math.abs(e)))}function VH(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Vs(t)-Vs(e))+1}function AC(e,t,r,n){var i=Mx(e,t,r),s;switch(n=Jl(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=KH(i,o))&&(n.precision=s),PC(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=VH(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=HH(i))&&(n.precision=s-(n.type==="%")*2);break}}return b0(n)}function Ba(e){var t=e.domain;return e.ticks=function(r){var n=t();return $x(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return AC(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,s=n.length-1,o=n[i],l=n[s],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=i,i=s,s=u);d-- >0;){if(u=Tx(o,l,r),u===c)return n[i]=o,n[s]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function Ud(){var e=y0();return e.copy=function(){return Hc(e,Ud())},$r.apply(e,arguments),Ba(e)}function kC(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Bd),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return kC(e).unknown(t)},e=arguments.length?Array.from(e,Bd):[0,1],Ba(r)}function EC(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],s=e[n],o;return s<i&&(o=r,r=n,n=o,o=i,i=s,s=o),e[r]=t.floor(i),e[n]=t.ceil(s),e}function N1(e){return Math.log(e)}function _1(e){return Math.exp(e)}function qH(e){return-Math.log(-e)}function GH(e){return-Math.exp(-e)}function XH(e){return isFinite(e)?+("1e"+e):e<0?0:e}function QH(e){return e===10?XH:e===Math.E?Math.exp:t=>Math.pow(e,t)}function YH(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function S1(e){return(t,r)=>-e(-t,r)}function j0(e){const t=e(N1,_1),r=t.domain;let n=10,i,s;function o(){return i=YH(n),s=QH(n),r()[0]<0?(i=S1(i),s=S1(s),e(qH,GH)):e(N1,_1),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),m=i(d),y,x;const v=l==null?10:+l;let p=[];if(!(n%1)&&m-h<v){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(y=1;y<n;++y)if(x=h<0?y/s(-h):y*s(h),!(x<u)){if(x>d)break;p.push(x)}}else for(;h<=m;++h)for(y=n-1;y>=1;--y)if(x=h>0?y/s(-h):y*s(h),!(x<u)){if(x>d)break;p.push(x)}p.length*2<v&&(p=$x(u,d,v))}else p=$x(h,m,Math.min(m-h,v)).map(s);return f?p.reverse():p},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Jl(c)).precision==null&&(c.trim=!0),c=b0(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/s(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(EC(r(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),t}function $C(){const e=j0(mh()).domain([1,10]);return e.copy=()=>Hc(e,$C()).base(e.base()),$r.apply(e,arguments),e}function O1(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function C1(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function w0(e){var t=1,r=e(O1(t),C1(t));return r.constant=function(n){return arguments.length?e(O1(t=+n),C1(t)):t},Ba(r)}function TC(){var e=w0(mh());return e.copy=function(){return Hc(e,TC()).constant(e.constant())},$r.apply(e,arguments)}function P1(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function ZH(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function JH(e){return e<0?-e*e:e*e}function N0(e){var t=e(zt,zt),r=1;function n(){return r===1?e(zt,zt):r===.5?e(ZH,JH):e(P1(r),P1(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Ba(t)}function _0(){var e=N0(mh());return e.copy=function(){return Hc(e,_0()).exponent(e.exponent())},$r.apply(e,arguments),e}function eK(){return _0.apply(null,arguments).exponent(.5)}function A1(e){return Math.sign(e)*e*e}function tK(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function MC(){var e=y0(),t=[0,1],r=!1,n;function i(s){var o=tK(e(s));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(s){return e.invert(A1(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,Bd)).map(A1)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return MC(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},$r.apply(i,arguments),Ba(i)}function RC(){var e=[],t=[],r=[],n;function i(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=sH(e,o/l);return s}function s(o){return o==null||isNaN(o=+o)?n:t[Uc(r,o)]}return s.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Aa),i()},s.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return RC().domain(e).range(t).unknown(n)},$r.apply(s,arguments)}function IC(){var e=0,t=1,r=1,n=[.5],i=[0,1],s;function o(c){return c!=null&&c<=c?i[Uc(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return IC().domain([e,t]).range(i).unknown(s)},$r.apply(Ba(o),arguments)}function DC(){var e=[.5],t=[0,1],r,n=1;function i(s){return s!=null&&s<=s?t[Uc(e,s,0,n)]:r}return i.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return DC().domain(e).range(t).unknown(r)},$r.apply(i,arguments)}const Sm=new Date,Om=new Date;function yt(e,t,r,n){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const o=i(s),l=i.ceil(s);return s-o<l-s?o:l},i.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,l)=>{const c=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return c;let u;do c.push(u=new Date(+s)),t(s,l),e(s);while(u<s&&s<o);return c},i.filter=s=>yt(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!s(o););else for(;--l>=0;)for(;t(o,1),!s(o););}),r&&(i.count=(s,o)=>(Sm.setTime(+s),Om.setTime(+o),e(Sm),e(Om),Math.floor(r(Sm,Om))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?o=>n(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const Wd=yt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Wd.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?yt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Wd);Wd.range;const An=1e3,Nr=An*60,kn=Nr*60,zn=kn*24,S0=zn*7,k1=zn*30,Cm=zn*365,ri=yt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*An)},(e,t)=>(t-e)/An,e=>e.getUTCSeconds());ri.range;const O0=yt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*An)},(e,t)=>{e.setTime(+e+t*Nr)},(e,t)=>(t-e)/Nr,e=>e.getMinutes());O0.range;const C0=yt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Nr)},(e,t)=>(t-e)/Nr,e=>e.getUTCMinutes());C0.range;const P0=yt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*An-e.getMinutes()*Nr)},(e,t)=>{e.setTime(+e+t*kn)},(e,t)=>(t-e)/kn,e=>e.getHours());P0.range;const A0=yt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*kn)},(e,t)=>(t-e)/kn,e=>e.getUTCHours());A0.range;const Kc=yt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Nr)/zn,e=>e.getDate()-1);Kc.range;const ph=yt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/zn,e=>e.getUTCDate()-1);ph.range;const LC=yt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/zn,e=>Math.floor(e/zn));LC.range;function Di(e){return yt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Nr)/S0)}const xh=Di(0),Hd=Di(1),rK=Di(2),nK=Di(3),qs=Di(4),aK=Di(5),iK=Di(6);xh.range;Hd.range;rK.range;nK.range;qs.range;aK.range;iK.range;function Li(e){return yt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/S0)}const gh=Li(0),Kd=Li(1),sK=Li(2),oK=Li(3),Gs=Li(4),lK=Li(5),cK=Li(6);gh.range;Kd.range;sK.range;oK.range;Gs.range;lK.range;cK.range;const k0=yt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());k0.range;const E0=yt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());E0.range;const Un=yt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Un.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:yt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Un.range;const Wn=yt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Wn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:yt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Wn.range;function FC(e,t,r,n,i,s){const o=[[ri,1,An],[ri,5,5*An],[ri,15,15*An],[ri,30,30*An],[s,1,Nr],[s,5,5*Nr],[s,15,15*Nr],[s,30,30*Nr],[i,1,kn],[i,3,3*kn],[i,6,6*kn],[i,12,12*kn],[n,1,zn],[n,2,2*zn],[r,1,S0],[t,1,k1],[t,3,3*k1],[e,1,Cm]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),y=m?m.range(u,+d+1):[];return h?y.reverse():y}function c(u,d,f){const h=Math.abs(d-u)/f,m=h0(([,,v])=>v).right(o,h);if(m===o.length)return e.every(Mx(u/Cm,d/Cm,f));if(m===0)return Wd.every(Math.max(Mx(u,d,f),1));const[y,x]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return y.every(x)}return[l,c]}const[uK,dK]=FC(Wn,E0,gh,LC,A0,C0),[fK,hK]=FC(Un,k0,xh,Kc,P0,O0);function Pm(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Am(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ko(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function mK(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,s=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Vo(i),d=qo(i),f=Vo(s),h=qo(s),m=Vo(o),y=qo(o),x=Vo(l),v=qo(l),p=Vo(c),g=qo(c),b={a:z,A:M,b:B,B:k,c:null,d:I1,e:I1,f:DK,g:qK,G:XK,H:MK,I:RK,j:IK,L:BC,m:LK,M:FK,p:I,q:L,Q:F1,s:B1,S:BK,u:zK,U:UK,V:WK,w:HK,W:KK,x:null,X:null,y:VK,Y:GK,Z:QK,"%":L1},w={a:q,A:Y,b:le,B:me,c:null,d:D1,e:D1,f:eV,g:uV,G:fV,H:YK,I:ZK,j:JK,L:UC,m:tV,M:rV,p:oe,q:ce,Q:F1,s:B1,S:nV,u:aV,U:iV,V:sV,w:oV,W:lV,x:null,X:null,y:cV,Y:dV,Z:hV,"%":L1},j={a:P,A,b:E,B:W,c:D,d:M1,e:M1,f:kK,g:T1,G:$1,H:R1,I:R1,j:OK,L:AK,m:SK,M:CK,p:C,q:_K,Q:$K,s:TK,S:PK,u:vK,U:bK,V:jK,w:yK,W:wK,x:F,X:T,y:T1,Y:$1,Z:NK,"%":EK};b.x=N(r,b),b.X=N(n,b),b.c=N(t,b),w.x=N(r,w),w.X=N(n,w),w.c=N(t,w);function N(Q,H){return function(J){var U=[],ve=-1,fe=0,de=Q.length,_e,ze,Tr;for(J instanceof Date||(J=new Date(+J));++ve<de;)Q.charCodeAt(ve)===37&&(U.push(Q.slice(fe,ve)),(ze=E1[_e=Q.charAt(++ve)])!=null?_e=Q.charAt(++ve):ze=_e==="e"?" ":"0",(Tr=H[_e])&&(_e=Tr(J,ze)),U.push(_e),fe=ve+1);return U.push(Q.slice(fe,ve)),U.join("")}}function _(Q,H){return function(J){var U=Ko(1900,void 0,1),ve=S(U,Q,J+="",0),fe,de;if(ve!=J.length)return null;if("Q"in U)return new Date(U.Q);if("s"in U)return new Date(U.s*1e3+("L"in U?U.L:0));if(H&&!("Z"in U)&&(U.Z=0),"p"in U&&(U.H=U.H%12+U.p*12),U.m===void 0&&(U.m="q"in U?U.q:0),"V"in U){if(U.V<1||U.V>53)return null;"w"in U||(U.w=1),"Z"in U?(fe=Am(Ko(U.y,0,1)),de=fe.getUTCDay(),fe=de>4||de===0?Kd.ceil(fe):Kd(fe),fe=ph.offset(fe,(U.V-1)*7),U.y=fe.getUTCFullYear(),U.m=fe.getUTCMonth(),U.d=fe.getUTCDate()+(U.w+6)%7):(fe=Pm(Ko(U.y,0,1)),de=fe.getDay(),fe=de>4||de===0?Hd.ceil(fe):Hd(fe),fe=Kc.offset(fe,(U.V-1)*7),U.y=fe.getFullYear(),U.m=fe.getMonth(),U.d=fe.getDate()+(U.w+6)%7)}else("W"in U||"U"in U)&&("w"in U||(U.w="u"in U?U.u%7:"W"in U?1:0),de="Z"in U?Am(Ko(U.y,0,1)).getUTCDay():Pm(Ko(U.y,0,1)).getDay(),U.m=0,U.d="W"in U?(U.w+6)%7+U.W*7-(de+5)%7:U.w+U.U*7-(de+6)%7);return"Z"in U?(U.H+=U.Z/100|0,U.M+=U.Z%100,Am(U)):Pm(U)}}function S(Q,H,J,U){for(var ve=0,fe=H.length,de=J.length,_e,ze;ve<fe;){if(U>=de)return-1;if(_e=H.charCodeAt(ve++),_e===37){if(_e=H.charAt(ve++),ze=j[_e in E1?H.charAt(ve++):_e],!ze||(U=ze(Q,J,U))<0)return-1}else if(_e!=J.charCodeAt(U++))return-1}return U}function C(Q,H,J){var U=u.exec(H.slice(J));return U?(Q.p=d.get(U[0].toLowerCase()),J+U[0].length):-1}function P(Q,H,J){var U=m.exec(H.slice(J));return U?(Q.w=y.get(U[0].toLowerCase()),J+U[0].length):-1}function A(Q,H,J){var U=f.exec(H.slice(J));return U?(Q.w=h.get(U[0].toLowerCase()),J+U[0].length):-1}function E(Q,H,J){var U=p.exec(H.slice(J));return U?(Q.m=g.get(U[0].toLowerCase()),J+U[0].length):-1}function W(Q,H,J){var U=x.exec(H.slice(J));return U?(Q.m=v.get(U[0].toLowerCase()),J+U[0].length):-1}function D(Q,H,J){return S(Q,t,H,J)}function F(Q,H,J){return S(Q,r,H,J)}function T(Q,H,J){return S(Q,n,H,J)}function z(Q){return o[Q.getDay()]}function M(Q){return s[Q.getDay()]}function B(Q){return c[Q.getMonth()]}function k(Q){return l[Q.getMonth()]}function I(Q){return i[+(Q.getHours()>=12)]}function L(Q){return 1+~~(Q.getMonth()/3)}function q(Q){return o[Q.getUTCDay()]}function Y(Q){return s[Q.getUTCDay()]}function le(Q){return c[Q.getUTCMonth()]}function me(Q){return l[Q.getUTCMonth()]}function oe(Q){return i[+(Q.getUTCHours()>=12)]}function ce(Q){return 1+~~(Q.getUTCMonth()/3)}return{format:function(Q){var H=N(Q+="",b);return H.toString=function(){return Q},H},parse:function(Q){var H=_(Q+="",!1);return H.toString=function(){return Q},H},utcFormat:function(Q){var H=N(Q+="",w);return H.toString=function(){return Q},H},utcParse:function(Q){var H=_(Q+="",!0);return H.toString=function(){return Q},H}}}var E1={"-":"",_:" ",0:"0"},_t=/^\s*\d+/,pK=/^%/,xK=/[\\^$*+?|[\]().{}]/g;function Ae(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(t)+i:i)}function gK(e){return e.replace(xK,"\\$&")}function Vo(e){return new RegExp("^(?:"+e.map(gK).join("|")+")","i")}function qo(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function yK(e,t,r){var n=_t.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function vK(e,t,r){var n=_t.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function bK(e,t,r){var n=_t.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function jK(e,t,r){var n=_t.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function wK(e,t,r){var n=_t.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function $1(e,t,r){var n=_t.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function T1(e,t,r){var n=_t.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function NK(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function _K(e,t,r){var n=_t.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function SK(e,t,r){var n=_t.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function M1(e,t,r){var n=_t.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function OK(e,t,r){var n=_t.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function R1(e,t,r){var n=_t.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function CK(e,t,r){var n=_t.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function PK(e,t,r){var n=_t.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function AK(e,t,r){var n=_t.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function kK(e,t,r){var n=_t.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function EK(e,t,r){var n=pK.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function $K(e,t,r){var n=_t.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function TK(e,t,r){var n=_t.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function I1(e,t){return Ae(e.getDate(),t,2)}function MK(e,t){return Ae(e.getHours(),t,2)}function RK(e,t){return Ae(e.getHours()%12||12,t,2)}function IK(e,t){return Ae(1+Kc.count(Un(e),e),t,3)}function BC(e,t){return Ae(e.getMilliseconds(),t,3)}function DK(e,t){return BC(e,t)+"000"}function LK(e,t){return Ae(e.getMonth()+1,t,2)}function FK(e,t){return Ae(e.getMinutes(),t,2)}function BK(e,t){return Ae(e.getSeconds(),t,2)}function zK(e){var t=e.getDay();return t===0?7:t}function UK(e,t){return Ae(xh.count(Un(e)-1,e),t,2)}function zC(e){var t=e.getDay();return t>=4||t===0?qs(e):qs.ceil(e)}function WK(e,t){return e=zC(e),Ae(qs.count(Un(e),e)+(Un(e).getDay()===4),t,2)}function HK(e){return e.getDay()}function KK(e,t){return Ae(Hd.count(Un(e)-1,e),t,2)}function VK(e,t){return Ae(e.getFullYear()%100,t,2)}function qK(e,t){return e=zC(e),Ae(e.getFullYear()%100,t,2)}function GK(e,t){return Ae(e.getFullYear()%1e4,t,4)}function XK(e,t){var r=e.getDay();return e=r>=4||r===0?qs(e):qs.ceil(e),Ae(e.getFullYear()%1e4,t,4)}function QK(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ae(t/60|0,"0",2)+Ae(t%60,"0",2)}function D1(e,t){return Ae(e.getUTCDate(),t,2)}function YK(e,t){return Ae(e.getUTCHours(),t,2)}function ZK(e,t){return Ae(e.getUTCHours()%12||12,t,2)}function JK(e,t){return Ae(1+ph.count(Wn(e),e),t,3)}function UC(e,t){return Ae(e.getUTCMilliseconds(),t,3)}function eV(e,t){return UC(e,t)+"000"}function tV(e,t){return Ae(e.getUTCMonth()+1,t,2)}function rV(e,t){return Ae(e.getUTCMinutes(),t,2)}function nV(e,t){return Ae(e.getUTCSeconds(),t,2)}function aV(e){var t=e.getUTCDay();return t===0?7:t}function iV(e,t){return Ae(gh.count(Wn(e)-1,e),t,2)}function WC(e){var t=e.getUTCDay();return t>=4||t===0?Gs(e):Gs.ceil(e)}function sV(e,t){return e=WC(e),Ae(Gs.count(Wn(e),e)+(Wn(e).getUTCDay()===4),t,2)}function oV(e){return e.getUTCDay()}function lV(e,t){return Ae(Kd.count(Wn(e)-1,e),t,2)}function cV(e,t){return Ae(e.getUTCFullYear()%100,t,2)}function uV(e,t){return e=WC(e),Ae(e.getUTCFullYear()%100,t,2)}function dV(e,t){return Ae(e.getUTCFullYear()%1e4,t,4)}function fV(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Gs(e):Gs.ceil(e),Ae(e.getUTCFullYear()%1e4,t,4)}function hV(){return"+0000"}function L1(){return"%"}function F1(e){return+e}function B1(e){return Math.floor(+e/1e3)}var Wi,HC,KC;mV({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function mV(e){return Wi=mK(e),HC=Wi.format,Wi.parse,KC=Wi.utcFormat,Wi.utcParse,Wi}function pV(e){return new Date(e)}function xV(e){return e instanceof Date?+e:+new Date(+e)}function $0(e,t,r,n,i,s,o,l,c,u){var d=y0(),f=d.invert,h=d.domain,m=u(".%L"),y=u(":%S"),x=u("%I:%M"),v=u("%I %p"),p=u("%a %d"),g=u("%b %d"),b=u("%B"),w=u("%Y");function j(N){return(c(N)<N?m:l(N)<N?y:o(N)<N?x:s(N)<N?v:n(N)<N?i(N)<N?p:g:r(N)<N?b:w)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?h(Array.from(N,xV)):h().map(pV)},d.ticks=function(N){var _=h();return e(_[0],_[_.length-1],N??10)},d.tickFormat=function(N,_){return _==null?j:u(_)},d.nice=function(N){var _=h();return(!N||typeof N.range!="function")&&(N=t(_[0],_[_.length-1],N??10)),N?h(EC(_,N)):d},d.copy=function(){return Hc(d,$0(e,t,r,n,i,s,o,l,c,u))},d}function gV(){return $r.apply($0(fK,hK,Un,k0,xh,Kc,P0,O0,ri,HC).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function yV(){return $r.apply($0(uK,dK,Wn,E0,gh,ph,A0,C0,ri,KC).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function yh(){var e=0,t=1,r,n,i,s,o=zt,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(i===0?.5:(f=(s(f)-r)*i,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=s(e=+e),n=s(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,y;return arguments.length?([m,y]=h,o=f(m,y),u):[o(0),o(1)]}}return u.range=d(Po),u.rangeRound=d(g0),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,r=f(e),n=f(t),i=r===n?0:1/(n-r),u}}function za(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function VC(){var e=Ba(yh()(zt));return e.copy=function(){return za(e,VC())},Gn.apply(e,arguments)}function qC(){var e=j0(yh()).domain([1,10]);return e.copy=function(){return za(e,qC()).base(e.base())},Gn.apply(e,arguments)}function GC(){var e=w0(yh());return e.copy=function(){return za(e,GC()).constant(e.constant())},Gn.apply(e,arguments)}function T0(){var e=N0(yh());return e.copy=function(){return za(e,T0()).exponent(e.exponent())},Gn.apply(e,arguments)}function vV(){return T0.apply(null,arguments).exponent(.5)}function XC(){var e=[],t=zt;function r(n){if(n!=null&&!isNaN(n=+n))return t((Uc(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Aa),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>iH(e,s/n))},r.copy=function(){return XC(t).domain(e)},Gn.apply(r,arguments)}function vh(){var e=0,t=.5,r=1,n=1,i,s,o,l,c,u=zt,d,f=!1,h;function m(x){return isNaN(x=+x)?h:(x=.5+((x=+d(x))-s)*(n*x<n*s?l:c),u(f?Math.max(0,Math.min(1,x)):x))}m.domain=function(x){return arguments.length?([e,t,r]=x,i=d(e=+e),s=d(t=+t),o=d(r=+r),l=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),n=s<i?-1:1,m):[e,t,r]},m.clamp=function(x){return arguments.length?(f=!!x,m):f},m.interpolator=function(x){return arguments.length?(u=x,m):u};function y(x){return function(v){var p,g,b;return arguments.length?([p,g,b]=v,u=EH(x,[p,g,b]),m):[u(0),u(.5),u(1)]}}return m.range=y(Po),m.rangeRound=y(g0),m.unknown=function(x){return arguments.length?(h=x,m):h},function(x){return d=x,i=x(e),s=x(t),o=x(r),l=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),n=s<i?-1:1,m}}function QC(){var e=Ba(vh()(zt));return e.copy=function(){return za(e,QC())},Gn.apply(e,arguments)}function YC(){var e=j0(vh()).domain([.1,1,10]);return e.copy=function(){return za(e,YC()).base(e.base())},Gn.apply(e,arguments)}function ZC(){var e=w0(vh());return e.copy=function(){return za(e,ZC()).constant(e.constant())},Gn.apply(e,arguments)}function M0(){var e=N0(vh());return e.copy=function(){return za(e,M0()).exponent(e.exponent())},Gn.apply(e,arguments)}function bV(){return M0.apply(null,arguments).exponent(.5)}const z1=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Xl,scaleDiverging:QC,scaleDivergingLog:YC,scaleDivergingPow:M0,scaleDivergingSqrt:bV,scaleDivergingSymlog:ZC,scaleIdentity:kC,scaleImplicit:Rx,scaleLinear:Ud,scaleLog:$C,scaleOrdinal:m0,scalePoint:gl,scalePow:_0,scaleQuantile:RC,scaleQuantize:IC,scaleRadial:MC,scaleSequential:VC,scaleSequentialLog:qC,scaleSequentialPow:T0,scaleSequentialQuantile:XC,scaleSequentialSqrt:vV,scaleSequentialSymlog:GC,scaleSqrt:eK,scaleSymlog:TC,scaleThreshold:DC,scaleTime:gV,scaleUtc:yV,tickFormat:AC},Symbol.toStringTag,{value:"Module"}));var jV=vo;function wV(e,t,r){for(var n=-1,i=e.length;++n<i;){var s=e[n],o=t(s);if(o!=null&&(l===void 0?o===o&&!jV(o):r(o,l)))var l=o,c=s}return c}var JC=wV;function NV(e,t){return e>t}var _V=NV,SV=JC,OV=_V,CV=Oo;function PV(e){return e&&e.length?SV(e,CV,OV):void 0}var AV=PV;const bh=De(AV);function kV(e,t){return e<t}var EV=kV,$V=JC,TV=EV,MV=Oo;function RV(e){return e&&e.length?$V(e,MV,TV):void 0}var IV=RV;const jh=De(IV);var DV=Gy,LV=Fa,FV=oC,BV=er;function zV(e,t){var r=BV(e)?DV:FV;return r(e,LV(t))}var UV=zV,WV=iC,HV=UV;function KV(e,t){return WV(HV(e,t),1)}var VV=KV;const qV=De(VV);var GV=c0;function XV(e,t){return GV(e,t)}var QV=XV;const wh=De(QV);var Ao=1e9,YV={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},I0,Xe=!0,Ar="[DecimalError] ",yi=Ar+"Invalid argument: ",R0=Ar+"Exponent out of range: ",ko=Math.floor,Xa=Math.pow,ZV=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,sr,jt=1e7,Ke=7,eP=9007199254740991,Vd=ko(eP/Ke),re={};re.absoluteValue=re.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};re.comparedTo=re.cmp=function(e){var t,r,n,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};re.decimalPlaces=re.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ke;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};re.dividedBy=re.div=function(e){return Rn(this,new this.constructor(e))};re.dividedToIntegerBy=re.idiv=function(e){var t=this,r=t.constructor;return Le(Rn(t,new r(e),0,1),r.precision)};re.equals=re.eq=function(e){return!this.cmp(e)};re.exponent=function(){return ut(this)};re.greaterThan=re.gt=function(e){return this.cmp(e)>0};re.greaterThanOrEqualTo=re.gte=function(e){return this.cmp(e)>=0};re.isInteger=re.isint=function(){return this.e>this.d.length-2};re.isNegative=re.isneg=function(){return this.s<0};re.isPositive=re.ispos=function(){return this.s>0};re.isZero=function(){return this.s===0};re.lessThan=re.lt=function(e){return this.cmp(e)<0};re.lessThanOrEqualTo=re.lte=function(e){return this.cmp(e)<1};re.logarithm=re.log=function(e){var t,r=this,n=r.constructor,i=n.precision,s=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(sr))throw Error(Ar+"NaN");if(r.s<1)throw Error(Ar+(r.s?"NaN":"-Infinity"));return r.eq(sr)?new n(0):(Xe=!1,t=Rn(ec(r,s),ec(e,s),s),Xe=!0,Le(t,i))};re.minus=re.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?nP(t,e):tP(t,(e.s=-e.s,e))};re.modulo=re.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(Ar+"NaN");return r.s?(Xe=!1,t=Rn(r,e,0,1).times(e),Xe=!0,r.minus(t)):Le(new n(r),i)};re.naturalExponential=re.exp=function(){return rP(this)};re.naturalLogarithm=re.ln=function(){return ec(this)};re.negated=re.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};re.plus=re.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?tP(t,e):nP(t,(e.s=-e.s,e))};re.precision=re.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(yi+e);if(t=ut(i)+1,n=i.d.length-1,r=n*Ke+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};re.squareRoot=re.sqrt=function(){var e,t,r,n,i,s,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Ar+"NaN")}for(e=ut(l),Xe=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=sn(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=ko((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(i.toString()),r=c.precision,i=o=r+3;;)if(s=n,n=s.plus(Rn(l,s,o+2)).times(.5),sn(s.d).slice(0,o)===(t=sn(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(Le(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;o+=4}return Xe=!0,Le(n,r)};re.times=re.mul=function(e){var t,r,n,i,s,o,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(s=h,h=m,m=s,o=c,c=u,u=o),s=[],o=c+u,n=o;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,i=c+n;i>n;)l=s[i]+m[n]*h[i-n-1]+t,s[i--]=l%jt|0,t=l/jt|0;s[i]=(s[i]+t)%jt|0}for(;!s[--o];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Xe?Le(e,f.precision):e};re.toDecimalPlaces=re.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(dn(e,0,Ao),t===void 0?t=n.rounding:dn(t,0,8),Le(r,e+ut(r)+1,t))};re.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Ai(n,!0):(dn(e,0,Ao),t===void 0?t=i.rounding:dn(t,0,8),n=Le(new i(n),e+1,t),r=Ai(n,!0,e+1)),r};re.toFixed=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?Ai(i):(dn(e,0,Ao),t===void 0?t=s.rounding:dn(t,0,8),n=Le(new s(i),e+ut(i)+1,t),r=Ai(n.abs(),!1,e+ut(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};re.toInteger=re.toint=function(){var e=this,t=e.constructor;return Le(new t(e),ut(e)+1,t.rounding)};re.toNumber=function(){return+this};re.toPower=re.pow=function(e){var t,r,n,i,s,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(sr);if(l=new c(l),!l.s){if(e.s<1)throw Error(Ar+"Infinity");return l}if(l.eq(sr))return l;if(n=c.precision,e.eq(sr))return Le(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,s=l.s,o){if((r=d<0?-d:d)<=eP){for(i=new c(sr),t=Math.ceil(n/Ke+4),Xe=!1;r%2&&(i=i.times(l),W1(i.d,t)),r=ko(r/2),r!==0;)l=l.times(l),W1(l.d,t);return Xe=!0,e.s<0?new c(sr).div(i):Le(i,n)}}else if(s<0)throw Error(Ar+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Xe=!1,i=e.times(ec(l,n+u)),Xe=!0,i=rP(i),i.s=s,i};re.toPrecision=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?(r=ut(i),n=Ai(i,r<=s.toExpNeg||r>=s.toExpPos)):(dn(e,1,Ao),t===void 0?t=s.rounding:dn(t,0,8),i=Le(new s(i),e,t),r=ut(i),n=Ai(i,e<=r||r<=s.toExpNeg,e)),n};re.toSignificantDigits=re.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(dn(e,1,Ao),t===void 0?t=n.rounding:dn(t,0,8)),Le(new n(r),e,t)};re.toString=re.valueOf=re.val=re.toJSON=re[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ut(e),r=e.constructor;return Ai(e,t<=r.toExpNeg||t>=r.toExpPos)};function tP(e,t){var r,n,i,s,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Xe?Le(t,f):t;if(c=e.d,u=t.d,o=e.e,i=t.e,c=c.slice(),s=o-i,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,i=o,l=c.length),o=Math.ceil(f/Ke),l=o>l?o+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/jt|0,c[s]%=jt;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=i,Xe?Le(t,f):t}function dn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(yi+e)}function sn(e){var t,r,n,i=e.length-1,s="",o=e[0];if(i>0){for(s+=o,t=1;t<i;t++)n=e[t]+"",r=Ke-n.length,r&&(s+=ta(r)),s+=n;o=e[t],n=o+"",r=Ke-n.length,r&&(s+=ta(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var Rn=function(){function e(n,i){var s,o=0,l=n.length;for(n=n.slice();l--;)s=n[l]*i+o,n[l]=s%jt|0,o=s/jt|0;return o&&n.unshift(o),n}function t(n,i,s,o){var l,c;if(s!=o)c=s>o?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,s){for(var o=0;s--;)n[s]-=o,o=n[s]<i[s]?1:0,n[s]=o*jt+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,o){var l,c,u,d,f,h,m,y,x,v,p,g,b,w,j,N,_,S,C=n.constructor,P=n.s==i.s?1:-1,A=n.d,E=i.d;if(!n.s)return new C(n);if(!i.s)throw Error(Ar+"Division by zero");for(c=n.e-i.e,_=E.length,j=A.length,m=new C(P),y=m.d=[],u=0;E[u]==(A[u]||0);)++u;if(E[u]>(A[u]||0)&&--c,s==null?g=s=C.precision:o?g=s+(ut(n)-ut(i))+1:g=s,g<0)return new C(0);if(g=g/Ke+2|0,u=0,_==1)for(d=0,E=E[0],g++;(u<j||d)&&g--;u++)b=d*jt+(A[u]||0),y[u]=b/E|0,d=b%E|0;else{for(d=jt/(E[0]+1)|0,d>1&&(E=e(E,d),A=e(A,d),_=E.length,j=A.length),w=_,x=A.slice(0,_),v=x.length;v<_;)x[v++]=0;S=E.slice(),S.unshift(0),N=E[0],E[1]>=jt/2&&++N;do d=0,l=t(E,x,_,v),l<0?(p=x[0],_!=v&&(p=p*jt+(x[1]||0)),d=p/N|0,d>1?(d>=jt&&(d=jt-1),f=e(E,d),h=f.length,v=x.length,l=t(f,x,h,v),l==1&&(d--,r(f,_<h?S:E,h))):(d==0&&(l=d=1),f=E.slice()),h=f.length,h<v&&f.unshift(0),r(x,f,v),l==-1&&(v=x.length,l=t(E,x,_,v),l<1&&(d++,r(x,_<v?S:E,v))),v=x.length):l===0&&(d++,x=[0]),y[u++]=d,l&&x[0]?x[v++]=A[w]||0:(x=[A[w]],v=1);while((w++<j||x[0]!==void 0)&&g--)}return y[0]||y.shift(),m.e=c,Le(m,o?s+ut(m)+1:s)}}();function rP(e,t){var r,n,i,s,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(ut(e)>16)throw Error(R0+ut(e));if(!e.s)return new d(sr);for(Xe=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(Xa(2,u))/Math.LN10*2+5|0,l+=n,r=i=s=new d(sr),d.precision=l;;){if(i=Le(i.times(e),l),r=r.times(++c),o=s.plus(Rn(i,r,l)),sn(o.d).slice(0,l)===sn(s.d).slice(0,l)){for(;u--;)s=Le(s.times(s),l);return d.precision=f,t==null?(Xe=!0,Le(s,f)):s}s=o}}function ut(e){for(var t=e.e*Ke,r=e.d[0];r>=10;r/=10)t++;return t}function km(e,t,r){if(t>e.LN10.sd())throw Xe=!0,r&&(e.precision=r),Error(Ar+"LN10 precision limit exceeded");return Le(new e(e.LN10),t)}function ta(e){for(var t="";e--;)t+="0";return t}function ec(e,t){var r,n,i,s,o,l,c,u,d,f=1,h=10,m=e,y=m.d,x=m.constructor,v=x.precision;if(m.s<1)throw Error(Ar+(m.s?"NaN":"-Infinity"));if(m.eq(sr))return new x(0);if(t==null?(Xe=!1,u=v):u=t,m.eq(10))return t==null&&(Xe=!0),km(x,u);if(u+=h,x.precision=u,r=sn(y),n=r.charAt(0),s=ut(m),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=sn(m.d),n=r.charAt(0),f++;s=ut(m),n>1?(m=new x("0."+r),s++):m=new x(n+"."+r.slice(1))}else return c=km(x,u+2,v).times(s+""),m=ec(new x(n+"."+r.slice(1)),u-h).plus(c),x.precision=v,t==null?(Xe=!0,Le(m,v)):m;for(l=o=m=Rn(m.minus(sr),m.plus(sr),u),d=Le(m.times(m),u),i=3;;){if(o=Le(o.times(d),u),c=l.plus(Rn(o,new x(i),u)),sn(c.d).slice(0,u)===sn(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(km(x,u+2,v).times(s+""))),l=Rn(l,new x(f),u),x.precision=v,t==null?(Xe=!0,Le(l,v)):l;l=c,i+=2}}function U1(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=ko(r/Ke),e.d=[],n=(r+1)%Ke,r<0&&(n+=Ke),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Ke;n<i;)e.d.push(+t.slice(n,n+=Ke));t=t.slice(n),n=Ke-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Xe&&(e.e>Vd||e.e<-Vd))throw Error(R0+r)}else e.s=0,e.e=0,e.d=[0];return e}function Le(e,t,r){var n,i,s,o,l,c,u,d,f=e.d;for(o=1,s=f[0];s>=10;s/=10)o++;if(n=t-o,n<0)n+=Ke,i=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Ke),s=f.length,d>=s)return e;for(u=s=f[d],o=1;s>=10;s/=10)o++;n%=Ke,i=n-Ke+o}if(r!==void 0&&(s=Xa(10,o-i-1),l=u/s%10|0,c=t<0||f[d+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?i>0?u/Xa(10,o-i):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(s=ut(e),f.length=1,t=t-s-1,f[0]=Xa(10,(Ke-t%Ke)%Ke),e.e=ko(-t/Ke)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=Xa(10,Ke-n),f[d]=i>0?(u/Xa(10,o-i)%Xa(10,i)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==jt&&(f[0]=1,++e.e);break}else{if(f[d]+=s,f[d]!=jt)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(Xe&&(e.e>Vd||e.e<-Vd))throw Error(R0+ut(e));return e}function nP(e,t){var r,n,i,s,o,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Xe?Le(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),i=Math.max(Math.ceil(m/Ke),l)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=f.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,i=f.length-l;i>0;--i)c[l++]=0;for(i=f.length;i>o;){if(c[--i]<f[i]){for(s=i;s&&c[--s]===0;)c[s]=jt-1;--c[s],c[i]+=jt}c[i]-=f[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Xe?Le(t,m):t):new h(0)}function Ai(e,t,r){var n,i=ut(e),s=sn(e.d),o=s.length;return t?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+ta(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+ta(-i-1)+s,r&&(n=r-o)>0&&(s+=ta(n))):i>=o?(s+=ta(i+1-o),r&&(n=r-i-1)>0&&(s=s+"."+ta(n))):((n=i+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(s+="."),s+=ta(n))),e.s<0?"-"+s:s}function W1(e,t){if(e.length>t)return e.length=t,!0}function aP(e){var t,r,n;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(yi+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return U1(o,s.toString())}else if(typeof s!="string")throw Error(yi+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,ZV.test(s))U1(o,s);else throw Error(yi+s)}if(i.prototype=re,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=aP,i.config=i.set=JV,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function JV(e){if(!e||typeof e!="object")throw Error(Ar+"Object expected");var t,r,n,i=["precision",1,Ao,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(ko(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(yi+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(yi+r+": "+n);return this}var I0=aP(YV);sr=new I0(1);const Re=I0;function eq(e){return aq(e)||nq(e)||rq(e)||tq()}function tq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rq(e,t){if(e){if(typeof e=="string")return Fx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fx(e,t)}}function nq(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function aq(e){if(Array.isArray(e))return Fx(e)}function Fx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var iq=function(t){return t},iP={},sP=function(t){return t===iP},H1=function(t){return function r(){return arguments.length===0||arguments.length===1&&sP(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},sq=function e(t,r){return t===1?r:H1(function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];var o=i.filter(function(l){return l!==iP}).length;return o>=t?r.apply(void 0,i):e(t-o,H1(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=i.map(function(f){return sP(f)?c.shift():f});return r.apply(void 0,eq(d).concat(c))}))})},Nh=function(t){return sq(t.length,t)},Bx=function(t,r){for(var n=[],i=t;i<r;++i)n[i-t]=i;return n},oq=Nh(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),lq=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return iq;var i=r.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},zx=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},oP=function(t){var r=null,n=null;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r&&s.every(function(l,c){return l===r[c]})||(r=s,n=t.apply(void 0,s)),n}};function cq(e){var t;return e===0?t=1:t=Math.floor(new Re(e).abs().log(10).toNumber())+1,t}function uq(e,t,r){for(var n=new Re(e),i=0,s=[];n.lt(t)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}var dq=Nh(function(e,t,r){var n=+e,i=+t;return n+r*(i-n)}),fq=Nh(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),hq=Nh(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const _h={rangeStep:uq,getDigitCount:cq,interpolateNumber:dq,uninterpolateNumber:fq,uninterpolateTruncation:hq};function Ux(e){return xq(e)||pq(e)||lP(e)||mq()}function mq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pq(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function xq(e){if(Array.isArray(e))return Wx(e)}function tc(e,t){return vq(e)||yq(e,t)||lP(e,t)||gq()}function gq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lP(e,t){if(e){if(typeof e=="string")return Wx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wx(e,t)}}function Wx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yq(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,s=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){i=!0,s=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw s}}return r}}function vq(e){if(Array.isArray(e))return e}function cP(e){var t=tc(e,2),r=t[0],n=t[1],i=r,s=n;return r>n&&(i=n,s=r),[i,s]}function uP(e,t,r){if(e.lte(0))return new Re(0);var n=_h.getDigitCount(e.toNumber()),i=new Re(10).pow(n),s=e.div(i),o=n!==1?.05:.1,l=new Re(Math.ceil(s.div(o).toNumber())).add(r).mul(o),c=l.mul(i);return t?c:new Re(Math.ceil(c))}function bq(e,t,r){var n=1,i=new Re(e);if(!i.isint()&&r){var s=Math.abs(e);s<1?(n=new Re(10).pow(_h.getDigitCount(e)-1),i=new Re(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new Re(Math.floor(e)))}else e===0?i=new Re(Math.floor((t-1)/2)):r||(i=new Re(Math.floor(e)));var o=Math.floor((t-1)/2),l=lq(oq(function(c){return i.add(new Re(c-o).mul(n)).toNumber()}),Bx);return l(0,t)}function dP(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Re(0),tickMin:new Re(0),tickMax:new Re(0)};var s=uP(new Re(t).sub(e).div(r-1),n,i),o;e<=0&&t>=0?o=new Re(0):(o=new Re(e).add(t).div(2),o=o.sub(new Re(o).mod(s)));var l=Math.ceil(o.sub(e).div(s).toNumber()),c=Math.ceil(new Re(t).sub(o).div(s).toNumber()),u=l+c+1;return u>r?dP(e,t,r,n,i+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:s,tickMin:o.sub(new Re(l).mul(s)),tickMax:o.add(new Re(c).mul(s))})}function jq(e){var t=tc(e,2),r=t[0],n=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),l=cP([r,n]),c=tc(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(Ux(Bx(0,i-1).map(function(){return 1/0}))):[].concat(Ux(Bx(0,i-1).map(function(){return-1/0})),[d]);return r>n?zx(f):f}if(u===d)return bq(u,i,s);var h=dP(u,d,o,s),m=h.step,y=h.tickMin,x=h.tickMax,v=_h.rangeStep(y,x.add(new Re(.1).mul(m)),m);return r>n?zx(v):v}function wq(e,t){var r=tc(e,2),n=r[0],i=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=cP([n,i]),l=tc(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,i];if(c===u)return[c];var d=Math.max(t,2),f=uP(new Re(u).sub(c).div(d-1),s,0),h=[].concat(Ux(_h.rangeStep(new Re(c),new Re(u).sub(new Re(.99).mul(f)),f)),[u]);return n>i?zx(h):h}var Nq=oP(jq),_q=oP(wq),Sq="Invariant failed";function ki(e,t){throw new Error(Sq)}var Oq=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Xs(e){"@babel/helpers - typeof";return Xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xs(e)}function qd(){return qd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qd.apply(this,arguments)}function Cq(e,t){return Eq(e)||kq(e,t)||Aq(e,t)||Pq()}function Pq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aq(e,t){if(e){if(typeof e=="string")return K1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return K1(e,t)}}function K1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kq(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Eq(e){if(Array.isArray(e))return e}function $q(e,t){if(e==null)return{};var r=Tq(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Tq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Mq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mP(n.key),n)}}function Iq(e,t,r){return t&&Rq(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dq(e,t,r){return t=Gd(t),Lq(e,fP()?Reflect.construct(t,r||[],Gd(e).constructor):t.apply(e,r))}function Lq(e,t){if(t&&(Xs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fq(e)}function Fq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fP=function(){return!!e})()}function Gd(e){return Gd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gd(e)}function Bq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hx(e,t)}function Hx(e,t){return Hx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Hx(e,t)}function hP(e,t,r){return t=mP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mP(e){var t=zq(e,"string");return Xs(t)=="symbol"?t:t+""}function zq(e,t){if(Xs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Vc=function(e){function t(){return Mq(this,t),Dq(this,t,arguments)}return Bq(t,e),Iq(t,[{key:"render",value:function(){var n=this.props,i=n.offset,s=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=$q(n,Oq),m=Oe(h,!1);this.props.direction==="x"&&d.type!=="number"&&ki();var y=c.map(function(x){var v=u(x,l),p=v.x,g=v.y,b=v.value,w=v.errorVal;if(!w)return null;var j=[],N,_;if(Array.isArray(w)){var S=Cq(w,2);N=S[0],_=S[1]}else N=_=w;if(s==="vertical"){var C=d.scale,P=g+i,A=P+o,E=P-o,W=C(b-N),D=C(b+_);j.push({x1:D,y1:A,x2:D,y2:E}),j.push({x1:W,y1:P,x2:D,y2:P}),j.push({x1:W,y1:A,x2:W,y2:E})}else if(s==="horizontal"){var F=f.scale,T=p+i,z=T-o,M=T+o,B=F(b-N),k=F(b+_);j.push({x1:z,y1:k,x2:M,y2:k}),j.push({x1:T,y1:B,x2:T,y2:k}),j.push({x1:z,y1:B,x2:M,y2:B})}return R.createElement(it,qd({className:"recharts-errorBar",key:"bar-".concat(j.map(function(I){return"".concat(I.x1,"-").concat(I.x2,"-").concat(I.y1,"-").concat(I.y2)}))},m),j.map(function(I){return R.createElement("line",qd({},I,{key:"line-".concat(I.x1,"-").concat(I.x2,"-").concat(I.y1,"-").concat(I.y2)}))}))});return R.createElement(it,{className:"recharts-errorBars"},y)}}])}(R.Component);hP(Vc,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});hP(Vc,"displayName","ErrorBar");function rc(e){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rc(e)}function V1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ha(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V1(Object(r),!0).forEach(function(n){Uq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uq(e,t,r){return t=Wq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wq(e){var t=Hq(e,"string");return rc(t)=="symbol"?t:t+""}function Hq(e,t){if(rc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pP=function(t){var r=t.children,n=t.formattedGraphicalItems,i=t.legendWidth,s=t.legendContent,o=ir(r,xi);if(!o)return null;var l=xi.defaultProps,c=l!==void 0?Ha(Ha({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:s==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,m=f.props,y=m.sectors||m.data||[];return d.concat(y.map(function(x){return{type:o.props.iconType||h.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?Ha(Ha({},h),f.props):{},y=m.dataKey,x=m.name,v=m.legendType,p=m.hide;return{inactive:p,dataKey:y,type:c.iconType||v||"square",color:D0(f),value:x||y,payload:m}}),Ha(Ha(Ha({},c),xi.getWithHeight(o,i)),{},{payload:u,item:o})};function nc(e){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nc(e)}function q1(e){return Gq(e)||qq(e)||Vq(e)||Kq()}function Kq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vq(e,t){if(e){if(typeof e=="string")return Kx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kx(e,t)}}function qq(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Gq(e){if(Array.isArray(e))return Kx(e)}function Kx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function G1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G1(Object(r),!0).forEach(function(n){xs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xs(e,t,r){return t=Xq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xq(e){var t=Qq(e,"string");return nc(t)=="symbol"?t:t+""}function Qq(e,t){if(nc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dr(e,t,r){return je(e)||je(t)?r:gt(t)?Sr(e,t,r):be(t)?t(e):r}function yl(e,t,r,n){var i=qV(e,function(l){return dr(l,t)});if(r==="number"){var s=i.filter(function(l){return Z(l)||parseFloat(l)});return s.length?[jh(s),bh(s)]:[1/0,-1/0]}var o=n?i.filter(function(l){return!je(l)}):i;return o.map(function(l){return gt(l)||l instanceof Date?l:""})}var Yq=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var d=u>0?i[u-1].coordinate:i[l-1].coordinate,f=i[u].coordinate,h=u>=l-1?i[0].coordinate:i[u+1].coordinate,m=void 0;if(Vr(f-d)!==Vr(h-f)){var y=[];if(Vr(h-f)===Vr(c[1]-c[0])){m=h;var x=f+c[1]-c[0];y[0]=Math.min(x,(x+d)/2),y[1]=Math.max(x,(x+d)/2)}else{m=d;var v=h+c[1]-c[0];y[0]=Math.min(f,(v+f)/2),y[1]=Math.max(f,(v+f)/2)}var p=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(t>p[0]&&t<=p[1]||t>=y[0]&&t<=y[1]){o=i[u].index;break}}else{var g=Math.min(d,h),b=Math.max(d,h);if(t>(g+f)/2&&t<=(b+f)/2){o=i[u].index;break}}}else for(var w=0;w<l;w++)if(w===0&&t<=(n[w].coordinate+n[w+1].coordinate)/2||w>0&&w<l-1&&t>(n[w].coordinate+n[w-1].coordinate)/2&&t<=(n[w].coordinate+n[w+1].coordinate)/2||w===l-1&&t>(n[w].coordinate+n[w-1].coordinate)/2){o=n[w].index;break}return o},D0=function(t){var r,n=t,i=n.type.displayName,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?rt(rt({},t.type.defaultProps),t.props):t.props,o=s.stroke,l=s.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},Zq=function(t){var r=t.barSize,n=t.totalSize,i=t.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var o={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var d=s[l[c]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var y=d[f[h]],x=y.items,v=y.cateAxisId,p=x.filter(function(_){return Tn(_.type).indexOf("Bar")>=0});if(p&&p.length){var g=p[0].type.defaultProps,b=g!==void 0?rt(rt({},g),p[0].props):p[0].props,w=b.barSize,j=b[v];o[j]||(o[j]=[]);var N=je(w)?r:w;o[j].push({item:p[0],stackList:p.slice(1),barSize:je(N)?void 0:Pi(N,n,0)})}}return o},Jq=function(t){var r=t.barGap,n=t.barCategoryGap,i=t.bandSize,s=t.sizeList,o=s===void 0?[]:s,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Pi(r,i,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,m=i/c,y=o.reduce(function(w,j){return w+j.barSize||0},0);y+=(c-1)*u,y>=i&&(y-=(c-1)*u,u=0),y>=i&&m>0&&(h=!0,m*=.9,y=c*m);var x=(i-y)/2>>0,v={offset:x-u,size:0};d=o.reduce(function(w,j){var N={item:j.item,position:{offset:v.offset+v.size+u,size:h?m:j.barSize}},_=[].concat(q1(w),[N]);return v=_[_.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(S){_.push({item:S,position:v})}),_},f)}else{var p=Pi(n,i,0,!0);i-2*p-(c-1)*u<=0&&(u=0);var g=(i-2*p-(c-1)*u)/c;g>1&&(g>>=0);var b=l===+l?Math.min(g,l):g;d=o.reduce(function(w,j,N){var _=[].concat(q1(w),[{item:j.item,position:{offset:p+(g+u)*N+(g-b)/2,size:b}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(S){_.push({item:S,position:_[_.length-1].position})}),_},f)}return d},eG=function(t,r,n,i){var s=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=pP({children:s,legendWidth:c});if(u){var d=i||{},f=d.width,h=d.height,m=u.align,y=u.verticalAlign,x=u.layout;if((x==="vertical"||x==="horizontal"&&y==="middle")&&m!=="center"&&Z(t[m]))return rt(rt({},t),{},xs({},m,t[m]+(f||0)));if((x==="horizontal"||x==="vertical"&&m==="center")&&y!=="middle"&&Z(t[y]))return rt(rt({},t),{},xs({},y,t[y]+(h||0)))}return t},tG=function(t,r,n){return je(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},xP=function(t,r,n,i,s){var o=r.props.children,l=Or(o,Vc).filter(function(u){return tG(i,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=dr(d,n);if(je(f))return u;var h=Array.isArray(f)?[jh(f),bh(f)]:[f,f],m=c.reduce(function(y,x){var v=dr(d,x,0),p=h[0]-Math.abs(Array.isArray(v)?v[0]:v),g=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(p,y[0]),Math.max(g,y[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},rG=function(t,r,n,i,s){var o=r.map(function(l){return xP(t,l,n,s,i)}).filter(function(l){return!je(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},gP=function(t,r,n,i,s){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&xP(t,c,u,i)||yl(t,u,n,s)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},yP=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},vP=function(t,r,n,i){if(i)return t.map(function(c){return c.coordinate});var s,o,l=t.map(function(c){return c.coordinate===r&&(s=!0),c.coordinate===n&&(o=!0),c.coordinate});return s||l.push(r),o||l.push(n),l},En=function(t,r,n){if(!t)return null;var i=t.scale,s=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Vr(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=s?s.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return d.filter(function(f){return!Fc(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!n?i.ticks(t.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:s?s[f]:f,index:h,offset:u}})},Em=new WeakMap,wu=function(t,r){if(typeof r!="function")return t;Em.has(t)||Em.set(t,new WeakMap);var n=Em.get(t);if(n.has(r))return n.get(r);var i=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},nG=function(t,r,n){var i=t.scale,s=t.type,o=t.layout,l=t.axisType;if(i==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Xl(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Ud(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:gl(),realScaleType:"point"}:s==="category"?{scale:Xl(),realScaleType:"band"}:{scale:Ud(),realScaleType:"linear"};if(Ci(i)){var c="scale".concat(oh(i));return{scale:(z1[c]||gl)(),realScaleType:z1[c]?c:"point"}}return be(i)?{scale:i}:{scale:gl(),realScaleType:"point"}},X1=1e-4,aG=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,i=t.range(),s=Math.min(i[0],i[1])-X1,o=Math.max(i[0],i[1])+X1,l=t(r[0]),c=t(r[n-1]);(l<s||l>o||c<s||c>o)&&t.domain([r[0],r[n-1]])}},iG=function(t,r){if(!t)return null;for(var n=0,i=t.length;n<i;n++)if(t[n].item===r)return t[n].position;return null},sG=function(t,r){if(!r||r.length!==2||!Z(r[0])||!Z(r[1]))return t;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),s=[t[0],t[1]];return(!Z(t[0])||t[0]<n)&&(s[0]=n),(!Z(t[1])||t[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<n&&(s[1]=n),s},oG=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var s=0,o=0,l=0;l<r;++l){var c=Fc(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=s,t[l][n][1]=s+c,s=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},lG=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var s=0,o=0;o<r;++o){var l=Fc(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=s,t[o][n][1]=s+l,s=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},cG={sign:oG,expand:ND,none:zs,silhouette:_D,wiggle:SD,positive:lG},uG=function(t,r,n){var i=r.map(function(l){return l.props.dataKey}),s=cG[n],o=wD().keys(i).value(function(l,c){return+dr(l,c,0)}).order(xx).offset(s);return o(t)},dG=function(t,r,n,i,s,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var m,y=(m=h.type)!==null&&m!==void 0&&m.defaultProps?rt(rt({},h.type.defaultProps),h.props):h.props,x=y.stackId,v=y.hide;if(v)return f;var p=y[n],g=f[p]||{hasStack:!1,stackGroups:{}};if(gt(x)){var b=g.stackGroups[x]||{numericAxisId:n,cateAxisId:i,items:[]};b.items.push(h),g.hasStack=!0,g.stackGroups[x]=b}else g.stackGroups[Bc("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[h]};return rt(rt({},f),{},xs({},p,g))},c),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var y={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(x,v){var p=m.stackGroups[v];return rt(rt({},x),{},xs({},v,{numericAxisId:n,cateAxisId:i,items:p.items,stackedData:uG(t,p.items,s)}))},y)}return rt(rt({},f),{},xs({},h,m))},d)},fG=function(t,r){var n=r.realScaleType,i=r.type,s=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=Nq(u,s,l);return t.domain([jh(d),bh(d)]),{niceTicks:d}}if(s&&i==="number"){var f=t.domain(),h=_q(f,s,l);return{niceTicks:h}}return null};function Q1(e){var t=e.axis,r=e.ticks,n=e.bandSize,i=e.entry,s=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!je(i[t.dataKey])){var l=vd(r,"value",i[t.dataKey]);if(l)return l.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var c=dr(i,je(o)?t.dataKey:o);return je(c)?null:t.scale(c)}var Y1=function(t){var r=t.axis,n=t.ticks,i=t.offset,s=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+i:null;var c=dr(o,r.dataKey,r.domain[l]);return je(c)?null:r.scale(c)-s/2+i},hG=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return i<=0&&s>=0?0:s<0?s:i}return n[0]},mG=function(t,r){var n,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?rt(rt({},t.type.defaultProps),t.props):t.props,s=i.stackId;if(gt(s)){var o=r[s];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},pG=function(t){return t.reduce(function(r,n){return[jh(n.concat([r[0]]).filter(Z)),bh(n.concat([r[1]]).filter(Z))]},[1/0,-1/0])},bP=function(t,r,n){return Object.keys(t).reduce(function(i,s){var o=t[s],l=o.stackedData,c=l.reduce(function(u,d){var f=pG(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},Z1=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,J1=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Vx=function(t,r,n){if(be(t))return t(r,n);if(!Array.isArray(t))return r;var i=[];if(Z(t[0]))i[0]=n?t[0]:Math.min(t[0],r[0]);else if(Z1.test(t[0])){var s=+Z1.exec(t[0])[1];i[0]=r[0]-s}else be(t[0])?i[0]=t[0](r[0]):i[0]=r[0];if(Z(t[1]))i[1]=n?t[1]:Math.max(t[1],r[1]);else if(J1.test(t[1])){var o=+J1.exec(t[1])[1];i[1]=r[1]+o}else be(t[1])?i[1]=t[1](r[1]):i[1]=r[1];return i},Xd=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!n||i>0)return i}if(t&&r&&r.length>=2){for(var s=d0(r,function(f){return f.coordinate}),o=1/0,l=1,c=s.length;l<c;l++){var u=s[l],d=s[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},ew=function(t,r,n){return!t||!t.length||wh(t,Sr(n,"type.defaultProps.domain"))?r:t},jP=function(t,r){var n=t.type.defaultProps?rt(rt({},t.type.defaultProps),t.props):t.props,i=n.dataKey,s=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return rt(rt({},Oe(t,!1)),{},{dataKey:i,unit:o,formatter:l,name:s||i,color:D0(t),value:dr(r,i),type:c,payload:r,chartType:u,hide:d})};function ac(e){"@babel/helpers - typeof";return ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ac(e)}function tw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tw(Object(r),!0).forEach(function(n){xG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xG(e,t,r){return t=gG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gG(e){var t=yG(e,"string");return ac(t)=="symbol"?t:t+""}function yG(e,t){if(ac(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qd=Math.PI/180,vG=function(t){return t*180/Math.PI},Ct=function(t,r,n,i){return{x:t+Math.cos(-Qd*i)*n,y:r+Math.sin(-Qd*i)*n}},bG=function(t,r){var n=t.x,i=t.y,s=r.x,o=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(i-o,2))},jG=function(t,r){var n=t.x,i=t.y,s=r.cx,o=r.cy,l=bG({x:n,y:i},{x:s,y:o});if(l<=0)return{radius:l};var c=(n-s)/l,u=Math.acos(c);return i>o&&(u=2*Math.PI-u),{radius:l,angle:vG(u),angleInRadian:u}},wG=function(t){var r=t.startAngle,n=t.endAngle,i=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(i,s);return{startAngle:r-o*360,endAngle:n-o*360}},NG=function(t,r){var n=r.startAngle,i=r.endAngle,s=Math.floor(n/360),o=Math.floor(i/360),l=Math.min(s,o);return t+l*360},nw=function(t,r){var n=t.x,i=t.y,s=jG({x:n,y:i},r),o=s.radius,l=s.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=wG(r),f=d.startAngle,h=d.endAngle,m=l,y;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;y=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;y=m>=h&&m<=f}return y?rw(rw({},r),{},{radius:o,angle:NG(m,r)}):null};function ic(e){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ic(e)}var _G=["offset"];function SG(e){return AG(e)||PG(e)||CG(e)||OG()}function OG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CG(e,t){if(e){if(typeof e=="string")return qx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qx(e,t)}}function PG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function AG(e){if(Array.isArray(e))return qx(e)}function qx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kG(e,t){if(e==null)return{};var r=EG(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function EG(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function aw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ft(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aw(Object(r),!0).forEach(function(n){$G(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $G(e,t,r){return t=TG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TG(e){var t=MG(e,"string");return ic(t)=="symbol"?t:t+""}function MG(e,t){if(ic(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sc(){return sc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sc.apply(this,arguments)}var RG=function(t){var r=t.value,n=t.formatter,i=je(t.children)?r:t.children;return be(n)?n(i):i},IG=function(t,r){var n=Vr(r-t),i=Math.min(Math.abs(r-t),360);return n*i},DG=function(t,r,n){var i=t.position,s=t.viewBox,o=t.offset,l=t.className,c=s,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,m=c.startAngle,y=c.endAngle,x=c.clockWise,v=(f+h)/2,p=IG(m,y),g=p>=0?1:-1,b,w;i==="insideStart"?(b=m+g*o,w=x):i==="insideEnd"?(b=y-g*o,w=!x):i==="end"&&(b=y+g*o,w=x),w=p<=0?w:!w;var j=Ct(u,d,v,b),N=Ct(u,d,v,b+(w?1:-1)*359),_="M".concat(j.x,",").concat(j.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(w?0:1,`,
    `).concat(N.x,",").concat(N.y),S=je(t.id)?Bc("recharts-radial-line-"):t.id;return R.createElement("text",sc({},n,{dominantBaseline:"central",className:Ce("recharts-radial-bar-label",l)}),R.createElement("defs",null,R.createElement("path",{id:S,d:_})),R.createElement("textPath",{xlinkHref:"#".concat(S)},r))},LG=function(t){var r=t.viewBox,n=t.offset,i=t.position,s=r,o=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,d=s.startAngle,f=s.endAngle,h=(d+f)/2;if(i==="outside"){var m=Ct(o,l,u+n,h),y=m.x,x=m.y;return{x:y,y:x,textAnchor:y>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,p=Ct(o,l,v,h),g=p.x,b=p.y;return{x:g,y:b,textAnchor:"middle",verticalAnchor:"middle"}},FG=function(t){var r=t.viewBox,n=t.parentViewBox,i=t.offset,s=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*i,m=f>0?"end":"start",y=f>0?"start":"end",x=u>=0?1:-1,v=x*i,p=x>0?"end":"start",g=x>0?"start":"end";if(s==="top"){var b={x:l+u/2,y:c-f*i,textAnchor:"middle",verticalAnchor:m};return ft(ft({},b),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var w={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:y};return ft(ft({},w),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(s==="left"){var j={x:l-v,y:c+d/2,textAnchor:p,verticalAnchor:"middle"};return ft(ft({},j),n?{width:Math.max(j.x-n.x,0),height:d}:{})}if(s==="right"){var N={x:l+u+v,y:c+d/2,textAnchor:g,verticalAnchor:"middle"};return ft(ft({},N),n?{width:Math.max(n.x+n.width-N.x,0),height:d}:{})}var _=n?{width:u,height:d}:{};return s==="insideLeft"?ft({x:l+v,y:c+d/2,textAnchor:g,verticalAnchor:"middle"},_):s==="insideRight"?ft({x:l+u-v,y:c+d/2,textAnchor:p,verticalAnchor:"middle"},_):s==="insideTop"?ft({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:y},_):s==="insideBottom"?ft({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:m},_):s==="insideTopLeft"?ft({x:l+v,y:c+h,textAnchor:g,verticalAnchor:y},_):s==="insideTopRight"?ft({x:l+u-v,y:c+h,textAnchor:p,verticalAnchor:y},_):s==="insideBottomLeft"?ft({x:l+v,y:c+d-h,textAnchor:g,verticalAnchor:m},_):s==="insideBottomRight"?ft({x:l+u-v,y:c+d-h,textAnchor:p,verticalAnchor:m},_):bo(s)&&(Z(s.x)||ei(s.x))&&(Z(s.y)||ei(s.y))?ft({x:l+Pi(s.x,u),y:c+Pi(s.y,d),textAnchor:"end",verticalAnchor:"end"},_):ft({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},_)},BG=function(t){return"cx"in t&&Z(t.cx)};function Mt(e){var t=e.offset,r=t===void 0?5:t,n=kG(e,_G),i=ft({offset:r},n),s=i.viewBox,o=i.position,l=i.value,c=i.children,u=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!s||je(l)&&je(c)&&!O.isValidElement(u)&&!be(u))return null;if(O.isValidElement(u))return O.cloneElement(u,i);var m;if(be(u)){if(m=O.createElement(u,i),O.isValidElement(m))return m}else m=RG(i);var y=BG(s),x=Oe(i,!0);if(y&&(o==="insideStart"||o==="insideEnd"||o==="end"))return DG(i,m,x);var v=y?LG(i):FG(i);return R.createElement(Rd,sc({className:Ce("recharts-label",f)},x,v,{breakAll:h}),m)}Mt.displayName="Label";var wP=function(t){var r=t.cx,n=t.cy,i=t.angle,s=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,m=t.top,y=t.left,x=t.width,v=t.height,p=t.clockWise,g=t.labelViewBox;if(g)return g;if(Z(x)&&Z(v)){if(Z(f)&&Z(h))return{x:f,y:h,width:x,height:v};if(Z(m)&&Z(y))return{x:m,y,width:x,height:v}}return Z(f)&&Z(h)?{x:f,y:h,width:0,height:0}:Z(r)&&Z(n)?{cx:r,cy:n,startAngle:s||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:p}:t.viewBox?t.viewBox:{}},zG=function(t,r){return t?t===!0?R.createElement(Mt,{key:"label-implicit",viewBox:r}):gt(t)?R.createElement(Mt,{key:"label-implicit",viewBox:r,value:t}):O.isValidElement(t)?t.type===Mt?O.cloneElement(t,{key:"label-implicit",viewBox:r}):R.createElement(Mt,{key:"label-implicit",content:t,viewBox:r}):be(t)?R.createElement(Mt,{key:"label-implicit",content:t,viewBox:r}):bo(t)?R.createElement(Mt,sc({viewBox:r},t,{key:"label-implicit"})):null:null},UG=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var i=t.children,s=wP(t),o=Or(i,Mt).map(function(c,u){return O.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return o;var l=zG(t.label,r||s);return[l].concat(SG(o))};Mt.parseViewBox=wP;Mt.renderCallByParent=UG;function WG(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var HG=WG;const KG=De(HG);function oc(e){"@babel/helpers - typeof";return oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oc(e)}var VG=["valueAccessor"],qG=["data","dataKey","clockWise","id","textBreakAll"];function GG(e){return ZG(e)||YG(e)||QG(e)||XG()}function XG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QG(e,t){if(e){if(typeof e=="string")return Gx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gx(e,t)}}function YG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ZG(e){if(Array.isArray(e))return Gx(e)}function Gx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Yd(){return Yd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yd.apply(this,arguments)}function iw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iw(Object(r),!0).forEach(function(n){JG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JG(e,t,r){return t=eX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eX(e){var t=tX(e,"string");return oc(t)=="symbol"?t:t+""}function tX(e,t){if(oc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(oc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ow(e,t){if(e==null)return{};var r=rX(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rX(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var nX=function(t){return Array.isArray(t.value)?KG(t.value):t.value};function ka(e){var t=e.valueAccessor,r=t===void 0?nX:t,n=ow(e,VG),i=n.data,s=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=ow(n,qG);return!i||!i.length?null:R.createElement(it,{className:"recharts-label-list"},i.map(function(d,f){var h=je(s)?r(d,f):dr(d&&d.payload,s),m=je(l)?{}:{id:"".concat(l,"-").concat(f)};return R.createElement(Mt,Yd({},Oe(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:Mt.parseViewBox(je(o)?d:sw(sw({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}ka.displayName="LabelList";function aX(e,t){return e?e===!0?R.createElement(ka,{key:"labelList-implicit",data:t}):R.isValidElement(e)||be(e)?R.createElement(ka,{key:"labelList-implicit",data:t,content:e}):bo(e)?R.createElement(ka,Yd({data:t},e,{key:"labelList-implicit"})):null:null}function iX(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,i=Or(n,ka).map(function(o,l){return O.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return i;var s=aX(e.label,t);return[s].concat(GG(i))}ka.renderCallByParent=iX;function lc(e){"@babel/helpers - typeof";return lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lc(e)}function Xx(){return Xx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xx.apply(this,arguments)}function lw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lw(Object(r),!0).forEach(function(n){sX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sX(e,t,r){return t=oX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oX(e){var t=lX(e,"string");return lc(t)=="symbol"?t:t+""}function lX(e,t){if(lc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cX=function(t,r){var n=Vr(r-t),i=Math.min(Math.abs(r-t),359.999);return n*i},Nu=function(t){var r=t.cx,n=t.cy,i=t.radius,s=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+i,f=Math.asin(c/d)/Qd,h=u?s:s+o*f,m=Ct(r,n,d,h),y=Ct(r,n,i,h),x=u?s-o*f:s,v=Ct(r,n,d*Math.cos(f*Qd),x);return{center:m,circleTangency:y,lineTangency:v,theta:f}},NP=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,s=t.outerRadius,o=t.startAngle,l=t.endAngle,c=cX(o,l),u=o+c,d=Ct(r,n,s,o),f=Ct(r,n,s,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var m=Ct(r,n,i,o),y=Ct(r,n,i,u);h+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},uX=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,s=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Vr(d-u),h=Nu({cx:r,cy:n,radius:s,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),m=h.circleTangency,y=h.lineTangency,x=h.theta,v=Nu({cx:r,cy:n,radius:s,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),p=v.circleTangency,g=v.lineTangency,b=v.theta,w=c?Math.abs(u-d):Math.abs(u-d)-x-b;if(w<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):NP({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:u,endAngle:d});var j="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(w>180),",").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
  `);if(i>0){var N=Nu({cx:r,cy:n,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),_=N.circleTangency,S=N.lineTangency,C=N.theta,P=Nu({cx:r,cy:n,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),A=P.circleTangency,E=P.lineTangency,W=P.theta,D=c?Math.abs(u-d):Math.abs(u-d)-C-W;if(D<0&&o===0)return"".concat(j,"L").concat(r,",").concat(n,"Z");j+="L".concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(D>180),",").concat(+(f>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(S.x,",").concat(S.y,"Z")}else j+="L".concat(r,",").concat(n,"Z");return j},dX={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},_P=function(t){var r=cw(cw({},dX),t),n=r.cx,i=r.cy,s=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<s||d===f)return null;var m=Ce("recharts-sector",h),y=o-s,x=Pi(l,y,0,!0),v;return x>0&&Math.abs(d-f)<360?v=uX({cx:n,cy:i,innerRadius:s,outerRadius:o,cornerRadius:Math.min(x,y/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=NP({cx:n,cy:i,innerRadius:s,outerRadius:o,startAngle:d,endAngle:f}),R.createElement("path",Xx({},Oe(r,!0),{className:m,d:v,role:"img"}))};function cc(e){"@babel/helpers - typeof";return cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cc(e)}function Qx(){return Qx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qx.apply(this,arguments)}function uw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uw(Object(r),!0).forEach(function(n){fX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fX(e,t,r){return t=hX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hX(e){var t=mX(e,"string");return cc(t)=="symbol"?t:t+""}function mX(e,t){if(cc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fw={curveBasisClosed:dD,curveBasisOpen:fD,curveBasis:uD,curveBumpX:QI,curveBumpY:YI,curveLinearClosed:hD,curveLinear:ch,curveMonotoneX:mD,curveMonotoneY:pD,curveNatural:xD,curveStep:gD,curveStepAfter:vD,curveStepBefore:yD},_u=function(t){return t.x===+t.x&&t.y===+t.y},Go=function(t){return t.x},Xo=function(t){return t.y},pX=function(t,r){if(be(t))return t;var n="curve".concat(oh(t));return(n==="curveMonotone"||n==="curveBump")&&r?fw["".concat(n).concat(r==="vertical"?"Y":"X")]:fw[n]||ch},xX=function(t){var r=t.type,n=r===void 0?"linear":r,i=t.points,s=i===void 0?[]:i,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=pX(n,l),f=u?s.filter(function(x){return _u(x)}):s,h;if(Array.isArray(o)){var m=u?o.filter(function(x){return _u(x)}):o,y=f.map(function(x,v){return dw(dw({},x),{},{base:m[v]})});return l==="vertical"?h=mu().y(Xo).x1(Go).x0(function(x){return x.base.x}):h=mu().x(Go).y1(Xo).y0(function(x){return x.base.y}),h.defined(_u).curve(d),h(y)}return l==="vertical"&&Z(o)?h=mu().y(Xo).x1(Go).x0(o):Z(o)?h=mu().x(Go).y1(Xo).y0(o):h=_O().x(Go).y(Xo),h.defined(_u).curve(d),h(f)},Yx=function(t){var r=t.className,n=t.points,i=t.path,s=t.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?xX(t):i;return O.createElement("path",Qx({},Oe(t,!1),bd(t),{className:Ce("recharts-curve",r),d:o,ref:s}))},SP={exports:{}},gX="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",yX=gX,vX=yX;function OP(){}function CP(){}CP.resetWarningCache=OP;var bX=function(){function e(n,i,s,o,l,c){if(c!==vX){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:CP,resetWarningCache:OP};return r.PropTypes=r,r};SP.exports=bX();var jX=SP.exports;const ke=De(jX),{getOwnPropertyNames:wX,getOwnPropertySymbols:NX}=Object,{hasOwnProperty:_X}=Object.prototype;function $m(e,t){return function(n,i,s){return e(n,i,s)&&t(n,i,s)}}function Su(e){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,i);const{cache:s}=i,o=s.get(r),l=s.get(n);if(o&&l)return o===n&&l===r;s.set(r,n),s.set(n,r);const c=e(r,n,i);return s.delete(r),s.delete(n),c}}function SX(e){return e!=null?e[Symbol.toStringTag]:void 0}function hw(e){return wX(e).concat(NX(e))}const OX=Object.hasOwn||((e,t)=>_X.call(e,t));function Fi(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const CX="__v",PX="__o",AX="_owner",{getOwnPropertyDescriptor:mw,keys:pw}=Object;function kX(e,t){return e.byteLength===t.byteLength&&Zd(new Uint8Array(e),new Uint8Array(t))}function EX(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function $X(e,t){return e.byteLength===t.byteLength&&Zd(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function TX(e,t){return Fi(e.getTime(),t.getTime())}function MX(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function RX(e,t){return e===t}function xw(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const i=new Array(n),s=e.entries();let o,l,c=0;for(;(o=s.next())&&!o.done;){const u=t.entries();let d=!1,f=0;for(;(l=u.next())&&!l.done;){if(i[f]){f++;continue}const h=o.value,m=l.value;if(r.equals(h[0],m[0],c,f,e,t,r)&&r.equals(h[1],m[1],h[0],m[0],e,t,r)){d=i[f]=!0;break}f++}if(!d)return!1;c++}return!0}const IX=Fi;function DX(e,t,r){const n=pw(e);let i=n.length;if(pw(t).length!==i)return!1;for(;i-- >0;)if(!PP(e,t,r,n[i]))return!1;return!0}function Qo(e,t,r){const n=hw(e);let i=n.length;if(hw(t).length!==i)return!1;let s,o,l;for(;i-- >0;)if(s=n[i],!PP(e,t,r,s)||(o=mw(e,s),l=mw(t,s),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function LX(e,t){return Fi(e.valueOf(),t.valueOf())}function FX(e,t){return e.source===t.source&&e.flags===t.flags}function gw(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const i=new Array(n),s=e.values();let o,l;for(;(o=s.next())&&!o.done;){const c=t.values();let u=!1,d=0;for(;(l=c.next())&&!l.done;){if(!i[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function Zd(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function BX(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function PP(e,t,r,n){return(n===AX||n===PX||n===CX)&&(e.$$typeof||t.$$typeof)?!0:OX(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const zX="[object ArrayBuffer]",UX="[object Arguments]",WX="[object Boolean]",HX="[object DataView]",KX="[object Date]",VX="[object Error]",qX="[object Map]",GX="[object Number]",XX="[object Object]",QX="[object RegExp]",YX="[object Set]",ZX="[object String]",JX={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},eQ="[object URL]",tQ=Object.prototype.toString;function rQ({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:i,areFunctionsEqual:s,areMapsEqual:o,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:u,areRegExpsEqual:d,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:m,unknownTagComparators:y}){return function(v,p,g){if(v===p)return!0;if(v==null||p==null)return!1;const b=typeof v;if(b!==typeof p)return!1;if(b!=="object")return b==="number"?l(v,p,g):b==="function"?s(v,p,g):!1;const w=v.constructor;if(w!==p.constructor)return!1;if(w===Object)return c(v,p,g);if(Array.isArray(v))return t(v,p,g);if(w===Date)return n(v,p,g);if(w===RegExp)return d(v,p,g);if(w===Map)return o(v,p,g);if(w===Set)return f(v,p,g);const j=tQ.call(v);if(j===KX)return n(v,p,g);if(j===QX)return d(v,p,g);if(j===qX)return o(v,p,g);if(j===YX)return f(v,p,g);if(j===XX)return typeof v.then!="function"&&typeof p.then!="function"&&c(v,p,g);if(j===eQ)return m(v,p,g);if(j===VX)return i(v,p,g);if(j===UX)return c(v,p,g);if(JX[j])return h(v,p,g);if(j===zX)return e(v,p,g);if(j===HX)return r(v,p,g);if(j===WX||j===GX||j===ZX)return u(v,p,g);if(y){let N=y[j];if(!N){const _=SX(v);_&&(N=y[_])}if(N)return N(v,p,g)}return!1}}function nQ({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:kX,areArraysEqual:r?Qo:EX,areDataViewsEqual:$X,areDatesEqual:TX,areErrorsEqual:MX,areFunctionsEqual:RX,areMapsEqual:r?$m(xw,Qo):xw,areNumbersEqual:IX,areObjectsEqual:r?Qo:DX,arePrimitiveWrappersEqual:LX,areRegExpsEqual:FX,areSetsEqual:r?$m(gw,Qo):gw,areTypedArraysEqual:r?$m(Zd,Qo):Zd,areUrlsEqual:BX,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const i=Su(n.areArraysEqual),s=Su(n.areMapsEqual),o=Su(n.areObjectsEqual),l=Su(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return n}function aQ(e){return function(t,r,n,i,s,o,l){return e(t,r,l)}}function iQ({circular:e,comparator:t,createState:r,equals:n,strict:i}){if(r)return function(l,c){const{cache:u=e?new WeakMap:void 0,meta:d}=r();return t(l,c,{cache:u,equals:n,meta:d,strict:i})};if(e)return function(l,c){return t(l,c,{cache:new WeakMap,equals:n,meta:void 0,strict:i})};const s={cache:void 0,equals:n,meta:void 0,strict:i};return function(l,c){return t(l,c,s)}}const sQ=Ua();Ua({strict:!0});Ua({circular:!0});Ua({circular:!0,strict:!0});Ua({createInternalComparator:()=>Fi});Ua({strict:!0,createInternalComparator:()=>Fi});Ua({circular:!0,createInternalComparator:()=>Fi});Ua({circular:!0,createInternalComparator:()=>Fi,strict:!0});function Ua(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:i=!1}=e,s=nQ(e),o=rQ(s),l=r?r(o):aQ(o);return iQ({circular:t,comparator:o,createState:n,equals:l,strict:i})}function oQ(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function yw(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(s){r<0&&(r=s),s-r>t?(e(s),r=-1):oQ(i)};requestAnimationFrame(n)}function Zx(e){"@babel/helpers - typeof";return Zx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zx(e)}function lQ(e){return fQ(e)||dQ(e)||uQ(e)||cQ()}function cQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uQ(e,t){if(e){if(typeof e=="string")return vw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vw(e,t)}}function vw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function fQ(e){if(Array.isArray(e))return e}function hQ(){var e={},t=function(){return null},r=!1,n=function i(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,l=lQ(o),c=l[0],u=l.slice(1);if(typeof c=="number"){yw(i.bind(null,u),c);return}i(c),yw(i.bind(null,u));return}Zx(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function uc(e){"@babel/helpers - typeof";return uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uc(e)}function bw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bw(Object(r),!0).forEach(function(n){AP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AP(e,t,r){return t=mQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mQ(e){var t=pQ(e,"string");return uc(t)==="symbol"?t:String(t)}function pQ(e,t){if(uc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(uc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xQ=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,i){return n.filter(function(s){return i.includes(s)})})},gQ=function(t){return t},yQ=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},vl=function(t,r){return Object.keys(r).reduce(function(n,i){return jw(jw({},n),{},AP({},i,t(i,r[i])))},{})},ww=function(t,r,n){return t.map(function(i){return"".concat(yQ(i)," ").concat(r,"ms ").concat(n)}).join(",")};function vQ(e,t){return wQ(e)||jQ(e,t)||kP(e,t)||bQ()}function bQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jQ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function wQ(e){if(Array.isArray(e))return e}function NQ(e){return OQ(e)||SQ(e)||kP(e)||_Q()}function _Q(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kP(e,t){if(e){if(typeof e=="string")return Jx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jx(e,t)}}function SQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function OQ(e){if(Array.isArray(e))return Jx(e)}function Jx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Jd=1e-4,EP=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},$P=function(t,r){return t.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},Nw=function(t,r){return function(n){var i=EP(t,r);return $P(i,n)}},CQ=function(t,r){return function(n){var i=EP(t,r),s=[].concat(NQ(i.map(function(o,l){return o*l}).slice(1)),[0]);return $P(s,n)}},_w=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0],s=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,s=0,o=1,l=1;break;case"ease":i=.25,s=.1,o=.25,l=1;break;case"ease-in":i=.42,s=0,o=1,l=1;break;case"ease-out":i=.42,s=0,o=.58,l=1;break;case"ease-in-out":i=0,s=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=vQ(u,4);i=d[0],s=d[1],o=d[2],l=d[3]}}}var f=Nw(i,o),h=Nw(s,l),m=CQ(i,o),y=function(p){return p>1?1:p<0?0:p},x=function(p){for(var g=p>1?1:p,b=g,w=0;w<8;++w){var j=f(b)-g,N=m(b);if(Math.abs(j-g)<Jd||N<Jd)return h(b);b=y(b-j/N)}return h(b)};return x.isStepper=!1,x},PQ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,i=t.damping,s=i===void 0?8:i,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var m=-(d-f)*n,y=h*s,x=h+(m-y)*l/1e3,v=h*l/1e3+d;return Math.abs(v-f)<Jd&&Math.abs(x)<Jd?[f,0]:[v,x]};return c.isStepper=!0,c.dt=l,c},AQ=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return _w(i);case"spring":return PQ();default:if(i.split("(")[0]==="cubic-bezier")return _w(i)}return typeof i=="function"?i:null};function dc(e){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dc(e)}function Sw(e){return $Q(e)||EQ(e)||TP(e)||kQ()}function kQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $Q(e){if(Array.isArray(e))return tg(e)}function Ow(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function St(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ow(Object(r),!0).forEach(function(n){eg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ow(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eg(e,t,r){return t=TQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TQ(e){var t=MQ(e,"string");return dc(t)==="symbol"?t:String(t)}function MQ(e,t){if(dc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RQ(e,t){return LQ(e)||DQ(e,t)||TP(e,t)||IQ()}function IQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TP(e,t){if(e){if(typeof e=="string")return tg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tg(e,t)}}function tg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function DQ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function LQ(e){if(Array.isArray(e))return e}var ef=function(t,r,n){return t+(r-t)*n},rg=function(t){var r=t.from,n=t.to;return r!==n},FQ=function e(t,r,n){var i=vl(function(s,o){if(rg(o)){var l=t(o.from,o.to,o.velocity),c=RQ(l,2),u=c[0],d=c[1];return St(St({},o),{},{from:u,velocity:d})}return o},r);return n<1?vl(function(s,o){return rg(o)?St(St({},o),{},{velocity:ef(o.velocity,i[s].velocity,n),from:ef(o.from,i[s].from,n)}):o},r):e(t,i,n-1)};const BQ=function(e,t,r,n,i){var s=xQ(e,t),o=s.reduce(function(v,p){return St(St({},v),{},eg({},p,[e[p],t[p]]))},{}),l=s.reduce(function(v,p){return St(St({},v),{},eg({},p,{from:e[p],velocity:0,to:t[p]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return vl(function(p,g){return g.from},l)},m=function(){return!Object.values(l).filter(rg).length},y=function(p){u||(u=p);var g=p-u,b=g/r.dt;l=FQ(r,l,b),i(St(St(St({},e),t),h())),u=p,m()||(c=requestAnimationFrame(f))},x=function(p){d||(d=p);var g=(p-d)/n,b=vl(function(j,N){return ef.apply(void 0,Sw(N).concat([r(g)]))},o);if(i(St(St(St({},e),t),b)),g<1)c=requestAnimationFrame(f);else{var w=vl(function(j,N){return ef.apply(void 0,Sw(N).concat([r(1)]))},o);i(St(St(St({},e),t),w))}};return f=r.isStepper?y:x,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Qs(e){"@babel/helpers - typeof";return Qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qs(e)}var zQ=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function UQ(e,t){if(e==null)return{};var r=WQ(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function WQ(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Tm(e){return qQ(e)||VQ(e)||KQ(e)||HQ()}function HQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KQ(e,t){if(e){if(typeof e=="string")return ng(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ng(e,t)}}function VQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qQ(e){if(Array.isArray(e))return ng(e)}function ng(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Cw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ir(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cw(Object(r),!0).forEach(function(n){il(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function il(e,t,r){return t=MP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,MP(n.key),n)}}function QQ(e,t,r){return t&&XQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function MP(e){var t=YQ(e,"string");return Qs(t)==="symbol"?t:String(t)}function YQ(e,t){if(Qs(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qs(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ag(e,t)}function ag(e,t){return ag=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ag(e,t)}function JQ(e){var t=eY();return function(){var n=tf(e),i;if(t){var s=tf(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return ig(this,i)}}function ig(e,t){if(t&&(Qs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sg(e)}function sg(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eY(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function tf(e){return tf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tf(e)}var Hn=function(e){ZQ(r,e);var t=JQ(r);function r(n,i){var s;GQ(this,r),s=t.call(this,n,i);var o=s.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,m=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(sg(s)),s.changeStyle=s.changeStyle.bind(sg(s)),!l||m<=0)return s.state={style:{}},typeof h=="function"&&(s.state={style:d}),ig(s);if(f&&f.length)s.state={style:f[0].style};else if(u){if(typeof h=="function")return s.state={style:u},ig(s);s.state={style:c?il({},c,u):u}}else s.state={style:{}};return s}return QQ(r,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,o=i.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,d=s.to,f=s.from,h=this.state.style;if(l){if(!o){var m={style:c?il({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(m);return}if(!(sQ(i.to,d)&&i.canBegin&&i.isActive)){var y=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=y||u?f:i.to;if(this.state&&h){var v={style:c?il({},c,x):x};(c&&h[c]!==x||!c&&h!==x)&&this.setState(v)}this.runAnimation(Ir(Ir({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,o=i.from,l=i.to,c=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,m=BQ(o,l,AQ(u),c,this.changeStyle),y=function(){s.stopJSAnimation=m()};this.manager.start([h,d,y,c,f])}},{key:"runStepAnimation",value:function(i){var s=this,o=i.steps,l=i.begin,c=i.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(x,v,p){if(p===0)return x;var g=v.duration,b=v.easing,w=b===void 0?"ease":b,j=v.style,N=v.properties,_=v.onAnimationEnd,S=p>0?o[p-1]:v,C=N||Object.keys(j);if(typeof w=="function"||w==="spring")return[].concat(Tm(x),[s.runJSAnimation.bind(s,{from:S.style,to:j,duration:g,easing:w}),g]);var P=ww(C,g,w),A=Ir(Ir(Ir({},S.style),j),{},{transition:P});return[].concat(Tm(x),[A,g,_]).filter(gQ)};return this.manager.start([c].concat(Tm(o.reduce(m,[d,Math.max(h,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=hQ());var s=i.begin,o=i.duration,l=i.attributeName,c=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,m=i.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var x=l?il({},l,c):c,v=ww(Object.keys(x),o,u);y.start([d,s,Ir(Ir({},x),{},{transition:v}),o,f])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=UQ(i,zQ),u=O.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!l||u===0||o<=0)return s;var f=function(m){var y=m.props,x=y.style,v=x===void 0?{}:x,p=y.className,g=O.cloneElement(m,Ir(Ir({},c),{},{style:Ir(Ir({},v),d),className:p}));return g};return u===1?f(O.Children.only(s)):R.createElement("div",null,O.Children.map(s,function(h){return f(h)}))}}]),r}(O.PureComponent);Hn.displayName="Animate";Hn.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Hn.propTypes={from:ke.oneOfType([ke.object,ke.string]),to:ke.oneOfType([ke.object,ke.string]),attributeName:ke.string,duration:ke.number,begin:ke.number,easing:ke.oneOfType([ke.string,ke.func]),steps:ke.arrayOf(ke.shape({duration:ke.number.isRequired,style:ke.object.isRequired,easing:ke.oneOfType([ke.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ke.func]),properties:ke.arrayOf("string"),onAnimationEnd:ke.func})),children:ke.oneOfType([ke.node,ke.func]),isActive:ke.bool,canBegin:ke.bool,onAnimationEnd:ke.func,shouldReAnimate:ke.bool,onAnimationStart:ke.func,onAnimationReStart:ke.func};function fc(e){"@babel/helpers - typeof";return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fc(e)}function rf(){return rf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rf.apply(this,arguments)}function tY(e,t){return iY(e)||aY(e,t)||nY(e,t)||rY()}function rY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nY(e,t){if(e){if(typeof e=="string")return Pw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pw(e,t)}}function Pw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function aY(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function iY(e){if(Array.isArray(e))return e}function Aw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Aw(Object(r),!0).forEach(function(n){sY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Aw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sY(e,t,r){return t=oY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oY(e){var t=lY(e,"string");return fc(t)=="symbol"?t:t+""}function lY(e,t){if(fc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ew=function(t,r,n,i,s){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),l=i>=0?1:-1,c=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,d;if(o>0&&s instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=s[h]>o?o:s[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+i-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+i)),d+="L ".concat(t+c*f[3],",").concat(r+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+i-l*f[3])),d+="Z"}else if(o>0&&s===+s&&s>0){var y=Math.min(o,s);d="M ".concat(t,",").concat(r+l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+c*y,",").concat(r,`
            L `).concat(t+n-c*y,",").concat(r,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*y,`
            L `).concat(t+n,",").concat(r+i-l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n-c*y,",").concat(r+i,`
            L `).concat(t+c*y,",").concat(r+i,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t,",").concat(r+i-l*y," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return d},cY=function(t,r){if(!t||!r)return!1;var n=t.x,i=t.y,s=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),d=Math.max(s,s+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&i>=f&&i<=h}return!1},uY={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},L0=function(t){var r=kw(kw({},uY),t),n=O.useRef(),i=O.useState(-1),s=tY(i,2),o=s[0],l=s[1];O.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,m=r.className,y=r.animationEasing,x=r.animationDuration,v=r.animationBegin,p=r.isAnimationActive,g=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var b=Ce("recharts-rectangle",m);return g?R.createElement(Hn,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:x,animationEasing:y,isActive:g},function(w){var j=w.width,N=w.height,_=w.x,S=w.y;return R.createElement(Hn,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:x,isActive:p,easing:y},R.createElement("path",rf({},Oe(r,!0),{className:b,d:Ew(_,S,j,N,h),ref:n})))}):R.createElement("path",rf({},Oe(r,!0),{className:b,d:Ew(c,u,d,f,h)}))};function og(){return og=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},og.apply(this,arguments)}var F0=function(t){var r=t.cx,n=t.cy,i=t.r,s=t.className,o=Ce("recharts-dot",s);return r===+r&&n===+n&&i===+i?O.createElement("circle",og({},Oe(t,!1),bd(t),{className:o,cx:r,cy:n,r:i})):null};function hc(e){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hc(e)}var dY=["x","y","top","left","width","height","className"];function lg(){return lg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lg.apply(this,arguments)}function $w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$w(Object(r),!0).forEach(function(n){hY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$w(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hY(e,t,r){return t=mY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mY(e){var t=pY(e,"string");return hc(t)=="symbol"?t:t+""}function pY(e,t){if(hc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xY(e,t){if(e==null)return{};var r=gY(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var yY=function(t,r,n,i,s,o){return"M".concat(t,",").concat(s,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},vY=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,s=i===void 0?0:i,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,m=h===void 0?0:h,y=t.className,x=xY(t,dY),v=fY({x:n,y:s,top:l,left:u,width:f,height:m},x);return!Z(n)||!Z(s)||!Z(f)||!Z(m)||!Z(l)||!Z(u)?null:R.createElement("path",lg({},Oe(v,!0),{className:Ce("recharts-cross",y),d:yY(n,s,f,m,l,u)}))},bY=GO,jY=bY(Object.getPrototypeOf,Object),wY=jY,NY=Vn,_Y=wY,SY=qn,OY="[object Object]",CY=Function.prototype,PY=Object.prototype,RP=CY.toString,AY=PY.hasOwnProperty,kY=RP.call(Object);function EY(e){if(!SY(e)||NY(e)!=OY)return!1;var t=_Y(e);if(t===null)return!0;var r=AY.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&RP.call(r)==kY}var $Y=EY;const TY=De($Y);var MY=Vn,RY=qn,IY="[object Boolean]";function DY(e){return e===!0||e===!1||RY(e)&&MY(e)==IY}var LY=DY;const FY=De(LY);function mc(e){"@babel/helpers - typeof";return mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mc(e)}function nf(){return nf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nf.apply(this,arguments)}function BY(e,t){return HY(e)||WY(e,t)||UY(e,t)||zY()}function zY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UY(e,t){if(e){if(typeof e=="string")return Tw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tw(e,t)}}function Tw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function WY(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function HY(e){if(Array.isArray(e))return e}function Mw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mw(Object(r),!0).forEach(function(n){KY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KY(e,t,r){return t=VY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VY(e){var t=qY(e,"string");return mc(t)=="symbol"?t:t+""}function qY(e,t){if(mc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Iw=function(t,r,n,i,s){var o=n-i,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+s),l+="L ".concat(t+n-o/2-i,",").concat(r+s),l+="L ".concat(t,",").concat(r," Z"),l},GY={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},XY=function(t){var r=Rw(Rw({},GY),t),n=O.useRef(),i=O.useState(-1),s=BY(i,2),o=s[0],l=s[1];O.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&l(b)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,m=r.className,y=r.animationEasing,x=r.animationDuration,v=r.animationBegin,p=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var g=Ce("recharts-trapezoid",m);return p?R.createElement(Hn,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:x,animationEasing:y,isActive:p},function(b){var w=b.upperWidth,j=b.lowerWidth,N=b.height,_=b.x,S=b.y;return R.createElement(Hn,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:x,easing:y},R.createElement("path",nf({},Oe(r,!0),{className:g,d:Iw(_,S,w,j,N),ref:n})))}):R.createElement("g",null,R.createElement("path",nf({},Oe(r,!0),{className:g,d:Iw(c,u,d,f,h)})))},QY=["option","shapeType","propTransformer","activeClassName","isActive"];function pc(e){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pc(e)}function YY(e,t){if(e==null)return{};var r=ZY(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ZY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Dw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function af(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dw(Object(r),!0).forEach(function(n){JY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JY(e,t,r){return t=eZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eZ(e){var t=tZ(e,"string");return pc(t)=="symbol"?t:t+""}function tZ(e,t){if(pc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rZ(e,t){return af(af({},t),e)}function nZ(e,t){return e==="symbols"}function Lw(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return R.createElement(L0,r);case"trapezoid":return R.createElement(XY,r);case"sector":return R.createElement(_P,r);case"symbols":if(nZ(t))return R.createElement(n0,r);break;default:return null}}function aZ(e){return O.isValidElement(e)?e.props:e}function iZ(e){var t=e.option,r=e.shapeType,n=e.propTransformer,i=n===void 0?rZ:n,s=e.activeClassName,o=s===void 0?"recharts-active-shape":s,l=e.isActive,c=YY(e,QY),u;if(O.isValidElement(t))u=O.cloneElement(t,af(af({},c),aZ(t)));else if(be(t))u=t(c);else if(TY(t)&&!FY(t)){var d=i(t,c);u=R.createElement(Lw,{shapeType:r,elementProps:d})}else{var f=c;u=R.createElement(Lw,{shapeType:r,elementProps:f})}return l?R.createElement(it,{className:o},u):u}function Sh(e,t){return t!=null&&"trapezoids"in e.props}function Oh(e,t){return t!=null&&"sectors"in e.props}function xc(e,t){return t!=null&&"points"in e.props}function sZ(e,t){var r,n,i=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,s=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return i&&s}function oZ(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function lZ(e,t){var r=e.x===t.x,n=e.y===t.y,i=e.z===t.z;return r&&n&&i}function cZ(e,t){var r;return Sh(e,t)?r=sZ:Oh(e,t)?r=oZ:xc(e,t)&&(r=lZ),r}function uZ(e,t){var r;return Sh(e,t)?r="trapezoids":Oh(e,t)?r="sectors":xc(e,t)&&(r="points"),r}function dZ(e,t){if(Sh(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Oh(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return xc(e,t)?t.payload:{}}function fZ(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,i=uZ(r,t),s=dZ(r,t),o=n.filter(function(c,u){var d=wh(s,c),f=r.props[i].filter(function(y){var x=cZ(r,t);return x(y,t)}),h=r.props[i].indexOf(f[f.length-1]),m=u===h;return d&&m}),l=n.indexOf(o[o.length-1]);return l}var hZ=Math.ceil,mZ=Math.max;function pZ(e,t,r,n){for(var i=-1,s=mZ(hZ((t-e)/(r||1)),0),o=Array(s);s--;)o[n?s:++i]=e,e+=r;return o}var xZ=pZ,gZ=hC,Fw=1/0,yZ=17976931348623157e292;function vZ(e){if(!e)return e===0?e:0;if(e=gZ(e),e===Fw||e===-Fw){var t=e<0?-1:1;return t*yZ}return e===e?e:0}var IP=vZ,bZ=xZ,jZ=hh,Mm=IP;function wZ(e){return function(t,r,n){return n&&typeof n!="number"&&jZ(t,r,n)&&(r=n=void 0),t=Mm(t),r===void 0?(r=t,t=0):r=Mm(r),n=n===void 0?t<r?1:-1:Mm(n),bZ(t,r,n,e)}}var NZ=wZ,_Z=NZ,SZ=_Z(),OZ=SZ;const sf=De(OZ);function gc(e){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gc(e)}function Bw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bw(Object(r),!0).forEach(function(n){DP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DP(e,t,r){return t=CZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CZ(e){var t=PZ(e,"string");return gc(t)=="symbol"?t:t+""}function PZ(e,t){if(gc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AZ=["Webkit","Moz","O","ms"],kZ=function(t,r){var n=t.replace(/(\w)/,function(s){return s.toUpperCase()}),i=AZ.reduce(function(s,o){return zw(zw({},s),{},DP({},o+n,r))},{});return i[t]=r,i};function Ys(e){"@babel/helpers - typeof";return Ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ys(e)}function of(){return of=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},of.apply(this,arguments)}function Uw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uw(Object(r),!0).forEach(function(n){nr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ww(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,FP(n.key),n)}}function $Z(e,t,r){return t&&Ww(e.prototype,t),r&&Ww(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function TZ(e,t,r){return t=lf(t),MZ(e,LP()?Reflect.construct(t,r||[],lf(e).constructor):t.apply(e,r))}function MZ(e,t){if(t&&(Ys(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RZ(e)}function RZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LP=function(){return!!e})()}function lf(e){return lf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lf(e)}function IZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cg(e,t)}function cg(e,t){return cg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},cg(e,t)}function nr(e,t,r){return t=FP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FP(e){var t=DZ(e,"string");return Ys(t)=="symbol"?t:t+""}function DZ(e,t){if(Ys(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ys(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var LZ=function(t){var r=t.data,n=t.startIndex,i=t.endIndex,s=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=gl().domain(sf(0,c)).range([s,s+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:d}},Hw=function(t){return t.changedTouches&&!!t.changedTouches.length},Zs=function(e){function t(r){var n;return EZ(this,t),n=TZ(this,t,[r]),nr(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),nr(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),nr(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,s=i.endIndex,o=i.onDragEnd,l=i.startIndex;o==null||o({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),nr(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),nr(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),nr(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),nr(n,"handleSlideDragStart",function(i){var s=Hw(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return IZ(t,e),$Z(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,s=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(i,s),h=Math.max(i,s),m=t.getIndexInRange(o,f),y=t.getIndexInRange(o,h);return{startIndex:m-m%c,endIndex:y===d?d:y-y%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,s=i.data,o=i.tickFormatter,l=i.dataKey,c=dr(s[n],l,n);return be(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,s=i.slideMoveStartX,o=i.startX,l=i.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,m=c.endIndex,y=c.onChange,x=n.pageX-s;x>0?x=Math.min(x,u+d-f-l,u+d-f-o):x<0&&(x=Math.max(x,u-o,u-l));var v=this.getIndex({startX:o+x,endX:l+x});(v.startIndex!==h||v.endIndex!==m)&&y&&y(v),this.setState({startX:o+x,endX:l+x,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var s=Hw(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,s=i.brushMoveStartX,o=i.movingTravellerId,l=i.endX,c=i.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,y=d.onChange,x=d.gap,v=d.data,p={startX:this.state.startX,endX:this.state.endX},g=n.pageX-s;g>0?g=Math.min(g,f+h-m-u):g<0&&(g=Math.max(g,f-u)),p[o]=u+g;var b=this.getIndex(p),w=b.startIndex,j=b.endIndex,N=function(){var S=v.length-1;return o==="startX"&&(l>c?w%x===0:j%x===0)||l<c&&j===S||o==="endX"&&(l>c?j%x===0:w%x===0)||l>c&&j===S};this.setState(nr(nr({},o,u+g),"brushMoveStartX",n.pageX),function(){y&&N()&&y(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var s=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[i],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var m=l[h];i==="startX"&&m>=u||i==="endX"&&m<=c||this.setState(nr({},i,m),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return R.createElement("rect",{stroke:u,fill:c,x:i,y:s,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=O.Children.only(u);return f?R.cloneElement(f,{x:i,y:s,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var s,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,m=c.ariaLabel,y=c.data,x=c.startIndex,v=c.endIndex,p=Math.max(n,this.props.x),g=Rm(Rm({},Oe(this.props,!1)),{},{x:p,y:u,width:d,height:f}),b=m||"Min value: ".concat((s=y[x])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=y[v])===null||o===void 0?void 0:o.name);return R.createElement(it,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),l.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,g))}},{key:"renderSlide",value:function(n,i){var s=this.props,o=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,d=Math.min(n,i)+u,f=Math.max(Math.abs(i-n)-u,0);return R.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,s=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,m=5,y={pointerEvents:"none",fill:u};return R.createElement(it,{className:"recharts-brush-texts"},R.createElement(Rd,of({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:o+l/2},y),this.getTextOfTick(i)),R.createElement(Rd,of({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+m,y:o+l/2},y),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,i=n.data,s=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,m=h.startX,y=h.endX,x=h.isTextActive,v=h.isSlideMoving,p=h.isTravellerMoving,g=h.isTravellerFocused;if(!i||!i.length||!Z(l)||!Z(c)||!Z(u)||!Z(d)||u<=0||d<=0)return null;var b=Ce("recharts-brush",s),w=R.Children.count(o)===1,j=kZ("userSelect","none");return R.createElement(it,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),w&&this.renderPanorama(),this.renderSlide(m,y),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(y,"endX"),(x||v||p||g||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,s=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(s+l/2)-1;return R.createElement(R.Fragment,null,R.createElement("rect",{x:i,y:s,width:o,height:l,fill:c,stroke:"none"}),R.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),R.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var s;return R.isValidElement(n)?s=R.cloneElement(n,i):be(n)?s=n(i):s=t.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(n,i){var s=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(s!==i.prevData||u!==i.prevUpdateId)return Rm({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},s&&s.length?LZ({data:s,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+o-c]);var h=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,i){for(var s=n.length,o=0,l=s-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>i?l=c:o=c}return i>=n[l]?l:o}}])}(O.PureComponent);nr(Zs,"displayName","Brush");nr(Zs,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var FZ=u0;function BZ(e,t){var r;return FZ(e,function(n,i,s){return r=t(n,i,s),!r}),!!r}var zZ=BZ,UZ=BO,WZ=Fa,HZ=zZ,KZ=er,VZ=hh;function qZ(e,t,r){var n=KZ(e)?UZ:HZ;return r&&VZ(e,t,r)&&(t=void 0),n(e,WZ(t))}var GZ=qZ;const XZ=De(GZ);var un=function(t,r){var n=t.alwaysShow,i=t.ifOverflow;return n&&(i="extendDomain"),i===r},Kw=lC;function QZ(e,t,r){t=="__proto__"&&Kw?Kw(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var YZ=QZ,ZZ=YZ,JZ=sC,eJ=Fa;function tJ(e,t){var r={};return t=eJ(t),JZ(e,function(n,i,s){ZZ(r,i,t(n,i,s))}),r}var rJ=tJ;const nJ=De(rJ);function aJ(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var iJ=aJ,sJ=u0;function oJ(e,t){var r=!0;return sJ(e,function(n,i,s){return r=!!t(n,i,s),r}),r}var lJ=oJ,cJ=iJ,uJ=lJ,dJ=Fa,fJ=er,hJ=hh;function mJ(e,t,r){var n=fJ(e)?cJ:uJ;return r&&hJ(e,t,r)&&(t=void 0),n(e,dJ(t))}var pJ=mJ;const BP=De(pJ);var xJ=["x","y"];function yc(e){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yc(e)}function ug(){return ug=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ug.apply(this,arguments)}function Vw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Yo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vw(Object(r),!0).forEach(function(n){gJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gJ(e,t,r){return t=yJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yJ(e){var t=vJ(e,"string");return yc(t)=="symbol"?t:t+""}function vJ(e,t){if(yc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bJ(e,t){if(e==null)return{};var r=jJ(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function wJ(e,t){var r=e.x,n=e.y,i=bJ(e,xJ),s="".concat(r),o=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||i.height),d=parseInt(u,10),f="".concat(t.width||i.width),h=parseInt(f,10);return Yo(Yo(Yo(Yo(Yo({},t),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function qw(e){return R.createElement(iZ,ug({shapeType:"rectangle",propTransformer:wJ,activeClassName:"recharts-active-bar"},e))}var NJ=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof t=="number")return t;var s=Z(n)||RR(n);return s?t(n,i):(s||ki(),r)}},_J=["value","background"],zP;function Js(e){"@babel/helpers - typeof";return Js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Js(e)}function SJ(e,t){if(e==null)return{};var r=OJ(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function OJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function cf(){return cf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cf.apply(this,arguments)}function Gw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function st(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gw(Object(r),!0).forEach(function(n){ga(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WP(n.key),n)}}function PJ(e,t,r){return t&&Xw(e.prototype,t),r&&Xw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function AJ(e,t,r){return t=uf(t),kJ(e,UP()?Reflect.construct(t,r||[],uf(e).constructor):t.apply(e,r))}function kJ(e,t){if(t&&(Js(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EJ(e)}function EJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UP=function(){return!!e})()}function uf(e){return uf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uf(e)}function $J(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dg(e,t)}function dg(e,t){return dg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},dg(e,t)}function ga(e,t,r){return t=WP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WP(e){var t=TJ(e,"string");return Js(t)=="symbol"?t:t+""}function TJ(e,t){if(Js(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Js(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qc=function(e){function t(){var r;CJ(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=AJ(this,t,[].concat(i)),ga(r,"state",{isAnimationFinished:!1}),ga(r,"id",Bc("recharts-bar-")),ga(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),ga(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return $J(t,e),PJ(t,[{key:"renderRectanglesStatically",value:function(n){var i=this,s=this.props,o=s.shape,l=s.dataKey,c=s.activeIndex,u=s.activeBar,d=Oe(this.props,!1);return n&&n.map(function(f,h){var m=h===c,y=m?u:o,x=st(st(st({},d),f),{},{isActive:m,option:y,index:h,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return R.createElement(it,cf({className:"recharts-bar-rectangle"},jd(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),R.createElement(qw,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,s=i.data,o=i.layout,l=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return R.createElement(Hn,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var y=m.t,x=s.map(function(v,p){var g=h&&h[p];if(g){var b=Hr(g.x,v.x),w=Hr(g.y,v.y),j=Hr(g.width,v.width),N=Hr(g.height,v.height);return st(st({},v),{},{x:b(y),y:w(y),width:j(y),height:N(y)})}if(o==="horizontal"){var _=Hr(0,v.height),S=_(y);return st(st({},v),{},{y:v.y+v.height-S,height:S})}var C=Hr(0,v.width),P=C(y);return st(st({},v),{},{width:P})});return R.createElement(it,null,n.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,s=n.isAnimationActive,o=this.state.prevData;return s&&i&&i.length&&(!o||!wh(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,s=i.data,o=i.dataKey,l=i.activeIndex,c=Oe(this.props.background,!1);return s.map(function(u,d){u.value;var f=u.background,h=SJ(u,_J);if(!f)return null;var m=st(st(st(st(st({},h),{},{fill:"#eee"},f),c),jd(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return R.createElement(qw,cf({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},m))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=Or(d,Vc);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,m=function(v,p){var g=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:g,errorVal:dr(v,p)}},y={clipPath:n?"url(#clipPath-".concat(i,")"):null};return R.createElement(it,y,f.map(function(x){return R.cloneElement(x,{key:"error-bar-".concat(i,"-").concat(x.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,s=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,m=n.isAnimationActive,y=n.background,x=n.id;if(i||!s||!s.length)return null;var v=this.state.isAnimationFinished,p=Ce("recharts-bar",o),g=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,w=g||b,j=je(x)?this.id:x;return R.createElement(it,{className:p},g||b?R.createElement("defs",null,R.createElement("clipPath",{id:"clipPath-".concat(j)},R.createElement("rect",{x:g?u:u-f/2,y:b?d:d-h/2,width:g?f:f*2,height:b?h:h*2}))):null,R.createElement(it,{className:"recharts-bar-rectangles",clipPath:w?"url(#clipPath-".concat(j,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(w,j),(!m||v)&&ka.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(O.PureComponent);zP=qc;ga(qc,"displayName","Bar");ga(qc,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Co.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ga(qc,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,i=e.bandSize,s=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=iG(n,r);if(!m)return null;var y=t.layout,x=r.type.defaultProps,v=x!==void 0?st(st({},x),r.props):r.props,p=v.dataKey,g=v.children,b=v.minPointSize,w=y==="horizontal"?o:s,j=u?w.scale.domain():null,N=hG({numericAxis:w}),_=Or(g,pC),S=f.map(function(C,P){var A,E,W,D,F,T;u?A=sG(u[d+P],j):(A=dr(C,p),Array.isArray(A)||(A=[N,A]));var z=NJ(b,zP.defaultProps.minPointSize)(A[1],P);if(y==="horizontal"){var M,B=[o.scale(A[0]),o.scale(A[1])],k=B[0],I=B[1];E=Y1({axis:s,ticks:l,bandSize:i,offset:m.offset,entry:C,index:P}),W=(M=I??k)!==null&&M!==void 0?M:void 0,D=m.size;var L=k-I;if(F=Number.isNaN(L)?0:L,T={x:E,y:o.y,width:D,height:o.height},Math.abs(z)>0&&Math.abs(F)<Math.abs(z)){var q=Vr(F||z)*(Math.abs(z)-Math.abs(F));W-=q,F+=q}}else{var Y=[s.scale(A[0]),s.scale(A[1])],le=Y[0],me=Y[1];if(E=le,W=Y1({axis:o,ticks:c,bandSize:i,offset:m.offset,entry:C,index:P}),D=me-le,F=m.size,T={x:s.x,y:W,width:s.width,height:F},Math.abs(z)>0&&Math.abs(D)<Math.abs(z)){var oe=Vr(D||z)*(Math.abs(z)-Math.abs(D));D+=oe}}return st(st(st({},C),{},{x:E,y:W,width:D,height:F,value:u?A:A[1],payload:C,background:T},_&&_[P]&&_[P].props),{},{tooltipPayload:[jP(r,C)],tooltipPosition:{x:E+D/2,y:W+F/2}})});return st({data:S,layout:y},h)});function vc(e){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vc(e)}function MJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,HP(n.key),n)}}function RJ(e,t,r){return t&&Qw(e.prototype,t),r&&Qw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yw(Object(r),!0).forEach(function(n){Ch(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ch(e,t,r){return t=HP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HP(e){var t=IJ(e,"string");return vc(t)=="symbol"?t:t+""}function IJ(e,t){if(vc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DJ=function(t,r,n,i,s){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!ir(u,qc);return d.reduce(function(m,y){var x=r[y],v=x.orientation,p=x.domain,g=x.padding,b=g===void 0?{}:g,w=x.mirror,j=x.reversed,N="".concat(v).concat(w?"Mirror":""),_,S,C,P,A;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var E=p[1]-p[0],W=1/0,D=x.categoricalDomain.sort(LR);if(D.forEach(function(Y,le){le>0&&(W=Math.min((Y||0)-(D[le-1]||0),W))}),Number.isFinite(W)){var F=W/E,T=x.layout==="vertical"?n.height:n.width;if(x.padding==="gap"&&(_=F*T/2),x.padding==="no-gap"){var z=Pi(t.barCategoryGap,F*T),M=F*T/2;_=M-z-(M-z)/T*z}}}i==="xAxis"?S=[n.left+(b.left||0)+(_||0),n.left+n.width-(b.right||0)-(_||0)]:i==="yAxis"?S=c==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(_||0),n.top+n.height-(b.bottom||0)-(_||0)]:S=x.range,j&&(S=[S[1],S[0]]);var B=nG(x,s,h),k=B.scale,I=B.realScaleType;k.domain(p).range(S),aG(k);var L=fG(k,zr(zr({},x),{},{realScaleType:I}));i==="xAxis"?(A=v==="top"&&!w||v==="bottom"&&w,C=n.left,P=f[N]-A*x.height):i==="yAxis"&&(A=v==="left"&&!w||v==="right"&&w,C=f[N]-A*x.width,P=n.top);var q=zr(zr(zr({},x),L),{},{realScaleType:I,x:C,y:P,scale:k,width:i==="xAxis"?n.width:x.width,height:i==="yAxis"?n.height:x.height});return q.bandSize=Xd(q,L),!x.hide&&i==="xAxis"?f[N]+=(A?-1:1)*q.height:x.hide||(f[N]+=(A?-1:1)*q.width),zr(zr({},m),{},Ch({},y,q))},{})},KP=function(t,r){var n=t.x,i=t.y,s=r.x,o=r.y;return{x:Math.min(n,s),y:Math.min(i,o),width:Math.abs(s-n),height:Math.abs(o-i)}},LJ=function(t){var r=t.x1,n=t.y1,i=t.x2,s=t.y2;return KP({x:r,y:n},{x:i,y:s})},VP=function(){function e(t){MJ(this,e),this.scale=t}return RJ(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],s=n[n.length-1];return i<=s?r>=i&&r<=s:r>=s&&r<=i}}],[{key:"create",value:function(r){return new e(r)}}])}();Ch(VP,"EPS",1e-4);var B0=function(t){var r=Object.keys(t).reduce(function(n,i){return zr(zr({},n),{},Ch({},i,VP.create(t[i])))},{});return zr(zr({},r),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,l=s.position;return nJ(i,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(i){return BP(i,function(s,o){return r[o].isInRange(s)})}})};function FJ(e){return(e%180+180)%180}var BJ=function(t){var r=t.width,n=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=FJ(i),o=s*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},zJ=Fa,UJ=zc,WJ=dh;function HJ(e){return function(t,r,n){var i=Object(t);if(!UJ(t)){var s=zJ(r);t=WJ(t),r=function(l){return s(i[l],l,i)}}var o=e(t,r,n);return o>-1?i[s?t[o]:o]:void 0}}var KJ=HJ,VJ=IP;function qJ(e){var t=VJ(e),r=t%1;return t===t?r?t-r:t:0}var GJ=qJ,XJ=eC,QJ=Fa,YJ=GJ,ZJ=Math.max;function JJ(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var i=r==null?0:YJ(r);return i<0&&(i=ZJ(n+i,0)),XJ(e,QJ(t),i)}var eee=JJ,tee=KJ,ree=eee,nee=tee(ree),aee=nee;const iee=De(aee);var see=z6(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),z0=O.createContext(void 0),U0=O.createContext(void 0),qP=O.createContext(void 0),GP=O.createContext({}),XP=O.createContext(void 0),QP=O.createContext(0),YP=O.createContext(0),Zw=function(t){var r=t.state,n=r.xAxisMap,i=r.yAxisMap,s=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=see(s);return R.createElement(z0.Provider,{value:n},R.createElement(U0.Provider,{value:i},R.createElement(GP.Provider,{value:s},R.createElement(qP.Provider,{value:d},R.createElement(XP.Provider,{value:o},R.createElement(QP.Provider,{value:u},R.createElement(YP.Provider,{value:c},l)))))))},oee=function(){return O.useContext(XP)},ZP=function(t){var r=O.useContext(z0);r==null&&ki();var n=r[t];return n==null&&ki(),n},lee=function(){var t=O.useContext(z0);return aa(t)},cee=function(){var t=O.useContext(U0),r=iee(t,function(n){return BP(n.domain,Number.isFinite)});return r||aa(t)},JP=function(t){var r=O.useContext(U0);r==null&&ki();var n=r[t];return n==null&&ki(),n},uee=function(){var t=O.useContext(qP);return t},dee=function(){return O.useContext(GP)},W0=function(){return O.useContext(YP)},H0=function(){return O.useContext(QP)};function eo(e){"@babel/helpers - typeof";return eo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eo(e)}function fee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hee(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tA(n.key),n)}}function mee(e,t,r){return t&&hee(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pee(e,t,r){return t=df(t),xee(e,eA()?Reflect.construct(t,r||[],df(e).constructor):t.apply(e,r))}function xee(e,t){if(t&&(eo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gee(e)}function gee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eA=function(){return!!e})()}function df(e){return df=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},df(e)}function yee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fg(e,t)}function fg(e,t){return fg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},fg(e,t)}function Jw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function eN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jw(Object(r),!0).forEach(function(n){K0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function K0(e,t,r){return t=tA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tA(e){var t=vee(e,"string");return eo(t)=="symbol"?t:t+""}function vee(e,t){if(eo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(eo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function bee(e,t){return _ee(e)||Nee(e,t)||wee(e,t)||jee()}function jee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wee(e,t){if(e){if(typeof e=="string")return tN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tN(e,t)}}function tN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Nee(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function _ee(e){if(Array.isArray(e))return e}function hg(){return hg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hg.apply(this,arguments)}var See=function(t,r){var n;return R.isValidElement(t)?n=R.cloneElement(t,r):be(t)?n=t(r):n=R.createElement("line",hg({},r,{className:"recharts-reference-line-line"})),n},Oee=function(t,r,n,i,s,o,l,c,u){var d=s.x,f=s.y,h=s.width,m=s.height;if(n){var y=u.y,x=t.y.apply(y,{position:o});if(un(u,"discard")&&!t.y.isInRange(x))return null;var v=[{x:d+h,y:x},{x:d,y:x}];return c==="left"?v.reverse():v}if(r){var p=u.x,g=t.x.apply(p,{position:o});if(un(u,"discard")&&!t.x.isInRange(g))return null;var b=[{x:g,y:f+m},{x:g,y:f}];return l==="top"?b.reverse():b}if(i){var w=u.segment,j=w.map(function(N){return t.apply(N,{position:o})});return un(u,"discard")&&XZ(j,function(N){return!t.isInRange(N)})?null:j}return null};function Cee(e){var t=e.x,r=e.y,n=e.segment,i=e.xAxisId,s=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=oee(),d=ZP(i),f=JP(s),h=uee();if(!u||!h)return null;Mn(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=B0({x:d.scale,y:f.scale}),y=gt(t),x=gt(r),v=n&&n.length===2,p=Oee(m,y,x,v,h,e.position,d.orientation,f.orientation,e);if(!p)return null;var g=bee(p,2),b=g[0],w=b.x,j=b.y,N=g[1],_=N.x,S=N.y,C=un(e,"hidden")?"url(#".concat(u,")"):void 0,P=eN(eN({clipPath:C},Oe(e,!0)),{},{x1:w,y1:j,x2:_,y2:S});return R.createElement(it,{className:Ce("recharts-reference-line",l)},See(o,P),Mt.renderCallByParent(e,LJ({x1:w,y1:j,x2:_,y2:S})))}var V0=function(e){function t(){return fee(this,t),pee(this,t,arguments)}return yee(t,e),mee(t,[{key:"render",value:function(){return R.createElement(Cee,this.props)}}])}(R.Component);K0(V0,"displayName","ReferenceLine");K0(V0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function mg(){return mg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mg.apply(this,arguments)}function to(e){"@babel/helpers - typeof";return to=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},to(e)}function rN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rN(Object(r),!0).forEach(function(n){Ph(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Aee(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nA(n.key),n)}}function kee(e,t,r){return t&&Aee(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Eee(e,t,r){return t=ff(t),$ee(e,rA()?Reflect.construct(t,r||[],ff(e).constructor):t.apply(e,r))}function $ee(e,t){if(t&&(to(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tee(e)}function Tee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rA=function(){return!!e})()}function ff(e){return ff=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ff(e)}function Mee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pg(e,t)}function pg(e,t){return pg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},pg(e,t)}function Ph(e,t,r){return t=nA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nA(e){var t=Ree(e,"string");return to(t)=="symbol"?t:t+""}function Ree(e,t){if(to(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(to(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Iee=function(t){var r=t.x,n=t.y,i=t.xAxis,s=t.yAxis,o=B0({x:i.scale,y:s.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return un(t,"discard")&&!o.isInRange(l)?null:l},Ah=function(e){function t(){return Pee(this,t),Eee(this,t,arguments)}return Mee(t,e),kee(t,[{key:"render",value:function(){var n=this.props,i=n.x,s=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=gt(i),d=gt(s);if(Mn(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=Iee(this.props);if(!f)return null;var h=f.x,m=f.y,y=this.props,x=y.shape,v=y.className,p=un(this.props,"hidden")?"url(#".concat(c,")"):void 0,g=nN(nN({clipPath:p},Oe(this.props,!0)),{},{cx:h,cy:m});return R.createElement(it,{className:Ce("recharts-reference-dot",v)},t.renderDot(x,g),Mt.renderCallByParent(this.props,{x:h-o,y:m-o,width:2*o,height:2*o}))}}])}(R.Component);Ph(Ah,"displayName","ReferenceDot");Ph(Ah,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Ph(Ah,"renderDot",function(e,t){var r;return R.isValidElement(e)?r=R.cloneElement(e,t):be(e)?r=e(t):r=R.createElement(F0,mg({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function xg(){return xg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xg.apply(this,arguments)}function ro(e){"@babel/helpers - typeof";return ro=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ro(e)}function aN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function iN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aN(Object(r),!0).forEach(function(n){kh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lee(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iA(n.key),n)}}function Fee(e,t,r){return t&&Lee(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bee(e,t,r){return t=hf(t),zee(e,aA()?Reflect.construct(t,r||[],hf(e).constructor):t.apply(e,r))}function zee(e,t){if(t&&(ro(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uee(e)}function Uee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aA=function(){return!!e})()}function hf(e){return hf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hf(e)}function Wee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gg(e,t)}function gg(e,t){return gg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},gg(e,t)}function kh(e,t,r){return t=iA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iA(e){var t=Hee(e,"string");return ro(t)=="symbol"?t:t+""}function Hee(e,t){if(ro(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ro(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Kee=function(t,r,n,i,s){var o=s.x1,l=s.x2,c=s.y1,u=s.y2,d=s.xAxis,f=s.yAxis;if(!d||!f)return null;var h=B0({x:d.scale,y:f.scale}),m={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},y={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return un(s,"discard")&&(!h.isInRange(m)||!h.isInRange(y))?null:KP(m,y)},Eh=function(e){function t(){return Dee(this,t),Bee(this,t,arguments)}return Wee(t,e),Fee(t,[{key:"render",value:function(){var n=this.props,i=n.x1,s=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Mn(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=gt(i),h=gt(s),m=gt(o),y=gt(l),x=this.props.shape;if(!f&&!h&&!m&&!y&&!x)return null;var v=Kee(f,h,m,y,this.props);if(!v&&!x)return null;var p=un(this.props,"hidden")?"url(#".concat(d,")"):void 0;return R.createElement(it,{className:Ce("recharts-reference-area",c)},t.renderRect(x,iN(iN({clipPath:p},Oe(this.props,!0)),v)),Mt.renderCallByParent(this.props,v))}}])}(R.Component);kh(Eh,"displayName","ReferenceArea");kh(Eh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});kh(Eh,"renderRect",function(e,t){var r;return R.isValidElement(e)?r=R.cloneElement(e,t):be(e)?r=e(t):r=R.createElement(L0,xg({},t,{className:"recharts-reference-area-rect"})),r});function sA(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function Vee(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return BJ(n,r)}function qee(e,t,r){var n=r==="width",i=e.x,s=e.y,o=e.width,l=e.height;return t===1?{start:n?i:s,end:n?i+o:s+l}:{start:n?i+o:s+l,end:n?i:s}}function mf(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-i)<=0}function Gee(e,t){return sA(e,t+1)}function Xee(e,t,r,n,i){for(var s=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var y=n==null?void 0:n[c];if(y===void 0)return{v:sA(n,u)};var x=c,v,p=function(){return v===void 0&&(v=r(y,x)),v},g=y.coordinate,b=c===0||mf(e,g,p,d,l);b||(c=0,d=o,u+=1),b&&(d=g+e*(p()/2+i),c+=u)},h;u<=s.length;)if(h=f(),h)return h.v;return[]}function bc(e){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bc(e)}function sN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $t(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sN(Object(r),!0).forEach(function(n){Qee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qee(e,t,r){return t=Yee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yee(e){var t=Zee(e,"string");return bc(t)=="symbol"?t:t+""}function Zee(e,t){if(bc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jee(e,t,r,n,i){for(var s=(n||[]).slice(),o=s.length,l=t.start,c=t.end,u=function(h){var m=s[h],y,x=function(){return y===void 0&&(y=r(m,h)),y};if(h===o-1){var v=e*(m.coordinate+e*x()/2-c);s[h]=m=$t($t({},m),{},{tickCoord:v>0?m.coordinate-v*e:m.coordinate})}else s[h]=m=$t($t({},m),{},{tickCoord:m.coordinate});var p=mf(e,m.tickCoord,x,l,c);p&&(c=m.tickCoord-e*(x()/2+i),s[h]=$t($t({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return s}function ete(e,t,r,n,i,s){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(s){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=$t($t({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=mf(e,d.tickCoord,function(){return f},c,u);m&&(u=d.tickCoord-e*(f/2+i),o[l-1]=$t($t({},d),{},{isShow:!0}))}for(var y=s?l-1:l,x=function(g){var b=o[g],w,j=function(){return w===void 0&&(w=r(b,g)),w};if(g===0){var N=e*(b.coordinate-e*j()/2-c);o[g]=b=$t($t({},b),{},{tickCoord:N<0?b.coordinate-N*e:b.coordinate})}else o[g]=b=$t($t({},b),{},{tickCoord:b.coordinate});var _=mf(e,b.tickCoord,j,c,u);_&&(c=b.tickCoord+e*(j()/2+i),o[g]=$t($t({},b),{},{isShow:!0}))},v=0;v<y;v++)x(v);return o}function q0(e,t,r){var n=e.tick,i=e.ticks,s=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!i||!i.length||!n)return[];if(Z(c)||Co.isSsr)return Gee(i,typeof c=="number"&&Z(c)?c:0);var h=[],m=l==="top"||l==="bottom"?"width":"height",y=d&&m==="width"?xl(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},x=function(b,w){var j=be(u)?u(b.value,w):b.value;return m==="width"?Vee(xl(j,{fontSize:t,letterSpacing:r}),y,f):xl(j,{fontSize:t,letterSpacing:r})[m]},v=i.length>=2?Vr(i[1].coordinate-i[0].coordinate):1,p=qee(s,v,m);return c==="equidistantPreserveStart"?Xee(v,p,x,i,o):(c==="preserveStart"||c==="preserveStartEnd"?h=ete(v,p,x,i,o,c==="preserveStartEnd"):h=Jee(v,p,x,i,o),h.filter(function(g){return g.isShow}))}var tte=["viewBox"],rte=["viewBox"],nte=["ticks"];function no(e){"@babel/helpers - typeof";return no=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},no(e)}function is(){return is=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},is.apply(this,arguments)}function oN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oN(Object(r),!0).forEach(function(n){G0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Im(e,t){if(e==null)return{};var r=ate(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ate(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ite(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lA(n.key),n)}}function ste(e,t,r){return t&&lN(e.prototype,t),r&&lN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ote(e,t,r){return t=pf(t),lte(e,oA()?Reflect.construct(t,r||[],pf(e).constructor):t.apply(e,r))}function lte(e,t){if(t&&(no(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cte(e)}function cte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oA=function(){return!!e})()}function pf(e){return pf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pf(e)}function ute(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yg(e,t)}function yg(e,t){return yg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},yg(e,t)}function G0(e,t,r){return t=lA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lA(e){var t=dte(e,"string");return no(t)=="symbol"?t:t+""}function dte(e,t){if(no(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(no(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Eo=function(e){function t(r){var n;return ite(this,t),n=ote(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return ute(t,e),ste(t,[{key:"shouldComponentUpdate",value:function(n,i){var s=n.viewBox,o=Im(n,tte),l=this.props,c=l.viewBox,u=Im(l,rte);return!ms(s,c)||!ms(o,u)||!ms(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.x,o=i.y,l=i.width,c=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,m,y,x,v,p,g,b=f?-1:1,w=n.tickSize||d,j=Z(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=y=n.coordinate,v=o+ +!f*c,x=v-b*w,g=x-b*h,p=j;break;case"left":x=v=n.coordinate,y=s+ +!f*l,m=y-b*w,p=m-b*h,g=j;break;case"right":x=v=n.coordinate,y=s+ +f*l,m=y+b*w,p=m+b*h,g=j;break;default:m=y=n.coordinate,v=o+ +f*c,x=v+b*w,g=x+b*h,p=j;break}return{line:{x1:m,y1:x,x2:y,y2:v},tick:{x:p,y:g}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,o;switch(i){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=dt(dt(dt({},Oe(this.props,!1)),Oe(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=dt(dt({},f),{},{x1:i,y1:s+h*l,x2:i+o,y2:s+h*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);f=dt(dt({},f),{},{x1:i+m*o,y1:s,x2:i+m*o,y2:s+l})}return R.createElement("line",is({},f,{className:Ce("recharts-cartesian-axis-line",Sr(d,"className"))}))}},{key:"renderTicks",value:function(n,i,s){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,m=q0(dt(dt({},this.props),{},{ticks:n}),i,s),y=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),v=Oe(this.props,!1),p=Oe(d,!1),g=dt(dt({},v),{},{fill:"none"},Oe(c,!1)),b=m.map(function(w,j){var N=o.getTickLineCoord(w),_=N.line,S=N.tick,C=dt(dt(dt(dt({textAnchor:y,verticalAnchor:x},v),{},{stroke:"none",fill:u},p),S),{},{index:j,payload:w,visibleTicksCount:m.length,tickFormatter:f});return R.createElement(it,is({className:"recharts-cartesian-axis-tick",key:"tick-".concat(w.value,"-").concat(w.coordinate,"-").concat(w.tickCoord)},jd(o.props,w,j)),c&&R.createElement("line",is({},g,_,{className:Ce("recharts-cartesian-axis-tick-line",Sr(c,"className"))})),d&&t.renderTickItem(d,C,"".concat(be(f)?f(w.value,j):w.value).concat(h||"")))});return R.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,i=this.props,s=i.axisLine,o=i.width,l=i.height,c=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,m=Im(f,nte),y=h;return be(c)&&(y=h&&h.length>0?c(this.props):c(m)),o<=0||l<=0||!y||!y.length?null:R.createElement(it,{className:Ce("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},s&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),Mt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,s){var o,l=Ce(i.className,"recharts-cartesian-axis-tick-value");return R.isValidElement(n)?o=R.cloneElement(n,dt(dt({},i),{},{className:l})):be(n)?o=n(dt(dt({},i),{},{className:l})):o=R.createElement(Rd,is({},i,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])}(O.Component);G0(Eo,"displayName","CartesianAxis");G0(Eo,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var fte=["x1","y1","x2","y2","key"],hte=["offset"];function Ei(e){"@babel/helpers - typeof";return Ei=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ei(e)}function cN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cN(Object(r),!0).forEach(function(n){mte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mte(e,t,r){return t=pte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pte(e){var t=xte(e,"string");return Ei(t)=="symbol"?t:t+""}function xte(e,t){if(Ei(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ei(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ni(){return ni=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ni.apply(this,arguments)}function uN(e,t){if(e==null)return{};var r=gte(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gte(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var yte=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,i=t.x,s=t.y,o=t.width,l=t.height,c=t.ry;return R.createElement("rect",{x:i,y:s,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function cA(e,t){var r;if(R.isValidElement(e))r=R.cloneElement(e,t);else if(be(e))r=e(t);else{var n=t.x1,i=t.y1,s=t.x2,o=t.y2,l=t.key,c=uN(t,fte),u=Oe(c,!1);u.offset;var d=uN(u,hte);r=R.createElement("line",ni({},d,{x1:n,y1:i,x2:s,y2:o,fill:"none",key:l}))}return r}function vte(e){var t=e.x,r=e.width,n=e.horizontal,i=n===void 0?!0:n,s=e.horizontalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(l,c){var u=Rt(Rt({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return cA(i,u)});return R.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function bte(e){var t=e.y,r=e.height,n=e.vertical,i=n===void 0?!0:n,s=e.verticalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(l,c){var u=Rt(Rt({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return cA(i,u)});return R.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function jte(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,i=e.y,s=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+i-i)}).sort(function(h,m){return h-m});i!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var y=!d[m+1],x=y?i+o-h:d[m+1]-h;if(x<=0)return null;var v=m%t.length;return R.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:x,width:s,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return R.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function wte(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,i=e.fillOpacity,s=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+s-s)}).sort(function(h,m){return h-m});s!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var y=!d[m+1],x=y?s+l-h:d[m+1]-h;if(x<=0)return null;var v=m%n.length;return R.createElement("rect",{key:"react-".concat(m),x:h,y:o,width:x,height:c,stroke:"none",fill:n[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return R.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Nte=function(t,r){var n=t.xAxis,i=t.width,s=t.height,o=t.offset;return vP(q0(Rt(Rt(Rt({},Eo.defaultProps),n),{},{ticks:En(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.left,o.left+o.width,r)},_te=function(t,r){var n=t.yAxis,i=t.width,s=t.height,o=t.offset;return vP(q0(Rt(Rt(Rt({},Eo.defaultProps),n),{},{ticks:En(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.top,o.top+o.height,r)},Hi={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function uA(e){var t,r,n,i,s,o,l=W0(),c=H0(),u=dee(),d=Rt(Rt({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Hi.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Hi.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Hi.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:Hi.horizontalFill,vertical:(s=e.vertical)!==null&&s!==void 0?s:Hi.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Hi.verticalFill,x:Z(e.x)?e.x:u.left,y:Z(e.y)?e.y:u.top,width:Z(e.width)?e.width:u.width,height:Z(e.height)?e.height:u.height}),f=d.x,h=d.y,m=d.width,y=d.height,x=d.syncWithTicks,v=d.horizontalValues,p=d.verticalValues,g=lee(),b=cee();if(!Z(m)||m<=0||!Z(y)||y<=0||!Z(f)||f!==+f||!Z(h)||h!==+h)return null;var w=d.verticalCoordinatesGenerator||Nte,j=d.horizontalCoordinatesGenerator||_te,N=d.horizontalPoints,_=d.verticalPoints;if((!N||!N.length)&&be(j)){var S=v&&v.length,C=j({yAxis:b?Rt(Rt({},b),{},{ticks:S?v:b.ticks}):void 0,width:l,height:c,offset:u},S?!0:x);Mn(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ei(C),"]")),Array.isArray(C)&&(N=C)}if((!_||!_.length)&&be(w)){var P=p&&p.length,A=w({xAxis:g?Rt(Rt({},g),{},{ticks:P?p:g.ticks}):void 0,width:l,height:c,offset:u},P?!0:x);Mn(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ei(A),"]")),Array.isArray(A)&&(_=A)}return R.createElement("g",{className:"recharts-cartesian-grid"},R.createElement(yte,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),R.createElement(vte,ni({},d,{offset:u,horizontalPoints:N,xAxis:g,yAxis:b})),R.createElement(bte,ni({},d,{offset:u,verticalPoints:_,xAxis:g,yAxis:b})),R.createElement(jte,ni({},d,{horizontalPoints:N})),R.createElement(wte,ni({},d,{verticalPoints:_})))}uA.displayName="CartesianGrid";var Ste=["type","layout","connectNulls","ref"],Ote=["key"];function ao(e){"@babel/helpers - typeof";return ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ao(e)}function dN(e,t){if(e==null)return{};var r=Cte(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Cte(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function bl(){return bl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bl.apply(this,arguments)}function fN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fN(Object(r),!0).forEach(function(n){Ur(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ki(e){return Ete(e)||kte(e)||Ate(e)||Pte()}function Pte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ate(e,t){if(e){if(typeof e=="string")return vg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vg(e,t)}}function kte(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ete(e){if(Array.isArray(e))return vg(e)}function vg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fA(n.key),n)}}function Tte(e,t,r){return t&&hN(e.prototype,t),r&&hN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mte(e,t,r){return t=xf(t),Rte(e,dA()?Reflect.construct(t,r||[],xf(e).constructor):t.apply(e,r))}function Rte(e,t){if(t&&(ao(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ite(e)}function Ite(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dA=function(){return!!e})()}function xf(e){return xf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xf(e)}function Dte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bg(e,t)}function bg(e,t){return bg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},bg(e,t)}function Ur(e,t,r){return t=fA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fA(e){var t=Lte(e,"string");return ao(t)=="symbol"?t:t+""}function Lte(e,t){if(ao(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ao(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var io=function(e){function t(){var r;$te(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=Mte(this,t,[].concat(i)),Ur(r,"state",{isAnimationFinished:!0,totalLength:0}),Ur(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Ur(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(p,g){return p+g});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,h=l-o,m=[],y=0,x=0;y<c.length;x+=c[y],++y)if(x+c[y]>f){m=[].concat(Ki(c.slice(0,y)),[f-x]);break}var v=m.length%2===0?[0,h]:[h];return[].concat(Ki(t.repeat(c,d)),Ki(m),v).map(function(p){return"".concat(p,"px")}).join(", ")}),Ur(r,"id",Bc("recharts-line-")),Ur(r,"pathRef",function(o){r.mainCurve=o}),Ur(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Ur(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Dte(t,e),Tte(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=Or(d,Vc);if(!f)return null;var h=function(x,v){return{x:x.x,y:x.y,value:x.value,errorVal:dr(x.payload,v)}},m={clipPath:n?"url(#clipPath-".concat(i,")"):null};return R.createElement(it,m,f.map(function(y){return R.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,i,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=Oe(this.props,!1),h=Oe(c,!0),m=u.map(function(x,v){var p=tr(tr(tr({key:"dot-".concat(v),r:3},f),h),{},{index:v,cx:x.x,cy:x.y,value:x.value,dataKey:d,payload:x.payload,points:u});return t.renderDotItem(c,p)}),y={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return R.createElement(it,bl({className:"recharts-line-dots",key:"dots"},y),m)}},{key:"renderCurveStatically",value:function(n,i,s,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=dN(l,Ste),h=tr(tr(tr({},Oe(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return R.createElement(Yx,bl({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var s=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,y=o.animateNewValues,x=o.width,v=o.height,p=this.state,g=p.prevPoints,b=p.totalLength;return R.createElement(Hn,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var j=w.t;if(g){var N=g.length/l.length,_=l.map(function(E,W){var D=Math.floor(W*N);if(g[D]){var F=g[D],T=Hr(F.x,E.x),z=Hr(F.y,E.y);return tr(tr({},E),{},{x:T(j),y:z(j)})}if(y){var M=Hr(x*2,E.x),B=Hr(v/2,E.y);return tr(tr({},E),{},{x:M(j),y:B(j)})}return tr(tr({},E),{},{x:E.x,y:E.y})});return s.renderCurveStatically(_,n,i)}var S=Hr(0,b),C=S(j),P;if(c){var A="".concat(c).split(/[,\s]+/gim).map(function(E){return parseFloat(E)});P=s.getStrokeDasharray(C,b,A)}else P=s.generateSimpleStrokeDasharray(b,C);return s.renderCurveStatically(l,n,i,{strokeDasharray:P})})}},{key:"renderCurve",value:function(n,i){var s=this.props,o=s.points,l=s.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!wh(u,o))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(o,n,i)}},{key:"render",value:function(){var n,i=this.props,s=i.hide,o=i.dot,l=i.points,c=i.className,u=i.xAxis,d=i.yAxis,f=i.top,h=i.left,m=i.width,y=i.height,x=i.isAnimationActive,v=i.id;if(s||!l||!l.length)return null;var p=this.state.isAnimationFinished,g=l.length===1,b=Ce("recharts-line",c),w=u&&u.allowDataOverflow,j=d&&d.allowDataOverflow,N=w||j,_=je(v)?this.id:v,S=(n=Oe(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},C=S.r,P=C===void 0?3:C,A=S.strokeWidth,E=A===void 0?2:A,W=qR(o)?o:{},D=W.clipDot,F=D===void 0?!0:D,T=P*2+E;return R.createElement(it,{className:b},w||j?R.createElement("defs",null,R.createElement("clipPath",{id:"clipPath-".concat(_)},R.createElement("rect",{x:w?h:h-m/2,y:j?f:f-y/2,width:w?m:m*2,height:j?y:y*2})),!F&&R.createElement("clipPath",{id:"clipPath-dots-".concat(_)},R.createElement("rect",{x:h-T/2,y:f-T/2,width:m+T,height:y+T}))):null,!g&&this.renderCurve(N,_),this.renderErrorBar(N,_),(g||o)&&this.renderDots(N,F,_),(!x||p)&&ka.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var s=n.length%2!==0?[].concat(Ki(n),[0]):n,o=[],l=0;l<i;++l)o=[].concat(Ki(o),Ki(s));return o}},{key:"renderDotItem",value:function(n,i){var s;if(R.isValidElement(n))s=R.cloneElement(n,i);else if(be(n))s=n(i);else{var o=i.key,l=dN(i,Ote),c=Ce("recharts-line-dot",typeof n!="boolean"?n.className:"");s=R.createElement(F0,bl({key:o},l,{className:c}))}return s}}])}(O.PureComponent);Ur(io,"displayName","Line");Ur(io,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Co.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ur(io,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,i=e.xAxisTicks,s=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,m){var y=dr(h,o);return d==="horizontal"?{x:Q1({axis:r,ticks:i,bandSize:l,entry:h,index:m}),y:je(y)?null:n.scale(y),value:y,payload:h}:{x:je(y)?null:r.scale(y),y:Q1({axis:n,ticks:s,bandSize:l,entry:h,index:m}),value:y,payload:h}});return tr({points:f,layout:d},u)});function so(e){"@babel/helpers - typeof";return so=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},so(e)}function Fte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bte(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pA(n.key),n)}}function zte(e,t,r){return t&&Bte(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ute(e,t,r){return t=gf(t),Wte(e,hA()?Reflect.construct(t,r||[],gf(e).constructor):t.apply(e,r))}function Wte(e,t){if(t&&(so(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hte(e)}function Hte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hA=function(){return!!e})()}function gf(e){return gf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gf(e)}function Kte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jg(e,t)}function jg(e,t){return jg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},jg(e,t)}function mA(e,t,r){return t=pA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pA(e){var t=Vte(e,"string");return so(t)=="symbol"?t:t+""}function Vte(e,t){if(so(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(so(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function wg(){return wg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wg.apply(this,arguments)}function qte(e){var t=e.xAxisId,r=W0(),n=H0(),i=ZP(t);return i==null?null:O.createElement(Eo,wg({},i,{className:Ce("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return En(o,!0)}}))}var $h=function(e){function t(){return Fte(this,t),Ute(this,t,arguments)}return Kte(t,e),zte(t,[{key:"render",value:function(){return O.createElement(qte,this.props)}}])}(O.Component);mA($h,"displayName","XAxis");mA($h,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function oo(e){"@babel/helpers - typeof";return oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oo(e)}function Gte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xte(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yA(n.key),n)}}function Qte(e,t,r){return t&&Xte(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yte(e,t,r){return t=yf(t),Zte(e,xA()?Reflect.construct(t,r||[],yf(e).constructor):t.apply(e,r))}function Zte(e,t){if(t&&(oo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jte(e)}function Jte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xA=function(){return!!e})()}function yf(e){return yf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yf(e)}function ere(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ng(e,t)}function Ng(e,t){return Ng=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ng(e,t)}function gA(e,t,r){return t=yA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yA(e){var t=tre(e,"string");return oo(t)=="symbol"?t:t+""}function tre(e,t){if(oo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(oo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function _g(){return _g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_g.apply(this,arguments)}var rre=function(t){var r=t.yAxisId,n=W0(),i=H0(),s=JP(r);return s==null?null:O.createElement(Eo,_g({},s,{className:Ce("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(l){return En(l,!0)}}))},jc=function(e){function t(){return Gte(this,t),Yte(this,t,arguments)}return ere(t,e),Qte(t,[{key:"render",value:function(){return O.createElement(rre,this.props)}}])}(O.Component);gA(jc,"displayName","YAxis");gA(jc,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function mN(e){return sre(e)||ire(e)||are(e)||nre()}function nre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function are(e,t){if(e){if(typeof e=="string")return Sg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Sg(e,t)}}function ire(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sre(e){if(Array.isArray(e))return Sg(e)}function Sg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Og=function(t,r,n,i,s){var o=Or(t,V0),l=Or(t,Ah),c=[].concat(mN(o),mN(l)),u=Or(t,Eh),d="".concat(i,"Id"),f=i[0],h=r;if(c.length&&(h=c.reduce(function(x,v){if(v.props[d]===n&&un(v.props,"extendDomain")&&Z(v.props[f])){var p=v.props[f];return[Math.min(x[0],p),Math.max(x[1],p)]}return x},h)),u.length){var m="".concat(f,"1"),y="".concat(f,"2");h=u.reduce(function(x,v){if(v.props[d]===n&&un(v.props,"extendDomain")&&Z(v.props[m])&&Z(v.props[y])){var p=v.props[m],g=v.props[y];return[Math.min(x[0],p,g),Math.max(x[1],p,g)]}return x},h)}return s&&s.length&&(h=s.reduce(function(x,v){return Z(v)?[Math.min(x[0],v),Math.max(x[1],v)]:x},h)),h},vA={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||c,h),y=r?r+u:u;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],m]:c._events[y].push(m):(c._events[y]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,y=new Array(m);h<m;h++)y[h]=f[h].fn;return y},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,y){var x=r?r+u:u;if(!this._events[x])return!1;var v=this._events[x],p=arguments.length,g,b;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),p){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,m),!0;case 6:return v.fn.call(v.context,d,f,h,m,y),!0}for(b=1,g=new Array(p-1);b<p;b++)g[b-1]=arguments[b];v.fn.apply(v.context,g)}else{var w=v.length,j;for(b=0;b<w;b++)switch(v[b].once&&this.removeListener(u,v[b].fn,void 0,!0),p){case 1:v[b].fn.call(v[b].context);break;case 2:v[b].fn.call(v[b].context,d);break;case 3:v[b].fn.call(v[b].context,d,f);break;case 4:v[b].fn.call(v[b].context,d,f,h);break;default:if(!g)for(j=1,g=new Array(p-1);j<p;j++)g[j-1]=arguments[j];v[b].fn.apply(v[b].context,g)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var y=this._events[m];if(y.fn)y.fn===d&&(!h||y.once)&&(!f||y.context===f)&&o(this,m);else{for(var x=0,v=[],p=y.length;x<p;x++)(y[x].fn!==d||h&&!y[x].once||f&&y[x].context!==f)&&v.push(y[x]);v.length?this._events[m]=v.length===1?v[0]:v:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(vA);var ore=vA.exports;const lre=De(ore);var Dm=new lre,Lm="recharts.syncMouseEvents";function wc(e){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wc(e)}function cre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ure(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bA(n.key),n)}}function dre(e,t,r){return t&&ure(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fm(e,t,r){return t=bA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bA(e){var t=fre(e,"string");return wc(t)=="symbol"?t:t+""}function fre(e,t){if(wc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var hre=function(){function e(){cre(this,e),Fm(this,"activeIndex",0),Fm(this,"coordinateList",[]),Fm(this,"layout","horizontal")}return dre(e,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,s=i===void 0?null:i,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,o=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=s+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function mre(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],i=e==null?void 0:e[1];if(n&&i&&Z(n)&&Z(i))return!0}return!1}function pre(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function jA(e){var t=e.cx,r=e.cy,n=e.radius,i=e.startAngle,s=e.endAngle,o=Ct(t,r,n,i),l=Ct(t,r,n,s);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:i,endAngle:s}}function xre(e,t,r){var n,i,s,o;if(e==="horizontal")n=t.x,s=n,i=r.top,o=r.top+r.height;else if(e==="vertical")i=t.y,o=i,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=Ct(l,c,u,f),m=Ct(l,c,d,f);n=h.x,i=h.y,s=m.x,o=m.y}else return jA(t);return[{x:n,y:i},{x:s,y:o}]}function Nc(e){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nc(e)}function pN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ou(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pN(Object(r),!0).forEach(function(n){gre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gre(e,t,r){return t=yre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yre(e){var t=vre(e,"string");return Nc(t)=="symbol"?t:t+""}function vre(e,t){if(Nc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bre(e){var t,r,n=e.element,i=e.tooltipEventType,s=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!s||!o||h!=="ScatterChart"&&i!=="axis")return null;var y,x=Yx;if(h==="ScatterChart")y=o,x=vY;else if(h==="BarChart")y=pre(f,o,c,d),x=L0;else if(f==="radial"){var v=jA(o),p=v.cx,g=v.cy,b=v.radius,w=v.startAngle,j=v.endAngle;y={cx:p,cy:g,startAngle:w,endAngle:j,innerRadius:b,outerRadius:b},x=_P}else y={points:xre(f,o,c)},x=Yx;var N=Ou(Ou(Ou(Ou({stroke:"#ccc",pointerEvents:"none"},c),y),Oe(m,!1)),{},{payload:l,payloadIndex:u,className:Ce("recharts-tooltip-cursor",m.className)});return O.isValidElement(m)?O.cloneElement(m,N):O.createElement(x,N)}var jre=["item"],wre=["children","className","width","height","style","compact","title","desc"];function lo(e){"@babel/helpers - typeof";return lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lo(e)}function ss(){return ss=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ss.apply(this,arguments)}function xN(e,t){return Sre(e)||_re(e,t)||NA(e,t)||Nre()}function Nre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _re(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Sre(e){if(Array.isArray(e))return e}function gN(e,t){if(e==null)return{};var r=Ore(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ore(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Cre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pre(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_A(n.key),n)}}function Are(e,t,r){return t&&Pre(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function kre(e,t,r){return t=vf(t),Ere(e,wA()?Reflect.construct(t,r||[],vf(e).constructor):t.apply(e,r))}function Ere(e,t){if(t&&(lo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $re(e)}function $re(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wA=function(){return!!e})()}function vf(e){return vf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vf(e)}function Tre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cg(e,t)}function Cg(e,t){return Cg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Cg(e,t)}function co(e){return Ire(e)||Rre(e)||NA(e)||Mre()}function Mre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NA(e,t){if(e){if(typeof e=="string")return Pg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pg(e,t)}}function Rre(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ire(e){if(Array.isArray(e))return Pg(e)}function Pg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function K(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yN(Object(r),!0).forEach(function(n){ue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ue(e,t,r){return t=_A(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _A(e){var t=Dre(e,"string");return lo(t)=="symbol"?t:t+""}function Dre(e,t){if(lo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lre={xAxis:["bottom","top"],yAxis:["left","right"]},Fre={width:"100%",height:"100%"},SA={x:0,y:0};function Cu(e){return e}var Bre=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},zre=function(t,r,n,i){var s=r.find(function(d){return d&&d.index===n});if(s){if(t==="horizontal")return{x:s.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:s.coordinate};if(t==="centric"){var o=s.coordinate,l=i.radius;return K(K(K({},i),Ct(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}var c=s.coordinate,u=i.angle;return K(K(K({},i),Ct(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return SA},Th=function(t,r){var n=r.graphicalItems,i=r.dataStartIndex,s=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(co(l),co(u)):l},[]);return o.length>0?o:t&&t.length&&Z(i)&&Z(s)?t.slice(i,s+1):[]};function OA(e){return e==="number"?[0,"auto"]:void 0}var Ag=function(t,r,n,i){var s=t.graphicalItems,o=t.tooltipAxis,l=Th(r,t);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var m=f===void 0?l:f;h=vd(m,o.dataKey,i)}else h=f&&f[n]||l[n];return h?[].concat(co(c),[jP(u,h)]):c},[])},vN=function(t,r,n,i){var s=i||{x:t.chartX,y:t.chartY},o=Bre(s,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=Yq(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=Ag(t,r,d,f),m=zre(n,l,d,s);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},Ure=function(t,r){var n=r.axes,i=r.graphicalItems,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,m=yP(d,s);return n.reduce(function(y,x){var v,p=x.type.defaultProps!==void 0?K(K({},x.type.defaultProps),x.props):x.props,g=p.type,b=p.dataKey,w=p.allowDataOverflow,j=p.allowDuplicatedCategory,N=p.scale,_=p.ticks,S=p.includeHidden,C=p[o];if(y[C])return y;var P=Th(t.data,{graphicalItems:i.filter(function(L){var q,Y=o in L.props?L.props[o]:(q=L.type.defaultProps)===null||q===void 0?void 0:q[o];return Y===C}),dataStartIndex:c,dataEndIndex:u}),A=P.length,E,W,D;mre(p.domain,w,g)&&(E=Vx(p.domain,null,w),m&&(g==="number"||N!=="auto")&&(D=yl(P,b,"category")));var F=OA(g);if(!E||E.length===0){var T,z=(T=p.domain)!==null&&T!==void 0?T:F;if(b){if(E=yl(P,b,g),g==="category"&&m){var M=DR(E);j&&M?(W=E,E=sf(0,A)):j||(E=ew(z,E,x).reduce(function(L,q){return L.indexOf(q)>=0?L:[].concat(co(L),[q])},[]))}else if(g==="category")j?E=E.filter(function(L){return L!==""&&!je(L)}):E=ew(z,E,x).reduce(function(L,q){return L.indexOf(q)>=0||q===""||je(q)?L:[].concat(co(L),[q])},[]);else if(g==="number"){var B=rG(P,i.filter(function(L){var q,Y,le=o in L.props?L.props[o]:(q=L.type.defaultProps)===null||q===void 0?void 0:q[o],me="hide"in L.props?L.props.hide:(Y=L.type.defaultProps)===null||Y===void 0?void 0:Y.hide;return le===C&&(S||!me)}),b,s,d);B&&(E=B)}m&&(g==="number"||N!=="auto")&&(D=yl(P,b,"category"))}else m?E=sf(0,A):l&&l[C]&&l[C].hasStack&&g==="number"?E=h==="expand"?[0,1]:bP(l[C].stackGroups,c,u):E=gP(P,i.filter(function(L){var q=o in L.props?L.props[o]:L.type.defaultProps[o],Y="hide"in L.props?L.props.hide:L.type.defaultProps.hide;return q===C&&(S||!Y)}),g,d,!0);if(g==="number")E=Og(f,E,C,s,_),z&&(E=Vx(z,E,w));else if(g==="category"&&z){var k=z,I=E.every(function(L){return k.indexOf(L)>=0});I&&(E=k)}}return K(K({},y),{},ue({},C,K(K({},p),{},{axisType:s,domain:E,categoricalDomain:D,duplicateDomain:W,originalDomain:(v=p.domain)!==null&&v!==void 0?v:F,isCategorical:m,layout:d})))},{})},Wre=function(t,r){var n=r.graphicalItems,i=r.Axis,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=Th(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),m=h.length,y=yP(d,s),x=-1;return n.reduce(function(v,p){var g=p.type.defaultProps!==void 0?K(K({},p.type.defaultProps),p.props):p.props,b=g[o],w=OA("number");if(!v[b]){x++;var j;return y?j=sf(0,m):l&&l[b]&&l[b].hasStack?(j=bP(l[b].stackGroups,c,u),j=Og(f,j,b,s)):(j=Vx(w,gP(h,n.filter(function(N){var _,S,C=o in N.props?N.props[o]:(_=N.type.defaultProps)===null||_===void 0?void 0:_[o],P="hide"in N.props?N.props.hide:(S=N.type.defaultProps)===null||S===void 0?void 0:S.hide;return C===b&&!P}),"number",d),i.defaultProps.allowDataOverflow),j=Og(f,j,b,s)),K(K({},v),{},ue({},b,K(K({axisType:s},i.defaultProps),{},{hide:!0,orientation:Sr(Lre,"".concat(s,".").concat(x%2),null),domain:j,originalDomain:w,isCategorical:y,layout:d})))}return v},{})},Hre=function(t,r){var n=r.axisType,i=n===void 0?"xAxis":n,s=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(i,"Id"),h=Or(d,s),m={};return h&&h.length?m=Ure(t,{axes:h,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(m=Wre(t,{Axis:s,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},Kre=function(t){var r=aa(t),n=En(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:d0(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Xd(r,n)}},bN=function(t){var r=t.children,n=t.defaultShowTooltip,i=ir(r,Zs),s=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},Vre=function(t){return!t||!t.length?!1:t.some(function(r){var n=Tn(r&&r.type);return n&&n.indexOf("Bar")>=0})},jN=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},qre=function(t,r){var n=t.props,i=t.graphicalItems,s=t.xAxisMap,o=s===void 0?{}:s,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},m=ir(f,Zs),y=ir(f,xi),x=Object.keys(c).reduce(function(j,N){var _=c[N],S=_.orientation;return!_.mirror&&!_.hide?K(K({},j),{},ue({},S,j[S]+_.width)):j},{left:h.left||0,right:h.right||0}),v=Object.keys(o).reduce(function(j,N){var _=o[N],S=_.orientation;return!_.mirror&&!_.hide?K(K({},j),{},ue({},S,Sr(j,"".concat(S))+_.height)):j},{top:h.top||0,bottom:h.bottom||0}),p=K(K({},v),x),g=p.bottom;m&&(p.bottom+=m.props.height||Zs.defaultProps.height),y&&r&&(p=eG(p,i,n,r));var b=u-p.left-p.right,w=d-p.top-p.bottom;return K(K({brushBottom:g},p),{},{width:Math.max(b,0),height:Math.max(w,0)})},Gre=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},Xre=function(t){var r=t.chartName,n=t.GraphicalChild,i=t.defaultTooltipEventType,s=i===void 0?"axis":i,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(p,g){var b=g.graphicalItems,w=g.stackGroups,j=g.offset,N=g.updateId,_=g.dataStartIndex,S=g.dataEndIndex,C=p.barSize,P=p.layout,A=p.barGap,E=p.barCategoryGap,W=p.maxBarSize,D=jN(P),F=D.numericAxisName,T=D.cateAxisName,z=Vre(b),M=[];return b.forEach(function(B,k){var I=Th(p.data,{graphicalItems:[B],dataStartIndex:_,dataEndIndex:S}),L=B.type.defaultProps!==void 0?K(K({},B.type.defaultProps),B.props):B.props,q=L.dataKey,Y=L.maxBarSize,le=L["".concat(F,"Id")],me=L["".concat(T,"Id")],oe={},ce=c.reduce(function(hn,Wa){var Mh=g["".concat(Wa.axisType,"Map")],Q0=L["".concat(Wa.axisType,"Id")];Mh&&Mh[Q0]||Wa.axisType==="zAxis"||ki();var Y0=Mh[Q0];return K(K({},hn),{},ue(ue({},Wa.axisType,Y0),"".concat(Wa.axisType,"Ticks"),En(Y0)))},oe),Q=ce[T],H=ce["".concat(T,"Ticks")],J=w&&w[le]&&w[le].hasStack&&mG(B,w[le].stackGroups),U=Tn(B.type).indexOf("Bar")>=0,ve=Xd(Q,H),fe=[],de=z&&Zq({barSize:C,stackGroups:w,totalSize:Gre(ce,T)});if(U){var _e,ze,Tr=je(Y)?W:Y,Mr=(_e=(ze=Xd(Q,H,!0))!==null&&ze!==void 0?ze:Tr)!==null&&_e!==void 0?_e:0;fe=Jq({barGap:A,barCategoryGap:E,bandSize:Mr!==ve?Mr:ve,sizeList:de[me],maxBarSize:Tr}),Mr!==ve&&(fe=fe.map(function(hn){return K(K({},hn),{},{position:K(K({},hn.position),{},{offset:hn.position.offset-Mr/2})})}))}var Bi=B&&B.type&&B.type.getComposedData;Bi&&M.push({props:K(K({},Bi(K(K({},ce),{},{displayedData:I,props:p,dataKey:q,item:B,bandSize:ve,barPosition:fe,offset:j,stackedData:J,layout:P,dataStartIndex:_,dataEndIndex:S}))),{},ue(ue(ue({key:B.key||"item-".concat(k)},F,ce[F]),T,ce[T]),"animationId",N)),childIndex:QR(B,p.children),item:B})}),M},m=function(p,g){var b=p.props,w=p.dataStartIndex,j=p.dataEndIndex,N=p.updateId;if(!qb({props:b}))return null;var _=b.children,S=b.layout,C=b.stackOffset,P=b.data,A=b.reverseStackOrder,E=jN(S),W=E.numericAxisName,D=E.cateAxisName,F=Or(_,n),T=dG(P,F,"".concat(W,"Id"),"".concat(D,"Id"),C,A),z=c.reduce(function(L,q){var Y="".concat(q.axisType,"Map");return K(K({},L),{},ue({},Y,Hre(b,K(K({},q),{},{graphicalItems:F,stackGroups:q.axisType===W&&T,dataStartIndex:w,dataEndIndex:j}))))},{}),M=qre(K(K({},z),{},{props:b,graphicalItems:F}),g==null?void 0:g.legendBBox);Object.keys(z).forEach(function(L){z[L]=d(b,z[L],M,L.replace("Map",""),r)});var B=z["".concat(D,"Map")],k=Kre(B),I=h(b,K(K({},z),{},{dataStartIndex:w,dataEndIndex:j,updateId:N,graphicalItems:F,stackGroups:T,offset:M}));return K(K({formattedGraphicalItems:I,graphicalItems:F,offset:M,stackGroups:T},k),z)},y=function(v){function p(g){var b,w,j;return Cre(this,p),j=kre(this,p,[g]),ue(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ue(j,"accessibilityManager",new hre),ue(j,"handleLegendBBoxUpdate",function(N){if(N){var _=j.state,S=_.dataStartIndex,C=_.dataEndIndex,P=_.updateId;j.setState(K({legendBBox:N},m({props:j.props,dataStartIndex:S,dataEndIndex:C,updateId:P},K(K({},j.state),{},{legendBBox:N}))))}}),ue(j,"handleReceiveSyncEvent",function(N,_,S){if(j.props.syncId===N){if(S===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(_)}}),ue(j,"handleBrushChange",function(N){var _=N.startIndex,S=N.endIndex;if(_!==j.state.dataStartIndex||S!==j.state.dataEndIndex){var C=j.state.updateId;j.setState(function(){return K({dataStartIndex:_,dataEndIndex:S},m({props:j.props,dataStartIndex:_,dataEndIndex:S,updateId:C},j.state))}),j.triggerSyncEvent({dataStartIndex:_,dataEndIndex:S})}}),ue(j,"handleMouseEnter",function(N){var _=j.getMouseInfo(N);if(_){var S=K(K({},_),{},{isTooltipActive:!0});j.setState(S),j.triggerSyncEvent(S);var C=j.props.onMouseEnter;be(C)&&C(S,N)}}),ue(j,"triggeredAfterMouseMove",function(N){var _=j.getMouseInfo(N),S=_?K(K({},_),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(S),j.triggerSyncEvent(S);var C=j.props.onMouseMove;be(C)&&C(S,N)}),ue(j,"handleItemMouseEnter",function(N){j.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),ue(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),ue(j,"handleMouseMove",function(N){N.persist(),j.throttleTriggeredAfterMouseMove(N)}),ue(j,"handleMouseLeave",function(N){j.throttleTriggeredAfterMouseMove.cancel();var _={isTooltipActive:!1};j.setState(_),j.triggerSyncEvent(_);var S=j.props.onMouseLeave;be(S)&&S(_,N)}),ue(j,"handleOuterEvent",function(N){var _=XR(N),S=Sr(j.props,"".concat(_));if(_&&be(S)){var C,P;/.*touch.*/i.test(_)?P=j.getMouseInfo(N.changedTouches[0]):P=j.getMouseInfo(N),S((C=P)!==null&&C!==void 0?C:{},N)}}),ue(j,"handleClick",function(N){var _=j.getMouseInfo(N);if(_){var S=K(K({},_),{},{isTooltipActive:!0});j.setState(S),j.triggerSyncEvent(S);var C=j.props.onClick;be(C)&&C(S,N)}}),ue(j,"handleMouseDown",function(N){var _=j.props.onMouseDown;if(be(_)){var S=j.getMouseInfo(N);_(S,N)}}),ue(j,"handleMouseUp",function(N){var _=j.props.onMouseUp;if(be(_)){var S=j.getMouseInfo(N);_(S,N)}}),ue(j,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),ue(j,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&j.handleMouseDown(N.changedTouches[0])}),ue(j,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&j.handleMouseUp(N.changedTouches[0])}),ue(j,"handleDoubleClick",function(N){var _=j.props.onDoubleClick;if(be(_)){var S=j.getMouseInfo(N);_(S,N)}}),ue(j,"handleContextMenu",function(N){var _=j.props.onContextMenu;if(be(_)){var S=j.getMouseInfo(N);_(S,N)}}),ue(j,"triggerSyncEvent",function(N){j.props.syncId!==void 0&&Dm.emit(Lm,j.props.syncId,N,j.eventEmitterSymbol)}),ue(j,"applySyncEvent",function(N){var _=j.props,S=_.layout,C=_.syncMethod,P=j.state.updateId,A=N.dataStartIndex,E=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)j.setState(K({dataStartIndex:A,dataEndIndex:E},m({props:j.props,dataStartIndex:A,dataEndIndex:E,updateId:P},j.state)));else if(N.activeTooltipIndex!==void 0){var W=N.chartX,D=N.chartY,F=N.activeTooltipIndex,T=j.state,z=T.offset,M=T.tooltipTicks;if(!z)return;if(typeof C=="function")F=C(M,N);else if(C==="value"){F=-1;for(var B=0;B<M.length;B++)if(M[B].value===N.activeLabel){F=B;break}}var k=K(K({},z),{},{x:z.left,y:z.top}),I=Math.min(W,k.x+k.width),L=Math.min(D,k.y+k.height),q=M[F]&&M[F].value,Y=Ag(j.state,j.props.data,F),le=M[F]?{x:S==="horizontal"?M[F].coordinate:I,y:S==="horizontal"?L:M[F].coordinate}:SA;j.setState(K(K({},N),{},{activeLabel:q,activeCoordinate:le,activePayload:Y,activeTooltipIndex:F}))}else j.setState(N)}),ue(j,"renderCursor",function(N){var _,S=j.state,C=S.isTooltipActive,P=S.activeCoordinate,A=S.activePayload,E=S.offset,W=S.activeTooltipIndex,D=S.tooltipAxisBandSize,F=j.getTooltipEventType(),T=(_=N.props.active)!==null&&_!==void 0?_:C,z=j.props.layout,M=N.key||"_recharts-cursor";return R.createElement(bre,{key:M,activeCoordinate:P,activePayload:A,activeTooltipIndex:W,chartName:r,element:N,isActive:T,layout:z,offset:E,tooltipAxisBandSize:D,tooltipEventType:F})}),ue(j,"renderPolarAxis",function(N,_,S){var C=Sr(N,"type.axisType"),P=Sr(j.state,"".concat(C,"Map")),A=N.type.defaultProps,E=A!==void 0?K(K({},A),N.props):N.props,W=P&&P[E["".concat(C,"Id")]];return O.cloneElement(N,K(K({},W),{},{className:Ce(C,W.className),key:N.key||"".concat(_,"-").concat(S),ticks:En(W,!0)}))}),ue(j,"renderPolarGrid",function(N){var _=N.props,S=_.radialLines,C=_.polarAngles,P=_.polarRadius,A=j.state,E=A.radiusAxisMap,W=A.angleAxisMap,D=aa(E),F=aa(W),T=F.cx,z=F.cy,M=F.innerRadius,B=F.outerRadius;return O.cloneElement(N,{polarAngles:Array.isArray(C)?C:En(F,!0).map(function(k){return k.coordinate}),polarRadius:Array.isArray(P)?P:En(D,!0).map(function(k){return k.coordinate}),cx:T,cy:z,innerRadius:M,outerRadius:B,key:N.key||"polar-grid",radialLines:S})}),ue(j,"renderLegend",function(){var N=j.state.formattedGraphicalItems,_=j.props,S=_.children,C=_.width,P=_.height,A=j.props.margin||{},E=C-(A.left||0)-(A.right||0),W=pP({children:S,formattedGraphicalItems:N,legendWidth:E,legendContent:u});if(!W)return null;var D=W.item,F=gN(W,jre);return O.cloneElement(D,K(K({},F),{},{chartWidth:C,chartHeight:P,margin:A,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),ue(j,"renderTooltip",function(){var N,_=j.props,S=_.children,C=_.accessibilityLayer,P=ir(S,en);if(!P)return null;var A=j.state,E=A.isTooltipActive,W=A.activeCoordinate,D=A.activePayload,F=A.activeLabel,T=A.offset,z=(N=P.props.active)!==null&&N!==void 0?N:E;return O.cloneElement(P,{viewBox:K(K({},T),{},{x:T.left,y:T.top}),active:z,label:F,payload:z?D:[],coordinate:W,accessibilityLayer:C})}),ue(j,"renderBrush",function(N){var _=j.props,S=_.margin,C=_.data,P=j.state,A=P.offset,E=P.dataStartIndex,W=P.dataEndIndex,D=P.updateId;return O.cloneElement(N,{key:N.key||"_recharts-brush",onChange:wu(j.handleBrushChange,N.props.onChange),data:C,x:Z(N.props.x)?N.props.x:A.left,y:Z(N.props.y)?N.props.y:A.top+A.height+A.brushBottom-(S.bottom||0),width:Z(N.props.width)?N.props.width:A.width,startIndex:E,endIndex:W,updateId:"brush-".concat(D)})}),ue(j,"renderReferenceElement",function(N,_,S){if(!N)return null;var C=j,P=C.clipPathId,A=j.state,E=A.xAxisMap,W=A.yAxisMap,D=A.offset,F=N.type.defaultProps||{},T=N.props,z=T.xAxisId,M=z===void 0?F.xAxisId:z,B=T.yAxisId,k=B===void 0?F.yAxisId:B;return O.cloneElement(N,{key:N.key||"".concat(_,"-").concat(S),xAxis:E[M],yAxis:W[k],viewBox:{x:D.left,y:D.top,width:D.width,height:D.height},clipPathId:P})}),ue(j,"renderActivePoints",function(N){var _=N.item,S=N.activePoint,C=N.basePoint,P=N.childIndex,A=N.isRange,E=[],W=_.props.key,D=_.item.type.defaultProps!==void 0?K(K({},_.item.type.defaultProps),_.item.props):_.item.props,F=D.activeDot,T=D.dataKey,z=K(K({index:P,dataKey:T,cx:S.x,cy:S.y,r:4,fill:D0(_.item),strokeWidth:2,stroke:"#fff",payload:S.payload,value:S.value},Oe(F,!1)),bd(F));return E.push(p.renderActiveDot(F,z,"".concat(W,"-activePoint-").concat(P))),C?E.push(p.renderActiveDot(F,K(K({},z),{},{cx:C.x,cy:C.y}),"".concat(W,"-basePoint-").concat(P))):A&&E.push(null),E}),ue(j,"renderGraphicChild",function(N,_,S){var C=j.filterFormatItem(N,_,S);if(!C)return null;var P=j.getTooltipEventType(),A=j.state,E=A.isTooltipActive,W=A.tooltipAxis,D=A.activeTooltipIndex,F=A.activeLabel,T=j.props.children,z=ir(T,en),M=C.props,B=M.points,k=M.isRange,I=M.baseLine,L=C.item.type.defaultProps!==void 0?K(K({},C.item.type.defaultProps),C.item.props):C.item.props,q=L.activeDot,Y=L.hide,le=L.activeBar,me=L.activeShape,oe=!!(!Y&&E&&z&&(q||le||me)),ce={};P!=="axis"&&z&&z.props.trigger==="click"?ce={onClick:wu(j.handleItemMouseEnter,N.props.onClick)}:P!=="axis"&&(ce={onMouseLeave:wu(j.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:wu(j.handleItemMouseEnter,N.props.onMouseEnter)});var Q=O.cloneElement(N,K(K({},C.props),ce));function H(Wa){return typeof W.dataKey=="function"?W.dataKey(Wa.payload):null}if(oe)if(D>=0){var J,U;if(W.dataKey&&!W.allowDuplicatedCategory){var ve=typeof W.dataKey=="function"?H:"payload.".concat(W.dataKey.toString());J=vd(B,ve,F),U=k&&I&&vd(I,ve,F)}else J=B==null?void 0:B[D],U=k&&I&&I[D];if(me||le){var fe=N.props.activeIndex!==void 0?N.props.activeIndex:D;return[O.cloneElement(N,K(K(K({},C.props),ce),{},{activeIndex:fe})),null,null]}if(!je(J))return[Q].concat(co(j.renderActivePoints({item:C,activePoint:J,basePoint:U,childIndex:D,isRange:k})))}else{var de,_e=(de=j.getItemByXY(j.state.activeCoordinate))!==null&&de!==void 0?de:{graphicalItem:Q},ze=_e.graphicalItem,Tr=ze.item,Mr=Tr===void 0?N:Tr,Bi=ze.childIndex,hn=K(K(K({},C.props),ce),{},{activeIndex:Bi});return[O.cloneElement(Mr,hn),null,null]}return k?[Q,null,null]:[Q,null]}),ue(j,"renderCustomized",function(N,_,S){return O.cloneElement(N,K(K({key:"recharts-customized-".concat(S)},j.props),j.state))}),ue(j,"renderMap",{CartesianGrid:{handler:Cu,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:Cu},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:Cu},YAxis:{handler:Cu},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((b=g.id)!==null&&b!==void 0?b:Bc("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=mC(j.triggeredAfterMouseMove,(w=g.throttleDelay)!==null&&w!==void 0?w:1e3/60),j.state={},j}return Tre(p,v),Are(p,[{key:"componentDidMount",value:function(){var b,w;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,w=b.children,j=b.data,N=b.height,_=b.layout,S=ir(w,en);if(S){var C=S.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var P=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,A=Ag(this.state,j,C,P),E=this.state.tooltipTicks[C].coordinate,W=(this.state.offset.top+N)/2,D=_==="horizontal",F=D?{x:E,y:W}:{y:E,x:W},T=this.state.formattedGraphicalItems.find(function(M){var B=M.item;return B.type.name==="Scatter"});T&&(F=K(K({},F),T.props.points[C].tooltipPosition),A=T.props.points[C].tooltipPayload);var z={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:P,activePayload:A,activeCoordinate:F};this.setState(z),this.renderCursor(S),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,w){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==w.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var j,N;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(b){ox([ir(b.children,en)],[ir(this.props.children,en)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=ir(this.props.children,en);if(b&&typeof b.props.shared=="boolean"){var w=b.props.shared?"axis":"item";return l.indexOf(w)>=0?w:s}return s}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var w=this.container,j=w.getBoundingClientRect(),N=NW(j),_={chartX:Math.round(b.pageX-N.left),chartY:Math.round(b.pageY-N.top)},S=j.width/w.offsetWidth||1,C=this.inRange(_.chartX,_.chartY,S);if(!C)return null;var P=this.state,A=P.xAxisMap,E=P.yAxisMap,W=this.getTooltipEventType(),D=vN(this.state,this.props.data,this.props.layout,C);if(W!=="axis"&&A&&E){var F=aa(A).scale,T=aa(E).scale,z=F&&F.invert?F.invert(_.chartX):null,M=T&&T.invert?T.invert(_.chartY):null;return K(K({},_),{},{xValue:z,yValue:M},D)}return D?K(K({},_),D):null}},{key:"inRange",value:function(b,w){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,_=b/j,S=w/j;if(N==="horizontal"||N==="vertical"){var C=this.state.offset,P=_>=C.left&&_<=C.left+C.width&&S>=C.top&&S<=C.top+C.height;return P?{x:_,y:S}:null}var A=this.state,E=A.angleAxisMap,W=A.radiusAxisMap;if(E&&W){var D=aa(E);return nw({x:_,y:S},D)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,w=this.getTooltipEventType(),j=ir(b,en),N={};j&&w==="axis"&&(j.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var _=bd(this.props,this.handleOuterEvent);return K(K({},_),N)}},{key:"addListener",value:function(){Dm.on(Lm,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Dm.removeListener(Lm,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,w,j){for(var N=this.state.formattedGraphicalItems,_=0,S=N.length;_<S;_++){var C=N[_];if(C.item===b||C.props.key===b.key||w===Tn(C.item.type)&&j===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,w=this.state.offset,j=w.left,N=w.top,_=w.height,S=w.width;return R.createElement("defs",null,R.createElement("clipPath",{id:b},R.createElement("rect",{x:j,y:N,height:_,width:S})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(w,j){var N=xN(j,2),_=N[0],S=N[1];return K(K({},w),{},ue({},_,S.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(w,j){var N=xN(j,2),_=N[0],S=N[1];return K(K({},w),{},ue({},_,S.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var w;return(w=this.state.xAxisMap)===null||w===void 0||(w=w[b])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(b){var w;return(w=this.state.yAxisMap)===null||w===void 0||(w=w[b])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(b){var w=this.state,j=w.formattedGraphicalItems,N=w.activeItem;if(j&&j.length)for(var _=0,S=j.length;_<S;_++){var C=j[_],P=C.props,A=C.item,E=A.type.defaultProps!==void 0?K(K({},A.type.defaultProps),A.props):A.props,W=Tn(A.type);if(W==="Bar"){var D=(P.data||[]).find(function(M){return cY(b,M)});if(D)return{graphicalItem:C,payload:D}}else if(W==="RadialBar"){var F=(P.data||[]).find(function(M){return nw(b,M)});if(F)return{graphicalItem:C,payload:F}}else if(Sh(C,N)||Oh(C,N)||xc(C,N)){var T=fZ({graphicalItem:C,activeTooltipItem:N,itemData:E.data}),z=E.activeIndex===void 0?T:E.activeIndex;return{graphicalItem:K(K({},C),{},{childIndex:z}),payload:xc(C,N)?E.data[T]:C.props.data[T]}}}return null}},{key:"render",value:function(){var b=this;if(!qb(this))return null;var w=this.props,j=w.children,N=w.className,_=w.width,S=w.height,C=w.style,P=w.compact,A=w.title,E=w.desc,W=gN(w,wre),D=Oe(W,!1);if(P)return R.createElement(Zw,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},R.createElement(cx,ss({},D,{width:_,height:S,title:A,desc:E}),this.renderClipPath(),Xb(j,this.renderMap)));if(this.props.accessibilityLayer){var F,T;D.tabIndex=(F=this.props.tabIndex)!==null&&F!==void 0?F:0,D.role=(T=this.props.role)!==null&&T!==void 0?T:"application",D.onKeyDown=function(M){b.accessibilityManager.keyboardEvent(M)},D.onFocus=function(){b.accessibilityManager.focus()}}var z=this.parseEventsOfWrapper();return R.createElement(Zw,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},R.createElement("div",ss({className:Ce("recharts-wrapper",N),style:K({position:"relative",cursor:"default",width:_,height:S},C)},z,{ref:function(B){b.container=B}}),R.createElement(cx,ss({},D,{width:_,height:S,title:A,desc:E,style:Fre}),this.renderClipPath(),Xb(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(O.Component);ue(y,"displayName",r),ue(y,"defaultProps",K({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),ue(y,"getDerivedStateFromProps",function(v,p){var g=v.dataKey,b=v.data,w=v.children,j=v.width,N=v.height,_=v.layout,S=v.stackOffset,C=v.margin,P=p.dataStartIndex,A=p.dataEndIndex;if(p.updateId===void 0){var E=bN(v);return K(K(K({},E),{},{updateId:0},m(K(K({props:v},E),{},{updateId:0}),p)),{},{prevDataKey:g,prevData:b,prevWidth:j,prevHeight:N,prevLayout:_,prevStackOffset:S,prevMargin:C,prevChildren:w})}if(g!==p.prevDataKey||b!==p.prevData||j!==p.prevWidth||N!==p.prevHeight||_!==p.prevLayout||S!==p.prevStackOffset||!ms(C,p.prevMargin)){var W=bN(v),D={chartX:p.chartX,chartY:p.chartY,isTooltipActive:p.isTooltipActive},F=K(K({},vN(p,b,_)),{},{updateId:p.updateId+1}),T=K(K(K({},W),D),F);return K(K(K({},T),m(K({props:v},T),p)),{},{prevDataKey:g,prevData:b,prevWidth:j,prevHeight:N,prevLayout:_,prevStackOffset:S,prevMargin:C,prevChildren:w})}if(!ox(w,p.prevChildren)){var z,M,B,k,I=ir(w,Zs),L=I&&(z=(M=I.props)===null||M===void 0?void 0:M.startIndex)!==null&&z!==void 0?z:P,q=I&&(B=(k=I.props)===null||k===void 0?void 0:k.endIndex)!==null&&B!==void 0?B:A,Y=L!==P||q!==A,le=!je(b),me=le&&!Y?p.updateId:p.updateId+1;return K(K({updateId:me},m(K(K({props:v},p),{},{updateId:me,dataStartIndex:L,dataEndIndex:q}),p)),{},{prevChildren:w,dataStartIndex:L,dataEndIndex:q})}return null}),ue(y,"renderActiveDot",function(v,p,g){var b;return O.isValidElement(v)?b=O.cloneElement(v,p):be(v)?b=v(p):b=R.createElement(F0,p),R.createElement(it,{className:"recharts-active-dot",key:g},b)});var x=O.forwardRef(function(p,g){return R.createElement(y,ss({},p,{ref:g}))});return x.displayName=y.displayName,x},Qre=Xre({chartName:"LineChart",GraphicalChild:io,axisComponents:[{axisType:"xAxis",AxisComp:$h},{axisType:"yAxis",AxisComp:jc}],formatAxisMap:DJ});function Yre({data:e,isLoading:t}){const[r,n]=O.useState("table");if(t)return a.jsx(ne,{title:"Monthly Breakdown",children:a.jsx("div",{className:"space-y-2",children:[1,2,3,4,5].map(s=>a.jsx("div",{className:"flex gap-4 py-2",children:[1,2,3,4,5,6].map(o=>a.jsx(xe,{className:"h-4 flex-1"},o))},s))})});if(!e||e.length===0)return a.jsx(ne,{title:"Monthly Breakdown",children:a.jsx("div",{className:"text-gray-500 text-center py-8",children:"No monthly data available"})});const i=[...e].reverse().map(s=>({month:s.month,saleAmount:s.sale_amount,acceptRate:s.acceptance_rate}));return a.jsxs(ne,{title:"Monthly Breakdown",children:[a.jsxs("div",{className:"flex gap-1 border-b border-gray-200 mb-4",children:[a.jsx("button",{onClick:()=>n("table"),className:`px-4 py-2 text-sm font-medium border-b-2 -mb-px transition-colors ${r==="table"?"text-blue-600 border-blue-600":"text-gray-500 border-transparent hover:text-gray-700 hover:border-gray-300"}`,children:"Table"}),a.jsx("button",{onClick:()=>n("chart"),className:`px-4 py-2 text-sm font-medium border-b-2 -mb-px transition-colors ${r==="chart"?"text-blue-600 border-blue-600":"text-gray-500 border-transparent hover:text-gray-700 hover:border-gray-300"}`,children:"Chart"})]}),r==="table"&&a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"text-left py-2 px-3 font-medium text-gray-600",children:"Month"}),a.jsx("th",{className:"text-right py-2 px-3 font-medium text-gray-600",children:"Total"}),a.jsx("th",{className:"text-right py-2 px-3 font-medium text-gray-600",children:"Approved"}),a.jsx("th",{className:"text-right py-2 px-3 font-medium text-gray-600",children:"Declined"}),a.jsx("th",{className:"text-right py-2 px-3 font-medium text-gray-600",children:"Accept Rate"}),a.jsx("th",{className:"text-right py-2 px-3 font-medium text-gray-600 border-l border-gray-200",children:"Sales"}),a.jsx("th",{className:"text-right py-2 px-3 font-medium text-gray-600",children:"Sales Amount"}),a.jsx("th",{className:"text-right py-2 px-3 font-medium text-gray-600",children:"Payouts"}),a.jsx("th",{className:"text-right py-2 px-3 font-medium text-gray-600",children:"Payout Amount"}),a.jsx("th",{className:"text-right py-2 px-3 font-medium text-gray-600",children:"Reversals"}),a.jsx("th",{className:"text-right py-2 px-3 font-medium text-gray-600",children:"Reversal Amount"})]})}),a.jsx("tbody",{children:e.map(s=>a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[a.jsx("td",{className:"py-2 px-3 font-medium",children:s.month}),a.jsx("td",{className:"py-2 px-3 text-right",children:Ne(s.total_count)}),a.jsx("td",{className:"py-2 px-3 text-right text-green-600",children:Ne(s.approved_count)}),a.jsx("td",{className:"py-2 px-3 text-right text-red-600",children:Ne(s.declined_count)}),a.jsx("td",{className:"py-2 px-3 text-right font-medium",children:lt(s.acceptance_rate)}),a.jsx("td",{className:"py-2 px-3 text-right border-l border-gray-200 text-blue-600",children:Ne(s.sale_count)}),a.jsx("td",{className:"py-2 px-3 text-right text-blue-600",children:V(s.sale_amount)}),a.jsx("td",{className:"py-2 px-3 text-right text-purple-600",children:Ne(s.payout_count)}),a.jsx("td",{className:"py-2 px-3 text-right text-purple-600",children:V(s.payout_amount)}),a.jsx("td",{className:"py-2 px-3 text-right text-amber-600",children:Ne(s.reversal_count)}),a.jsx("td",{className:"py-2 px-3 text-right text-amber-600",children:V(s.reversal_amount)})]},s.month))})]})}),r==="chart"&&a.jsx("div",{className:"h-[400px]",children:a.jsx(xW,{width:"100%",height:"100%",children:a.jsxs(Qre,{data:i,margin:{top:20,right:30,left:20,bottom:20},children:[a.jsx(uA,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),a.jsx($h,{dataKey:"month",tick:{fontSize:12},tickLine:!1}),a.jsx(jc,{yAxisId:"left",tick:{fontSize:12},tickLine:!1,tickFormatter:s=>s>=1e6?`${(s/1e6).toFixed(1)}M`:s>=1e3?`${(s/1e3).toFixed(0)}K`:s.toString()}),a.jsx(jc,{yAxisId:"right",orientation:"right",tick:{fontSize:12},tickLine:!1,tickFormatter:s=>`${s.toFixed(0)}%`,domain:[0,100]}),a.jsx(en,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"},formatter:(s,o)=>o==="Sales Amount"?[V(s),o]:o==="Accept Rate"?[`${s.toFixed(1)}%`,o]:[s,o]}),a.jsx(xi,{}),a.jsx(io,{yAxisId:"left",type:"monotone",dataKey:"saleAmount",name:"Sales Amount",stroke:"#3b82f6",strokeWidth:2,dot:{r:4},activeDot:{r:6}}),a.jsx(io,{yAxisId:"right",type:"monotone",dataKey:"acceptRate",name:"Accept Rate",stroke:"#22c55e",strokeWidth:2,dot:{r:4},activeDot:{r:6}})]})})})]})}function Zre(){return a.jsx(ne,{title:"Rate Plan Dynamics",className:"mb-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx(xe,{className:"h-8 w-full"}),a.jsx(xe,{className:"h-32 w-full"}),a.jsx(xe,{className:"h-16 w-full"})]})})}function wN(e){return e>=95?"text-green-700":e>=80?"text-yellow-700":"text-red-700"}function NN(e){return e>=95?"bg-green-50":e>=80?"bg-yellow-50":"bg-red-50"}function _N(e){if(!e)return"";const t=e.min_rate===e.max_rate?`${e.min_rate.toFixed(2)}%`:`${e.min_rate.toFixed(2)}% - ${e.max_rate.toFixed(2)}%`,r=e.min_fixed===e.max_fixed?`${e.min_fixed.toFixed(2)}`:`${e.min_fixed.toFixed(2)} - ${e.max_fixed.toFixed(2)}`;return`Rate: ${t}
Fixed: ${r}`}function Jre(e){return{card:"Card",apple_pay:"Apple Pay",google_pay:"Google Pay",blik:"BLIK",openbanking:"Open Banking",sepa:"SEPA",crypto:"Crypto"}[e.toLowerCase()]||e}function Zo(e){const[t,r]=e.split("-");return new Date(parseInt(t),parseInt(r),0).getDate()}function ene({merchantId:e,planId:t,plan:r,months:n}){const[i,s]=O.useState(!0),[o,l]=O.useState(!1),[c,u]=O.useState(new Set),{data:d,isLoading:f}=ye({queryKey:["merchant-dynamics",e],queryFn:()=>se.getMerchantDynamics(e),enabled:!!e,staleTime:3e5}),{data:h,isLoading:m}=ye({queryKey:["plan-dynamics",e,t],queryFn:()=>se.getPlanDynamics(e,t),enabled:!!e&&!!t,staleTime:3e5}),y=k=>{u(I=>{const L=new Set(I);return L.has(k)?L.delete(k):L.add(k),L})},x=k=>{const[I,L]=k.split("-");return`${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][parseInt(L,10)-1]}'${I.slice(2)}`},v=k=>{var I,L;return((L=(I=h==null?void 0:h.monthly)==null?void 0:I[k])==null?void 0:L.total)||0},p=(k,I)=>{var L,q,Y;return((Y=(q=(L=h==null?void 0:h.monthly)==null?void 0:L[I])==null?void 0:q.variants)==null?void 0:Y[k])||0},g=(k,I)=>{var L,q,Y;return((Y=(q=(L=h==null?void 0:h.daily)==null?void 0:L[k])==null?void 0:q[I])==null?void 0:Y.total)||0},b=(k,I,L)=>{var q,Y,le,me;return((me=(le=(Y=(q=h==null?void 0:h.daily)==null?void 0:q[I])==null?void 0:Y[L])==null?void 0:le.variants)==null?void 0:me[k])||0},w=O.useMemo(()=>{if(!(h!=null&&h.monthly))return{first:n[0],last:n[n.length-1]};const k=Object.keys(h.monthly).filter(I=>h.monthly[I].total>0).sort();return k.length===0?{first:n[0],last:n[n.length-1]}:{first:k[0],last:k[k.length-1]}},[h,n]),j=O.useMemo(()=>d!=null&&d.plans&&d.plans.find(k=>k.plan_id===t)||null,[d,t]),N=O.useMemo(()=>h!=null&&h.variants?Object.entries(h.variants).map(([k,I])=>{var L,q;return{variant_id:k,rate:I.rate,fixed:I.fixed,total_count:I.total_count,label:((L=r.variants.find(Y=>String(Y.variant_id)===k))==null?void 0:L.label)||`variant_${k}`,confidence:((q=r.variants.find(Y=>String(Y.variant_id)===k))==null?void 0:q.confidence)||0}}).sort((k,I)=>I.total_count-k.total_count):[],[h,r.variants]),_=O.useMemo(()=>n.map(k=>({month:k,expanded:c.has(k),colSpan:c.has(k)?Zo(k):1})),[n,c]);if(f||m)return a.jsx(Zre,{});const{first:C,last:P}=w,A=n.indexOf(C),E=n.indexOf(P),W=N.length>1,D=j==null?void 0:j.coverage,F=(D==null?void 0:D.gate_types)||[],T=D&&(D.currencies.length>0||D.countries.length>0||F.length>0),z=k=>{const I=n.indexOf(k);return I>=A&&I<=E},M=(k,I)=>{var L,q,Y;return(((Y=(q=(L=h==null?void 0:h.monthly)==null?void 0:L[I])==null?void 0:q.variants)==null?void 0:Y[k])||0)>0},B=Object.values((h==null?void 0:h.monthly)||{}).reduce((k,I)=>k+I.total,0);return a.jsxs(ne,{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Rate Plan Dynamics"}),T&&a.jsxs("span",{className:"relative inline-flex items-center",children:[a.jsx("button",{onClick:k=>{k.stopPropagation(),l(!o)},className:`p-0.5 rounded hover:bg-gray-200 ${o?"bg-blue-100":""}`,children:a.jsx(yo,{className:`w-4 h-4 ${o?"text-blue-600":"text-gray-400 hover:text-gray-600"}`})}),o&&a.jsxs("div",{className:"absolute left-0 top-full mt-1 z-50 bg-white border shadow-xl rounded-md p-2.5 min-w-[220px] text-xs",onClick:k=>k.stopPropagation(),children:[a.jsx("div",{className:"font-medium text-gray-700 mb-2",children:"Coverage"}),F.length>0&&a.jsxs("div",{className:"mb-2",children:[a.jsx("div",{className:"text-gray-500 text-[10px] mb-1",children:"Payment Method"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:F.map(k=>a.jsx("span",{className:"px-1.5 py-0.5 bg-purple-100 text-purple-700 rounded text-[10px] font-medium",children:Jre(k)},k))})]}),D&&D.currencies.length>0&&a.jsxs("div",{className:"mb-2",children:[a.jsx("div",{className:"text-gray-500 text-[10px] mb-1",children:"Currencies"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:D.currencies.map(k=>a.jsx("span",{className:"px-1.5 py-0.5 bg-green-100 text-green-700 rounded text-[10px] font-medium",children:k},k))})]}),D&&D.countries.length>0&&a.jsxs("div",{children:[a.jsxs("div",{className:"text-gray-500 text-[10px] mb-1",children:["Countries (",D.countries.length,")"]}),a.jsx("div",{className:"flex flex-wrap gap-0.5 max-w-[280px]",children:D.countries.map(k=>a.jsx("span",{className:"px-1 py-0.5 bg-orange-100 text-orange-700 rounded text-[10px]",children:k},k))})]})]})]})]}),a.jsxs("div",{className:"text-sm text-gray-500",children:[B.toLocaleString()," transactions"]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-xs border-collapse min-w-max",children:[a.jsxs("thead",{children:[a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"text-left py-2 px-2 font-medium text-gray-600 sticky left-0 z-20 bg-white min-w-[200px]",rowSpan:2,children:"Variant"}),a.jsx("th",{className:"text-left py-2 px-2 font-medium text-gray-600 sticky left-[200px] z-20 bg-white min-w-[90px]",rowSpan:2,children:"Commission"}),a.jsx("th",{className:"text-center py-2 px-2 font-medium text-gray-600 sticky left-[290px] z-20 bg-white min-w-[50px] shadow-[2px_0_4px_-2px_rgba(0,0,0,0.1)]",rowSpan:2,children:"Txns"}),_.map(({month:k,expanded:I,colSpan:L})=>{const q=z(k);return a.jsx("th",{colSpan:L,className:`text-center py-1 px-1 font-medium border-l border-gray-100 first:border-l-0 ${q?"text-gray-700 bg-gray-50":"text-gray-400"}`,style:{minWidth:I?L*28:68},children:a.jsxs("button",{onClick:()=>q&&y(k),disabled:!q,className:`inline-flex items-center gap-1 px-1 py-0.5 rounded ${q?"hover:bg-gray-200 cursor-pointer":"cursor-default"}`,children:[q&&(I?a.jsx(qe,{className:"w-3 h-3"}):a.jsx(Qr,{className:"w-3 h-3"})),a.jsx("span",{children:x(k)})]})},k)})]}),a.jsx("tr",{className:"border-b border-gray-100",children:_.map(({month:k,expanded:I})=>{if(!I)return null;const L=Zo(k),q=z(k);return Array.from({length:L},(Y,le)=>le+1).map(Y=>a.jsx("th",{className:`text-center py-0.5 px-0 font-normal text-[10px] ${q?"text-gray-500":"text-gray-300"}`,style:{minWidth:28,maxWidth:32},children:Y},`${k}-${Y}`))})})]}),a.jsxs("tbody",{children:[a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50 group",children:[a.jsx("td",{className:"py-1.5 px-2 font-medium text-gray-900 sticky left-0 z-10 bg-white group-hover:bg-gray-50",children:a.jsxs("div",{className:"flex items-center gap-1",children:[W&&a.jsx("button",{onClick:()=>s(!i),className:"p-0.5 hover:bg-gray-200 rounded",children:i?a.jsx(qe,{className:"w-3 h-3"}):a.jsx(Qr,{className:"w-3 h-3"})}),a.jsx("span",{children:"All Variants"})]})}),a.jsx("td",{className:"py-1.5 px-2 text-gray-700 font-medium sticky left-[200px] z-10 bg-white group-hover:bg-gray-50",children:r.formula}),a.jsx("td",{className:"py-1.5 px-2 text-center font-medium sticky left-[290px] z-10 bg-white group-hover:bg-gray-50 shadow-[2px_0_4px_-2px_rgba(0,0,0,0.1)] text-gray-700",children:Ne(B)}),_.map(({month:k,expanded:I})=>{var Q;const L=n.indexOf(k),q=L>=A&&L<=E,Y=L===A,le=L===E;if(!q){if(I){const H=Zo(k);return Array.from({length:H},(J,U)=>a.jsx("td",{className:"py-1.5 px-0 text-center text-gray-300",style:{minWidth:28,maxWidth:32},children:"-"},`${k}-day-${U+1}`))}return a.jsx("td",{className:"py-1.5 px-1 text-center text-gray-300",style:{minWidth:68,maxWidth:80},children:"-"},k)}if(I){const H=Zo(k);return Array.from({length:H},(J,U)=>{const ve=U+1,fe=ve.toString().padStart(2,"0"),de=g(k,fe),_e=U===0,ze=U===H-1;return a.jsx("td",{className:`py-1.5 px-0 text-center ${de?"bg-blue-50 text-blue-800 font-medium":"bg-gray-50 text-gray-400"} ${Y&&_e?"rounded-l":""} ${le&&ze?"rounded-r":""}`,style:{minWidth:28,maxWidth:32},title:`${k}-${fe}: ${de} txns`,children:a.jsx("span",{className:"text-[10px]",children:de?Ne(de):"-"})},`${k}-day-${ve}`)})}const me=v(k),oe=(Q=j==null?void 0:j.monthly_commission)==null?void 0:Q[k],ce=_N(oe);return a.jsx("td",{className:`py-1.5 px-1 text-center ${me?"bg-blue-50 text-blue-800 font-medium":"bg-gray-100 text-gray-400"} ${Y?"rounded-l":""} ${le?"rounded-r":""}`,style:{minWidth:68,maxWidth:80},title:ce,children:ce?a.jsx("span",{className:"cursor-help border-b border-dotted border-current",children:me?Ne(me):"0"}):me?Ne(me):"0"},k)})]}),W&&i&&N.map(k=>{var q;const I=k.variant_id,L=k.confidence||50;return a.jsxs("tr",{className:"border-b border-gray-50",children:[a.jsx("td",{className:"py-1 px-2 pl-8 text-gray-600 sticky left-0 z-10 bg-gray-50",children:a.jsx("span",{className:k.label==="contract"||(q=k.label)!=null&&q.startsWith("contract (")&&!k.label.includes("+")&&!k.label.toLowerCase().includes("min")?"text-green-600 font-medium":"text-gray-400",children:k.label||`Variant #${I}`})}),a.jsxs("td",{className:"py-1 px-2 text-gray-600 sticky left-[200px] z-10 bg-gray-50",children:[k.rate,"% + ",k.fixed]}),a.jsx("td",{className:"py-1 px-2 text-center sticky left-[290px] z-10 bg-gray-50 shadow-[2px_0_4px_-2px_rgba(0,0,0,0.1)] text-gray-600",children:Ne(k.total_count)}),_.map(({month:Y,expanded:le})=>{var fe;const me=z(Y),oe=Zo(Y);if(!me)return le?Array.from({length:oe},(de,_e)=>a.jsx("td",{className:"py-1 px-0 text-center text-gray-300",style:{minWidth:28,maxWidth:32},children:"-"},`${Y}-day-${_e+1}`)):a.jsx("td",{className:"py-1 px-1 text-center text-gray-300",style:{minWidth:68,maxWidth:80},children:"-"},Y);const ce=M(I,Y),Q=ce,H=ce;if(le)return Array.from({length:oe},(de,_e)=>{const ze=_e+1,Tr=ze.toString().padStart(2,"0"),Mr=b(I,Y,Tr),Bi=_e===0,hn=_e===oe-1;return a.jsx("td",{className:`py-1 px-0 text-center ${Mr?`${NN(L)} ${wN(L)}`:"bg-gray-50 text-gray-400"} ${Q&&Bi?"rounded-l":""} ${H&&hn?"rounded-r":""}`,style:{minWidth:28,maxWidth:32},title:`${Y}-${Tr}: ${Mr} txns`,children:a.jsx("span",{className:"text-[10px]",children:Mr?Ne(Mr):"-"})},`${Y}-day-${ze}`)});const J=p(I,Y),U=(fe=j==null?void 0:j.monthly_commission)==null?void 0:fe[Y],ve=_N(U);return a.jsx("td",{className:`py-1 px-1 text-center ${J?`${NN(L)} ${wN(L)}`:"bg-gray-100 text-gray-400"} ${Q?"rounded-l":""} ${H?"rounded-r":""}`,style:{minWidth:68,maxWidth:80},title:ve,children:ve?a.jsx("span",{className:"cursor-help border-b border-dotted border-current",children:J?Ne(J):"0"}):J?Ne(J):"0"},Y)})]},`variant-${I}`)})]})]})})]})}function tne(){return a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Transactions"}),a.jsx(KM,{})]})}function rne(){const{id:e}=xo();return e?a.jsx(r3,{transactionId:e}):a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"text-red-500",children:"Transaction ID is required"})})}function nne(){return a.jsxs("div",{children:[a.jsx("div",{className:"h-8 w-32 bg-gray-200 rounded animate-pulse mb-6"}),a.jsx("div",{className:"space-y-4",children:[1,2,3].map(e=>a.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx(xe,{className:"h-6 w-48 mb-2"}),a.jsxs("div",{className:"flex gap-6",children:[a.jsx(xe,{className:"h-4 w-24"}),a.jsx(xe,{className:"h-4 w-24"}),a.jsx(xe,{className:"h-4 w-24"}),a.jsx(xe,{className:"h-4 w-24"})]})]}),a.jsx(xe,{className:"h-5 w-5"})]})},e))})]})}function ane(){const{data:e,isLoading:t,error:r}=ye({queryKey:["merchants"],queryFn:se.getMerchants});return t?a.jsx(nne,{}):r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-red-500",children:["Error loading merchants: ",r.message]})}):a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Merchants"}),a.jsxs("div",{className:"space-y-4",children:[e==null?void 0:e.map(n=>a.jsx(Ie,{to:`/merchant/${n.merchant_id}`,className:"block",children:a.jsx(ne,{className:"hover:border-gray-300 hover:shadow-md transition-all cursor-pointer",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:n.merchant_name}),n.merchant_group&&a.jsx("span",{className:"px-2 py-0.5 text-xs font-medium bg-gray-100 text-gray-600 rounded",children:n.merchant_group})]}),a.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Transactions"}),a.jsx("span",{className:"ml-2 font-medium text-gray-900",children:Ne(n.transaction_count)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Volume"}),a.jsx("span",{className:"ml-2 font-medium text-gray-900",children:V(n.total_amount_eur)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Accept Rate"}),a.jsx("span",{className:"ml-2 font-medium text-green-600",children:lt(n.acceptance_rate)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Commission"}),a.jsx("span",{className:"ml-2 font-medium text-gray-900",children:V(n.total_commission_eur)})]})]})]}),a.jsx(Qr,{className:"h-5 w-5 text-gray-400"})]})})},n.merchant_id)),(e==null?void 0:e.length)===0&&a.jsx("div",{className:"text-center py-12 text-gray-500",children:"No merchants found"})]})]})}const bf={rate_precision:.25,fixed_tolerance:0,match_tolerance:.05,min_confidence:20,max_variants:10,min_period_days:7,min_transactions:3,prefer_lower_rate:!0};function ine(e,t,r){return r.filter(n=>{if(n.currency&&n.currency!==t)return!1;const i=e.toLowerCase();return!(i.includes("incoming")&&n.operation_type!=="incoming"||i.includes("outgoing")&&n.operation_type!=="outgoing"||i.includes("payout")&&n.operation_type!=="outgoing"||i.includes("card")&&n.payment_type!=="card"||i.includes("apm")&&n.payment_type!=="apm"||i.includes("sepa")&&n.payment_type!=="apm")})}function sne({merchantId:e,shortname:t,initialPlans:r,initialMonths:n,onClose:i,onRefresh:s}){var ce,Q;const[o,l]=O.useState("auto"),[c,u]=O.useState(null),[d,f]=O.useState(bf),[h,m]=O.useState(r),[y,x]=O.useState(!1),[v,p]=O.useState(!1),[g,b]=O.useState(!1),[w,j]=O.useState(null),[N,_]=O.useState(null),[S,C]=O.useState(""),[P,A]=O.useState(""),[E,W]=O.useState(.05),[D,F]=O.useState(!1),[T,z]=O.useState(null),{data:M}=ye({queryKey:["merchant-contract-plans",t||e],queryFn:()=>t?se.getContractPlansByShortname(t):se.getContractPlans(e),staleTime:3e5}),B=O.useMemo(()=>[...h].sort((H,J)=>H.confidence-J.confidence),[h]),k=O.useMemo(()=>{if(!M)return new Map;const H=new Map;for(const J of h){const U=ine(J.plan_id,J.currency,M);U.length>0&&H.set(J.plan_id,U)}return H},[h,M]),I=O.useMemo(()=>h.find(H=>H.plan_id===c),[h,c]),L=async()=>{if(!c)return;const H=parseFloat(S),J=parseFloat(P);if(isNaN(H)||isNaN(J)){z(null);return}F(!0);try{const U=await se.testFormula(e,c,H,J,E);z(U)}catch(U){console.error("Formula test failed:",U),z(null)}F(!1)};O.useEffect(()=>{z(null)},[c]);const q=(H,J)=>{f(U=>({...U,[H]:J}))},Y=async()=>{if(c){x(!0);try{const J=(t?await se.getAnalysisByShortname(t,d):await se.getMerchantRatePlanAnalysis(e,d)).plans.find(U=>U.plan_id===c);J&&m(U=>U.map(ve=>ve.plan_id===c?J:ve))}catch(H){console.error("Analysis failed:",H)}x(!1)}},le=async H=>{b(!0),j(null);try{const J=await se.getPlanStats(e,H);j(J)}catch(J){console.error("Failed to load stats:",J),j(null)}b(!1)},me=H=>{u(H),le(H)},oe=async()=>{p(!0);try{await se.saveMerchantAnalysisConfig(e,d),s(),i()}catch(H){console.error("Failed to save:",H)}p(!1)};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:i,children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-6xl w-full mx-4 max-h-[90vh] overflow-hidden flex flex-col",onClick:H=>H.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"Rate Plan Analysis"}),a.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-0.5",children:[a.jsx("button",{onClick:()=>l("auto"),className:`px-3 py-1.5 text-sm font-medium rounded-md transition-colors ${o==="auto"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Auto"}),a.jsx("button",{onClick:()=>l("manual"),className:`px-3 py-1.5 text-sm font-medium rounded-md transition-colors ${o==="manual"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Manual"})]})]}),a.jsx("button",{onClick:i,className:"p-1 hover:bg-gray-100 rounded",children:a.jsx(Wt,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[a.jsx("div",{className:"w-56 flex-shrink-0 p-4 overflow-y-auto border-r bg-gray-50",children:o==="auto"?a.jsxs("div",{className:"space-y-3 text-sm",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 font-medium mb-1 text-xs",children:"Rate Precision (%)"}),a.jsx("input",{type:"number",step:"0.05",min:"0.05",max:"1",value:d.rate_precision,onChange:H=>q("rate_precision",parseFloat(H.target.value)||.25),className:"w-full px-2 py-1 border rounded text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 font-medium mb-1 text-xs",children:"Fixed Tolerance"}),a.jsx("input",{type:"number",step:"0.05",min:"0",max:"1",value:d.fixed_tolerance,onChange:H=>q("fixed_tolerance",parseFloat(H.target.value)||0),className:"w-full px-2 py-1 border rounded text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 font-medium mb-1 text-xs",children:"Match Tol. (EUR)"}),a.jsx("input",{type:"number",step:"0.01",min:"0.01",max:"0.5",value:d.match_tolerance,onChange:H=>q("match_tolerance",parseFloat(H.target.value)||.05),className:"w-full px-2 py-1 border rounded text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 font-medium mb-1 text-xs",children:"Min Confidence (%)"}),a.jsx("input",{type:"number",step:"5",min:"0",max:"100",value:d.min_confidence,onChange:H=>q("min_confidence",parseInt(H.target.value)||0),className:"w-full px-2 py-1 border rounded text-sm"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 font-medium mb-1 text-xs",children:"Max Var"}),a.jsx("input",{type:"number",step:"1",min:"1",max:"20",value:d.max_variants,onChange:H=>q("max_variants",parseInt(H.target.value)||10),className:"w-full px-2 py-1 border rounded text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 font-medium mb-1 text-xs",children:"Min Txn"}),a.jsx("input",{type:"number",step:"1",min:"1",max:"50",value:d.min_transactions,onChange:H=>q("min_transactions",parseInt(H.target.value)||3),className:"w-full px-2 py-1 border rounded text-sm"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 font-medium mb-1 text-xs",children:"Preference"}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{onClick:()=>q("prefer_lower_rate",!0),className:`flex-1 px-2 py-1 rounded text-xs font-medium ${d.prefer_lower_rate?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Lower Rate"}),a.jsx("button",{onClick:()=>q("prefer_lower_rate",!1),className:`flex-1 px-2 py-1 rounded text-xs font-medium ${d.prefer_lower_rate?"bg-gray-200 text-gray-700 hover:bg-gray-300":"bg-blue-600 text-white"}`,children:"Lower Fixed"})]})]})]}):a.jsxs("div",{className:"space-y-3 text-sm",children:[a.jsx("p",{className:"text-gray-500 text-xs mb-2",children:"Enter rate and fixed fee to test against transactions."}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 font-medium mb-1 text-xs",children:"Rate (%)"}),a.jsx("input",{type:"number",step:"0.01",min:"0",max:"100",placeholder:"e.g. 6.00",value:S,onChange:H=>C(H.target.value),className:"w-full px-2 py-1.5 border rounded text-sm"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-gray-700 font-medium mb-1 text-xs",children:["Fixed Fee (",(I==null?void 0:I.currency)||"EUR",")"]}),a.jsx("input",{type:"number",step:"0.01",min:"0",placeholder:"e.g. 0.25",value:P,onChange:H=>A(H.target.value),className:"w-full px-2 py-1.5 border rounded text-sm"}),(I==null?void 0:I.currency)&&I.currency!=="EUR"&&a.jsx("p",{className:"text-gray-400 text-[10px] mt-1",children:"Converted to EUR using tx fx_rate"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 font-medium mb-1 text-xs",children:"Tolerance (EUR)"}),a.jsx("input",{type:"number",step:"0.01",min:"0.01",max:"1",value:E,onChange:H=>W(parseFloat(H.target.value)||.05),className:"w-full px-2 py-1.5 border rounded text-sm"}),a.jsx("p",{className:"text-gray-400 text-[10px] mt-1",children:"Max difference for a match"})]}),I&&((ce=k.get(I.plan_id))!=null&&ce.length)?a.jsxs("div",{className:"pt-2 border-t",children:[a.jsx("label",{className:"block text-gray-700 font-medium mb-1 text-xs",children:"Fill from Contract"}),a.jsx("div",{className:"space-y-1",children:(Q=k.get(I.plan_id))==null?void 0:Q.map((H,J)=>a.jsxs("button",{onClick:()=>{H.wl_percent!=null&&C(String(H.wl_percent)),H.fixed_fee!=null&&A(String(H.fixed_fee))},className:"w-full text-left px-2 py-1 rounded text-xs bg-green-50 hover:bg-green-100 text-green-700",children:[H.wl_percent!=null?`${H.wl_percent}%`:"-"," + ",H.fixed_fee??0,a.jsxs("span",{className:"text-green-500 ml-1",children:["(",H.payment_type||"any",")"]})]},J))})]}):null,I&&a.jsxs("div",{className:"pt-2 border-t",children:[a.jsx("label",{className:"block text-gray-700 font-medium mb-1 text-xs",children:"Fill from Auto"}),a.jsxs("button",{onClick:()=>{C(String(I.avg_rate)),A(String(I.avg_fixed_eur))},className:"w-full text-left px-2 py-1 rounded text-xs bg-blue-50 hover:bg-blue-100 text-blue-700",children:[I.formula,a.jsxs("span",{className:"text-blue-500 ml-1",children:["(",I.confidence.toFixed(0),"% conf)"]})]})]}),a.jsxs("div",{className:"pt-3 border-t",children:[a.jsx("button",{onClick:L,disabled:!S||!P||D,className:"w-full flex items-center justify-center gap-2 px-3 py-2 bg-blue-600 text-white rounded text-sm font-medium hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed",children:D?a.jsxs(a.Fragment,{children:[a.jsx(Ee,{className:"w-4 h-4 animate-spin"}),"Testing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(yd,{className:"w-4 h-4"}),"Test Formula"]})}),a.jsx("p",{className:"text-gray-400 text-[10px] mt-1 text-center",children:"Tests against all approved transactions"})]})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto border-r",children:a.jsxs("div",{className:"p-2",children:[a.jsxs("div",{className:"text-xs text-gray-500 mb-2 px-1",children:[B.length," plans  Click to select  Sorted by confidence (lowest first)"]}),a.jsx("div",{className:"space-y-1",children:B.map(H=>{const J=H.plan_id===c,U=k.get(H.plan_id)||[],ve=U.length>0,fe=N===H.plan_id;return a.jsxs("div",{onClick:()=>me(H.plan_id),className:`rounded border cursor-pointer transition-colors ${J?"bg-blue-50 border-blue-300 ring-1 ring-blue-300":"bg-white border-gray-200 hover:bg-gray-50"}`,children:[a.jsxs("div",{className:"flex items-center justify-between p-2",children:[a.jsxs("div",{className:"min-w-0 flex-1 flex items-center gap-1.5",children:[ve&&a.jsxs("div",{className:"relative",onMouseEnter:()=>_(H.plan_id),onMouseLeave:()=>_(null),children:[a.jsxs("div",{className:"flex items-center gap-0.5 text-green-600",children:[a.jsx(Ry,{className:"w-3.5 h-3.5"}),U.length>1&&a.jsx("span",{className:"text-[10px] font-medium",children:U.length})]}),fe&&a.jsxs("div",{className:"absolute left-0 top-full mt-1 z-50 bg-white border shadow-lg rounded-md p-2 min-w-[200px] text-xs",onClick:de=>de.stopPropagation(),children:[a.jsx("div",{className:"font-medium text-gray-700 mb-1.5",children:"Matching Contract Plans"}),a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-gray-500 text-[10px]",children:[a.jsx("th",{className:"text-left pb-1",children:"Type"}),a.jsx("th",{className:"text-right pb-1",children:"Rate"}),a.jsx("th",{className:"text-right pb-1",children:"Fixed"})]})}),a.jsx("tbody",{children:U.map((de,_e)=>a.jsxs("tr",{className:"text-gray-700",children:[a.jsxs("td",{className:"py-0.5",children:[de.payment_type||"any",de.apm_type?`/${de.apm_type}`:""]}),a.jsx("td",{className:"text-right py-0.5",children:de.wl_percent!=null?`${de.wl_percent}%`:"-"}),a.jsx("td",{className:"text-right py-0.5",children:de.fixed_fee!=null?`${de.fixed_fee}`:"-"})]},_e))})]})]})]}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("div",{className:"font-mono text-xs truncate",title:H.plan_id,children:H.plan_id}),a.jsxs("div",{className:"text-xs text-gray-500 mt-0.5",children:[H.total_transactions," txns  ",H.currency]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[a.jsx("span",{className:"font-medium text-sm",children:H.formula}),a.jsxs("span",{className:`px-1.5 py-0.5 rounded text-xs font-medium ${H.confidence>=95?"bg-green-100 text-green-700":H.confidence>=80?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:[H.confidence.toFixed(0),"%"]})]})]}),H.variants.length>0&&a.jsx("div",{className:"border-t bg-gray-50 px-2 py-1",children:H.variants.map(de=>a.jsxs("div",{className:"flex justify-between py-0.5 text-[10px]",children:[a.jsxs("span",{className:"text-gray-500",children:[de.start_date,"  ",de.end_date," (",de.transaction_count," txns)"]}),a.jsxs("span",{className:de.confidence>=80?"text-green-600":"text-orange-600",children:[de.formula,"  ",de.confidence.toFixed(0),"%"]})]},de.variant_id))})]},H.plan_id)})})]})}),a.jsx("div",{className:"w-72 flex-shrink-0 p-4 overflow-y-auto bg-gray-50",children:I?a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(ax,{className:"w-4 h-4 text-gray-500"}),a.jsx("span",{className:"font-medium text-sm",children:o==="manual"?"Manual Test Results":"Plan Statistics"})]}),a.jsxs("div",{className:"text-xs space-y-2",children:[a.jsxs("div",{className:"bg-white rounded border p-2",children:[a.jsx("div",{className:"text-gray-500 mb-1",children:"Plan ID"}),a.jsx("div",{className:"font-mono text-xs break-all",children:I.plan_id})]}),o==="manual"&&T?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:`rounded border p-2 ${T.match_percent>=80?"bg-green-50 border-green-200":T.match_percent>=50?"bg-yellow-50 border-yellow-200":"bg-orange-50 border-orange-200"}`,children:[a.jsx("div",{className:"text-gray-600 mb-1",children:"Test Formula"}),a.jsxs("div",{className:"font-medium text-lg",children:[S,"% + ",P," ",(I==null?void 0:I.currency)||"EUR"]}),a.jsxs("div",{className:`text-sm font-medium ${T.match_percent>=80?"text-green-600":T.match_percent>=50?"text-yellow-600":"text-orange-600"}`,children:[T.match_percent>=80?"":T.match_percent>=50?"~":""," ",T.match_percent.toFixed(1),"% match rate"]})]}),a.jsxs("div",{className:"bg-white rounded border p-2",children:[a.jsx("div",{className:"text-gray-500 mb-1",children:"Transaction Match"}),a.jsxs("div",{className:"text-lg font-medium",children:[T.match_count.toLocaleString()," / ",T.total_count.toLocaleString()]}),a.jsxs("div",{className:"text-xs text-gray-400",children:["transactions within ",T.tolerance," tolerance"]})]}),a.jsxs("div",{className:"bg-white rounded border p-2",children:[a.jsx("div",{className:"text-gray-500 mb-1",children:"Deviation Stats"}),a.jsx("table",{className:"w-full text-[10px]",children:a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{className:"text-gray-500",children:"Average"}),a.jsxs("td",{className:"text-right font-medium",children:["",T.avg_deviation.toFixed(4)]})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"text-gray-500",children:"Min"}),a.jsxs("td",{className:"text-right",children:["",T.min_deviation.toFixed(4)]})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"text-gray-500",children:"Max"}),a.jsxs("td",{className:"text-right",children:["",T.max_deviation.toFixed(4)]})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"text-gray-500",children:"Total"}),a.jsxs("td",{className:"text-right",children:["",T.total_deviation.toFixed(2)]})]})]})})]}),a.jsxs("div",{className:"bg-white rounded border p-2",children:[a.jsx("div",{className:"text-gray-500 mb-1",children:"Compare with Auto"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{children:["Auto: ",I.formula]}),a.jsxs("span",{className:`font-medium ${I.confidence>=80?"text-green-600":"text-orange-600"}`,children:[I.confidence.toFixed(0),"%"]})]})]})]}):o==="manual"&&D?a.jsxs("div",{className:"bg-gray-100 rounded border p-4 flex flex-col items-center justify-center gap-2",children:[a.jsx(Ee,{className:"w-6 h-6 animate-spin text-blue-500"}),a.jsx("p",{className:"text-gray-500 text-sm",children:"Testing formula..."})]}):o==="manual"?a.jsx("div",{className:"bg-gray-100 rounded border border-dashed p-4 text-center text-gray-400",children:a.jsx("p",{children:"Enter rate and fixed fee, then click Test"})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-white rounded border p-2",children:[a.jsx("div",{className:"text-gray-500 mb-1",children:"Current Formula"}),a.jsx("div",{className:"font-medium text-lg",children:I.formula}),a.jsxs("div",{className:`text-sm ${I.confidence>=80?"text-green-600":"text-orange-600"}`,children:[I.confidence.toFixed(1),"% confidence"]})]}),a.jsxs("div",{className:"bg-white rounded border p-2",children:[a.jsx("div",{className:"text-gray-500 mb-1",children:"Transactions"}),a.jsx("div",{className:"font-medium",children:I.total_transactions.toLocaleString()})]}),g?a.jsx("div",{className:"flex items-center justify-center p-4",children:a.jsx(Ee,{className:"w-5 h-5 animate-spin text-gray-400"})}):w?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-white rounded border p-2",children:[a.jsx("div",{className:"text-gray-500 mb-1",children:"Period"}),a.jsxs("div",{children:[w.first_date,"  ",w.last_date]})]}),a.jsxs("div",{className:"bg-white rounded border p-2",children:[a.jsx("div",{className:"text-gray-500 mb-1",children:"Amount (EUR)"}),a.jsxs("div",{className:"grid grid-cols-2 gap-1 text-[10px]",children:[a.jsxs("div",{children:["Min: ",w.amount.min.toFixed(2)]}),a.jsxs("div",{children:["Max: ",w.amount.max.toFixed(2)]}),a.jsxs("div",{children:["Avg: ",w.amount.avg.toFixed(2)]}),a.jsxs("div",{children:["Med: ",w.amount.median.toFixed(2)]})]})]}),a.jsxs("div",{className:"bg-white rounded border p-2",children:[a.jsx("div",{className:"text-gray-500 mb-1",children:"Commission (EUR)"}),a.jsxs("div",{className:"grid grid-cols-2 gap-1 text-[10px]",children:[a.jsxs("div",{children:["Min: ",w.commission.min.toFixed(2)]}),a.jsxs("div",{children:["Max: ",w.commission.max.toFixed(2)]}),a.jsxs("div",{children:["Avg: ",w.commission.avg.toFixed(2)]}),a.jsxs("div",{children:["Med: ",w.commission.median.toFixed(2)]})]})]}),a.jsxs("div",{className:"bg-white rounded border p-2",children:[a.jsx("div",{className:"text-gray-500 mb-1",children:"Effective Rate (%)"}),a.jsxs("div",{className:"grid grid-cols-2 gap-1 text-[10px]",children:[a.jsxs("div",{children:["Min: ",w.effective_rate.min.toFixed(2),"%"]}),a.jsxs("div",{children:["Max: ",w.effective_rate.max.toFixed(2),"%"]}),a.jsxs("div",{children:["Avg: ",w.effective_rate.avg.toFixed(2),"%"]}),a.jsxs("div",{children:["Med: ",w.effective_rate.median.toFixed(2),"%"]})]})]}),a.jsxs("div",{className:"bg-white rounded border p-2",children:[a.jsx("div",{className:"text-gray-500 mb-1",children:"Fixed Fee (EUR)"}),a.jsxs("div",{className:"grid grid-cols-2 gap-1 text-[10px]",children:[a.jsxs("div",{children:["Min: ",w.fixed_eur.min.toFixed(2)]}),a.jsxs("div",{children:["Max: ",w.fixed_eur.max.toFixed(2)]}),a.jsxs("div",{children:["Avg: ",w.fixed_eur.avg.toFixed(2)]}),a.jsxs("div",{children:["Med: ",w.fixed_eur.median.toFixed(2)]})]})]})]}):a.jsx("div",{className:"text-gray-400 text-center p-4 text-xs",children:"Loading stats..."})]})]})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[a.jsx(ax,{className:"w-8 h-8 mb-2 opacity-30"}),a.jsx("p",{className:"text-sm",children:"Select a plan to view stats"})]})})]}),a.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-t bg-gray-50",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:Y,disabled:!c||y,className:"px-3 py-2 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1.5",children:y?a.jsxs(a.Fragment,{children:[a.jsx(Ee,{className:"w-4 h-4 animate-spin"}),"Analyzing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(yd,{className:"w-4 h-4"}),"Run for Selected"]})}),a.jsxs("button",{onClick:()=>f(bf),className:"px-3 py-2 text-gray-600 hover:bg-gray-200 rounded text-sm flex items-center gap-1.5",children:[a.jsx(Ly,{className:"w-4 h-4"}),"Reset"]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:i,className:"px-4 py-2 border rounded text-sm hover:bg-gray-100",children:"Cancel"}),a.jsxs("button",{onClick:oe,disabled:v,className:"px-4 py-2 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 disabled:opacity-50 flex items-center gap-1.5",children:[v?a.jsx(Ee,{className:"w-4 h-4 animate-spin"}):a.jsx(WS,{className:"w-4 h-4"}),"Save"]})]})]})]})})}function one(){return a.jsx(ne,{title:"Rate Plan Dynamics",className:"mb-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx(xe,{className:"h-8 w-full"}),a.jsx(xe,{className:"h-32 w-full"}),a.jsx(xe,{className:"h-16 w-full"})]})})}function Bm(e){return e>=95?"text-green-700":e>=80?"text-yellow-700":"text-red-700"}function lne(e){return e>=95?"bg-green-50":e>=80?"bg-yellow-50":"bg-red-50"}function SN(e){if(!e)return"";const t=e.min_rate===e.max_rate?`${e.min_rate.toFixed(2)}%`:`${e.min_rate.toFixed(2)}% - ${e.max_rate.toFixed(2)}%`,r=e.min_fixed===e.max_fixed?`${e.min_fixed.toFixed(2)}`:`${e.min_fixed.toFixed(2)} - ${e.max_fixed.toFixed(2)}`;return`Rate: ${t}
Fixed: ${r}`}function CA({merchantId:e,shortname:t}){const r=t||e,[n,i]=O.useState(new Set),[s,o]=O.useState(!1),[l,c]=O.useState(null),[u,d]=O.useState(bf),[f,h]=O.useState(!1),{data:m,isLoading:y}=ye({queryKey:["merchant-contracts",r],queryFn:()=>t?se.getContractsByShortname(t):se.getContracts(e),enabled:!!r,staleTime:3e5}),{data:x,isLoading:v}=ye({queryKey:["merchant-analysis-config",r],queryFn:()=>t?se.getAnalysisConfigByShortname(t):se.getMerchantAnalysisConfig(e),enabled:!!r,staleTime:1/0});O.useEffect(()=>{x!=null&&x.has_config&&x.config&&!f?(d(x.config),h(!0)):x&&!x.has_config&&!f&&h(!0)},[x,f]),O.useEffect(()=>{const k=()=>c(null);if(l)return document.addEventListener("click",k),()=>document.removeEventListener("click",k)},[l]);const p=O.useMemo(()=>u?JSON.stringify(u)!==JSON.stringify(bf):!1,[u]),g=!v&&f,{data:b,isLoading:w}=ye({queryKey:["merchant-dynamics",r],queryFn:()=>t?se.getDynamicsByShortname(t):se.getMerchantDynamics(e),enabled:!!r,staleTime:3e5}),{data:j,isLoading:N,isFetching:_}=ye({queryKey:["merchant-rate-plan-analysis",r,p?u:null],queryFn:()=>t?se.getAnalysisByShortname(t,p?u:void 0):se.getMerchantRatePlanAnalysis(e,p?u:void 0),enabled:!!r&&g,staleTime:3e5});if(w||N||!g)return a.jsx(one,{});if(!j||j.plans.length===0)return null;const{months:C,plans:P}=j,A=new Map;if(b!=null&&b.plans)for(const k of b.plans)A.set(k.plan_id,k);const E=k=>{i(I=>{const L=new Set(I);return L.has(k)?L.delete(k):L.add(k),L})},W=k=>{const[I,L]=k.split("-");return`${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][parseInt(L,10)-1]}'${I.slice(2)}`},D=(k,I)=>{const L=k.monthly_counts[I];if(L)return Object.values(L).reduce((Y,le)=>Y+le,0);let q=0;for(const Y of k.variants){const le=Y.monthly_counts;if(le&&le[I]!==void 0){const me=le[I];typeof me=="number"?q+=me:typeof me=="object"&&(q+=Object.values(me).reduce((oe,ce)=>oe+ce,0))}}return q},F=(k,I,L)=>{const q=k.monthly_counts[L];if(q)return q[String(I.variant_id)]||0;const Y=I.monthly_counts;if(Y&&Y[L]!==void 0){const le=Y[L];if(typeof le=="number")return le;if(typeof le=="object")return le[String(I.variant_id)]||0}return 0},T=(k,I)=>{const L=k.start_date.slice(0,7),q=k.end_date.slice(0,7);return I>=L&&I<=q},z=k=>{if(k.variants.length===0)return{first:C[0],last:C[C.length-1]};const I=k.variants.reduce((q,Y)=>Y.start_date<q?Y.start_date:q,k.variants[0].start_date).slice(0,7),L=k.variants.reduce((q,Y)=>Y.end_date>q?Y.end_date:q,k.variants[0].end_date).slice(0,7);return{first:I,last:L}},M=(k,I)=>{const L=k.toLowerCase();return L.endsWith("_in")||L.includes("_in_")?"IN":L.endsWith("_out")||L.includes("_out_")?"OUT":I.includes("sale")?"IN":I.includes("payout")?"OUT":null},B=k=>({card:"Card",apple_pay:"Apple Pay",google_pay:"Google Pay",blik:"BLIK",openbanking:"Open Banking",sepa:"SEPA",crypto:"Crypto"})[k.toLowerCase()]||k;return a.jsxs(ne,{className:"mb-6 relative",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4 relative",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Rate Plan Dynamics",_&&a.jsx("span",{className:"ml-2 text-xs text-gray-400 animate-pulse",children:"Updating..."})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[p&&a.jsx("span",{className:"text-xs text-orange-600 bg-orange-50 px-2 py-0.5 rounded",children:"Custom config"}),a.jsx("button",{onClick:()=>o(!0),className:"p-1.5 rounded hover:bg-gray-100",title:"Analysis Configuration",children:a.jsx(Fy,{className:"w-4 h-4 text-gray-600"})})]})]}),s&&j&&a.jsx(sne,{merchantId:e,shortname:t,initialPlans:j.plans,initialMonths:j.months,onClose:()=>o(!1),onRefresh:()=>{window.location.reload()}}),_&&a.jsx("div",{className:"absolute inset-0 bg-white/70 flex items-center justify-center z-10 rounded-lg",children:a.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[a.jsx(Ee,{className:"w-5 h-5 animate-spin"}),a.jsx("span",{className:"text-sm",children:"Updating analysis..."})]})}),a.jsx("div",{className:`relative ${l?"overflow-visible":"overflow-x-auto"}`,children:a.jsxs("table",{className:"w-full text-xs border-collapse min-w-max",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"text-left py-2 px-2 font-medium text-gray-600 sticky left-0 bg-white min-w-[320px]",children:"Rate Plan ID"}),a.jsx("th",{className:"text-left py-2 px-2 font-medium text-gray-600 min-w-[90px]",children:"Commission"}),a.jsx("th",{className:"text-center py-2 px-2 font-medium text-gray-600 min-w-[50px]",children:"Conf"}),C.map(k=>a.jsx("th",{className:"text-center py-2 px-1 font-medium text-gray-600",style:{minWidth:68,maxWidth:80},children:W(k)},k))]})}),a.jsx("tbody",{children:P.map(k=>{const{first:I,last:L}=z(k),q=C.indexOf(I),Y=C.indexOf(L),le=!k.is_single_variant&&k.variants.length>1,me=n.has(k.plan_id);return a.jsxs(O.Fragment,{children:[a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[a.jsx("td",{className:`py-1.5 px-2 font-mono text-gray-900 sticky left-0 bg-white ${l===k.plan_id?"overflow-visible":""}`,style:l===k.plan_id?{zIndex:100}:void 0,children:a.jsxs("div",{className:"flex items-center gap-1",children:[le&&a.jsx("button",{onClick:()=>E(k.plan_id),className:"p-0.5 hover:bg-gray-200 rounded",children:me?a.jsx(qe,{className:"w-3 h-3"}):a.jsx(Qr,{className:"w-3 h-3"})}),a.jsx("span",{title:k.plan_id,children:k.plan_id}),a.jsx(Ie,{to:`/rateplan/${t||e}/${encodeURIComponent(k.plan_id)}`,target:"_blank",onClick:oe=>oe.stopPropagation(),className:"p-0.5 rounded hover:bg-gray-200 text-gray-400 hover:text-blue-600",title:"Open rate plan",children:a.jsx(_T,{className:"w-3.5 h-3.5"})}),(()=>{const oe=A.get(k.plan_id),ce=oe==null?void 0:oe.coverage,Q=(ce==null?void 0:ce.gate_types)||[];if(!(ce&&(ce.currencies.length>0||ce.countries.length>0||Q.length>0)))return null;const J=l===k.plan_id;return a.jsxs("span",{className:"relative inline-flex items-center ml-1",children:[a.jsx("button",{"data-coverage-btn":k.plan_id,onClick:U=>{U.stopPropagation(),c(J?null:k.plan_id)},className:`p-0.5 rounded hover:bg-gray-200 ${J?"bg-blue-100":""}`,children:a.jsx(yo,{className:`w-3.5 h-3.5 ${J?"text-blue-600":"text-gray-400 hover:text-gray-600"}`})}),J&&a.jsxs("div",{className:"absolute left-0 top-full mt-1 z-[9999] bg-white border shadow-xl rounded-md p-2.5 min-w-[200px] text-xs",onClick:U=>U.stopPropagation(),style:{minWidth:"220px"},children:[a.jsx("div",{className:"font-medium text-gray-700 mb-2",children:"Coverage"}),Q.length>0&&a.jsxs("div",{className:"mb-2",children:[a.jsx("div",{className:"text-gray-500 text-[10px] mb-1",children:"Payment Method"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:Q.map(U=>a.jsx("span",{className:"px-1.5 py-0.5 bg-purple-100 text-purple-700 rounded text-[10px] font-medium",children:B(U)},U))})]}),ce&&ce.currencies.length>0&&a.jsxs("div",{className:"mb-2",children:[a.jsx("div",{className:"text-gray-500 text-[10px] mb-1",children:"Currencies"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:ce.currencies.map(U=>a.jsx("span",{className:"px-1.5 py-0.5 bg-green-100 text-green-700 rounded text-[10px] font-medium",children:U},U))})]}),ce&&ce.countries.length>0&&a.jsxs("div",{children:[a.jsxs("div",{className:"text-gray-500 text-[10px] mb-1",children:["Countries (",ce.countries.length,")"]}),a.jsx("div",{className:"flex flex-wrap gap-0.5 max-w-[280px]",children:ce.countries.map(U=>a.jsx("span",{className:"px-1 py-0.5 bg-orange-100 text-orange-700 rounded text-[10px]",children:U},U))})]})]})]})})()]})}),a.jsx("td",{className:"py-1.5 px-2 text-gray-700 font-medium",children:(()=>{const oe=A.get(k.plan_id),ce=M(k.plan_id,(oe==null?void 0:oe.tx_types)||[]),Q=!!k.contract_fee;return a.jsxs("span",{className:"flex items-center gap-1",children:[ce&&a.jsx("span",{className:"text-gray-400",children:ce}),a.jsx("span",{children:k.formula}),Q&&a.jsx("span",{title:"From contract",children:a.jsx(Ry,{className:"w-3.5 h-3.5 text-green-500"})})]})})()}),a.jsxs("td",{className:`py-1.5 px-2 text-center font-medium ${Bm(k.confidence)}`,children:[k.confidence.toFixed(0),"%"]}),C.map((oe,ce)=>{var ze;const Q=D(k,oe),H=ce>=q&&ce<=Y,J=ce===q,U=ce===Y;if(!H)return a.jsx("td",{className:"py-1.5 px-1 text-center text-gray-300",style:{minWidth:68,maxWidth:80},children:"-"},oe);const ve=A.get(k.plan_id),fe=(ze=ve==null?void 0:ve.monthly_commission)==null?void 0:ze[oe],de=SN(fe),_e=Q?Ne(Q):"0";return a.jsx("td",{className:`py-1.5 px-1 text-center ${Q?"bg-blue-50 text-blue-800 font-medium":"bg-gray-100 text-gray-400"} ${J?"rounded-l":""} ${U?"rounded-r":""}`,style:{minWidth:68,maxWidth:80},title:de,children:de?a.jsx("span",{className:"cursor-help border-b border-dotted border-current",children:_e}):_e},oe)})]}),le&&me&&k.variants.map(oe=>{var Q;const ce=A.get(k.plan_id);return a.jsxs("tr",{className:"border-b border-gray-50 bg-gray-50/50",children:[a.jsx("td",{className:"py-1 px-2 pl-8 text-gray-600 sticky left-0 bg-gray-50/50",children:a.jsx("span",{className:oe.label==="contract"||(Q=oe.label)!=null&&Q.startsWith("contract (")&&!oe.label.includes("+")&&!oe.label.toLowerCase().includes("min")?"text-green-600 font-medium":"text-gray-400",children:oe.label||`Variant #${oe.variant_id}`})}),a.jsx("td",{className:"py-1 px-2 text-gray-600",children:oe.formula}),a.jsxs("td",{className:`py-1 px-2 text-center ${Bm(oe.confidence)}`,children:[oe.confidence.toFixed(0),"%"]}),C.map(H=>{var ze;const J=T(oe,H),U=F(k,oe,H);if(!J)return a.jsx("td",{className:"py-1 px-1 text-center text-gray-300",style:{minWidth:68,maxWidth:80},children:"-"},H);const ve=H===oe.start_date.slice(0,7),fe=H===oe.end_date.slice(0,7),de=(ze=ce==null?void 0:ce.monthly_commission)==null?void 0:ze[H],_e=SN(de);return a.jsx("td",{className:`py-1 px-1 text-center ${U?`${lne(oe.confidence)} ${Bm(oe.confidence)}`:"bg-gray-100 text-gray-400"} ${ve?"rounded-l":""} ${fe?"rounded-r":""}`,style:{minWidth:68,maxWidth:80},title:_e,children:_e?a.jsx("span",{className:"cursor-help border-b border-dotted border-current",children:U?Ne(U):"0"}):U?Ne(U):"0"},H)})]},`${k.plan_id}-v${oe.variant_id}`)})]},k.plan_id)})})]})})]})}function cne(e){return!Array.isArray(e)&&typeof e=="object"}function une(e){switch(e){case"ok":return"bg-green-50";case"warning":return"bg-yellow-50";case"error":return"bg-red-50";case"missing":return"bg-gray-100";default:return"bg-gray-50"}}function PA(e){switch(e){case"ok":return"text-green-700";case"warning":return"text-amber-700";case"error":return"text-red-700";default:return"text-gray-500"}}function dne(e,t){return e===null||t===null||Math.abs(t)<.01?"":`${e>0?"+":""}${t.toFixed(1)}%`}function fne({data:e,onClose:t,position:r}){var i;const n=r==="above"?{bottom:"100%",left:"50%",transform:"translateX(-50%)",marginBottom:"4px"}:{top:"100%",left:"50%",transform:"translateX(-50%)",marginTop:"4px"};return a.jsxs("div",{className:"absolute z-50 bg-white border border-gray-200 rounded-lg shadow-lg p-4 min-w-[420px] text-sm",style:n,children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("span",{className:"font-semibold text-gray-900",children:e.month}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:""})]}),a.jsxs("div",{className:"mb-5",children:[a.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase mb-2",children:"Transactions (Registry)"}),a.jsxs("div",{className:"grid grid-cols-4 gap-x-4 text-xs",children:[a.jsx("div",{className:"text-gray-500",children:"Amount"}),a.jsx("div",{className:"text-gray-500",children:"Count"}),a.jsx("div",{className:"text-gray-500",children:"Commission"}),a.jsx("div",{className:"text-gray-500",children:"Rate"}),a.jsx("div",{className:"font-medium text-gray-900",children:V(e.tx_amount)}),a.jsx("div",{className:"font-medium text-gray-900",children:e.tx_count.toLocaleString()}),a.jsx("div",{className:"font-medium text-gray-900",children:V(e.tx_commission)}),a.jsxs("div",{className:"font-medium text-gray-900",children:[e.tx_effective_rate.toFixed(2),"%"]})]})]}),e.recon_amount!==null&&a.jsxs("div",{className:"mb-5",children:[a.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase mb-2",children:"Reconciliation"}),a.jsxs("div",{className:"grid grid-cols-4 gap-x-4 text-xs",children:[a.jsx("div",{className:"text-gray-500",children:"Amount"}),a.jsx("div",{className:"text-gray-500",children:"Count"}),a.jsx("div",{className:"text-gray-500",children:"Commission"}),a.jsx("div",{className:"text-gray-500",children:"Rate"}),a.jsx("div",{className:"font-medium text-gray-900",children:V(e.recon_amount)}),a.jsx("div",{className:"font-medium text-gray-900",children:(e.recon_count||0).toLocaleString()}),a.jsx("div",{className:"font-medium text-gray-900",children:V(e.recon_commission||0)}),a.jsxs("div",{className:"font-medium text-gray-900",children:[(e.recon_rate||0).toFixed(2),"%"]})]})]}),e.contract_rate!==null&&a.jsxs("div",{className:"mb-5",children:[a.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase mb-2",children:"Contract"}),a.jsxs("div",{className:"text-xs",children:[a.jsx("span",{className:"text-gray-500",children:"Rate: "}),a.jsxs("span",{className:"font-medium text-gray-900",children:[e.contract_rate,"%"]})]})]}),e.amount_diff!==null&&a.jsx("div",{className:`pt-3 border-t ${e.status==="error"?"border-red-200":"border-gray-200"}`,children:a.jsxs("div",{className:`font-medium ${PA(e.status)}`,children:["Deviation: ",e.amount_diff>0?"+":"",V(e.amount_diff)," (",(i=e.deviation_percent)==null?void 0:i.toFixed(1),"%)"]})})]})}function hne({data:e,tooltipPosition:t}){const[r,n]=O.useState(!1);return e.status==="empty"?a.jsx("td",{className:"py-2 px-3 text-center text-gray-300",children:"-"}):a.jsxs("td",{className:`py-2 px-3 relative cursor-pointer ${une(e.status)}`,onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsx("span",{className:"font-medium text-gray-900",children:V(e.tx_amount)}),e.deviation_percent!==null&&Math.abs(e.deviation_percent)>=.1&&a.jsx("span",{className:`text-xs ${PA(e.status)}`,children:dne(e.amount_diff,e.deviation_percent)})]}),r&&a.jsx(fne,{data:e,onClose:()=>n(!1),position:t})]})}function mne({data:e}){return e.filter(r=>r.status!=="empty").length===0?a.jsx("div",{className:"text-gray-400 text-sm py-4",children:"No data for this currency"}):a.jsxs("table",{className:"w-full text-sm border-collapse table-fixed",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"text-left py-2 px-3 font-medium text-gray-600 w-20",children:"Month"}),a.jsx("th",{className:"text-left py-2 px-3 font-medium text-gray-600",children:"Incoming"}),a.jsx("th",{className:"text-center py-2 px-3 font-medium text-gray-600",children:"Refund"}),a.jsx("th",{className:"text-center py-2 px-3 font-medium text-gray-600",children:"Payout"})]})}),a.jsx("tbody",{children:[...e].reverse().map((r,n,i)=>a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[a.jsx("td",{className:"py-2 px-3 font-medium text-gray-700",children:r.month}),a.jsx(hne,{data:r,tooltipPosition:n>i.length/2?"above":"below"}),a.jsx("td",{className:"py-2 px-3 text-center text-gray-300",children:"-"}),a.jsx("td",{className:"py-2 px-3 text-center text-gray-300",children:"-"})]},r.month))})]})}function X0({data:e,isLoading:t}){const[r,n]=O.useState(null),{currencies:i,currencyData:s}=O.useMemo(()=>e?cne(e)?{currencies:Object.keys(e).sort((x,v)=>x==="EUR"?-1:v==="EUR"?1:x.localeCompare(v)),currencyData:e}:{currencies:["EUR"],currencyData:{EUR:e}}:{currencies:[],currencyData:{}},[e]),o=r||i[0]||"EUR",l=s[o]||[];if(t)return a.jsx(ne,{title:"Monthly Reconciliation",className:"mb-6",children:a.jsx("div",{className:"space-y-2",children:[1,2,3,4,5,6].map(y=>a.jsx(xe,{className:"h-10 w-full"},y))})});if(!e||i.length===0||!Object.values(s).some(y=>y.some(x=>x.status!=="empty")))return null;const u=l.filter(y=>y.status!=="empty"),d=u.filter(y=>y.status==="ok").length,f=u.filter(y=>y.status==="warning").length,h=u.filter(y=>y.status==="error").length,m=u.filter(y=>y.status==="missing").length;return a.jsxs(ne,{title:"Monthly Reconciliation",className:"mb-6",children:[i.length>1&&a.jsx("div",{className:"flex items-center gap-1 mb-4 border-b border-gray-200 pb-2",children:i.map(y=>{const x=s[y]||[],v=x.some(g=>g.status!=="empty"),p=x.some(g=>g.status==="warning"||g.status==="error");return a.jsxs("button",{onClick:()=>n(y),className:`px-3 py-1.5 text-sm font-medium rounded-t transition-colors ${o===y?"bg-blue-100 text-blue-700 border-b-2 border-blue-500":v?"text-gray-600 hover:bg-gray-100":"text-gray-400"}`,children:[y,p&&a.jsx("span",{className:"ml-1 w-2 h-2 inline-block rounded-full bg-amber-400"})]},y)})}),a.jsxs("div",{className:"flex items-center gap-4 mb-4 text-xs",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-3 h-3 rounded bg-green-200"}),a.jsxs("span",{className:"text-gray-600",children:["OK (",d,")"]})]}),f>0&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-3 h-3 rounded bg-yellow-200"}),a.jsxs("span",{className:"text-gray-600",children:["Warning (",f,")"]})]}),h>0&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-3 h-3 rounded bg-red-200"}),a.jsxs("span",{className:"text-gray-600",children:["Error (",h,")"]})]}),m>0&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-3 h-3 rounded bg-gray-200"}),a.jsxs("span",{className:"text-gray-600",children:["No Recon (",m,")"]})]})]}),a.jsx("div",{children:a.jsx(mne,{data:l})}),a.jsx("div",{className:"mt-4 text-xs text-gray-500",children:"Compares transaction amounts from registry files with reconciliation reports. Hover over cells to see detailed breakdown."})]})}function pne({markdown:e}){const t=O.useMemo(()=>{let r=e.trim();r.startsWith("```markdown")?r=r.slice(11):r.startsWith("```")&&(r=r.slice(3)),r.endsWith("```")&&(r=r.slice(0,-3)),r=r.trim();const n=r.split(`
`),i=[];let s=[],o=!1,l=0;const c=d=>{const f=[];return d.split(/(\*\*[^*]+\*\*)/g).forEach((m,y)=>{m.startsWith("**")&&m.endsWith("**")?f.push(a.jsx("strong",{className:"font-semibold",children:m.slice(2,-2)},y)):m&&f.push(m)}),f},u=()=>{var m;if(s.length===0)return;const d=s.length>1&&((m=s[1])==null?void 0:m.every(y=>/^[-:]+$/.test(y.trim()))),f=d?s[0]:null,h=d?s.slice(2):s;i.push(a.jsx("div",{className:"overflow-x-auto my-4",children:a.jsxs("table",{className:"w-full text-sm border-collapse",children:[f&&a.jsx("thead",{children:a.jsx("tr",{className:"bg-gray-100",children:f.map((y,x)=>a.jsx("th",{className:"border border-gray-300 px-3 py-2 text-left font-semibold text-gray-700",children:c(y)},x))})}),a.jsx("tbody",{children:h.map((y,x)=>a.jsx("tr",{className:x%2===0?"bg-white":"bg-gray-50",children:y.map((v,p)=>a.jsx("td",{className:"border border-gray-300 px-3 py-2 text-gray-600",children:c(v)},p))},x))})]})},l++)),s=[]};for(const d of n){const f=d.trim();if(f.startsWith("|")&&f.endsWith("|")){o=!0;const h=f.slice(1,-1).split("|").map(m=>m.trim());s.push(h);continue}if(o&&!f.startsWith("|")&&(u(),o=!1),/^-{3,}$/.test(f)){i.push(a.jsx("hr",{className:"my-6 border-gray-300"},l++));continue}if(f.startsWith("# ")){i.push(a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mt-6 mb-4 first:mt-0",children:c(f.slice(2))},l++));continue}if(f.startsWith("## ")){i.push(a.jsx("h2",{className:"text-xl font-semibold text-gray-800 mt-5 mb-3",children:c(f.slice(3))},l++));continue}if(f.startsWith("### ")){i.push(a.jsx("h3",{className:"text-lg font-semibold text-gray-700 mt-4 mb-2",children:c(f.slice(4))},l++));continue}if(f.startsWith("#### ")){i.push(a.jsx("h4",{className:"text-base font-semibold text-gray-700 mt-3 mb-2",children:c(f.slice(5))},l++));continue}if(f.startsWith("- ")||f.startsWith("* ")){i.push(a.jsxs("div",{className:"flex gap-2 text-gray-600 ml-4 my-1",children:[a.jsx("span",{className:"text-gray-400",children:""}),a.jsx("span",{children:c(f.slice(2))})]},l++));continue}if(f.startsWith("*")&&!f.startsWith("**")){i.push(a.jsx("p",{className:"text-sm text-gray-500 italic my-2",children:c(f.slice(1).replace(/\*$/,""))},l++));continue}f&&i.push(a.jsx("p",{className:"text-gray-600 my-2",children:c(f)},l++))}return s.length>0&&u(),i},[e]);return a.jsx("div",{className:"contract-preview max-w-none",children:t})}function xne(e){return{incoming:"Incoming",outgoing:"Outgoing",chargeback:"Chargeback",settlement:"Settlement"}[e]||e}function gne(e,t){return e?e==="card"?"Card":e==="apm"&&t?{apple_pay:"Apple Pay",google_pay:"Google Pay",blik:"BLIK",sepa:"SEPA",open_banking:"Open Banking"}[t]||t:e==="crypto"?"Crypto":e:"-"}function zm(e){return e==null?"-":`${e}%`}function Pu(e){return e==null?"-":e.toFixed(2)}function yne({fees:e}){const t=e.reduce((i,s)=>{const o=s.operation_type||"other";return i[o]||(i[o]=[]),i[o].push(s),i},{}),r=["incoming","outgoing","chargeback","settlement","other"],n=Object.keys(t).sort((i,s)=>r.indexOf(i)-r.indexOf(s));return a.jsxs("div",{className:"space-y-6",children:[n.map(i=>a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:xne(i)}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-100",children:[a.jsx("th",{className:"text-left py-2 px-3 font-medium text-gray-600",children:"Payment Type"}),a.jsx("th",{className:"text-left py-2 px-3 font-medium text-gray-600",children:"Currency"}),a.jsx("th",{className:"text-left py-2 px-3 font-medium text-gray-600",children:"Region"}),a.jsx("th",{className:"text-right py-2 px-3 font-medium text-gray-600",children:i==="outgoing"?"Payout %":"WL"}),i==="incoming"&&a.jsx("th",{className:"text-right py-2 px-3 font-medium text-gray-600",children:"FTD"}),a.jsx("th",{className:"text-right py-2 px-3 font-medium text-gray-600",children:"Fixed"}),i==="outgoing"&&a.jsx("th",{className:"text-right py-2 px-3 font-medium text-gray-600",children:"Min"}),a.jsx("th",{className:"text-right py-2 px-3 font-medium text-gray-600",children:"Refund"}),a.jsx("th",{className:"text-right py-2 px-3 font-medium text-gray-600",children:"CHB"})]})}),a.jsx("tbody",{children:t[i].map((s,o)=>{var l,c;return a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[a.jsx("td",{className:"py-2 px-3 font-medium text-gray-700",children:gne(s.payment_type,s.apm_type)}),a.jsxs("td",{className:"py-2 px-3 text-gray-600",children:[s.currency||"-",s.volume_min!==null||s.volume_max!==null?a.jsxs("span",{className:"text-xs text-gray-400 ml-1",children:["(",((l=s.volume_min)==null?void 0:l.toLocaleString())||"0","-",((c=s.volume_max)==null?void 0:c.toLocaleString())||"*",")"]}):null]}),a.jsx("td",{className:"py-2 px-3 text-gray-600",children:s.region||"-"}),a.jsx("td",{className:"py-2 px-3 text-right text-gray-600",children:zm(i==="outgoing"?s.payout_percent:s.wl_percent)}),i==="incoming"&&a.jsx("td",{className:"py-2 px-3 text-right text-gray-600",children:zm(s.ftd_percent)}),a.jsx("td",{className:"py-2 px-3 text-right text-gray-600",children:Pu(s.fixed_fee)}),i==="outgoing"&&a.jsx("td",{className:"py-2 px-3 text-right text-gray-600",children:Pu(s.payout_min)}),a.jsx("td",{className:"py-2 px-3 text-right text-gray-600",children:Pu(s.refund_fee)}),a.jsx("td",{className:"py-2 px-3 text-right text-gray-600",children:Pu(s.chb_fee)})]},o)})})]})})]},i)),e.length===0&&a.jsx("div",{className:"text-center py-8 text-gray-400",children:"No fee plans extracted from contract"})]})}function ON(e){const t=[];if(e.payment_type==="card")t.push("Card");else if(e.payment_type==="apm"&&e.apm_type){const n={apple_pay:"Apple Pay",google_pay:"Google Pay",blik:"BLIK",sepa:"SEPA",open_banking:"Open Banking"};t.push(n[e.apm_type]||e.apm_type)}else e.payment_type==="crypto"?t.push("Crypto"):e.payment_type&&t.push(e.payment_type);if(e.currency&&t.push(e.currency),e.region&&t.push(e.region),e.volume_min!==null||e.volume_max!==null){const n=e.volume_min??0,i=e.volume_max;i!==null?t.push(`(${(n/1e3).toFixed(0)}K-${(i/1e3).toFixed(0)}K)`):t.push(`(${(n/1e3).toFixed(0)}K+)`)}if(e.ftd_percent!==null&&e.wl_percent===null)t.push(`FTD ${e.ftd_percent}%`);else{const n=e.wl_percent??e.payout_percent;n!==null&&t.push(`${n}%`)}return e.fixed_fee!==null&&t.push(`+${e.fixed_fee.toFixed(2)}`),t.join(" ")}function vne({fees:e,merchantId:t,contractId:r}){const[n,i]=O.useState(null),[s,o]=O.useState(null),[l,c]=O.useState(!1),u=O.useRef(new Map),[d,f]=O.useState(null),[h,m]=O.useState(!1),y=Mc(),{data:x,isLoading:v,error:p}=ye({queryKey:["contract-mapping",t,r],queryFn:()=>se.getContractMapping(t,r,e)}),g=async()=>{m(!0);try{const N=await se.getContractMapping(t,r,e,!0);y.setQueryData(["contract-mapping",t,r],N)}finally{m(!1)}},b=(N,_)=>{if(n===N)i(null),o(null),f(null);else{const S=u.current.get(N);if(S){const C=S.getBoundingClientRect();o({top:C.bottom+4,left:Math.min(C.right-288,window.innerWidth-300)})}i(N),f(_)}};if(v)return a.jsxs("div",{className:"flex items-center justify-center h-64 text-gray-400 gap-2",children:[a.jsx(Ee,{className:"h-5 w-5 animate-spin"}),"Calculating mappings..."]});if(p)return a.jsxs("div",{className:"flex items-center justify-center h-64 text-red-500 gap-2",children:[a.jsx(nt,{className:"h-5 w-5"}),"Failed to load mappings"]});const w=(x==null?void 0:x.mappings)||[],j=(x==null?void 0:x.unmapped_fees)||[];return a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b bg-gray-50",children:[a.jsxs("span",{className:"text-xs text-gray-500",children:[w.length," rate plans mapped"]}),a.jsxs("button",{onClick:g,disabled:h,className:"flex items-center gap-1.5 px-2 py-1 text-xs text-gray-600 hover:text-gray-900 hover:bg-gray-200 rounded disabled:opacity-50",children:[a.jsx(US,{className:`h-3.5 w-3.5 ${h?"animate-spin":""}`}),"Recalculate"]})]}),a.jsx("div",{className:"flex-1 overflow-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"sticky top-0 bg-gray-50 border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Rate Plan"}),a.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Contract Plan"}),a.jsx("th",{className:"text-center py-3 px-4 font-medium text-gray-600 w-32",children:"Match"})]})}),a.jsx("tbody",{children:w.map(N=>N.matched_fees.length>0?N.matched_fees.map((S,C)=>{const P=C===0,A=`${N.plan_id}-${C}`;return a.jsxs("tr",{className:`hover:bg-gray-50 ${P?"border-t border-gray-200":""} ${C===N.matched_fees.length-1?"border-b border-gray-200":""}`,children:[a.jsx("td",{className:"py-2.5 px-4",children:P?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"font-mono text-xs text-gray-800",children:N.plan_id}),a.jsxs("div",{className:"text-xs text-gray-400 mt-0.5",children:[N.txn_count.toLocaleString()," txns",a.jsxs("span",{className:"ml-2",children:[N.avg_rate.toFixed(2),"% + ",N.avg_fixed.toFixed(2)]})]})]}):a.jsx("span",{className:"text-gray-300 text-xs pl-2",children:""})}),a.jsx("td",{className:"py-2.5 px-4",children:a.jsx("span",{className:"text-gray-700",children:ON(S.fee)})}),a.jsx("td",{className:"py-2.5 px-4 text-center",children:a.jsxs("div",{className:"relative inline-flex items-center gap-1",children:[a.jsx("span",{className:`font-medium ${S.txn_match_percent!==null&&S.txn_match_percent>=90?"text-green-600":S.txn_match_percent!==null&&S.txn_match_percent>=70?"text-yellow-600":"text-red-600"}`,children:S.txn_match_percent!==null?`${S.txn_match_percent}%`:"-"}),a.jsx("span",{className:"text-gray-400 mx-0.5",children:"/"}),a.jsxs("span",{className:"text-green-600 font-medium",children:[S.condition_match_percent,"%"]}),a.jsx("button",{ref:E=>{E&&u.current.set(A,E)},onClick:()=>b(A,S),className:"p-0.5 hover:bg-gray-200 rounded text-gray-400 hover:text-gray-600",children:a.jsx(yo,{className:"h-3.5 w-3.5"})})]})})]},A)}):a.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[a.jsxs("td",{className:"py-2.5 px-4",children:[a.jsx("div",{className:"font-mono text-xs text-gray-800",children:N.plan_id}),a.jsxs("div",{className:"text-xs text-gray-400 mt-0.5",children:[N.txn_count.toLocaleString()," txns",a.jsxs("span",{className:"ml-2",children:[N.avg_rate.toFixed(2),"% + ",N.avg_fixed.toFixed(2)]})]})]}),a.jsx("td",{className:"py-2.5 px-4",children:a.jsxs("span",{className:"text-amber-600 flex items-center gap-1",children:[a.jsx(nt,{className:"h-3.5 w-3.5"}),"No match"]})}),a.jsx("td",{className:"py-2.5 px-4 text-center",children:a.jsx("span",{className:"text-gray-300",children:"-"})})]},N.plan_id))})]})}),j.length>0&&a.jsxs("div",{className:"border-t bg-gray-50 px-4 py-2",children:[a.jsxs("button",{onClick:()=>c(!l),className:"flex items-center gap-2 text-sm text-gray-500 hover:text-gray-700",children:[l?a.jsx(cr,{className:"h-4 w-4"}):a.jsx(qe,{className:"h-4 w-4"}),j.length," contract fees without rate plans"]}),l&&a.jsx("div",{className:"mt-2 space-y-1",children:j.map((N,_)=>a.jsxs("div",{className:"text-xs text-gray-500 pl-6",children:[" ",ON(N)]},_))})]}),n&&d&&s&&iS.createPortal(a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-[60]",onClick:()=>{i(null),o(null),f(null)}}),a.jsxs("div",{className:"fixed z-[61] w-72 bg-white border rounded-lg shadow-lg p-3",style:{top:s.top,left:s.left},children:[a.jsxs("div",{className:"text-xs font-medium text-gray-700 mb-1",children:["Transaction Rate Match (",d.txn_match_percent??"-","%)"]}),a.jsx("div",{className:"text-xs text-gray-600 font-mono bg-gray-50 p-2 rounded mb-2 whitespace-pre-line",children:d.txn_reasoning}),a.jsxs("div",{className:"text-xs font-medium text-gray-700 mb-1",children:["Condition Match (",d.condition_match_percent,"%)"]}),a.jsx("div",{className:"text-xs text-gray-600 font-mono bg-gray-50 p-2 rounded",children:d.condition_reasoning})]})]}),document.body)]})}function bne({merchantId:e,shortname:t,existingContract:r,onClose:n}){var _;const[i,s]=O.useState("preview"),[o,l]=O.useState(!1),[c,u]=O.useState(null),d=O.useRef(null),{data:f,isLoading:h}=ye({queryKey:["contract",t||e,r==null?void 0:r.contract_id],queryFn:()=>t?se.getContractByShortname(t,r.contract_id):se.getContract(e,r.contract_id),enabled:!!r&&!!(t||e)}),m=BE({mutationFn:S=>se.uploadContract(e,S),onSuccess:S=>{u(S)}});O.useEffect(()=>{const S=C=>{C.key==="Escape"&&n()};return window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)},[n]);const y=O.useCallback(S=>{S.preventDefault(),l(!0)},[]),x=O.useCallback(S=>{S.preventDefault(),l(!1)},[]),v=O.useCallback(S=>{S.preventDefault(),l(!1);const C=S.dataTransfer.files[0];C&&(C.name.endsWith(".pdf")||C.name.endsWith(".docx"))&&m.mutate(C)},[m]),p=S=>{var P;const C=(P=S.target.files)==null?void 0:P[0];C&&m.mutate(C)},g=()=>{var S;(S=d.current)==null||S.click()},b=m.isPending,w=!!(c||f),j=c||f||null,N=[{id:"preview",label:"Preview"},{id:"plans",label:"Plans"},{id:"mapping",label:"Mapping"}];return a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:n}),a.jsxs("div",{className:"relative bg-white rounded-xl shadow-2xl w-[900px] max-h-[85vh] flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:r?`Contract: ${r.contract_id}`:"Upload Contract"}),a.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(Wt,{className:"h-5 w-5 text-gray-500"})})]}),a.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[!w&&!b&&a.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[a.jsxs("div",{onDragOver:y,onDragLeave:x,onDrop:v,onClick:g,className:`
                  flex-1 border-2 border-dashed rounded-lg cursor-pointer
                  flex flex-col items-center justify-center gap-4
                  transition-colors
                  ${o?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400 hover:bg-gray-50"}
                `,children:[a.jsx(zT,{className:`h-12 w-12 ${o?"text-blue-500":"text-gray-400"}`}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-gray-700 font-medium",children:"Drag and drop a contract file"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"or click to browse"}),a.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Supports PDF and DOCX"})]}),a.jsx("input",{ref:d,type:"file",accept:".pdf,.docx",onChange:p,className:"hidden"})]}),m.isError&&a.jsxs("div",{className:"mt-4 p-3 bg-red-50 rounded-lg flex items-start gap-2",children:[a.jsx(gd,{className:"h-5 w-5 text-red-500 flex-shrink-0 mt-0.5"}),a.jsx("div",{className:"text-sm text-red-700",children:((_=m.error)==null?void 0:_.message)||"Upload failed"})]})]}),(b||h)&&a.jsxs("div",{className:"p-6 flex-1 flex flex-col items-center justify-center gap-4",children:[a.jsx(Ee,{className:"h-10 w-10 text-blue-500 animate-spin"}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-gray-700 font-medium",children:b?"Converting contract...":"Loading contract..."}),b&&a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"This may take a minute"})]})]}),w&&j&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"px-6 border-b border-gray-200",children:a.jsx("div",{className:"flex gap-1",children:N.map(S=>a.jsx("button",{onClick:()=>s(S.id),className:`
                        px-4 py-3 text-sm font-medium border-b-2 -mb-px transition-colors
                        ${i===S.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}
                      `,children:S.label},S.id))})}),a.jsxs("div",{className:`flex-1 overflow-auto ${i==="mapping"?"":"p-6"}`,children:[i==="preview"&&a.jsx(pne,{markdown:j.markdown}),i==="plans"&&a.jsx(yne,{fees:j.plan.fees}),i==="mapping"&&j.plan&&e&&a.jsx(vne,{fees:j.plan.fees,merchantId:e,contractId:j.plan.contract_id})]})]})]}),w&&a.jsx("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end",children:a.jsx(Bs,{onClick:n,children:"Close"})})]})]})}function AA({merchantId:e,shortname:t,readonly:r=!1}){const n=t||e,[i,s]=O.useState(!1),[o,l]=O.useState(null),c=Mc(),{data:u=[],isLoading:d}=ye({queryKey:["contracts",n],queryFn:()=>t?se.getContractsByShortname(t):se.getContracts(e),enabled:!!n}),f=()=>{l(null),s(!0)},h=x=>{l(x),s(!0)},m=async(x,v)=>{if(v.stopPropagation(),!!confirm("Delete this contract?"))try{await se.deleteContract(e,x),c.invalidateQueries({queryKey:["contracts",n]})}catch(p){console.error("Failed to delete contract:",p)}},y=()=>{s(!1),l(null),c.invalidateQueries({queryKey:["contracts",n]})};return a.jsxs(a.Fragment,{children:[a.jsx(ne,{title:"Contracts",className:"mb-6",actions:a.jsxs(Bs,{onClick:f,variant:"primary",size:"sm",disabled:r,title:r?"Connect to backend to add contracts":void 0,children:[a.jsx(Oi,{className:"h-4 w-4 mr-1"}),"Add"]}),children:d?a.jsx("div",{className:"text-gray-500 text-sm",children:"Loading contracts..."}):u.length===0?a.jsx("div",{className:"text-gray-400 text-sm py-8 text-center",children:'No contracts uploaded yet. Click "Add" to upload a contract.'}):a.jsx("div",{className:"space-y-2",children:u.map(x=>a.jsxs("div",{onClick:()=>h(x),className:"flex items-center justify-between p-3 bg-gray-50 hover:bg-gray-100 rounded-lg cursor-pointer transition-colors group",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Ri,{className:"h-5 w-5 text-gray-400"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:x.contract_id}),a.jsxs("div",{className:"text-sm text-gray-500",children:[x.company_name,"  ",x.fee_count," fees"]})]})]}),a.jsx("button",{onClick:v=>m(x.contract_id,v),className:"p-2 text-gray-400 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",title:"Delete contract",children:a.jsx(By,{className:"h-4 w-4"})})]},x.contract_id))})}),i&&(e||t)&&a.jsx(bne,{merchantId:e,shortname:t,existingContract:o,onClose:y})]})}function jne({contractDetail:e,highlightFee:t,onClose:r}){const n=O.useRef(null),i=t;O.useEffect(()=>{const l=c=>{c.key==="Escape"&&r()};return window.addEventListener("keydown",l),()=>window.removeEventListener("keydown",l)},[r]),O.useEffect(()=>{n.current&&setTimeout(()=>{var l;(l=n.current)==null||l.scrollIntoView({behavior:"smooth",block:"center"})},100)},[]);const s=O.useMemo(()=>{if(!(i!=null&&i.source))return null;const l=i.source.toLowerCase();return l.includes("incoming")&&l.includes("card")?"incoming cards":l.includes("incoming")&&l.includes("apm")?"incoming apm":l.includes("incoming")&&l.includes("crypto")?"incoming crypto":l.includes("outgoing")&&l.includes("card")?"outgoing cards":l.includes("outgoing")&&l.includes("apm")?"outgoing apm":l.includes("settlement")?"settlement":null},[i]),o=O.useMemo(()=>{let l=e.markdown.trim();l.startsWith("```markdown")?l=l.slice(11):l.startsWith("```")&&(l=l.slice(3)),l.endsWith("```")&&(l=l.slice(0,-3)),l=l.trim();const c=l.split(`
`),u=[];let d=[],f=!1,h=0,m="";const y=b=>{const w=[];return b.split(/(\*\*[^*]+\*\*)/g).forEach((N,_)=>{N.startsWith("**")&&N.endsWith("**")?w.push(a.jsx("strong",{className:"font-semibold",children:N.slice(2,-2)},_)):N&&w.push(N)}),w},x=()=>s?m.toLowerCase().includes(s):!0,v=b=>{if(!i||!x())return!1;const w=b.map(_=>_.toLowerCase().trim()),j=w.join(" ");if(i.operation_type){const _=i.operation_type.toLowerCase();if(_==="incoming"&&!m.toLowerCase().includes("incoming")||_==="outgoing"&&!m.toLowerCase().includes("outgoing"))return!1}if(i.region){const _=i.region.toLowerCase();if(_==="eea"){if(!j.includes("eea"))return!1}else if((_==="row"||_==="worldwide")&&!j.includes("row")&&!j.includes("worldwide")&&!j.includes("rest of world"))return!1}const N=i.wl_percent??i.payout_percent??i.ftd_percent;if(N!=null){const _=String(N);if(!w.some(C=>C===_||C===`${_}%`||C.includes(_)))return!1}if(i.fixed_fee!==null&&i.fixed_fee!==void 0){const _=String(i.fixed_fee);if(!w.some(C=>C.includes(_)))return!1}return!((i.volume_min!==null||i.volume_max!==null)&&!w.some(S=>{if(i.volume_min===0&&i.volume_max){const C=p(i.volume_max);return S.includes("0")&&(S.includes(C)||S.includes("-"))}if(i.volume_min&&i.volume_max===null){const C=p(i.volume_min);return S.includes(C)||S.includes("+")}if(i.volume_min&&i.volume_max){const C=p(i.volume_min),P=p(i.volume_max);return S.includes(C)||S.includes(P)}return!1}))};function p(b){return b>=1e6?String(b/1e6):String(b)}const g=()=>{var _;if(d.length===0)return;const b=d.length>1&&((_=d[1])==null?void 0:_.cells.every(S=>/^[-:]+$/.test(S.trim()))),w=b?d[0]:null,j=b?d.slice(2):d,N=j.findIndex(S=>S.isHighlighted);u.push(a.jsx("div",{className:"overflow-x-auto my-4",children:a.jsxs("table",{className:"w-full text-sm border-collapse",children:[w&&a.jsx("thead",{children:a.jsx("tr",{className:"bg-gray-100",children:w.cells.map((S,C)=>a.jsx("th",{className:"border border-gray-300 px-3 py-2 text-left font-semibold text-gray-700",children:y(S)},C))})}),a.jsx("tbody",{children:j.map((S,C)=>{const P=S.isHighlighted;return a.jsx("tr",{ref:P&&N===C?n:void 0,className:P?"bg-yellow-100 ring-2 ring-yellow-400 ring-inset":C%2===0?"bg-white":"bg-gray-50",children:S.cells.map((A,E)=>a.jsx("td",{className:`border border-gray-300 px-3 py-2 ${P?"text-gray-900 font-medium":"text-gray-600"}`,children:y(A)},E))},C)})})]})},h++)),d=[]};for(const b of c){const w=b.trim();if((w.startsWith("## ")||w.startsWith("### "))&&(m=w.replace(/^#+\s*/,"")),w.startsWith("|")&&w.endsWith("|")){f=!0;const j=w.slice(1,-1).split("|").map(_=>_.trim()),N=v(j);d.push({cells:j,isHighlighted:N});continue}if(f&&!w.startsWith("|")&&(g(),f=!1),/^-{3,}$/.test(w)){u.push(a.jsx("hr",{className:"my-6 border-gray-300"},h++));continue}if(w.startsWith("# ")){u.push(a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mt-6 mb-4 first:mt-0",children:y(w.slice(2))},h++));continue}if(w.startsWith("## ")){u.push(a.jsx("h2",{className:"text-xl font-semibold text-gray-800 mt-5 mb-3",children:y(w.slice(3))},h++));continue}if(w.startsWith("### ")){u.push(a.jsx("h3",{className:"text-lg font-semibold text-gray-700 mt-4 mb-2",children:y(w.slice(4))},h++));continue}if(w.startsWith("#### ")){u.push(a.jsx("h4",{className:"text-base font-semibold text-gray-700 mt-3 mb-2",children:y(w.slice(5))},h++));continue}if(w.startsWith("- ")||w.startsWith("* ")){u.push(a.jsxs("div",{className:"flex gap-2 text-gray-600 ml-4 my-1",children:[a.jsx("span",{className:"text-gray-400",children:""}),a.jsx("span",{children:y(w.slice(2))})]},h++));continue}if(w.startsWith("*")&&!w.startsWith("**")){u.push(a.jsx("p",{className:"text-sm text-gray-500 italic my-2",children:y(w.slice(1).replace(/\*$/,""))},h++));continue}w&&u.push(a.jsx("p",{className:"text-gray-600 my-2",children:y(w)},h++))}return d.length>0&&g(),u},[e.markdown,i,s]);return a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:r}),a.jsxs("div",{className:"relative bg-white rounded-xl shadow-2xl w-[900px] max-h-[85vh] flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Contract: ",e.contract_id]}),(i==null?void 0:i.source)&&a.jsxs("p",{className:"text-sm text-gray-500 mt-0.5",children:["Highlighting: ",i.source]})]}),a.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(Wt,{className:"h-5 w-5 text-gray-500"})})]}),a.jsx("div",{className:"flex-1 overflow-auto p-6",children:a.jsx("div",{className:"contract-preview max-w-none",children:o})}),a.jsx("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end",children:a.jsx(Bs,{onClick:r,children:"Close"})})]})]})}function wne(){return a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx(xe,{className:"h-10 w-10 rounded-lg"}),a.jsxs("div",{className:"flex-1",children:[a.jsx(xe,{className:"h-7 w-64 mb-2"}),a.jsx(xe,{className:"h-4 w-32"})]})]}),a.jsx(ne,{title:"General Info",className:"mb-6",children:a.jsx("div",{className:"grid grid-cols-3 gap-4",children:[1,2,3].map(e=>a.jsxs("div",{children:[a.jsx(xe,{className:"h-4 w-20 mb-2"}),a.jsx(xe,{className:"h-6 w-32"})]},e))})}),a.jsx(ne,{title:"Stats",className:"mb-6",children:a.jsx(JS,{children:[1,2,3,4].map(e=>a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsx(xe,{className:"h-8 w-24 mb-2"}),a.jsx(xe,{className:"h-4 w-20"})]},e))})})]})}function Nne(){var p;const{id:e}=xo(),t=parseInt(e||"0",10),r=Mc(),n=Kf(),[i,s]=O.useState(!1),[o,l]=O.useState(!1),[c,u]=O.useState(null),d=async()=>{s(!0);try{await se.refreshMerchant(t),await r.invalidateQueries({queryKey:["merchant",t]}),await r.invalidateQueries({queryKey:["merchant-monthly",t]}),await r.invalidateQueries({queryKey:["merchant-dynamics",t]})}finally{s(!1)}},f=async()=>{if(confirm("This will delete existing rate plans, recreate them from transaction data, and apply contract rates. Continue?")){l(!0),u(null);try{const g=await se.recreateRatePlans(t);let b=0;try{b=(await se.applyContractRates(t)).relationships_updated}catch{}u({plans:g.plans_created,transactions:g.transactions_linked,ratesApplied:b}),await r.invalidateQueries({queryKey:["merchant",t]}),await r.invalidateQueries({queryKey:["merchant-dynamics",t]})}catch(g){alert(`Failed to recreate rate plans: ${g.message}`)}finally{l(!1)}}},{data:h,isLoading:m}=ye({queryKey:["merchant",t],queryFn:()=>se.getMerchant(t),enabled:!!t}),{data:y,isLoading:x}=ye({queryKey:["merchant-monthly",t],queryFn:()=>se.getMerchantMonthly(t),enabled:!!t}),v=h==null?void 0:h.monthly_reconciliation;return m?a.jsx(wne,{}):h?a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx(Ie,{to:"/merchants",className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(kr,{className:"h-5 w-5 text-gray-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"flex items-center gap-3",children:a.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:h.merchant_name})}),h.merchant_group&&a.jsx("span",{className:"text-sm text-gray-500",children:h.merchant_group})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:f,disabled:o||n,className:"flex items-center gap-2 px-3 py-1.5 text-sm font-medium text-blue-600 hover:bg-blue-50 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:n?"Connect to backend to recreate plans":"Recreate RatePlan nodes from transactions",children:[a.jsx(Iy,{className:`h-4 w-4 ${o?"animate-pulse":""}`}),o?"Recreating...":"Recreate Plans"]}),a.jsx("button",{onClick:d,disabled:i||n,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:n?"Connect to backend to refresh":"Refresh cache",children:a.jsx(US,{className:`h-5 w-5 text-gray-600 ${i?"animate-spin":""}`})})]})]}),c&&a.jsxs("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-lg flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-green-800",children:["Created ",c.plans," rate plans, linked ",c.transactions.toLocaleString()," transactions",c.ratesApplied?`, applied contract rates to ${c.ratesApplied.toLocaleString()} transactions`:""]}),a.jsx("button",{onClick:()=>u(null),className:"text-green-600 hover:text-green-800",children:"Dismiss"})]}),a.jsx(ne,{title:"General Info",className:"mb-6",children:a.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Manager (KAM)"}),a.jsx("div",{className:"font-medium text-gray-900",children:h.kam||"-"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-500",children:"First Transaction"}),a.jsx("div",{className:"font-medium text-gray-900",children:Bf(h.first_transaction_date)})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Contract ID"}),a.jsx("div",{className:"font-medium text-gray-900",children:h.contract_id||"-"})]})]})}),a.jsxs(ne,{title:"Stats",className:"mb-6",children:[a.jsxs(JS,{className:"mb-6",children:[a.jsx(wr,{label:"Transactions",value:Ne(h.transaction_count)}),a.jsx(wr,{label:"Total Volume",value:V(h.total_amount_eur)}),a.jsx(wr,{label:"Accept Rate",value:a.jsx("span",{className:"text-green-600",children:lt(h.acceptance_rate)}),subValue:`${Ne(h.approved_count)} approved / ${Ne(h.declined_count)} declined`}),a.jsx(wr,{label:"Total Commission",value:V(h.total_commission_eur)})]}),a.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"By Transaction Type"}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[a.jsx("div",{className:"text-lg font-semibold text-blue-900",children:Ne(h.sale_count)}),a.jsx("div",{className:"text-sm text-blue-600",children:"Sales"}),a.jsx("div",{className:"text-xs text-blue-500 mt-1",children:V(h.sale_amount)})]}),a.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[a.jsx("div",{className:"text-lg font-semibold text-purple-900",children:Ne(h.payout_count)}),a.jsx("div",{className:"text-sm text-purple-600",children:"Payouts"}),a.jsx("div",{className:"text-xs text-purple-500 mt-1",children:V(h.payout_amount)})]}),a.jsxs("div",{className:"bg-amber-50 rounded-lg p-4",children:[a.jsx("div",{className:"text-lg font-semibold text-amber-900",children:Ne(h.reversal_count)}),a.jsx("div",{className:"text-sm text-amber-600",children:"Reversals"}),a.jsx("div",{className:"text-xs text-amber-500 mt-1",children:V(h.reversal_amount)})]})]})]})]}),h.currency_breakdown&&h.currency_breakdown.length>0&&a.jsx(ne,{title:"Currency Breakdown (Approved Sales)",className:"mb-6",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"text-left py-2 px-3 font-medium text-gray-600",children:"Currency"}),a.jsx("th",{className:"text-right py-2 px-3 font-medium text-gray-600",children:"Count"}),a.jsx("th",{className:"text-right py-2 px-3 font-medium text-gray-600",children:"Amount (EUR)"})]})}),a.jsx("tbody",{children:h.currency_breakdown.map(g=>a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[a.jsx("td",{className:"py-2 px-3 font-medium",children:g.currency}),a.jsx("td",{className:"py-2 px-3 text-right",children:Ne(g.cnt)}),a.jsx("td",{className:"py-2 px-3 text-right",children:V(g.amount)})]},g.currency))})]})})}),a.jsx(ne,{title:"Processing Partners",className:"mb-6",children:a.jsx("div",{className:"flex flex-wrap gap-2",children:((p=h.partners)==null?void 0:p.length)>0?h.partners.map(g=>a.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-gray-100 text-gray-700 rounded",children:g},g)):a.jsx("span",{className:"text-gray-400 text-sm",children:"No partners"})})}),a.jsx(CA,{merchantId:t}),a.jsx(AA,{merchantId:t,readonly:n}),a.jsx(X0,{data:v,isLoading:m}),a.jsx(Yre,{data:y||[],isLoading:x})]}):a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"text-red-500",children:"Merchant not found"})})}function _ne(){return a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx(xe,{className:"h-10 w-10 rounded-lg"}),a.jsxs("div",{className:"flex-1",children:[a.jsx(xe,{className:"h-7 w-64 mb-2"}),a.jsx(xe,{className:"h-4 w-48"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsx(xe,{className:"h-48"}),a.jsx(xe,{className:"h-48"})]})]})}function Sne(e){return e?{incoming:"Incoming",outgoing:"Outgoing",chargeback:"Chargeback",refund:"Refund",settlement:"Settlement"}[e.toLowerCase()]||e:"-"}function One(e,t){return e?{card:"Card",apm:t?kA(t):"APM",crypto:"Crypto"}[e.toLowerCase()]||e:"-"}function kA(e){return{apple_pay:"Apple Pay",google_pay:"Google Pay",blik:"BLIK",sepa:"SEPA",openbanking:"Open Banking",open_banking:"Open Banking"}[e.toLowerCase()]||e}function Cne(e){return e?{EEA:"EEA",WW:"Worldwide",RoW:"Worldwide",UK:"United Kingdom",DOM:"Domestic",Domestic:"Domestic"}[e]||e:"-"}function CN(e){return e==null?"":e===0?"0":e>=1e6?`${(e/1e6).toFixed(1)}M`:e>=1e3?`${(e/1e3).toFixed(0)}K`:`${e.toFixed(0)}`}function Pne(e,t){const r=e.toUpperCase().split("_"),n={};r.includes("IN")||r.includes("INCOMING")?n.operation_type="incoming":(r.includes("OUT")||r.includes("OUTGOING")||r.includes("PAYOUT"))&&(n.operation_type="outgoing");const i=["EUR","USD","GBP","PLN","CZK","CHF","SEK","NOK","DKK"];for(const s of i)if(r.includes(s)){n.currency=s;break}return!n.currency&&t&&(n.currency=t),r.includes("EEA")?n.region="EEA":r.includes("WW")||r.includes("ROW")?n.region="WW":r.includes("UK")?n.region="UK":r.includes("DOM")&&(n.region="DOM"),r.includes("CARD")||r.includes("WL")?n.payment_type="card":r.includes("APPLEPAY")||r.includes("APPLE")?(n.payment_type="apm",n.apm_type="apple_pay"):r.includes("GOOGLEPAY")||r.includes("GOOGLE")?(n.payment_type="apm",n.apm_type="google_pay"):r.includes("SEPA")?(n.payment_type="apm",n.apm_type="sepa"):r.includes("BLIK")?(n.payment_type="apm",n.apm_type="blik"):r.includes("APM")&&(n.payment_type="apm"),n}function Ane(){var N,_,S;const{merchantId:e,planKey:t}=xo(),r=parseInt(e||"0",10),n=decodeURIComponent(t||""),[i,s]=O.useState(!1),{data:o,isLoading:l}=ye({queryKey:["merchant",r],queryFn:()=>se.getMerchant(r),enabled:!!r}),{data:c,isLoading:u}=ye({queryKey:["merchant-rate-plan-analysis",r],queryFn:()=>se.getMerchantRatePlanAnalysis(r),enabled:!!r}),d=(c==null?void 0:c.plans.find(C=>C.plan_id===n))||null,{data:f}=ye({queryKey:["contracts",r],queryFn:()=>se.getContracts(r),enabled:!!r}),h=(N=f==null?void 0:f[0])==null?void 0:N.contract_id,{data:m}=ye({queryKey:["contract",r,h],queryFn:()=>se.getContract(r,h),enabled:!!r&&!!h}),{data:y}=ye({queryKey:["contract-mapping",r,h],queryFn:()=>se.getContractMapping(r,h,m.plan.fees),enabled:!!r&&!!h&&!!((_=m==null?void 0:m.plan)!=null&&_.fees)}),x=O.useMemo(()=>y!=null&&y.mappings&&y.mappings.find(C=>C.plan_id===n)||null,[y,n]),v=O.useMemo(()=>x!=null&&x.matched_fees?[...x.matched_fees].sort((C,P)=>{const A=P.condition_match_percent-C.condition_match_percent;return A!==0?A:(P.txn_match_percent||0)-(C.txn_match_percent||0)}):[],[x]),p=((S=v[0])==null?void 0:S.fee)||null;if(l||u)return a.jsx(_ne,{});const b=v.length>0,w=p?{operation_type:p.operation_type,currency:p.currency,region:p.region,payment_type:p.payment_type,apm_type:p.apm_type,card_brand:p.card_brand}:Pne(n,d==null?void 0:d.currency),j=v.length>1||p&&(p.volume_min!==null||p.volume_max!==null);return a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx(Ie,{to:`/merchant/${r}`,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(kr,{className:"h-5 w-5 text-gray-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-900 font-mono",children:n}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[a.jsx("span",{children:(o==null?void 0:o.merchant_name)||`Merchant #${r}`}),(o==null?void 0:o.contract_id)&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-gray-300",children:"|"}),a.jsx("span",{children:o.contract_id})]})]})]})]}),a.jsxs(ne,{title:"General",className:"mb-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Plan Key"}),a.jsx("div",{className:"font-mono text-gray-900 break-all",children:n})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Source"}),b?a.jsxs("button",{onClick:()=>s(!0),className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-green-50 text-green-700 rounded-lg hover:bg-green-100 transition-colors",children:[a.jsx(Ri,{className:"h-4 w-4"}),a.jsx("span",{className:"font-medium",children:"Contract"}),a.jsx(Ls,{className:"h-3.5 w-3.5"})]}):a.jsxs("div",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-purple-50 text-purple-700 rounded-lg",children:[a.jsx(LT,{className:"h-4 w-4"}),a.jsx("span",{className:"font-medium",children:"Virtual"})]})]}),d&&a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Formula"}),a.jsx("div",{className:"text-lg font-medium text-gray-900",children:d.formula})]})]}),a.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-100",children:[a.jsx("div",{className:"text-sm font-medium text-gray-700 mb-3",children:"Matching Conditions"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Type"}),a.jsx("div",{className:"px-2 py-1 bg-blue-50 text-blue-700 rounded text-sm font-medium",children:Sne(w.operation_type)})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Currency"}),a.jsx("div",{className:"px-2 py-1 bg-green-50 text-green-700 rounded text-sm font-medium",children:w.currency||"-"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Region"}),a.jsx("div",{className:"px-2 py-1 bg-orange-50 text-orange-700 rounded text-sm font-medium",children:Cne(w.region)})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Payment"}),a.jsx("div",{className:"px-2 py-1 bg-purple-50 text-purple-700 rounded text-sm font-medium",children:One(w.payment_type,w.apm_type)})]}),w.apm_type&&a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"APM Type"}),a.jsx("div",{className:"px-2 py-1 bg-indigo-50 text-indigo-700 rounded text-sm font-medium",children:kA(w.apm_type)})]}),w.card_brand&&a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Card Brand"}),a.jsx("div",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded text-sm font-medium",children:w.card_brand})]})]})]}),d&&a.jsx("div",{className:"mt-6 pt-6 border-t border-gray-100",children:a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Confidence"}),a.jsxs("div",{className:`text-lg font-medium ${d.confidence>=95?"text-green-600":d.confidence>=80?"text-yellow-600":"text-red-600"}`,children:[d.confidence.toFixed(0),"%"]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Transactions"}),a.jsx("div",{className:"text-lg font-medium text-gray-900",children:d.total_transactions.toLocaleString()})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Variants"}),a.jsx("div",{className:"text-lg font-medium text-gray-900",children:d.variants.length})]}),x&&a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Avg Rate"}),a.jsxs("div",{className:"text-lg font-medium text-gray-900",children:[x.avg_rate.toFixed(2),"%",a.jsxs("span",{className:"text-sm text-gray-500 ml-1",children:["+ ",x.avg_fixed.toFixed(2)]})]})]})]})}),j&&v.length>0&&a.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-100",children:[a.jsx("div",{className:"text-sm font-medium text-gray-700 mb-3",children:"Volume Tiers"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50",children:[a.jsx("th",{className:"text-left px-3 py-2 font-medium text-gray-600",children:"Volume Range"}),a.jsx("th",{className:"text-left px-3 py-2 font-medium text-gray-600",children:"Rate"}),a.jsx("th",{className:"text-left px-3 py-2 font-medium text-gray-600",children:"Fixed"}),a.jsx("th",{className:"text-left px-3 py-2 font-medium text-gray-600",children:"Condition Match"}),a.jsx("th",{className:"text-left px-3 py-2 font-medium text-gray-600",children:"Txn Match"})]})}),a.jsx("tbody",{children:v.map((C,P)=>{const A=C.fee,E=A.wl_percent??A.payout_percent??A.ftd_percent,W=A.volume_min!==null||A.volume_max!==null?`${CN(A.volume_min??0)} - ${CN(A.volume_max)}`:"All";return a.jsxs("tr",{className:`border-b border-gray-100 ${P===0?"bg-yellow-50":""}`,children:[a.jsx("td",{className:"px-3 py-2 font-medium",children:W}),a.jsx("td",{className:"px-3 py-2",children:E!==null?`${E}%`:"-"}),a.jsx("td",{className:"px-3 py-2",children:A.fixed_fee!==null?`${A.fixed_fee}`:"-"}),a.jsx("td",{className:"px-3 py-2",children:a.jsxs("span",{className:C.condition_match_percent>=100?"text-green-600":"text-yellow-600",children:[C.condition_match_percent,"%"]})}),a.jsx("td",{className:"px-3 py-2",children:a.jsx("span",{className:C.txn_match_percent!==null?C.txn_match_percent>=95?"text-green-600":C.txn_match_percent>=80?"text-yellow-600":"text-red-600":"text-gray-400",children:C.txn_match_percent!==null?`${C.txn_match_percent}%`:"-"})})]},P)})})]})})]})]}),d&&c&&a.jsx(ene,{merchantId:r,planId:n,plan:d,months:c.months}),i&&m&&p&&a.jsx(jne,{contractDetail:m,highlightFee:p,onClose:()=>s(!1)})]})}const kne={0:{label:"STRICT",color:"text-red-700",bg:"bg-red-100"},1:{label:"HIGH",color:"text-orange-700",bg:"bg-orange-100"},2:{label:"MEDIUM",color:"text-yellow-700",bg:"bg-yellow-100"},3:{label:"LOW",color:"text-gray-600",bg:"bg-gray-100"}},Ene={any:"Wildcard",reject:"Required",exact:"Exact Match"},$ne={SHOW:"show",ADD:"+",SUB:"-",MUL:"x",MUL_PCT:"x%",DIV:"/",DIV_PCT:"/%",MAX:"max",MIN:"min"},PN=[{value:"SHOW",label:"SHOW",description:"Display value only",needsB:!1},{value:"ADD",label:"ADD (+)",description:"a + b",needsB:!0},{value:"SUB",label:"SUB (-)",description:"a - b",needsB:!0},{value:"MUL",label:"MUL (x)",description:"a x b",needsB:!0},{value:"MUL_PCT",label:"MUL_PCT (x%)",description:"a x (b/100)",needsB:!0},{value:"DIV",label:"DIV (/)",description:"a / b",needsB:!0},{value:"DIV_PCT",label:"DIV_PCT (/%)",description:"(a/b) x 100",needsB:!0},{value:"MAX",label:"MAX",description:"max(a, b)",needsB:!0},{value:"MIN",label:"MIN",description:"min(a, b)",needsB:!0}],Tne=[{value:"CURRENCY",label:"Currency (1,234.56)"},{value:"CURRENCY_PLAIN",label:"Currency Plain (1,234.56)"},{value:"PERCENT",label:"Percent (6.00%)"},{value:"PERCENT_PRECISE",label:"Percent Precise (6.0000%)"},{value:"NUMBER",label:"Number (1,234.56)"},{value:"INTEGER",label:"Integer (1,234)"}];function sl({priority:e}){const t=kne[e];return a.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${t.bg} ${t.color}`,children:t.label})}function Mne({formula:e,calc:t}){if(e)return a.jsx("code",{className:"text-xs bg-blue-50 text-blue-700 px-2 py-1 rounded font-mono",children:e});const r=[];for(const i of t.steps)if(i.op!=="SHOW")switch(i.op){case"MUL_PCT":r.push(`(${i.a} x ${i.b}%)`);break;case"ADD":r.length>0?r.push(`+ ${i.b}`):r.push(`${i.a} + ${i.b}`);break;case"SUB":r.length>0?r.push(`- ${i.b}`):r.push(`${i.a} - ${i.b}`);break;case"MAX":r.push(`max(..., ${i.b})`);break;case"MIN":r.push(`min(..., ${i.b})`);break;case"DIV_PCT":r.push(`(${i.a} / ${i.b}) x 100`);break;case"DIV":r.push(`${i.a} / ${i.b}`);break;case"MUL":r.push(`${i.a} x ${i.b}`);break}const n=r.join(" ");return a.jsx("code",{className:"text-xs bg-blue-50 text-blue-700 px-2 py-1 rounded font-mono",children:n||t.description||t.name})}function Rne({calc:e,expanded:t,onToggleExpand:r,onEdit:n}){return a.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-t-lg",children:[a.jsx("button",{onClick:r,className:"p-0.5 hover:bg-gray-200 rounded",children:t?a.jsx(qe,{className:"w-4 h-4 text-gray-500"}):a.jsx(Qr,{className:"w-4 h-4 text-gray-500"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx("span",{className:"font-medium text-gray-900",children:e.name}),a.jsx(Mne,{formula:e.formula,calc:e})]}),e.description&&a.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:e.description})]}),a.jsx("button",{onClick:n,className:"p-1.5 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded",title:"Edit calculation",children:a.jsx(BS,{className:"w-4 h-4"})})]}),t&&a.jsxs("div",{className:"p-3 border-t border-gray-100",children:[a.jsxs("div",{className:"mb-3",children:[a.jsx("div",{className:"text-xs font-medium text-gray-500 mb-1.5",children:"Variables"}),a.jsx("div",{className:"flex flex-wrap gap-1.5",children:e.vars.map(i=>a.jsxs("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-700 rounded text-xs font-mono",title:i.label||i.format,children:[i.name,a.jsxs("span",{className:"text-gray-400 ml-1",children:["(",i.format.toLowerCase(),")"]})]},i.name))})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs font-medium text-gray-500 mb-1.5",children:"Steps"}),a.jsx("div",{className:"space-y-1",children:e.steps.map((i,s)=>a.jsxs("div",{className:"flex items-center gap-2 text-xs py-1.5 px-2 bg-gray-50 rounded",children:[a.jsxs("span",{className:"w-5 text-gray-400 text-right",children:[s+1,"."]}),a.jsx("span",{className:`px-1.5 py-0.5 rounded font-medium ${i.op==="SHOW"?"bg-gray-200 text-gray-600":"bg-purple-100 text-purple-700"}`,children:$ne[i.op]}),a.jsx("span",{className:"font-mono text-gray-700",children:i.a}),i.b&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-gray-400",children:","}),a.jsx("span",{className:"font-mono text-gray-700",children:i.b})]}),i.result&&i.result!=="_prev"&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-gray-400",children:""}),a.jsx("span",{className:"font-mono text-green-700",children:i.result})]}),i.label&&a.jsxs("span",{className:"text-gray-500 ml-auto italic",children:['"',i.label,'"']})]},s))})]}),a.jsxs("div",{className:"mt-3 pt-2 border-t border-gray-100 text-xs",children:[a.jsx("span",{className:"text-gray-500",children:"Returns: "}),a.jsx("span",{className:"font-mono font-medium text-green-700",children:e.result})]})]})]})}function Ine({condition:e,onEdit:t}){return a.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:"font-medium text-gray-900",children:e.label}),a.jsx("code",{className:"text-xs bg-gray-100 px-1.5 py-0.5 rounded font-mono text-gray-600",children:e.field})]}),a.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[a.jsx(sl,{priority:e.priority}),a.jsxs("span",{className:"text-gray-500",children:["Empty: ",a.jsx("span",{className:"font-medium",children:Ene[e.emptyMeans]})]}),a.jsx("span",{className:"px-1.5 py-0.5 bg-purple-50 text-purple-700 rounded font-medium",children:e.op})]}),e.description&&a.jsx("div",{className:"text-xs text-gray-500 mt-1.5",children:e.description})]}),a.jsx("button",{onClick:t,className:"p-1.5 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded",title:"Edit condition",children:a.jsx(BS,{className:"w-4 h-4"})})]})})}function Dne({step:e,index:t,variables:r,onChange:n,onRemove:i}){const s=PN.find(l=>l.value===e.op),o=(s==null?void 0:s.needsB)??!0;return a.jsxs("div",{className:"flex items-start gap-2 p-2 bg-gray-50 rounded-lg group",children:[a.jsxs("div",{className:"flex items-center gap-1 pt-1.5",children:[a.jsx(LS,{className:"w-3 h-3 text-gray-300"}),a.jsxs("span",{className:"w-5 text-xs text-gray-400 text-right",children:[t+1,"."]})]}),a.jsx("div",{className:"w-28",children:a.jsx("select",{value:e.op,onChange:l=>n({...e,op:l.target.value}),className:"w-full px-2 py-1.5 text-xs border border-gray-300 rounded bg-white focus:outline-none focus:ring-1 focus:ring-blue-500",children:PN.map(l=>a.jsx("option",{value:l.value,children:l.label},l.value))})}),a.jsx("div",{className:"w-24",children:a.jsxs("select",{value:e.a,onChange:l=>n({...e,a:l.target.value}),className:"w-full px-2 py-1.5 text-xs border border-gray-300 rounded bg-white font-mono focus:outline-none focus:ring-1 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"-- a --"}),r.map(l=>a.jsx("option",{value:l,children:l},l))]})}),o?a.jsx("div",{className:"w-24",children:a.jsxs("select",{value:e.b||"",onChange:l=>n({...e,b:l.target.value||void 0}),className:"w-full px-2 py-1.5 text-xs border border-gray-300 rounded bg-white font-mono focus:outline-none focus:ring-1 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"-- b --"}),r.map(l=>a.jsx("option",{value:l,children:l},l))]})}):a.jsx("div",{className:"w-24"}),a.jsx("span",{className:"text-gray-400 pt-1.5",children:""}),a.jsx("div",{className:"w-24",children:a.jsxs("select",{value:e.result||"",onChange:l=>n({...e,result:l.target.value||void 0}),className:"w-full px-2 py-1.5 text-xs border border-gray-300 rounded bg-white font-mono focus:outline-none focus:ring-1 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"-- result --"}),r.map(l=>a.jsx("option",{value:l,children:l},l))]})}),a.jsx("div",{className:"flex-1",children:a.jsx("input",{type:"text",value:e.label||"",onChange:l=>n({...e,label:l.target.value||void 0}),placeholder:"Display label...",className:"w-full px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})}),a.jsx("button",{onClick:i,className:"p-1 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded opacity-0 group-hover:opacity-100 transition-opacity",title:"Remove step",children:a.jsx(By,{className:"w-4 h-4"})})]})}function Lne({variable:e,onChange:t,onRemove:r}){return a.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded-lg group",children:[a.jsx(LS,{className:"w-3 h-3 text-gray-300"}),a.jsx("input",{type:"text",value:e.name,onChange:n=>t({...e,name:n.target.value}),placeholder:"name",className:"w-28 px-2 py-1.5 text-xs border border-gray-300 rounded font-mono focus:outline-none focus:ring-1 focus:ring-blue-500"}),a.jsx("select",{value:e.format,onChange:n=>t({...e,format:n.target.value}),className:"w-44 px-2 py-1.5 text-xs border border-gray-300 rounded bg-white focus:outline-none focus:ring-1 focus:ring-blue-500",children:Tne.map(n=>a.jsx("option",{value:n.value,children:n.label},n.value))}),a.jsx("input",{type:"text",value:e.label||"",onChange:n=>t({...e,label:n.target.value||void 0}),placeholder:"Display label...",className:"flex-1 px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"}),a.jsx("button",{onClick:r,className:"p-1 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded opacity-0 group-hover:opacity-100 transition-opacity",title:"Remove variable",children:a.jsx(By,{className:"w-4 h-4"})})]})}function Fne({calc:e,onSave:t,onClose:r,readonly:n=!1}){const[i,s]=O.useState(()=>({...e,vars:e.vars.map(y=>({...y})),steps:e.steps.map(y=>({...y}))})),o=i.vars.map(y=>y.name),l=()=>{t(i),r()},c=(y,x)=>{const v=[...i.vars];v[y]=x,s({...i,vars:v})},u=()=>{s({...i,vars:[...i.vars,{name:"",format:"CURRENCY"}]})},d=y=>{const x=i.vars.filter((v,p)=>p!==y);s({...i,vars:x})},f=(y,x)=>{const v=[...i.steps];v[y]=x,s({...i,steps:v})},h=()=>{s({...i,steps:[...i.steps,{op:"SHOW",a:""}]})},m=y=>{const x=i.steps.filter((v,p)=>p!==y);s({...i,steps:x})};return a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:r}),a.jsxs("div",{className:"relative bg-white rounded-xl shadow-2xl w-[900px] max-h-[90vh] flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Edit Calculation"}),a.jsx("p",{className:"text-sm text-gray-500",children:e.name})]}),a.jsx("button",{onClick:r,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg",children:a.jsx(Wt,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"flex-1 p-6 overflow-y-auto space-y-5",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),a.jsx("input",{type:"text",value:i.name,onChange:y=>s({...i,name:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Result Variable"}),a.jsxs("select",{value:i.result,onChange:y=>s({...i,result:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono bg-white",children:[a.jsx("option",{value:"",children:"-- select --"}),o.map(y=>a.jsx("option",{value:y,children:y},y))]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("input",{type:"text",value:i.description||"",onChange:y=>s({...i,description:y.target.value}),placeholder:"Brief description of what this calculation does...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Formula",a.jsx("span",{className:"text-gray-400 font-normal ml-1",children:"(for display)"})]}),a.jsx("input",{type:"text",value:i.formula||"",onChange:y=>s({...i,formula:y.target.value}),placeholder:"e.g., (amount x rate%) + fixed",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Variables"}),a.jsxs("button",{onClick:u,className:"flex items-center gap-1 px-2 py-1 text-xs text-blue-600 hover:bg-blue-50 rounded",children:[a.jsx(Oi,{className:"w-3 h-3"}),"Add Variable"]})]}),a.jsxs("div",{className:"space-y-1.5",children:[i.vars.map((y,x)=>a.jsx(Lne,{variable:y,onChange:v=>c(x,v),onRemove:()=>d(x)},x)),i.vars.length===0&&a.jsx("div",{className:"text-center py-4 text-sm text-gray-400",children:"No variables defined. Add variables to use in steps."})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Calculation Steps",a.jsx("span",{className:"text-gray-400 font-normal ml-1",children:"(executed in order)"})]}),a.jsxs("button",{onClick:h,className:"flex items-center gap-1 px-2 py-1 text-xs text-blue-600 hover:bg-blue-50 rounded",children:[a.jsx(Oi,{className:"w-3 h-3"}),"Add Step"]})]}),a.jsxs("div",{className:"space-y-1.5",children:[i.steps.map((y,x)=>a.jsx(Dne,{step:y,index:x,variables:o,onChange:v=>f(x,v),onRemove:()=>m(x)},x)),i.steps.length===0&&a.jsx("div",{className:"text-center py-4 text-sm text-gray-400",children:"No steps defined. Add steps to define the calculation logic."})]}),a.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Tip: Use SHOW to display intermediate values with labels. Labels support ","{variable}"," interpolation."]})]})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-gray-200 bg-gray-50 rounded-b-xl",children:[n&&a.jsx("span",{className:"text-xs text-gray-400 mr-auto",children:"Connect to backend to save changes"}),a.jsx("button",{onClick:r,className:"px-4 py-2 text-sm text-gray-600 hover:bg-gray-200 rounded-lg",children:n?"Close":"Cancel"}),!n&&a.jsxs("button",{onClick:l,className:"flex items-center gap-2 px-4 py-2 text-sm bg-blue-600 text-white hover:bg-blue-700 rounded-lg",children:[a.jsx(Ds,{className:"w-4 h-4"}),"Save"]})]})]})]})}function Bne({condition:e,onSave:t,onClose:r,readonly:n=!1}){const[i,s]=O.useState({...e}),o=()=>{t(i),r()};return a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:r}),a.jsxs("div",{className:"relative bg-white rounded-xl shadow-2xl w-[500px] flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Edit Condition"}),a.jsx("p",{className:"text-sm text-gray-500",children:e.label})]}),a.jsx("button",{onClick:r,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg",children:a.jsx(Wt,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Field Name"}),a.jsx("input",{type:"text",value:i.field,onChange:l=>s({...i,field:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Label"}),a.jsx("input",{type:"text",value:i.label,onChange:l=>s({...i,label:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),a.jsxs("select",{value:i.priority,onChange:l=>s({...i,priority:parseInt(l.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",children:[a.jsx("option",{value:0,children:"STRICT - Must match exactly"}),a.jsx("option",{value:1,children:"HIGH - Strong preference"}),a.jsx("option",{value:2,children:"MEDIUM - Moderate preference"}),a.jsx("option",{value:3,children:"LOW - Minor preference"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Empty Value Behavior"}),a.jsxs("select",{value:i.emptyMeans,onChange:l=>s({...i,emptyMeans:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",children:[a.jsx("option",{value:"any",children:"Wildcard - Empty matches anything"}),a.jsx("option",{value:"reject",children:"Required - Must have a value"}),a.jsx("option",{value:"exact",children:"Exact - Empty must match empty"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Operation"}),a.jsxs("select",{value:i.op,onChange:l=>s({...i,op:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",children:[a.jsx("option",{value:"EQ",children:"EQ - Exact match"}),a.jsx("option",{value:"IN",children:"IN - In list"}),a.jsx("option",{value:"ANY",children:"ANY - Wildcard"}),a.jsx("option",{value:"BETWEEN",children:"BETWEEN - Range match"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("input",{type:"text",value:i.description||"",onChange:l=>s({...i,description:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-gray-200 bg-gray-50 rounded-b-xl",children:[n&&a.jsx("span",{className:"text-xs text-gray-400 mr-auto",children:"Connect to backend to save changes"}),a.jsx("button",{onClick:r,className:"px-4 py-2 text-sm text-gray-600 hover:bg-gray-200 rounded-lg",children:n?"Close":"Cancel"}),!n&&a.jsxs("button",{onClick:o,className:"flex items-center gap-2 px-4 py-2 text-sm bg-blue-600 text-white hover:bg-blue-700 rounded-lg",children:[a.jsx(Ds,{className:"w-4 h-4"}),"Save"]})]})]})]})}function zne({currentVersion:e,onSave:t,onClose:r}){const n=e.split("."),i=`${n[0]}.${parseInt(n[1]||"0")+1}.0`,[s,o]=O.useState(i),[l,c]=O.useState(""),u=()=>{s&&l&&(t(s,l),r())};return a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:r}),a.jsxs("div",{className:"relative bg-white rounded-xl shadow-2xl w-[400px] flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Create New Version"}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Copy from ",e]})]}),a.jsx("button",{onClick:r,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg",children:a.jsx(Wt,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Version Number"}),a.jsx("input",{type:"text",value:s,onChange:d=>o(d.target.value),placeholder:"e.g., 1.1.0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Version Name"}),a.jsx("input",{type:"text",value:l,onChange:d=>c(d.target.value),placeholder:"e.g., Updated rate formulas",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 rounded-lg text-xs text-blue-700",children:[a.jsx(IS,{className:"w-4 h-4 flex-shrink-0"}),a.jsx("span",{children:"New version will be a copy of the current configuration"})]})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-gray-200 bg-gray-50 rounded-b-xl",children:[a.jsx("button",{onClick:r,className:"px-4 py-2 text-sm text-gray-600 hover:bg-gray-200 rounded-lg",children:"Cancel"}),a.jsxs("button",{onClick:u,disabled:!s||!l,className:"flex items-center gap-2 px-4 py-2 text-sm bg-blue-600 text-white hover:bg-blue-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(Oi,{className:"w-4 h-4"}),"Create Version"]})]})]})]})}function Une({config:e,onChange:t,readonly:r=!1}){const[n,i]=O.useState("calculations"),[s,o]=O.useState(new Set),[l,c]=O.useState(!1),[u,d]=O.useState(null),[f,h]=O.useState(null),[m,y]=O.useState(!1),[x,v]=O.useState(e||null),p=e||x;if(!p)return a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-8 text-center text-gray-500",children:"Loading DSL configuration..."});const g=p.versions[p.current],b=Object.keys(p.versions).sort(),w=P=>{t?t(P):v(P)},j=P=>{w({...p,current:P}),c(!1)},N=(P,A)=>{const E={...JSON.parse(JSON.stringify(g)),name:A,created:new Date().toISOString().split("T")[0]};w({...p,current:P,versions:{...p.versions,[P]:E}})},_=P=>{o(A=>{const E=new Set(A);return E.has(P)?E.delete(P):E.add(P),E})},S=P=>{const A=g.calculations.map(E=>E.name===(u==null?void 0:u.name)?P:E);w({...p,versions:{...p.versions,[p.current]:{...g,calculations:A}}})},C=P=>{const A=g.matching.map(E=>E.field===(f==null?void 0:f.field)?P:E);w({...p,versions:{...p.versions,[p.current]:{...g,matching:A}}})};return a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[a.jsxs("div",{className:"border-b border-gray-200 px-4 py-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>c(!l),className:"flex items-center gap-2 px-3 py-1.5 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium transition-colors",children:[a.jsxs("span",{children:["v",p.current]}),(g==null?void 0:g.name)&&a.jsxs("span",{className:"text-gray-500 font-normal",children:["- ",g.name]}),a.jsx(qe,{className:`w-4 h-4 text-gray-400 transition-transform ${l?"rotate-180":""}`})]}),l&&a.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-10 py-1 min-w-[200px]",children:b.map(P=>{var A;return a.jsxs("button",{onClick:()=>j(P),className:`w-full text-left px-3 py-2 text-sm hover:bg-gray-50 ${P===p.current?"bg-blue-50 text-blue-700":""}`,children:[a.jsxs("div",{className:"font-medium",children:["v",P]}),((A=p.versions[P])==null?void 0:A.name)&&a.jsx("div",{className:"text-xs text-gray-500",children:p.versions[P].name})]},P)})})]}),!r&&a.jsxs("button",{onClick:()=>y(!0),className:"flex items-center gap-1.5 px-3 py-1.5 text-sm text-blue-600 hover:bg-blue-50 rounded-lg",children:[a.jsx(Oi,{className:"w-4 h-4"}),"New Version"]})]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsxs("button",{onClick:()=>i("calculations"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${n==="calculations"?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-100"}`,children:[a.jsx(zf,{className:"w-4 h-4"}),"Calculations",a.jsx("span",{className:"px-1.5 py-0.5 bg-gray-200 text-gray-600 rounded text-xs",children:(g==null?void 0:g.calculations.length)||0})]}),a.jsxs("button",{onClick:()=>i("matching"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${n==="matching"?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-100"}`,children:[a.jsx(Dy,{className:"w-4 h-4"}),"Matching",a.jsx("span",{className:"px-1.5 py-0.5 bg-gray-200 text-gray-600 rounded text-xs",children:(g==null?void 0:g.matching.length)||0})]})]})]}),a.jsxs("div",{className:"p-4",children:[n==="calculations"&&g&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"text-sm text-gray-600 mb-3",children:"Commission calculation formulas for each transaction type"}),g.calculations.map(P=>a.jsx(Rne,{calc:P,expanded:s.has(P.name),onToggleExpand:()=>_(P.name),onEdit:()=>d(P)},P.name))]}),n==="matching"&&g&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"text-sm text-gray-600 mb-3",children:"Rules for matching transactions to rate plans"}),a.jsxs("div",{className:"flex items-center gap-4 mb-3 p-2 bg-gray-50 rounded text-xs",children:[a.jsx("span",{className:"text-gray-500",children:"Priority:"}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(sl,{priority:0}),a.jsx("span",{className:"text-gray-500",children:"= must match"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(sl,{priority:1}),a.jsx(sl,{priority:2}),a.jsx(sl,{priority:3}),a.jsx("span",{className:"text-gray-500",children:"= confidence score"})]})]}),g.matching.map(P=>a.jsx(Ine,{condition:P,onEdit:()=>h(P)},P.field))]})]}),u&&a.jsx(Fne,{calc:u,onSave:S,onClose:()=>d(null),readonly:r}),f&&a.jsx(Bne,{condition:f,onSave:C,onClose:()=>h(null),readonly:r}),m&&a.jsx(zne,{currentVersion:p.current,onSave:N,onClose:()=>y(!1)})]})}const AN={receipt:a.jsx(zS,{className:"w-4 h-4"}),"file-text":a.jsx(Ri,{className:"w-4 h-4"}),calculator:a.jsx(zf,{className:"w-4 h-4"}),store:a.jsx(KS,{className:"w-4 h-4"}),database:a.jsx(Iy,{className:"w-4 h-4"})},kg={CURRENCY:{bg:"bg-green-100",text:"text-green-700"},PERCENT:{bg:"bg-blue-100",text:"text-blue-700"},STRING:{bg:"bg-gray-100",text:"text-gray-700"},INTEGER:{bg:"bg-purple-100",text:"text-purple-700"},NUMBER:{bg:"bg-orange-100",text:"text-orange-700"},ENUM:{bg:"bg-yellow-100",text:"text-yellow-700"}};function Wne({text:e}){const[t,r]=O.useState(!1);return a.jsxs("div",{className:"relative inline-block",children:[a.jsx("button",{onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),onClick:()=>r(!t),className:"p-0.5 text-gray-400 hover:text-blue-500 transition-colors",children:a.jsx(yo,{className:"w-3.5 h-3.5"})}),t&&a.jsxs("div",{className:"absolute z-20 left-full ml-2 top-1/2 -translate-y-1/2 w-64 p-2 bg-gray-900 text-white text-xs rounded-lg shadow-lg",children:[a.jsx("div",{className:"absolute left-0 top-1/2 -translate-x-1 -translate-y-1/2 w-2 h-2 bg-gray-900 rotate-45"}),e]})]})}function Hne({field:e,sources:t,onChange:r,readonly:n=!1}){const i=kg[e.type]||kg.STRING,s=t.find(l=>l.id===e.source),o=(s==null?void 0:s.fields)||[];return a.jsxs("div",{className:"flex items-center gap-3 py-2 px-3 bg-gray-50 rounded-lg group hover:bg-gray-100 transition-colors",children:[a.jsxs("div",{className:"w-36 flex items-center gap-1.5",children:[a.jsx("code",{className:"text-sm font-mono font-medium text-gray-800",children:e.name}),a.jsx(Wne,{text:e.description})]}),a.jsx("span",{className:`px-1.5 py-0.5 rounded text-xs font-medium ${i.bg} ${i.text}`,children:e.type}),a.jsx("span",{className:"text-gray-300",children:""}),a.jsx("select",{value:e.source,onChange:l=>r({...e,source:l.target.value,sourceField:""}),disabled:n,className:`w-40 px-2 py-1.5 text-xs border border-gray-300 rounded bg-white focus:outline-none focus:ring-1 focus:ring-blue-500 ${n?"opacity-60 cursor-not-allowed":""}`,children:t.map(l=>a.jsx("option",{value:l.id,children:l.name},l.id))}),a.jsx("span",{className:"text-gray-400",children:"."}),a.jsxs("select",{value:e.sourceField,onChange:l=>r({...e,sourceField:l.target.value}),disabled:n,className:`flex-1 px-2 py-1.5 text-xs border border-gray-300 rounded bg-white font-mono focus:outline-none focus:ring-1 focus:ring-blue-500 ${n?"opacity-60 cursor-not-allowed":""}`,children:[a.jsx("option",{value:"",children:"-- select field --"}),o.map(l=>a.jsx("option",{value:l,children:l},l))]})]})}function Kne({node:e,sources:t,defaultOpen:r=!1,onChange:n,readonly:i=!1}){const[s,o]=O.useState(r),l=AN[e.icon]||AN.database,c=(u,d)=>{const f=[...e.fields];f[u]=d,n({...e,fields:f})};return a.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[a.jsxs("button",{onClick:()=>o(!s),className:"w-full flex items-center gap-3 px-4 py-3 bg-white hover:bg-gray-50 transition-colors text-left",children:[s?a.jsx(qe,{className:"w-4 h-4 text-gray-400"}):a.jsx(Qr,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{className:"text-gray-500",children:l}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium text-gray-900",children:e.name}),a.jsx("div",{className:"text-xs text-gray-500",children:e.description})]}),a.jsxs("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 rounded text-xs",children:[e.fields.length," fields"]})]}),s&&a.jsx("div",{className:"border-t border-gray-100 p-3 space-y-1.5 bg-white",children:e.fields.map((u,d)=>a.jsx(Hne,{field:u,sources:t,onChange:f=>c(d,f),readonly:i},u.id))})]})}function Vne({config:e,onChange:t,readonly:r=!1}){if(!e)return a.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading ontology configuration..."});const n=(i,s)=>{if(r||!t)return;const o=[...e.nodes];o[i]=s,t({...e,nodes:o})};return a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Map DSL variables to source data fields"}),a.jsxs("span",{className:"text-xs text-gray-400 font-mono",children:["v",e.version]})]}),a.jsxs("div",{className:"flex items-center gap-4 p-2 bg-gray-50 rounded-lg text-xs",children:[a.jsx("span",{className:"text-gray-500",children:"Types:"}),Object.entries(kg).map(([i,s])=>a.jsx("span",{className:`px-1.5 py-0.5 rounded font-medium ${s.bg} ${s.text}`,children:i},i))]}),a.jsx("div",{className:"space-y-2",children:e.nodes.map((i,s)=>a.jsx(Kne,{node:i,sources:e.sources,defaultOpen:s===0,onChange:o=>n(s,o),readonly:r},i.id))}),a.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[a.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Available Sources:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:e.sources.map(i=>a.jsxs("div",{className:"group relative",children:[a.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs font-medium cursor-help",children:i.name}),a.jsxs("div",{className:"absolute z-10 hidden group-hover:block bottom-full left-0 mb-1 w-48 p-2 bg-gray-900 text-white text-xs rounded-lg shadow-lg",children:[i.description,a.jsxs("div",{className:"mt-1 text-gray-400",children:[i.fields.length," fields available"]})]})]},i.id))})]})]})}function Um({title:e,description:t,icon:r,defaultOpen:n=!0,badge:i,disabled:s=!1,disabledMessage:o,children:l}){const[c,u]=O.useState(n&&!s);return a.jsxs(ne,{className:`mb-6 ${s?"opacity-60":""}`,children:[a.jsxs("button",{onClick:()=>!s&&u(!c),disabled:s,className:`w-full flex items-center justify-between text-left ${s?"cursor-not-allowed":""}`,children:[a.jsxs("div",{className:"flex items-center gap-3",children:[r&&a.jsx("div",{className:s?"text-gray-400":"text-gray-500",children:r}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h2",{className:`text-lg font-semibold ${s?"text-gray-500":"text-gray-900"}`,children:e}),i,s&&a.jsxs("span",{className:"flex items-center gap-1 px-2 py-0.5 bg-gray-100 text-gray-500 text-xs rounded-full",children:[a.jsx(TT,{className:"w-3 h-3"}),o||"Offline"]})]}),t&&a.jsx("p",{className:`text-sm mt-0.5 ${s?"text-gray-400":"text-gray-500"}`,children:t})]})]}),a.jsx(qe,{className:`w-5 h-5 transition-transform ${s?"text-gray-300":"text-gray-400"} ${c&&!s?"":"-rotate-90"}`})]}),c&&!s&&a.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:l})]})}const qne=[{id:"claude-opus-4-5-20251101",name:"Claude Opus 4.5",description:"Most capable, best for complex tasks"},{id:"claude-sonnet-4-5-20250929",name:"Claude Sonnet 4.5",description:"Balanced performance and cost"},{id:"claude-haiku-4-5-20251015",name:"Claude Haiku 4.5",description:"Fast and cost-effective"},{id:"claude-opus-4-1-20250805",name:"Claude Opus 4.1",description:"Optimized for agentic tasks"},{id:"claude-sonnet-4-20250522",name:"Claude Sonnet 4",description:"Previous generation balanced"},{id:"claude-opus-4-20250522",name:"Claude Opus 4",description:"Previous generation capable"}];function Gne(){const e=Kf(),[t,r]=O.useState(!1),[n,i]=O.useState(void 0),[s,o]=O.useState(!0),[l,c]=O.useState(void 0),[u,d]=O.useState(!0),[f,h]=O.useState(!1),[m,y]=O.useState(!1),[x,v]=O.useState(""),[p,g]=O.useState(!1),[b,w]=O.useState(""),[j,N]=O.useState({apiKey:"",model:"claude-sonnet-4-5-20250929",systemPrompt:""});O.useEffect(()=>{async function M(){try{const B=await fetch("/api/dsl-config");if(B.ok){const k=await B.json();i(k)}}catch(B){console.error("Failed to load DSL config:",B)}finally{o(!1)}}M()},[]),O.useEffect(()=>{async function M(){try{const B=await fetch("/api/ontology-mapping");if(B.ok){const k=await B.json();c(k)}}catch(B){console.error("Failed to load ontology config:",B)}finally{d(!1)}}M()},[]);const _=()=>{e||(v(j.apiKey),g(!1),h(!0))},S=()=>{F("apiKey",x),h(!1)},C=()=>{h(!1),v("")},P=()=>{e||(w(j.systemPrompt),y(!0))},A=()=>{F("systemPrompt",b),y(!1)},E=()=>{y(!1),w("")},W=M=>{e||(i(M),r(!0))},D=M=>{e||(c(M),r(!0))},F=(M,B)=>{e||(N(k=>({...k,[M]:B})),r(!0))},T=()=>{e||(console.log("Saving config:",n),console.log("Saving Anthropic config:",j),r(!1))},z=()=>{i(void 0),N({apiKey:"",model:"claude-sonnet-4-5-20250929",systemPrompt:""}),r(!1)};return a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-gray-100 rounded-lg",children:a.jsx(Fy,{className:"h-6 w-6 text-gray-600"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Settings"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Configure calculation and matching rules"})]})]}),a.jsx("div",{className:"flex items-center gap-2",children:t&&!e&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:z,className:"flex items-center gap-2 px-3 py-1.5 text-sm text-gray-600 hover:bg-gray-100 rounded-md",children:[a.jsx(Ly,{className:"w-4 h-4"}),"Reset"]}),a.jsxs("button",{onClick:T,className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-blue-600 text-white hover:bg-blue-700 rounded-md",children:[a.jsx(WS,{className:"w-4 h-4"}),"Save Changes"]})]})})]}),a.jsx(Um,{title:"Anthropic API",description:"Configure Claude API for AI-powered analysis",icon:a.jsx(ST,{className:"w-5 h-5 text-orange-600"}),defaultOpen:!1,disabled:e,disabledMessage:"Connect to enable",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"API Key"}),a.jsxs("button",{onClick:_,className:"w-full flex items-center justify-between px-3 py-2 border border-gray-300 rounded-lg text-sm hover:bg-gray-50 transition-colors text-left",children:[a.jsx("div",{className:"flex items-center gap-2",children:j.apiKey?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),a.jsx("span",{className:"text-gray-700",children:"API key configured"}),a.jsxs("span",{className:"text-gray-400 font-mono text-xs",children:["",j.apiKey.slice(-4)]})]}):a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"w-2 h-2 bg-gray-300 rounded-full"}),a.jsx("span",{className:"text-gray-400",children:"Not configured"})]})}),a.jsx("span",{className:"text-xs text-blue-600",children:"Configure"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Model"}),a.jsx("select",{value:j.model,onChange:M=>F("model",M.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",children:qne.map(M=>a.jsxs("option",{value:M.id,children:[M.name,"  ",M.description]},M.id))})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["System Prompt",a.jsx("span",{className:"text-gray-400 font-normal ml-1",children:"(optional)"})]}),a.jsxs("button",{onClick:P,className:"w-full flex items-center justify-between px-3 py-2 border border-gray-300 rounded-lg text-sm hover:bg-gray-50 transition-colors text-left",children:[a.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[a.jsx(Ri,{className:"w-4 h-4"}),j.systemPrompt?a.jsxs("span",{className:"truncate max-w-md",children:[j.systemPrompt.slice(0,60),j.systemPrompt.length>60&&"..."]}):a.jsx("span",{className:"text-gray-400",children:"Click to edit system prompt..."})]}),j.systemPrompt&&a.jsxs("span",{className:"text-xs text-gray-400",children:[j.systemPrompt.length," chars"]})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Additional context or instructions for AI analysis. Leave empty for default behavior."})]})]})}),f&&a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:C}),a.jsxs("div",{className:"relative bg-white rounded-xl shadow-2xl w-[500px] flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"API Key"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Configure your Anthropic API key"})]}),a.jsx("button",{onClick:C,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg",children:a.jsx(Wt,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:p?"text":"password",value:x,onChange:M=>v(M.target.value),placeholder:"sk-ant-api03-...",className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono"}),a.jsx("button",{type:"button",onClick:()=>g(!p),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-gray-400 hover:text-gray-600",children:p?a.jsx(PT,{className:"w-4 h-4"}):a.jsx(AT,{className:"w-4 h-4"})})]}),a.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Get your API key from"," ",a.jsx("a",{href:"https://console.anthropic.com/settings/keys",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"console.anthropic.com"})]})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-gray-200 bg-gray-50 rounded-b-xl",children:[a.jsx("button",{onClick:C,className:"px-4 py-2 text-sm text-gray-600 hover:bg-gray-200 rounded-lg",children:"Cancel"}),a.jsx("button",{onClick:S,disabled:e,className:"px-4 py-2 text-sm bg-blue-600 text-white hover:bg-blue-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:"Save Key"})]})]})]}),m&&a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:E}),a.jsxs("div",{className:"relative bg-white rounded-xl shadow-2xl w-[900px] max-h-[85vh] flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"System Prompt"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Define custom instructions for AI analysis behavior"})]}),a.jsx("button",{onClick:E,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg",children:a.jsx(Wt,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"flex-1 p-6 overflow-hidden",children:[a.jsx("textarea",{value:b,onChange:M=>w(M.target.value),placeholder:`You are an AI assistant specialized in financial transaction analysis...\r
\r
Define the AI's role, expertise, and how it should approach analysis tasks. Include any specific rules, formatting preferences, or domain knowledge.\r
\r
Example sections:\r
- Role and expertise\r
- Analysis approach\r
- Output format preferences\r
- Specific rules or constraints`,className:"w-full h-[400px] px-4 py-3 border border-gray-300 rounded-lg text-sm font-mono focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"}),a.jsxs("div",{className:"flex items-center justify-between mt-2 text-xs text-gray-500",children:[a.jsx("span",{children:"Supports markdown formatting"}),a.jsxs("span",{children:[b.length," characters"]})]})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-gray-200 bg-gray-50 rounded-b-xl",children:[a.jsx("button",{onClick:E,className:"px-4 py-2 text-sm text-gray-600 hover:bg-gray-200 rounded-lg",children:"Cancel"}),a.jsx("button",{onClick:A,disabled:e,className:"px-4 py-2 text-sm bg-blue-600 text-white hover:bg-blue-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:"Save Prompt"})]})]})]}),a.jsx(Um,{title:"DSL Configuration",description:"Calculation formulas and transaction matching rules",icon:a.jsx(zf,{className:"w-5 h-5 text-blue-600"}),badge:s?a.jsx(Ee,{className:"w-4 h-4 text-gray-400 animate-spin"}):void 0,defaultOpen:!0,children:s?a.jsxs("div",{className:"flex items-center justify-center py-12 text-gray-500",children:[a.jsx(Ee,{className:"w-6 h-6 animate-spin mr-2"}),"Loading configuration..."]}):a.jsx(Une,{config:n,onChange:W,readonly:e})}),a.jsx(Um,{title:"Ontology Mapping",description:"Map DSL variables to source data fields",icon:a.jsx(MT,{className:"w-5 h-5 text-purple-600"}),badge:u?a.jsx(Ee,{className:"w-4 h-4 text-gray-400 animate-spin"}):void 0,defaultOpen:!1,children:u?a.jsxs("div",{className:"flex items-center justify-center py-12 text-gray-500",children:[a.jsx(Ee,{className:"w-6 h-6 animate-spin mr-2"}),"Loading ontology configuration..."]}):a.jsx(Vne,{config:l,onChange:D,readonly:e})})]})}function kN({text:e}){const[t,r]=O.useState(!1);return a.jsxs("div",{className:"relative inline-block",children:[a.jsx("button",{type:"button",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),className:"p-0.5 text-gray-400 hover:text-blue-500 transition-colors",children:a.jsx(yo,{className:"w-3.5 h-3.5"})}),t&&a.jsxs("div",{className:"absolute z-50 left-full ml-2 top-1/2 -translate-y-1/2 w-64 p-2 bg-gray-900 text-white text-xs rounded-lg shadow-lg",children:[a.jsx("div",{className:"absolute left-0 top-1/2 -translate-x-1 -translate-y-1/2 w-2 h-2 bg-gray-900 rotate-45"}),e]})]})}function EN({title:e,defaultOpen:t=!1,disabled:r=!1,children:n}){const[i,s]=O.useState(t);return a.jsxs("div",{className:`border border-gray-200 rounded-lg ${r?"opacity-50":""}`,children:[a.jsxs("button",{type:"button",onClick:()=>!r&&s(!i),disabled:r,className:"w-full flex items-center gap-2 px-3 py-2 text-left text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors rounded-t-lg",children:[i?a.jsx(qe,{className:"w-4 h-4 text-gray-400"}):a.jsx(Qr,{className:"w-4 h-4 text-gray-400"}),e,r&&a.jsx("span",{className:"ml-auto text-xs text-gray-400",children:"(stage not selected)"})]}),i&&!r&&a.jsx("div",{className:"px-3 pb-3 border-t border-gray-100",children:n})]})}function $N({field:e,value:t,onChange:r}){return e.type==="boolean"?a.jsxs("div",{className:"flex items-center justify-between py-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-gray-700",children:e.label}),a.jsx(kN,{text:e.description})]}),a.jsx("button",{type:"button",onClick:()=>r(!t),className:`relative w-10 h-5 rounded-full transition-colors ${t?"bg-purple-600":"bg-gray-300"}`,children:a.jsx("div",{className:`absolute top-0.5 w-4 h-4 bg-white rounded-full shadow transition-transform ${t?"translate-x-5":"translate-x-0.5"}`})})]}):a.jsxs("div",{className:"flex items-center justify-between py-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-gray-700",children:e.label}),a.jsx(kN,{text:e.description})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"number",value:t,onChange:n=>r(parseFloat(n.target.value)||0),min:e.min,max:e.max,step:e.step,className:"w-24 px-2 py-1 text-sm text-right border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-purple-500"}),e.unit&&a.jsx("span",{className:"text-xs text-gray-500 w-10",children:e.unit})]})]})}function Xne({pipeline:e,selected:t,onClick:r}){return a.jsx("button",{type:"button",onClick:r,className:`p-4 text-left border-2 rounded-xl transition-all ${t?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${t?"bg-purple-100":"bg-gray-100"}`,children:a.jsx(Dy,{className:`w-5 h-5 ${t?"text-purple-600":"text-gray-500"}`})}),a.jsxs("div",{children:[a.jsx("div",{className:`font-medium ${t?"text-purple-900":"text-gray-900"}`,children:e.name}),a.jsx("div",{className:"text-sm text-gray-500 mt-0.5",children:e.description})]})]})})}function Qne({isOpen:e,onClose:t,onCreate:r,schema:n,dslVersions:i,readonly:s=!1}){var F;const[o,l]=O.useState(""),[c,u]=O.useState(""),[d,f]=O.useState(""),[h,m]=O.useState("full"),[y,x]=O.useState([1,2,3,4,5,6]),[v,p]=O.useState(((F=i[0])==null?void 0:F.id)||""),[g,b]=O.useState(!1),[w,j]=O.useState({...n.defaults.pipeline}),[N,_]=O.useState({...n.defaults.scoring});O.useEffect(()=>{var T;e&&(l(""),u(""),f(""),m("full"),x([1,2,3,4,5,6]),p(((T=i[0])==null?void 0:T.id)||""),b(!1),j({...n.defaults.pipeline}),_({...n.defaults.scoring}))},[e,n.defaults,i]),O.useEffect(()=>{var z;const T=(z=n.stageConfigs)==null?void 0:z.find(M=>M.id===h);T&&h!=="custom"&&x([...T.stages])},[h,n.stageConfigs]),O.useEffect(()=>{var T;if(d){const z=(T=n.pipelines)==null?void 0:T.find(M=>M.id===d);z!=null&&z.defaultStageConfig&&m(z.defaultStageConfig)}},[d,n.pipelines]);const S=T=>{h!=="custom"&&m("custom"),x(z=>z.includes(T)?z.filter(M=>M!==T):[...z,T].sort((M,B)=>M-B))},C=(T,z)=>{j(M=>({...M,[T]:z}))},P=(T,z)=>{_(M=>({...M,[T]:z}))},A=()=>{!o.trim()||!d||(r({name:o.trim(),description:c.trim(),pipeline:d,stageConfig:h,stages:y,dslVersion:v,pipelineConfig:{...w,stages:y},scoringConfig:N,autoApprove:g}),t())},E=T=>y.includes(T);if(!e)return null;const W=n.pipelines||[],D=n.stageConfigs||[];return a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:t}),a.jsxs("div",{className:"relative w-full max-w-4xl max-h-[90vh] bg-white rounded-xl shadow-2xl flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:a.jsx(Uf,{className:"w-5 h-5 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"New Experiment"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Configure pipeline and DSL settings"})]})]}),a.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(Wt,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4 space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-sm font-medium text-gray-900 flex items-center gap-2",children:[a.jsx(DT,{className:"w-4 h-4"}),"Basic Information"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Name *"}),a.jsx("input",{type:"text",value:o,onChange:T=>l(T.target.value),placeholder:"e.g., Higher rate precision test",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Description"}),a.jsx("input",{type:"text",value:c,onChange:T=>u(T.target.value),placeholder:"Optional description",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-600 mb-2",children:"Pipeline *"}),a.jsx("div",{className:"grid grid-cols-2 gap-3",children:W.map(T=>a.jsx(Xne,{pipeline:T,selected:d===T.id,onClick:()=>f(T.id)},T.id))})]})]}),d&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-sm font-medium text-gray-900 flex items-center gap-2",children:[a.jsx(HT,{className:"w-4 h-4"}),"Stage Configuration"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Configuration"}),a.jsx("select",{value:h,onChange:T=>m(T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",children:D.map(T=>a.jsxs("option",{value:T.id,children:[T.name," - ",T.description]},T.id))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Stages"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:n.stages.map(T=>a.jsxs("button",{type:"button",onClick:()=>S(T.id),className:`px-3 py-1.5 text-xs font-medium rounded-lg border transition-colors ${y.includes(T.id)?"bg-purple-100 border-purple-300 text-purple-700":"bg-gray-50 border-gray-200 text-gray-500"}`,title:T.description,children:[T.id,". ",T.name]},T.id))})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-sm font-medium text-gray-900 flex items-center gap-2",children:[a.jsx(zf,{className:"w-4 h-4"}),"DSL Version"]}),a.jsx("select",{value:v,onChange:T=>p(T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",children:i.map(T=>a.jsxs("option",{value:T.id,children:[T.id," - ",T.name,T.description?` (${T.description})`:""]},T.id))})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Pipeline Configuration"}),a.jsx("div",{className:"space-y-2",children:n.configSections.filter(T=>T.stage!==void 0).map(T=>a.jsx(EN,{title:T.name,disabled:T.stage!==void 0&&!E(T.stage),children:a.jsx("div",{className:"divide-y divide-gray-100",children:T.fields.map(z=>a.jsx($N,{field:z,value:w[z.key],onChange:M=>C(z.key,M)},z.key))})},T.id))})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Scoring Configuration"}),a.jsx("div",{className:"space-y-2",children:n.configSections.filter(T=>T.stage===void 0).map(T=>a.jsx(EN,{title:T.name,children:a.jsx("div",{className:"divide-y divide-gray-100",children:T.fields.map(z=>a.jsx($N,{field:z,value:N[z.key],onChange:M=>P(z.key,M)},z.key))})},T.id))})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Auto-approve results"}),a.jsx("div",{className:"text-xs text-gray-500",children:"Skip manual review and automatically approve experiment results"})]}),a.jsx("button",{type:"button",onClick:()=>b(!g),className:`relative w-12 h-6 rounded-full transition-colors ${g?"bg-purple-600":"bg-gray-300"}`,children:a.jsx("div",{className:`absolute top-0.5 w-5 h-5 bg-white rounded-full shadow transition-transform ${g?"translate-x-6":"translate-x-0.5"}`})})]})]})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-gray-200 bg-gray-50 rounded-b-xl",children:[s&&a.jsx("span",{className:"text-xs text-gray-400 mr-auto",children:"Connect to backend to create experiments"}),a.jsx("button",{onClick:t,className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),a.jsx("button",{onClick:A,disabled:s||!o.trim()||!d,className:"px-4 py-2 text-sm bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Create Experiment"})]})]})]})}function Yne({status:e}){const t={pending:{icon:OT,bg:"bg-gray-100",text:"text-gray-600",label:"Pending"},running:{icon:yd,bg:"bg-blue-100",text:"text-blue-600",label:"Running"},completed:{icon:Ta,bg:"bg-green-100",text:"text-green-600",label:"Completed"},failed:{icon:zy,bg:"bg-red-100",text:"text-red-600",label:"Failed"}}[e],r=t.icon;return a.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium ${t.bg} ${t.text}`,children:[a.jsx(r,{className:"w-3 h-3"}),t.label]})}function Zne({experiment:e}){return a.jsxs(ne,{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h3",{className:"font-medium text-gray-900",children:e.name}),a.jsx(Yne,{status:e.status})]}),e.description&&a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:e.description})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[e.status==="pending"&&a.jsx("button",{className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:a.jsx(yd,{className:"w-4 h-4"})}),e.status==="running"&&a.jsx("button",{className:"p-2 text-orange-600 hover:bg-orange-50 rounded-lg transition-colors",children:a.jsx(RT,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100 grid grid-cols-4 gap-4 text-xs",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-500",children:"Pipeline"}),a.jsx("div",{className:"font-medium text-gray-700 capitalize",children:e.pipeline.replace(/_/g," ")})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-500",children:"Stages"}),a.jsx("div",{className:"font-medium text-gray-700",children:e.stages.join(", ")})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-500",children:"DSL Version"}),a.jsx("div",{className:"font-medium text-gray-700",children:e.dslVersion})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-500",children:"Auto-approve"}),a.jsx("div",{className:"font-medium text-gray-700",children:e.autoApprove?"Yes":"No"})]})]}),a.jsxs("div",{className:"mt-2 text-xs text-gray-400",children:["Created ",new Date(e.createdAt).toLocaleDateString()]})]})}function Jne({onCreateClick:e}){return a.jsx(ne,{children:a.jsxs("div",{className:"p-12 text-center",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-purple-100 rounded-full mb-4",children:a.jsx(Uf,{className:"w-8 h-8 text-purple-400"})}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Active Experiments"}),a.jsx("p",{className:"text-gray-500 max-w-md mx-auto mb-6",children:"Create an experiment to test different pipeline configurations and DSL versions without affecting production data."}),a.jsxs("button",{onClick:e,className:"inline-flex items-center gap-2 px-4 py-2 bg-purple-600 text-white text-sm font-medium rounded-lg hover:bg-purple-700 transition-colors",children:[a.jsx(Oi,{className:"w-4 h-4"}),"New Experiment"]})]})})}function eae(){const e=Kf(),[t,r]=O.useState([]),[n,i]=O.useState(!0),[s,o]=O.useState(!1),[l,c]=O.useState(null),[u,d]=O.useState([]);O.useEffect(()=>{async function h(){try{const m=await fetch("/api/experiments");if(m.ok){const v=await m.json();r(v.experiments||[])}const y=await fetch("/api/pipeline-config");if(y.ok){const v=await y.json();c(v)}const x=await fetch("/api/dsl-config");if(x.ok){const v=await x.json(),p=Object.entries(v.versions||{}).map(([g,b])=>({id:g,name:b.name||g,description:b.description}));d(p)}}catch(m){console.error("Failed to load experiments data:",m)}finally{i(!1)}}h()},[]);const f=h=>{const m={...h,id:`exp-${Date.now()}`,createdAt:new Date().toISOString(),status:"pending"};r(y=>[m,...y])};return n?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx(Ee,{className:"w-8 h-8 text-purple-600 animate-spin"})}):a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:a.jsx(Uf,{className:"h-6 w-6 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Experiments"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Test alternate calculation and matching configurations"})]})]}),t.length>0&&a.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors",children:[a.jsx(Oi,{className:"w-4 h-4"}),"New Experiment"]})]}),t.length===0?a.jsx(Jne,{onCreateClick:()=>o(!0)}):a.jsx("div",{className:"space-y-4",children:t.map(h=>a.jsx(Zne,{experiment:h},h.id))}),l&&a.jsx(Qne,{isOpen:s,onClose:()=>o(!1),onCreate:f,schema:l,dslVersions:u,readonly:e})]})}function Wm({label:e,value:t,subValue:r,variant:n="default"}){const i={default:"bg-gray-50",danger:"bg-red-50",warning:"bg-amber-50"},s={default:"text-gray-900",danger:"text-red-700",warning:"text-amber-700"};return a.jsxs("div",{className:G("rounded-lg p-4",i[n]),children:[a.jsx("div",{className:G("text-2xl font-semibold",s[n]),children:t}),a.jsx("div",{className:"text-sm text-gray-500",children:e}),r&&a.jsx("div",{className:"text-xs text-gray-400 mt-1",children:r})]})}function tae({merchant:e,isExpanded:t,onToggle:r}){const[n,i]=O.useState(new Set),s=o=>{i(l=>{const c=new Set(l);return c.has(o)?c.delete(o):c.add(o),c})};return a.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[a.jsxs("button",{onClick:r,className:"w-full px-6 py-4 flex items-center justify-between bg-white hover:bg-gray-50 transition-colors",children:[a.jsx("div",{className:"flex items-center gap-4",children:a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:"font-semibold text-gray-900",children:e.name}),a.jsxs("div",{className:"text-sm text-gray-500",children:[e.underpaidTxns.toLocaleString()," transactions with underpayment"]})]})}),a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-lg font-semibold text-red-600",children:V(e.totalUnderpaid)}),a.jsxs("div",{className:"text-xs text-gray-500",children:[e.percentOfTotal.toFixed(1),"% of total loss"]})]}),t?a.jsx(cr,{className:"h-5 w-5 text-gray-400"}):a.jsx(qe,{className:"h-5 w-5 text-gray-400"})]})]}),t&&a.jsxs("div",{className:"border-t border-gray-200 bg-gray-50 p-6",children:[e.totalUnderpaid<-100&&a.jsx("div",{className:"mb-6 p-4 bg-amber-50 border border-amber-200 rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(nt,{className:"h-5 w-5 text-amber-600 mt-0.5"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-amber-800",children:"Significant Underpayment Detected"}),a.jsx("div",{className:"text-sm text-amber-700",children:Math.abs(e.avgPerTx)>.1?`Average loss of ${V(e.avgPerTx)} per transaction suggests systematic issue`:"Minor rounding variance (within tolerance)"})]})]})}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Affected Plans"}),a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Plan"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Type"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Rate"}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Transactions"}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Total Loss"}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Avg Loss"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:e.plans.map(o=>{const l=e.examples[o.variant_key]||[],c=n.has(o.variant_key);return a.jsxs(a.Fragment,{children:[a.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>l.length>0&&s(o.variant_key),children:[a.jsx("td",{className:"px-4 py-3 text-sm",children:a.jsxs("div",{className:"flex items-center gap-2",children:[l.length>0&&(c?a.jsx(cr,{className:"h-4 w-4 text-gray-400"}):a.jsx(qe,{className:"h-4 w-4 text-gray-400"})),a.jsx("code",{className:"text-xs bg-gray-100 px-1.5 py-0.5 rounded",children:o.plan_key})]})}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:o.type}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:o.rate}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 text-right",children:o.transactions.toLocaleString()}),a.jsx("td",{className:"px-4 py-3 text-sm font-medium text-red-600 text-right",children:V(o.totalLoss)}),a.jsx("td",{className:"px-4 py-3 text-sm text-red-600 text-right",children:Math.abs(o.avgLoss)<.01&&o.avgLoss!==0?`${o.avgLoss<0?"-":""}${Math.abs(o.avgLoss).toFixed(4)}`:V(o.avgLoss)})]},o.variant_key),c&&l.length>0&&a.jsx("tr",{children:a.jsxs("td",{colSpan:6,className:"px-4 py-3 bg-white",children:[a.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Most Underpaid Transactions"}),a.jsxs("table",{className:"min-w-full text-xs",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-gray-500",children:[a.jsx("th",{className:"text-left pb-2",children:"Transaction ID"}),a.jsx("th",{className:"text-right pb-2",children:"Amount"}),a.jsx("th",{className:"text-right pb-2",children:"Expected"}),a.jsx("th",{className:"text-right pb-2",children:"Actual"}),a.jsx("th",{className:"text-right pb-2",children:"Deviation"}),a.jsx("th",{className:"text-right pb-2",children:"Dev %"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:l.map(u=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"py-2",children:a.jsxs(Ie,{to:`/transaction/${u.tx_id}`,target:"_blank",className:"font-mono text-primary-600 hover:text-primary-800 flex items-center gap-1",children:[u.tx_id.slice(0,8),"...",a.jsx(Ls,{className:"h-3 w-3"})]})}),a.jsx("td",{className:"py-2 text-right text-gray-900",children:V(u.amount_eur||u.amount||0)}),a.jsx("td",{className:"py-2 text-right text-gray-500",children:V(u.planned_commission||u.planned||0)}),a.jsx("td",{className:"py-2 text-right text-gray-900",children:V(u.actual_commission||u.actual||0)}),a.jsx("td",{className:"py-2 text-right font-medium text-red-600",children:V(u.deviation)}),a.jsx("td",{className:"py-2 text-right text-gray-500",children:lt(u.deviation_percent||u.deviation_pct||0)})]},u.tx_id))})]})]})})]})})})]})})]})]})]})}function rae(){const[e,t]=O.useState(new Set),{data:r,isLoading:n,error:i}=ye({queryKey:["reports","underpay"],queryFn:se.getUnderpaymentReport}),s=d=>{t(f=>{const h=new Set(f);return h.has(d)?h.delete(d):h.add(d),h})};if(n)return a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(Ee,{className:"h-8 w-8 text-gray-400 animate-spin"})});if(i||!r)return a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-red-600",children:"Failed to load report. Run the generation script first."})});const o=Object.values(r.merchant_summary).reduce((d,f)=>d+f.underpay_volume,0),l=Object.values(r.merchant_summary).reduce((d,f)=>d+f.underpay_count,0),c=l>0?-o/l:0,u=Object.entries(r.merchant_summary).filter(([,d])=>d.underpay_volume>0).map(([d,f])=>{const h=(r.plan_summary[d]||[]).filter(m=>m.underpay_volume>0).sort((m,y)=>y.underpay_volume-m.underpay_volume).map(m=>({plan_key:m.plan_key,variant_key:m.variant_key||m.plan_key,type:`${m.operation_type}/${m.apm_type||m.payment_type}`,rate:m.rate?`${m.rate}%${m.fixed_fee?`+${m.fixed_fee}`:""}`:"N/A",transactions:m.underpay_count,totalLoss:-m.underpay_volume,avgLoss:m.underpay_count>0?-m.underpay_volume/m.underpay_count:0}));return{name:d,underpaidTxns:f.underpay_count,totalUnderpaid:-f.underpay_volume,avgPerTx:f.underpay_count>0?-f.underpay_volume/f.underpay_count:0,percentOfTotal:o>0?f.underpay_volume/o*100:0,plans:h,examples:r.examples[d]||{}}}).sort((d,f)=>d.totalUnderpaid-f.totalUnderpaid);return e.size===0&&u.length>0&&t(new Set([u[0].name])),a.jsxs("div",{children:[a.jsxs(Ie,{to:"/",className:"inline-flex items-center gap-2 text-sm text-gray-500 hover:text-gray-700 mb-4",children:[a.jsx(kr,{className:"h-4 w-4"}),"Back to Reports"]}),a.jsxs(ne,{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:a.jsx(Dc,{className:"h-6 w-6 text-red-600"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Underpayment Analysis"}),a.jsx("p",{className:"text-sm text-gray-500",children:r.scope})]})]}),a.jsxs("div",{className:"text-right text-sm text-gray-500",children:[a.jsxs("div",{children:["Generated: ",new Date(r.generated_at).toLocaleDateString()]}),a.jsx("div",{className:"text-xs",children:r.source})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[a.jsx(Wm,{label:"Total Money Lost",value:V(-o),subValue:"Across all merchants",variant:"danger"}),a.jsx(Wm,{label:"Affected Transactions",value:l.toLocaleString(),subValue:"Approved transactions with underpayment"}),a.jsx(Wm,{label:"Average Loss per Transaction",value:V(c),subValue:"Mean deviation"})]}),o>100&&a.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(nt,{className:"h-5 w-5 text-red-600 mt-0.5"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-red-800",children:"Key Finding"}),a.jsxs("div",{className:"text-sm text-red-700",children:[a.jsx("strong",{children:V(o)})," is being lost across"," ",l.toLocaleString()," approved transactions where actual commission is lower than contracted rates.",u.length>0&&u[0].percentOfTotal>80&&a.jsxs(a.Fragment,{children:[" ",a.jsxs("strong",{children:[u[0].percentOfTotal.toFixed(0),"% of the loss comes from ",u[0].name]}),"."]})]})]})]})})]}),a.jsx(ne,{title:"Merchant Details",className:"mb-6",children:a.jsx("div",{className:"space-y-4",children:u.map(d=>a.jsx(tae,{merchant:d,isExpanded:e.has(d.name),onToggle:()=>s(d.name)},d.name))})})]})}function nae({merchant:e,plans:t,examples:r,isExpanded:n,onToggle:i}){const[s,o]=O.useState(new Set),l=d=>{o(f=>{const h=new Set(f);return h.has(d)?h.delete(d):h.add(d),h})},c=t.reduce((d,f)=>d+f.tx_count,0),u=t.reduce((d,f)=>d+f.total_deviation,0);return a.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[a.jsxs("button",{onClick:i,className:"w-full px-6 py-4 flex items-center justify-between bg-white hover:bg-gray-50 transition-colors",children:[a.jsx("div",{className:"flex items-center gap-4",children:a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:"font-semibold text-gray-900",children:e}),a.jsxs("div",{className:"text-sm text-gray-500",children:[t.length," rate plans, ",c.toLocaleString()," transactions"]})]})}),a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-lg font-semibold text-orange-600",children:V(u)}),a.jsx("div",{className:"text-xs text-gray-500",children:"Total Deviation"})]}),n?a.jsx(cr,{className:"h-5 w-5 text-gray-400"}):a.jsx(qe,{className:"h-5 w-5 text-gray-400"})]})]}),n&&a.jsx("div",{className:"border-t border-gray-200 bg-gray-50 p-6",children:a.jsxs("table",{className:"min-w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left text-gray-500 border-b",children:[a.jsx("th",{className:"pb-2 font-medium",children:"Plan (Conditions)"}),a.jsx("th",{className:"pb-2 font-medium text-right",children:"Contract Rate"}),a.jsx("th",{className:"pb-2 font-medium text-right",children:"Avg Eff. Rate"}),a.jsx("th",{className:"pb-2 font-medium text-right",children:"Transactions"}),a.jsx("th",{className:"pb-2 font-medium text-right",children:"Underpay"}),a.jsx("th",{className:"pb-2 font-medium text-right",children:"Overcharge"}),a.jsx("th",{className:"pb-2 font-medium text-right",children:"Deviation"})]})}),a.jsx("tbody",{children:t.map(d=>{const f=d.variant_key||d.plan_key,h=r[f]||[],m=s.has(f);return a.jsxs(a.Fragment,{children:[a.jsxs("tr",{className:"border-b last:border-0 cursor-pointer hover:bg-gray-100",onClick:()=>h.length>0&&l(f),children:[a.jsx("td",{className:"py-2",children:a.jsxs("div",{className:"flex items-center gap-2",children:[h.length>0&&(m?a.jsx(cr,{className:"h-4 w-4 text-gray-400"}):a.jsx(qe,{className:"h-4 w-4 text-gray-400"})),a.jsxs("div",{children:[a.jsx("code",{className:"text-xs bg-gray-100 px-1.5 py-0.5 rounded",children:d.plan_key}),a.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:d.conditions})]})]})}),a.jsx("td",{className:"py-2 text-right",children:d.contract_rate!=null?`${d.contract_rate}%${d.contract_fixed?`+${d.contract_fixed}`:""}`:"N/A"}),a.jsx("td",{className:"py-2 text-right",children:d.avg_effective_rate!=null?lt(d.avg_effective_rate):"N/A"}),a.jsx("td",{className:"py-2 text-right",children:Ne(d.tx_count)}),a.jsx("td",{className:"py-2 text-right text-red-600",children:d.underpay_volume>0?`-${V(d.underpay_volume)}`:"-"}),a.jsx("td",{className:"py-2 text-right text-green-600",children:d.overcharge_volume>0?`+${V(d.overcharge_volume)}`:"-"}),a.jsx("td",{className:"py-2 text-right font-medium text-orange-600",children:V(d.total_deviation)})]},f),m&&h.length>0&&a.jsx("tr",{children:a.jsxs("td",{colSpan:7,className:"px-4 py-3 bg-white",children:[a.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Example Transactions"}),a.jsxs("table",{className:"min-w-full text-xs",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-gray-500",children:[a.jsx("th",{className:"text-left pb-2",children:"Transaction ID"}),a.jsx("th",{className:"text-right pb-2",children:"Amount"}),a.jsx("th",{className:"text-right pb-2",children:"Expected"}),a.jsx("th",{className:"text-right pb-2",children:"Actual"}),a.jsx("th",{className:"text-right pb-2",children:"Deviation"}),a.jsx("th",{className:"text-right pb-2",children:"Eff. Rate"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:h.map(y=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"py-2",children:a.jsxs(Ie,{to:`/transaction/${y.tx_id}`,target:"_blank",className:"font-mono text-primary-600 hover:text-primary-800 flex items-center gap-1",children:[y.tx_id.slice(0,8),"...",a.jsx(Ls,{className:"h-3 w-3"})]})}),a.jsx("td",{className:"py-2 text-right text-gray-900",children:V(y.amount||0)}),a.jsx("td",{className:"py-2 text-right text-gray-500",children:V(y.planned||0)}),a.jsx("td",{className:"py-2 text-right text-gray-900",children:V(y.actual||0)}),a.jsx("td",{className:G("py-2 text-right font-medium",y.deviation>=0?"text-green-600":"text-red-600"),children:V(y.deviation)}),a.jsx("td",{className:"py-2 text-right text-gray-500",children:y.eff_rate!=null?lt(y.eff_rate):"N/A"})]},y.tx_id))})]})]})})]})})})]})})]})}function aae(){const[e,t]=O.useState(new Set),{data:r,isLoading:n,error:i}=ye({queryKey:["reports","contract-mismatch"],queryFn:se.getContractMismatchReport}),s=u=>{t(d=>{const f=new Set(d);return f.has(u)?f.delete(u):f.add(u),f})};if(n)return a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(Ee,{className:"h-8 w-8 text-gray-400 animate-spin"})});if(i||!r)return a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-red-600",children:"Failed to load report. Run the generation script first."})});const{match_quality:o}=r,l=r.rate_plan_analysis||{},c=r.examples||{};return a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx(Ie,{to:"/",className:"p-2 hover:bg-gray-100 rounded-lg",children:a.jsx(kr,{className:"h-5 w-5 text-gray-500"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Contract Mismatch Analysis"}),a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[r.scope," | Generated ",Bf(r.generated_at)]})]})]}),a.jsxs(ne,{title:"Match Quality Distribution",className:"mb-6",children:[a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"flex h-8 rounded-lg overflow-hidden",children:[a.jsx("div",{className:"bg-green-500",style:{width:`${o.exact.percent}%`},title:`Exact: ${o.exact.count.toLocaleString()}`}),a.jsx("div",{className:"bg-yellow-400",style:{width:`${o.minor.percent}%`},title:`Minor: ${o.minor.count.toLocaleString()}`}),a.jsx("div",{className:"bg-orange-500",style:{width:`${o.significant.percent}%`},title:`Significant: ${o.significant.count.toLocaleString()}`}),a.jsx("div",{className:"bg-red-500",style:{width:`${o.critical.percent}%`},title:`Critical: ${o.critical.count.toLocaleString()}`})]})}),a.jsxs("div",{className:"grid grid-cols-5 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded bg-green-500"}),a.jsx("span",{className:"text-gray-600",children:"Exact (<1%)"})]}),a.jsx("p",{className:"mt-1 font-medium",children:Ne(o.exact.count)}),a.jsx("p",{className:"text-xs text-gray-500",children:lt(o.exact.percent)})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded bg-yellow-400"}),a.jsx("span",{className:"text-gray-600",children:"Minor (1-5%)"})]}),a.jsx("p",{className:"mt-1 font-medium",children:Ne(o.minor.count)}),a.jsx("p",{className:"text-xs text-gray-500",children:lt(o.minor.percent)})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded bg-orange-500"}),a.jsx("span",{className:"text-gray-600",children:"Significant (5-20%)"})]}),a.jsx("p",{className:"mt-1 font-medium",children:Ne(o.significant.count)}),a.jsx("p",{className:"text-xs text-gray-500",children:lt(o.significant.percent)})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded bg-red-500"}),a.jsx("span",{className:"text-gray-600",children:"Critical (>20%)"})]}),a.jsx("p",{className:"mt-1 font-medium",children:Ne(o.critical.count)}),a.jsx("p",{className:"text-xs text-gray-500",children:lt(o.critical.percent)})]}),a.jsxs("div",{children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("span",{className:"text-gray-600",children:"Total Deviation"})}),a.jsx("p",{className:"mt-1 font-medium text-orange-600",children:V(o.total_deviation)}),a.jsxs("p",{className:"text-xs text-gray-500",children:[Ne(o.total)," transactions"]})]})]})]}),Object.keys(l).length>0&&a.jsx(ne,{title:"Rate Plan Analysis by Merchant",className:"mb-6",children:a.jsx("div",{className:"space-y-4",children:Object.entries(l).map(([u,d])=>a.jsx(nae,{merchant:u,plans:d,examples:c[u]||{},isExpanded:e.has(u),onToggle:()=>s(u)},u))})}),r.low_confidence_matches&&r.low_confidence_matches.length>0&&a.jsx(ne,{title:"Low Confidence Matches (Fallbacks)",className:"mb-6",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left text-gray-500 border-b",children:[a.jsx("th",{className:"pb-2 font-medium",children:"Match Reason"}),a.jsx("th",{className:"pb-2 font-medium",children:"Merchant"}),a.jsx("th",{className:"pb-2 font-medium",children:"Plan"}),a.jsx("th",{className:"pb-2 font-medium text-right",children:"Transactions"}),a.jsx("th",{className:"pb-2 font-medium text-right",children:"Deviation"})]})}),a.jsx("tbody",{children:r.low_confidence_matches.map((u,d)=>a.jsxs("tr",{className:"border-b last:border-0",children:[a.jsx("td",{className:"py-2 text-amber-600",children:u.reason}),a.jsx("td",{className:"py-2",children:u.merchant}),a.jsx("td",{className:"py-2",children:a.jsx("code",{className:"text-xs bg-gray-100 px-1.5 py-0.5 rounded",children:u.plan})}),a.jsx("td",{className:"py-2 text-right",children:Ne(u.count)}),a.jsx("td",{className:`py-2 text-right font-medium ${u.deviation>=0?"text-green-600":"text-red-600"}`,children:V(u.deviation)})]},d))})]})}),r.volume_tier_suggestions&&r.volume_tier_suggestions.length>0&&a.jsxs(ne,{title:"Volume Tier Suggestions",className:"mb-6",children:[a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"These transactions matched to a plan but a better tier plan was suggested based on volume."}),a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left text-gray-500 border-b",children:[a.jsx("th",{className:"pb-2 font-medium",children:"Merchant"}),a.jsx("th",{className:"pb-2 font-medium",children:"Current Plan"}),a.jsx("th",{className:"pb-2 font-medium",children:"Suggested Plan"}),a.jsx("th",{className:"pb-2 font-medium text-right",children:"Transactions"}),a.jsx("th",{className:"pb-2 font-medium text-right",children:"Deviation"})]})}),a.jsx("tbody",{children:r.volume_tier_suggestions.map((u,d)=>a.jsxs("tr",{className:"border-b last:border-0",children:[a.jsx("td",{className:"py-2",children:u.merchant}),a.jsxs("td",{className:"py-2",children:[a.jsx("code",{className:"text-xs bg-gray-100 px-1.5 py-0.5 rounded",children:u.current_plan}),a.jsx("span",{className:"text-gray-500 ml-2",children:u.current_rate})]}),a.jsx("td",{className:"py-2",children:a.jsx("code",{className:"text-xs bg-green-100 px-1.5 py-0.5 rounded text-green-800",children:u.suggested_plan})}),a.jsx("td",{className:"py-2 text-right",children:Ne(u.count)}),a.jsx("td",{className:`py-2 text-right font-medium ${u.deviation>=0?"text-green-600":"text-red-600"}`,children:V(u.deviation)})]},d))})]})]})]})}const TN={high:{icon:nt,color:"text-red-600",bg:"bg-red-100"},medium:{icon:nt,color:"text-amber-600",bg:"bg-amber-100"},info:{icon:FS,color:"text-gray-600",bg:"bg-gray-100"}};function iae({merchant:e,data:t,isExpanded:r,onToggle:n,isFixedFeeMismatch:i=!1}){return a.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[a.jsxs("button",{onClick:n,className:"w-full px-4 py-3 flex items-center justify-between bg-white hover:bg-gray-50 transition-colors",children:[a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:"font-medium text-gray-900",children:e}),a.jsxs("div",{className:"text-xs text-gray-500",children:[t.tx_count.toLocaleString()," transactions"]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"font-medium text-gray-900",children:V(t.total_volume)}),a.jsx("div",{className:"text-xs text-gray-500",children:"volume"})]}),r?a.jsx(cr,{className:"h-4 w-4 text-gray-400"}):a.jsx(qe,{className:"h-4 w-4 text-gray-400"})]})]}),r&&t.examples.length>0&&a.jsxs("div",{className:"border-t border-gray-200 bg-gray-50 p-4",children:[a.jsxs("table",{className:"min-w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left text-gray-500 border-b",children:[a.jsx("th",{className:"pb-2 font-medium",children:"Transaction ID"}),i?a.jsxs(a.Fragment,{children:[a.jsx("th",{className:"pb-2 font-medium",children:"Plan"}),a.jsx("th",{className:"pb-2 font-medium text-right",children:"Actual Fixed"}),a.jsx("th",{className:"pb-2 font-medium text-right",children:"Expected Fixed"})]}):a.jsxs(a.Fragment,{children:[a.jsx("th",{className:"pb-2 font-medium",children:"Type"}),a.jsx("th",{className:"pb-2 font-medium",children:"Gate"})]}),a.jsx("th",{className:"pb-2 font-medium text-right",children:"Amount"}),a.jsx("th",{className:"pb-2 font-medium text-right",children:"Commission"}),a.jsx("th",{className:"pb-2 font-medium",children:"Date"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:t.examples.map(s=>a.jsxs("tr",{className:"hover:bg-gray-100",children:[a.jsx("td",{className:"py-2",children:a.jsxs(Ie,{to:`/transaction/${s.tx_id}`,target:"_blank",className:"font-mono text-primary-600 hover:text-primary-800 flex items-center gap-1",children:[s.tx_id.slice(0,8),"...",a.jsx(Ls,{className:"h-3 w-3"})]})}),i?a.jsxs(a.Fragment,{children:[a.jsx("td",{className:"py-2 text-gray-600",children:a.jsx("code",{className:"text-xs bg-gray-100 px-1.5 py-0.5 rounded",children:s.plan||"-"})}),a.jsx("td",{className:"py-2 text-right text-red-600",children:V(s.actual_fixed??0)}),a.jsx("td",{className:"py-2 text-right text-green-600",children:V(s.expected_fixed??0)})]}):a.jsxs(a.Fragment,{children:[a.jsx("td",{className:"py-2 text-gray-600",children:s.tx_type||"-"}),a.jsx("td",{className:"py-2 text-gray-600",children:s.gate||"-"})]}),a.jsx("td",{className:"py-2 text-right",children:V(s.amount||0)}),a.jsx("td",{className:"py-2 text-right",children:V(s.commission??0)}),a.jsx("td",{className:"py-2 text-gray-500 text-xs",children:s.date?Bf(s.date):"-"})]},s.tx_id))})]}),t.tx_count>t.examples.length&&a.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Showing ",t.examples.length," of ",t.tx_count.toLocaleString()," transactions"]})]})]})}function sae({data:e,isExpanded:t,onToggle:r}){const[n,i]=O.useState(new Set),[s,o]=O.useState(new Set),l=f=>{const h=new Set(n);h.has(f)?h.delete(f):h.add(f),i(h)},c=f=>{const h=new Set(s);h.has(f)?h.delete(f):h.add(f),o(h)},u=e.findings.reduce((f,h)=>f+h.total_overcharge_eur,0),d=e.findings.reduce((f,h)=>f+h.affected_transactions,0);return a.jsxs(ne,{children:[a.jsxs("button",{onClick:r,className:"w-full flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-red-100",children:a.jsx(nt,{className:"h-5 w-5 text-red-600"})}),a.jsxs("div",{className:"text-left",children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Contract Mismatches Discovered"}),a.jsx("p",{className:"text-sm text-gray-500",children:e.description})]})]}),a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-lg font-semibold text-red-600",children:V(u)}),a.jsx("p",{className:"text-xs text-gray-500",children:"total overcharge"})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-lg font-semibold text-gray-900",children:Ne(d)}),a.jsx("p",{className:"text-xs text-gray-500",children:"transactions"})]}),t?a.jsx(qe,{className:"h-5 w-5 text-gray-400"}):a.jsx(cr,{className:"h-5 w-5 text-gray-400 rotate-90"})]})]}),t&&a.jsxs("div",{className:"mt-4 pt-4 border-t space-y-4",children:[a.jsx("div",{className:"space-y-3",children:e.findings.map((f,h)=>{var m;return a.jsxs("div",{className:"border border-red-200 rounded-lg overflow-hidden",children:[a.jsxs("button",{onClick:()=>l(h),className:"w-full p-4 bg-red-50 text-left hover:bg-red-100 transition-colors",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[n.has(h)?a.jsx(qe,{className:"h-4 w-4 text-gray-400"}):a.jsx(cr,{className:"h-4 w-4 text-gray-400 rotate-90"}),a.jsx("span",{className:"font-medium text-gray-900",children:f.merchant}),a.jsx("code",{className:"text-xs bg-gray-100 px-1.5 py-0.5 rounded",children:f.plan_key})]}),a.jsxs("span",{className:"text-red-600 font-semibold",children:[V(f.total_overcharge_eur)," overcharge"]})]}),a.jsx("p",{className:"text-sm text-red-800 font-medium mb-2 ml-6",children:f.issue}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm ml-6",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Contract:"}),a.jsx("span",{className:"ml-2 text-green-700",children:f.contract_rate})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Actual:"}),a.jsx("span",{className:"ml-2 text-red-700",children:f.actual_rate})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Affected:"}),a.jsxs("span",{className:"ml-2",children:[f.affected_transactions.toLocaleString()," txns"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Per txn:"}),a.jsx("span",{className:"ml-2",children:V(f.overcharge_per_transaction)})]})]}),f.note&&a.jsx("p",{className:"text-xs text-gray-600 mt-2 italic ml-6",children:f.note})]}),n.has(h)&&f.transactions&&f.transactions.length>0&&a.jsxs("div",{className:"border-t border-red-200 bg-white p-4",children:[a.jsxs("h5",{className:"text-xs font-medium text-gray-500 mb-2",children:["Example Transactions (",f.transactions.length," of ",f.affected_transactions.toLocaleString(),")"]}),a.jsxs("table",{className:"min-w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left text-gray-500 border-b",children:[a.jsx("th",{className:"pb-2 font-medium",children:"Transaction ID"}),a.jsx("th",{className:"pb-2 font-medium text-right",children:"Amount"}),a.jsx("th",{className:"pb-2 font-medium text-right",children:"Commission"}),((m=f.transactions[0])==null?void 0:m.expected_commission)!==void 0&&a.jsx("th",{className:"pb-2 font-medium text-right",children:"Expected"}),a.jsx("th",{className:"pb-2 font-medium text-right",children:"Overcharge"}),a.jsx("th",{className:"pb-2 font-medium",children:"Date"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:f.transactions.map(y=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"py-2",children:a.jsxs(Ie,{to:`/transaction/${y.tx_id}`,target:"_blank",className:"font-mono text-primary-600 hover:text-primary-800 flex items-center gap-1",children:[y.tx_id.slice(0,8),"...",a.jsx(Ls,{className:"h-3 w-3"})]})}),a.jsx("td",{className:"py-2 text-right",children:V(y.amount)}),a.jsx("td",{className:"py-2 text-right",children:V(y.commission)}),y.expected_commission!==void 0&&a.jsx("td",{className:"py-2 text-right text-green-600",children:V(y.expected_commission)}),a.jsxs("td",{className:"py-2 text-right text-red-600",children:["+",V(y.overcharge??0)]}),a.jsx("td",{className:"py-2 text-gray-500 text-xs",children:y.date})]},y.tx_id))})]})]})]},h)})}),e.flat_fee_anomalies&&e.flat_fee_anomalies.total_count>0&&a.jsxs("div",{className:"border border-amber-200 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"p-4 bg-amber-50",children:[a.jsxs("h4",{className:"font-medium text-amber-800 mb-2",children:["Flat Fee Anomalies (",e.flat_fee_anomalies.total_count," transactions)"]}),a.jsx("p",{className:"text-sm text-gray-600",children:e.flat_fee_anomalies.description})]}),e.flat_fee_anomalies.details.map((f,h)=>a.jsxs("div",{className:"border-t border-amber-200",children:[a.jsxs("button",{onClick:()=>c(h),className:"w-full px-4 py-3 bg-amber-50/50 flex justify-between items-center hover:bg-amber-100 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[s.has(h)?a.jsx(qe,{className:"h-4 w-4 text-gray-400"}):a.jsx(cr,{className:"h-4 w-4 text-gray-400 rotate-90"}),a.jsx("code",{className:"bg-gray-100 px-1.5 py-0.5 rounded text-xs",children:f.plan_key}),a.jsxs("span",{className:"text-gray-600 text-sm",children:[f.count," txns @ ",V(f.flat_fee)]})]}),a.jsx("span",{className:"text-amber-700 text-sm",children:f.hypothesis})]}),s.has(h)&&f.transactions&&f.transactions.length>0&&a.jsx("div",{className:"bg-white p-4",children:a.jsxs("table",{className:"min-w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left text-gray-500 border-b",children:[a.jsx("th",{className:"pb-2 font-medium",children:"Transaction ID"}),a.jsx("th",{className:"pb-2 font-medium text-right",children:"Amount"}),a.jsx("th",{className:"pb-2 font-medium text-right",children:"Flat Commission"}),a.jsx("th",{className:"pb-2 font-medium",children:"Type"}),a.jsx("th",{className:"pb-2 font-medium",children:"Date"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:f.transactions.map(m=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"py-2",children:a.jsxs(Ie,{to:`/transaction/${m.tx_id}`,target:"_blank",className:"font-mono text-primary-600 hover:text-primary-800 flex items-center gap-1",children:[m.tx_id.slice(0,8),"...",a.jsx(Ls,{className:"h-3 w-3"})]})}),a.jsx("td",{className:"py-2 text-right",children:V(m.amount)}),a.jsx("td",{className:"py-2 text-right text-amber-600",children:V(m.commission)}),a.jsx("td",{className:"py-2 text-gray-600",children:m.tx_type}),a.jsx("td",{className:"py-2 text-gray-500 text-xs",children:m.date})]},m.tx_id))})]})})]},h))]})]})]})}function oae({title:e,categoryKey:t,data:r,isExpanded:n,onToggle:i,expandedMerchants:s,onToggleMerchant:o}){const l=r.severity,c=TN[l]||TN.info,u=c.icon;return a.jsxs(ne,{children:[a.jsxs("button",{onClick:i,className:"w-full flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${c.bg}`,children:a.jsx(u,{className:`h-5 w-5 ${c.color}`})}),a.jsxs("div",{className:"text-left",children:[a.jsx("h3",{className:"font-medium text-gray-900",children:e}),a.jsx("p",{className:"text-sm text-gray-500",children:r.description})]})]}),a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-lg font-semibold text-gray-900",children:Ne(r.total_count)}),a.jsx("p",{className:"text-xs text-gray-500",children:"transactions"})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-lg font-semibold text-gray-900",children:V(r.total_volume)}),a.jsx("p",{className:"text-xs text-gray-500",children:"volume"})]}),n?a.jsx(qe,{className:"h-5 w-5 text-gray-400"}):a.jsx(cr,{className:"h-5 w-5 text-gray-400 rotate-90"})]})]}),n&&r.total_count>0&&a.jsx("div",{className:"mt-4 pt-4 border-t space-y-3",children:Object.entries(r.by_merchant).map(([d,f])=>{const h=`${t}:${d}`;return a.jsx(iae,{merchant:d,data:f,isExpanded:s.has(h),onToggle:()=>o(h),isFixedFeeMismatch:t==="fixed_fee_mismatch"},h)})}),n&&r.total_count===0&&a.jsx("div",{className:"mt-4 pt-4 border-t text-center py-6",children:a.jsx("p",{className:"text-gray-500",children:"No anomalies found in this category"})})]})}function lae(){const[e,t]=O.useState(new Set(["zero_commission"])),[r,n]=O.useState(new Set),{data:i,isLoading:s,error:o}=ye({queryKey:["reports","anomalies"],queryFn:se.getAnomaliesReport}),l=d=>{const f=new Set(e);f.has(d)?f.delete(d):f.add(d),t(f)},c=d=>{const f=new Set(r);f.has(d)?f.delete(d):f.add(d),n(f)};if(s)return a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(Ee,{className:"h-8 w-8 text-gray-400 animate-spin"})});if(o||!i)return a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-red-600",children:"Failed to load report. Run the generation script first."})});const u=[{key:"zero_commission",title:"Zero Commission Transactions",data:i.zero_commission},{key:"fixed_fee_mismatch",title:"Fixed Fee Mismatch",data:i.fixed_fee_mismatch},{key:"manual_transactions",title:"Manual Transactions",data:i.manual_transactions}];return a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx(Ie,{to:"/",className:"p-2 hover:bg-gray-100 rounded-lg",children:a.jsx(kr,{className:"h-5 w-5 text-gray-500"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Anomalies Detected"}),a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[i.scope," | Generated ",Bf(i.generated_at)]})]})]}),a.jsx(ne,{className:"mb-6",children:a.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Total Approved"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:Ne(i.overall_stats.total_approved)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Total Volume"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:V(i.overall_stats.total_volume)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Total Commission"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:V(i.overall_stats.total_commission)})]})]})}),a.jsxs("div",{className:"space-y-4",children:[u.map(({key:d,title:f,data:h})=>a.jsx(oae,{title:f,categoryKey:d,data:h,isExpanded:e.has(d),onToggle:()=>l(d),expandedMerchants:r,onToggleMerchant:c},d)),i.contract_mismatches_discovered&&a.jsx(sae,{data:i.contract_mismatches_discovered,isExpanded:e.has("contract_mismatches_discovered"),onToggle:()=>l("contract_mismatches_discovered")})]})]})}function Au({label:e,value:t,subValue:r,variant:n="default"}){const i={default:"bg-gray-50",success:"bg-green-50",warning:"bg-amber-50",danger:"bg-red-50"},s={default:"text-gray-900",success:"text-green-700",warning:"text-amber-700",danger:"text-red-700"};return a.jsxs("div",{className:G("rounded-lg p-4",i[n]),children:[a.jsx("div",{className:G("text-2xl font-semibold",s[n]),children:typeof t=="number"?t.toLocaleString():t}),a.jsx("div",{className:"text-sm text-gray-500",children:e}),r&&a.jsx("div",{className:"text-xs text-gray-400 mt-1",children:r})]})}function cae({shift:e,isExpanded:t,onToggle:r}){const n={critical:{bg:"bg-red-50",border:"border-red-200",badge:"bg-red-100 text-red-700"},warning:{bg:"bg-amber-50",border:"border-amber-200",badge:"bg-amber-100 text-amber-700"}},i=n[e.severity]||n.warning;return a.jsxs("div",{className:G("border rounded-lg overflow-hidden",i.border),children:[a.jsxs("button",{onClick:r,className:G("w-full px-4 py-3 flex items-center justify-between",i.bg,"hover:opacity-90 transition-opacity"),children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(nt,{className:G("h-5 w-5",e.severity==="critical"?"text-red-600":"text-amber-600")}),a.jsxs("div",{className:"text-left",children:[a.jsxs("div",{className:"font-semibold text-gray-900",children:[e.merchant," - ",e.currency," ",e.point_id]}),a.jsx("div",{className:"text-sm text-gray-600",children:e.description})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("span",{className:G("px-2 py-1 rounded text-xs font-medium",i.badge),children:e.status}),a.jsx("div",{className:"text-right",children:a.jsxs("div",{className:G("text-sm font-medium",e.net_impact===0?"text-green-600":"text-red-600"),children:["Net: ",V(e.net_impact)]})}),t?a.jsx(cr,{className:"h-5 w-5 text-gray-400"}):a.jsx(qe,{className:"h-5 w-5 text-gray-400"})]})]}),t&&a.jsxs("div",{className:"px-4 py-3 bg-white border-t border-gray-200",children:[a.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:["Sheet: ",a.jsx("code",{className:"bg-gray-100 px-1 rounded",children:e.sheet})]}),a.jsxs("table",{className:"min-w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-gray-500 text-xs uppercase",children:[a.jsx("th",{className:"text-left pb-2",children:"Date"}),a.jsx("th",{className:"text-right pb-2",children:"Actual Amount"}),a.jsx("th",{className:"text-right pb-2",children:"Expected (Recon)"}),a.jsx("th",{className:"text-right pb-2",children:"Deviation"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:e.pairs.map((s,o)=>a.jsxs("tr",{children:[a.jsx("td",{className:"py-2 font-mono text-gray-900",children:s.date}),a.jsx("td",{className:"py-2 text-right text-gray-900",children:V(s.actual)}),a.jsx("td",{className:"py-2 text-right text-gray-500",children:V(s.expected)}),a.jsxs("td",{className:G("py-2 text-right font-medium",s.deviation>0?"text-green-600":"text-red-600"),children:[s.deviation>0?"+":"",V(s.deviation)]})]},o))})]})]})]})}function uae({groups:e}){return a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Merchant"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Currency"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Payment"}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Transactions"}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Amount"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Reason"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map((t,r)=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:t.merchant}),a.jsx("td",{className:"px-4 py-3 text-sm",children:a.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:t.currency})}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:t.payment_type}),a.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-900",children:t.transaction_count.toLocaleString()}),a.jsxs("td",{className:"px-4 py-3 text-sm text-right font-medium text-gray-900",children:[t.total_amount.toLocaleString(void 0,{minimumFractionDigits:2})," ",t.currency]}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:t.reason})]},r))})]})})}function dae({items:e}){const t={high:"bg-red-100 text-red-700",medium:"bg-amber-100 text-amber-700",low:"bg-gray-100 text-gray-700"};return a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Merchant"}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Records"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date Range"}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Amount"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Severity"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Reason"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map((r,n)=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:r.merchant}),a.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-900",children:r.records}),a.jsxs("td",{className:"px-4 py-3 text-sm text-gray-500 font-mono",children:[r.date_from," ~ ",r.date_to]}),a.jsx("td",{className:"px-4 py-3 text-sm text-right font-medium text-gray-900",children:V(r.total_amount)}),a.jsx("td",{className:"px-4 py-3 text-sm",children:a.jsx("span",{className:G("inline-flex items-center px-2 py-0.5 rounded text-xs font-medium",t[r.severity]||t.low),children:r.severity})}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-500 max-w-xs truncate",title:r.reason,children:r.reason})]},n))})]})})}function MN({errors:e}){return a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Merchant"}),a.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Point"}),a.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),a.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Currency"}),a.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Actual"}),a.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Expected"}),a.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Deviation"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map((t,r)=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-3 py-2 text-gray-900",children:t.merchant}),a.jsx("td",{className:"px-3 py-2 text-gray-500",children:t.point_id}),a.jsx("td",{className:"px-3 py-2 text-gray-500 font-mono",children:t.date}),a.jsx("td",{className:"px-3 py-2 text-gray-500",children:t.currency}),a.jsx("td",{className:"px-3 py-2 text-right text-gray-900",children:t.actual.toLocaleString(void 0,{minimumFractionDigits:2})}),a.jsx("td",{className:"px-3 py-2 text-right text-gray-500",children:t.expected.toLocaleString(void 0,{minimumFractionDigits:2})}),a.jsxs("td",{className:G("px-3 py-2 text-right font-medium",t.deviation>0?"text-green-600":"text-red-600"),children:[t.deviation>0?"+":"",t.deviation.toFixed(2)]})]},r))})]})})}function fae(){var c,u;const[e,t]=O.useState(new Set),[r,n]=O.useState(!1),{data:i,isLoading:s,error:o}=ye({queryKey:["reports","reconciliation-deviation"],queryFn:se.getReconciliationDeviationReport}),l=d=>{t(f=>{const h=new Set(f);return h.has(d)?h.delete(d):h.add(d),h})};return s?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(Ee,{className:"h-8 w-8 text-gray-400 animate-spin"})}):o||!i?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-red-600",children:"Failed to load report."})}):(e.size===0&&i.date_shifts.length>0&&t(new Set([i.date_shifts[0].id])),a.jsxs("div",{children:[a.jsxs(Ie,{to:"/",className:"inline-flex items-center gap-2 text-sm text-gray-500 hover:text-gray-700 mb-4",children:[a.jsx(kr,{className:"h-4 w-4"}),"Back to Reports"]}),a.jsxs(ne,{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(DS,{className:"h-6 w-6 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Reconciliation Deviation Report"}),a.jsx("p",{className:"text-sm text-gray-500",children:i.scope})]})]}),a.jsxs("div",{className:"text-right text-sm text-gray-500",children:[a.jsxs("div",{children:["Generated: ",new Date(i.generated_at).toLocaleDateString()]}),a.jsx("div",{className:"text-xs",children:i.data_source})]})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[a.jsx(Au,{label:"Total Records",value:i.summary.total_records,subValue:"DailyReconciliation nodes"}),a.jsx(Au,{label:"With Recon Data",value:i.summary.with_recon_data,subValue:`${(i.summary.with_recon_data/i.summary.total_records*100).toFixed(1)}% coverage`,variant:"success"}),a.jsx(Au,{label:"Missing Recon",value:i.summary.missing_recon_data,subValue:"Records without reconciliation",variant:i.summary.missing_recon_data>100?"warning":"default"}),a.jsx(Au,{label:"Deviations",value:i.summary.total_deviations,subValue:`${i.summary.significant_deviations} significant (>1)`,variant:i.summary.significant_deviations>0?"danger":"success"})]}),((c=i.comparison_v1)==null?void 0:c.deviations_resolved)&&i.comparison_v1.deviations_resolved>0&&a.jsx("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(BT,{className:"h-5 w-5 text-green-600 mt-0.5"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-green-800",children:"Improvement from Previous Version"}),a.jsxs("div",{className:"text-sm text-green-700",children:[a.jsx("strong",{children:i.comparison_v1.records_added})," new records with reconciliation data added.",a.jsxs("strong",{children:[" ",i.comparison_v1.deviations_resolved]})," deviations resolved (from ",i.comparison_v1.previous_deviations," to ",i.summary.total_deviations,")."]})]})]})})]}),a.jsxs(ne,{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(zy,{className:"h-5 w-5 text-red-600"}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Date Shifts"}),a.jsxs("span",{className:"text-sm text-gray-500",children:["(",i.date_shifts.length," issues - Data Entry Errors)"]})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"These are confirmed date shifts where transaction data appears on wrong dates in reconciliation files. Offsetting deviations that sum to zero indicate data was swapped between dates."}),a.jsx("div",{className:"space-y-3",children:i.date_shifts.map(d=>a.jsx(cae,{shift:d,isExpanded:e.has(d.id),onToggle:()=>l(d.id)},d.id))})]}),a.jsxs(ne,{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(gd,{className:"h-5 w-5 text-amber-600"}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Unmatched Transactions"}),a.jsxs("span",{className:"text-sm text-gray-500",children:["(",i.unmatched_transactions.total_count.toLocaleString()," txns - ",i.unmatched_transactions.total_percent,"% of total)"]})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Transactions without matching rate plans in merchant contracts. These need contract updates to include missing currencies/payment types."}),a.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:a.jsx(uae,{groups:i.unmatched_transactions.groups})})]}),a.jsxs(ne,{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(ET,{className:"h-5 w-5 text-gray-600"}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Missing Reconciliation Data"}),a.jsxs("span",{className:"text-sm text-gray-500",children:["(",i.summary.missing_recon_data," records)"]})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Transaction records that have no corresponding data in reconciliation files. May indicate missing files, merchant name mismatches, or uncovered payment types."}),a.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:a.jsx(dae,{items:i.missing_reconciliation})})]}),a.jsxs(ne,{className:"mb-6",children:[a.jsxs("button",{onClick:()=>n(!r),className:"w-full flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ta,{className:"h-5 w-5 text-green-600"}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Amount Mismatch"}),a.jsxs("span",{className:"text-sm text-gray-500",children:["(",i.rounding_errors.length," records)"]}),a.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-700",children:"No Action Needed"})]}),r?a.jsx(cr,{className:"h-5 w-5 text-gray-400"}):a.jsx(qe,{className:"h-5 w-5 text-gray-400"})]}),r&&a.jsxs("div",{className:"mt-4",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Minor floating-point arithmetic differences (less than 0.10). These are expected and require no action."}),a.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:a.jsx(MN,{errors:i.rounding_errors})}),i.small_discrepancies.length>0&&a.jsxs("div",{className:"mt-4",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Small Discrepancies (1-10 units)"}),a.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:a.jsx(MN,{errors:i.small_discrepancies})})]})]})]}),((u=i.resolved_issues)==null?void 0:u.count)&&i.resolved_issues.count>0&&a.jsxs(ne,{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Ta,{className:"h-5 w-5 text-green-600"}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Resolved from Previous Report"})]}),a.jsx("p",{className:"text-sm text-gray-600",children:i.resolved_issues.details})]})]}))}function Jo({label:e,value:t,subValue:r,variant:n="default"}){const i={default:"bg-gray-50",success:"bg-green-50",warning:"bg-amber-50",danger:"bg-red-50"},s={default:"text-gray-900",success:"text-green-700",warning:"text-amber-700",danger:"text-red-700"};return a.jsxs("div",{className:G("rounded-lg p-4",i[n]),children:[a.jsx("div",{className:G("text-2xl font-semibold",s[n]),children:typeof t=="number"?t.toLocaleString():t}),a.jsx("div",{className:"text-sm text-gray-500",children:e}),r&&a.jsx("div",{className:"text-xs text-gray-400 mt-1",children:r})]})}function hae({status:e}){const t={exact:{bg:"bg-green-100",text:"text-green-700",icon:Ta,label:"Exact"},minor:{bg:"bg-amber-100",text:"text-amber-700",icon:nt,label:"Minor"},significant:{bg:"bg-red-100",text:"text-red-700",icon:zy,label:"Significant"},no_transactions:{bg:"bg-gray-100",text:"text-gray-500",icon:nt,label:"No Data"}},{bg:r,text:n,icon:i,label:s}=t[e]||t.no_transactions;return a.jsxs("span",{className:G("inline-flex items-center gap-1 px-2 py-0.5 rounded text-xs font-medium",r,n),children:[a.jsx(i,{className:"h-3 w-3"}),s]})}function mae({merchants:e,onMerchantClick:t}){return a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Merchant"}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Transactions"}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Volume"}),a.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Rate"}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Expected"}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actual"}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Deviation"}),a.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(r=>a.jsxs("tr",{className:G("hover:bg-gray-50",r.status==="significant"&&"bg-red-50 hover:bg-red-100",r.status==="no_transactions"&&"bg-gray-50 text-gray-400",t&&"cursor-pointer"),children:[a.jsxs("td",{className:"px-4 py-3",onClick:()=>t==null?void 0:t(r),children:[a.jsx("div",{className:"font-medium text-gray-900 hover:text-blue-600 cursor-pointer",children:r.merchant}),a.jsx("div",{className:"text-xs text-gray-500",children:r.currencies&&r.currencies.length>0?r.currencies.join(", "):"No transactions"})]}),a.jsx("td",{className:"px-4 py-3 text-right text-sm text-gray-900",children:(r.transaction_count||0).toLocaleString()}),a.jsx("td",{className:"px-4 py-3 text-right text-sm text-gray-900",children:(r.total_volume||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}),a.jsx("td",{className:"px-4 py-3 text-center text-sm text-gray-500",children:r.contract_rate!=null?`${r.contract_rate}%`:"-"}),a.jsx("td",{className:"px-4 py-3 text-right text-sm text-gray-500",children:r.expected_commission!=null?V(r.expected_commission):"-"}),a.jsx("td",{className:"px-4 py-3 text-right text-sm font-medium text-gray-900",children:r.actual_commission!=null?V(r.actual_commission):"-"}),a.jsx("td",{className:G("px-4 py-3 text-right text-sm font-medium",r.deviation===0?"text-green-600":r.deviation>0?"text-amber-600":"text-red-600"),children:r.status==="no_transactions"?a.jsx("span",{className:"text-gray-400",children:"-"}):r.deviation===0?a.jsx("span",{className:"text-green-600",children:"0.00"}):a.jsxs(a.Fragment,{children:[V(r.deviation),a.jsxs("div",{className:"text-xs font-normal",children:["(",r.deviation_percent>0?"+":"",r.deviation_percent.toFixed(2),"%)"]})]})}),a.jsx("td",{className:"px-4 py-3 text-center",children:a.jsx(hae,{status:r.status})})]},r.merchant))})]})})}async function pae(e){const t=await fetch(`/api/merchants/${e}`);if(!t.ok)throw new Error("Failed to load merchant");return t.json()}function xae({example:e}){var s;const[t,r]=O.useState(!1);if(!e||e.actual_commission==null||e.expected_commission==null)return null;const n=e.actual_commission-e.expected_commission,i=e.expected_commission>0?n/e.expected_commission*100:0;return a.jsxs("div",{className:"mb-6 border border-amber-200 rounded-lg bg-amber-50",children:[a.jsxs("button",{onClick:()=>r(!t),className:"w-full px-4 py-3 flex items-center justify-between text-left hover:bg-amber-100 rounded-lg transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ri,{className:"h-4 w-4 text-amber-600"}),a.jsx("span",{className:"font-medium text-amber-800",children:"Transaction Example"}),a.jsx("span",{className:"text-xs text-amber-600",children:"(showing deviation)"})]}),t?a.jsx(qe,{className:"h-4 w-4 text-amber-600"}):a.jsx(Qr,{className:"h-4 w-4 text-amber-600"})]}),t&&a.jsxs("div",{className:"px-4 pb-4 space-y-3",children:[a.jsxs("div",{className:"text-xs text-gray-500",children:[a.jsx("span",{className:"font-medium",children:"Source:"})," ",e.source_file]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[a.jsxs("div",{className:"bg-white rounded p-2",children:[a.jsx("div",{className:"text-xs text-gray-500",children:"Date"}),a.jsx("div",{className:"font-medium",children:e.transaction_date})]}),a.jsxs("div",{className:"bg-white rounded p-2",children:[a.jsx("div",{className:"text-xs text-gray-500",children:"Amount"}),a.jsxs("div",{className:"font-medium",children:[((s=e.amount)==null?void 0:s.toFixed(2))??"N/A"," ",e.currency]})]}),a.jsxs("div",{className:"bg-white rounded p-2",children:[a.jsx("div",{className:"text-xs text-gray-500",children:"Point"}),a.jsx("div",{className:"font-medium",children:e.point_name||e.point_id||"N/A"})]}),a.jsxs("div",{className:"bg-white rounded p-2",children:[a.jsx("div",{className:"text-xs text-gray-500",children:"Effective Rate"}),a.jsxs("div",{className:G("font-medium",e.effective_rate>e.contract_rate?"text-red-600":"text-green-600"),children:[e.effective_rate.toFixed(2),"%"]})]})]}),a.jsx("div",{className:"bg-white rounded p-3",children:a.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-500",children:"Actual Commission"}),a.jsxs("div",{className:"font-medium",children:[e.actual_commission.toFixed(2)," EUR"]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-500",children:"Expected Commission"}),a.jsxs("div",{className:"font-medium text-gray-600",children:[e.expected_commission.toFixed(2)," EUR"]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-500",children:"Deviation"}),a.jsxs("div",{className:G("font-medium",n>0?"text-red-600":n<0?"text-green-600":"text-gray-600"),children:[n>0?"+":"",n.toFixed(2)," EUR (",i>0?"+":"",i.toFixed(1),"%)"]})]})]})}),e.contract_line&&a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded p-3",children:[a.jsx("div",{className:"text-xs text-blue-600 font-medium mb-1",children:"Contract Rate"}),a.jsx("div",{className:"text-sm text-blue-800 font-mono",children:e.contract_line}),a.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:["Rate: ",e.contract_rate,"% + ",e.contract_fixed," EUR fixed"]})]}),!e.contract_line&&a.jsxs("div",{className:"text-xs text-gray-500",children:["Contract rate: ",e.contract_rate,"% + ",e.contract_fixed," EUR fixed"]})]})]})}function gae({merchant:e,merchantId:t,onClose:r}){const{data:n,isLoading:i}=ye({queryKey:["merchant",t],queryFn:()=>pae(t),enabled:!!t});return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 bg-black/30 z-40",onClick:r}),a.jsxs("div",{className:"fixed top-0 right-0 h-full w-1/2 bg-white shadow-xl z-50 overflow-y-auto",children:[a.jsxs("div",{className:"sticky top-0 z-10 bg-white border-b px-6 py-4 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:e.merchant}),a.jsx("p",{className:"text-sm text-gray-500",children:"Monthly Reconciliation Details"})]}),a.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(Wt,{className:"h-5 w-5 text-gray-500"})})]}),a.jsxs("div",{className:"p-6",children:[e.transaction_example&&a.jsx(xae,{example:e.transaction_example}),t?i?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(Ee,{className:"h-8 w-8 text-gray-400 animate-spin"})}):n!=null&&n.monthly_reconciliation&&(Array.isArray(n.monthly_reconciliation)?n.monthly_reconciliation.length>0:Object.keys(n.monthly_reconciliation).length>0)?a.jsx(X0,{data:n.monthly_reconciliation,isLoading:!1}):a.jsxs("div",{className:"text-center py-12 text-gray-500",children:[a.jsx("p",{children:"No reconciliation data available for this merchant."}),a.jsx("p",{className:"text-xs mt-2",children:"Reconciliation data may not have been processed yet."})]}):a.jsx("div",{className:"text-center py-12 text-gray-500",children:"Could not find merchant ID for this merchant"})]})]})]})}function yae({currencies:e}){return a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Currency"}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Transactions"}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Volume"}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Commission"}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Deviation"}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Eff. Rate"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(t=>a.jsxs("tr",{className:G("hover:bg-gray-50",t.deviation!==0&&"bg-amber-50 hover:bg-amber-100"),children:[a.jsx("td",{className:"px-4 py-3",children:a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded text-sm font-medium bg-blue-100 text-blue-800",children:t.currency})}),a.jsx("td",{className:"px-4 py-3 text-right text-gray-900",children:t.transaction_count.toLocaleString()}),a.jsx("td",{className:"px-4 py-3 text-right text-gray-900",children:t.total_volume.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}),a.jsx("td",{className:"px-4 py-3 text-right font-medium text-gray-900",children:t.actual_commission.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}),a.jsx("td",{className:G("px-4 py-3 text-right font-medium",t.deviation===0?"text-green-600":"text-red-600"),children:t.deviation===0?"0.00":V(t.deviation)}),a.jsxs("td",{className:"px-4 py-3 text-right text-gray-500",children:[t.avg_effective_rate.toFixed(2),"%"]})]},t.currency))})]})})}function vae(){var p;const[e,t]=O.useState(null),{data:r,isLoading:n,error:i}=ye({queryKey:["reports","commission-compliance"],queryFn:se.getCommissionComplianceReport}),{data:s}=ye({queryKey:["merchants"],queryFn:se.getMerchants}),o=O.useMemo(()=>{if(!s)return new Map;const g=new Map;return s.forEach(b=>{g.set(b.merchant_name,b.merchant_id)}),g},[s]);if(n)return a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(Ee,{className:"h-8 w-8 text-gray-400 animate-spin"})});if(i||!r)return a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-red-600",children:"Failed to load report."})});const{summary:l,deviation_distribution:c,merchant_summary:u,currency_breakdown:d}=r,f=((p=c.no_transactions)==null?void 0:p.count)||0,h=c.exact_match.count+c.minor_deviation.count+c.significant_deviation.count+f,m=h>0?c.exact_match.count/h*100:0,y=h>0?c.minor_deviation.count/h*100:0,x=h>0?c.significant_deviation.count/h*100:0,v=h>0?f/h*100:0;return a.jsxs("div",{children:[a.jsxs(Ie,{to:"/",className:"inline-flex items-center gap-2 text-sm text-gray-500 hover:text-gray-700 mb-4",children:[a.jsx(kr,{className:"h-4 w-4"}),"Back to Reports"]}),a.jsxs(ne,{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(Ta,{className:"h-6 w-6 text-green-600"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Commission Mismatch Report"}),a.jsx("p",{className:"text-sm text-gray-500",children:r.scope})]})]}),a.jsxs("div",{className:"text-right text-sm text-gray-500",children:[a.jsxs("div",{children:["Generated: ",new Date(r.generated_at).toLocaleDateString()]}),a.jsx("div",{className:"text-xs",children:r.data_source})]})]}),a.jsxs("div",{className:"grid grid-cols-5 gap-4 mb-6",children:[a.jsx(Jo,{label:"Transactions",value:l.total_transactions.toLocaleString(),subValue:"Analyzed"}),a.jsx(Jo,{label:"Total Volume",value:V(l.total_volume),subValue:"All currencies"}),a.jsx(Jo,{label:"Expected Commission",value:V(l.total_expected_commission),subValue:"Per contracts"}),a.jsx(Jo,{label:"Actual Commission",value:V(l.total_actual_commission),subValue:"Charged",variant:l.total_deviation===0?"success":l.total_deviation<0?"danger":"warning"}),a.jsx(Jo,{label:"Match Rate",value:`${l.match_percentage.toFixed(1)}%`,subValue:`${l.merchants_analyzed} merchants`,variant:l.match_percentage>=99?"success":l.match_percentage>=95?"warning":"danger"})]}),l.total_deviation!==0&&a.jsx("div",{className:G("p-4 rounded-lg border",l.total_deviation<0?"bg-red-50 border-red-200":"bg-amber-50 border-amber-200"),children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Dc,{className:G("h-5 w-5 mt-0.5",l.total_deviation<0?"text-red-600":"text-amber-600")}),a.jsxs("div",{children:[a.jsx("div",{className:G("font-medium",l.total_deviation<0?"text-red-800":"text-amber-800"),children:l.total_deviation<0?"Underpayment Detected":"Overpayment Detected"}),a.jsxs("div",{className:G("text-sm",l.total_deviation<0?"text-red-700":"text-amber-700"),children:["Total deviation: ",a.jsx("strong",{children:V(Math.abs(l.total_deviation))})," ","(",(Math.abs(l.total_deviation)/l.total_expected_commission*100).toFixed(2),"% of expected)"]})]})]})}),l.total_deviation===0&&a.jsx("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Ta,{className:"h-5 w-5 text-green-600 mt-0.5"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-green-800",children:"Perfect Commission Match"}),a.jsx("div",{className:"text-sm text-green-700",children:"All merchant commissions match contracted rates exactly."})]})]})})]}),a.jsxs(ne,{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(kb,{className:"h-5 w-5 text-gray-600"}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Merchant Compliance Distribution"})]}),a.jsxs("div",{className:"flex items-center gap-2 h-8 rounded-lg overflow-hidden mb-4",children:[m>0&&a.jsx("div",{className:"h-full bg-green-500 flex items-center justify-center text-white text-xs font-medium",style:{width:`${m}%`},children:c.exact_match.count}),y>0&&a.jsx("div",{className:"h-full bg-amber-500 flex items-center justify-center text-white text-xs font-medium",style:{width:`${y}%`},children:c.minor_deviation.count}),x>0&&a.jsx("div",{className:"h-full bg-red-500 flex items-center justify-center text-white text-xs font-medium",style:{width:`${x}%`},children:c.significant_deviation.count}),v>0&&a.jsx("div",{className:"h-full bg-gray-400 flex items-center justify-center text-white text-xs font-medium",style:{width:`${v}%`},children:f})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded bg-green-500"}),a.jsxs("span",{className:"text-gray-600",children:["Exact Match (",c.exact_match.count,")"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded bg-amber-500"}),a.jsxs("span",{className:"text-gray-600",children:["Minor (",c.minor_deviation.count,")"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded bg-red-500"}),a.jsxs("span",{className:"text-gray-600",children:["Significant (",c.significant_deviation.count,")"]})]}),f>0&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded bg-gray-400"}),a.jsxs("span",{className:"text-gray-600",children:["No Transactions (",f,")"]})]})]})]}),a.jsxs(ne,{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(kb,{className:"h-5 w-5 text-gray-600"}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Merchant Summary"}),a.jsxs("span",{className:"text-sm text-gray-500",children:["(",u.length," merchants)"]})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Comparison of expected commission (based on contract rates) vs actual commission charged. Merchants with significant deviations are highlighted."}),a.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:a.jsx(mae,{merchants:u,onMerchantClick:g=>t(g)})})]}),a.jsxs(ne,{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(CT,{className:"h-5 w-5 text-gray-600"}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Currency Breakdown"})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Commission analysis grouped by transaction currency. Shows effective rate calculated from actual commission."}),a.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:a.jsx(yae,{currencies:d})})]}),e&&a.jsx(gae,{merchant:e,merchantId:o.get(e.merchant)??null,onClose:()=>t(null)})]})}async function bae(){const e=await fetch("/api/reports/merchants-overview");if(!e.ok)throw new Error("Failed to load report");return e.json()}function jae(e){switch(e){case"critical":return"bg-red-500 text-white";case"warning":return"bg-amber-400 text-amber-900";case"minor":return"bg-yellow-200 text-yellow-800";case"ok":return"bg-green-100 text-green-700";default:return"bg-gray-50 text-gray-400"}}function Hm(e){return e==null?"-":`${e.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`}function wae({problem:e,columnId:t,position:r}){var i;const n=r==="above"?"bottom-full mb-2":"top-full mt-2";return a.jsxs("div",{className:G("absolute z-50 bg-white border border-gray-200 rounded-lg shadow-xl p-4 min-w-[320px] text-sm",n,"left-1/2 -translate-x-1/2"),children:[a.jsxs("div",{className:"font-semibold text-gray-900 mb-3 pb-2 border-b",children:[t==="commission_mismatch"&&"Commission Mismatch",t==="date_shifts"&&"Date Shifts",t==="unmatched_transactions"&&"Unmatched Transactions",t==="missing_reconciliation"&&"Missing Reconciliation"]}),t==="commission_mismatch"&&a.jsxs("div",{className:"space-y-2",children:[e.expected!==void 0&&a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-500",children:"Expected"}),a.jsx("div",{className:"font-medium text-gray-900",children:Hm(e.expected)})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-500",children:"Actual"}),a.jsx("div",{className:"font-medium text-gray-900",children:Hm(e.actual)})]})]}),e.amount!==void 0&&e.amount!==0&&a.jsxs("div",{className:G("mt-2 p-2 rounded text-xs font-medium",e.amount>0?"bg-amber-50 text-amber-800":"bg-red-50 text-red-800"),children:["Deviation: ",Hm(e.amount)," (",e.percent!==void 0?`${e.percent>0?"+":""}${e.percent.toFixed(2)}%`:"",")"]}),e.severity==="ok"&&a.jsxs("div",{className:"text-green-600 text-xs flex items-center gap-1",children:[a.jsx(Ta,{className:"h-3 w-3"}),"No deviation detected"]})]}),t==="date_shifts"&&e.shifts&&a.jsx("div",{className:"space-y-2",children:e.shifts.map((s,o)=>a.jsxs("div",{className:"text-xs p-2 bg-gray-50 rounded",children:[a.jsx("span",{className:G("inline-block px-1.5 py-0.5 rounded text-xs font-medium mr-2",s.severity==="critical"?"bg-red-100 text-red-700":"bg-amber-100 text-amber-700"),children:s.currency}),s.description]},o))}),t==="unmatched_transactions"&&e.groups&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"text-xs text-gray-600 mb-2",children:["Total: ",(i=e.count)==null?void 0:i.toLocaleString()," transactions"]}),e.groups.slice(0,3).map((s,o)=>a.jsxs("div",{className:"text-xs p-2 bg-gray-50 rounded",children:[a.jsx("span",{className:"inline-block px-1.5 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-700 mr-2",children:s.currency}),a.jsx("span",{className:"font-medium",children:s.count.toLocaleString()})," txns",a.jsx("div",{className:"text-gray-500 mt-1",children:s.reason})]},o)),e.groups.length>3&&a.jsxs("div",{className:"text-xs text-gray-500",children:["+",e.groups.length-3," more issues"]})]}),t==="missing_reconciliation"&&a.jsxs("div",{className:"space-y-2",children:[e.records!==void 0&&a.jsxs("div",{className:"text-xs",children:[a.jsx("span",{className:"font-medium",children:e.records})," records missing"]}),e.reason&&a.jsx("div",{className:"text-xs p-2 bg-gray-50 rounded text-gray-600",children:e.reason})]}),e.severity==="none"&&a.jsx("div",{className:"text-gray-400 text-xs",children:"No data"})]})}function ku(e){if(e==null||e===0)return"";const t=Math.abs(e);return t>=1e6?`${(e/1e6).toFixed(1)}M`:t>=1e3?`${(e/1e3).toFixed(0)}K`:`${e.toFixed(0)}`}function Nae(e,t){if(e.severity==="none")return{primary:"-"};if(e.severity==="ok")return{primary:""};switch(t){case"commission_mismatch":const r=e.effective_rate!==void 0&&e.contract_rate!==void 0?`${e.effective_rate.toFixed(1)}% vs ${e.contract_rate}%`:void 0;return{primary:ku(e.amount)||"!",secondary:r};case"date_shifts":return{primary:e.count?`${e.count}`:"!",secondary:e.net_impact?ku(e.net_impact):void 0};case"unmatched_transactions":return{primary:ku(e.amount)||"!",secondary:e.count?`${(e.count/1e3).toFixed(0)}K txn`:void 0};case"missing_reconciliation":return{primary:ku(e.amount)||"!",secondary:e.records?`${e.records} rec`:void 0};default:return{primary:"!"}}}function _ae({problem:e,columnId:t,rowIndex:r,totalRows:n}){const[i,s]=O.useState(!1),o=r>n/2?"above":"below",l=Nae(e,t);return a.jsxs("td",{className:"relative p-0",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),onClick:c=>c.stopPropagation(),children:[a.jsxs("div",{className:G("h-14 flex flex-col items-center justify-center transition-all px-1",jae(e.severity),"hover:opacity-80"),children:[a.jsx("span",{className:"text-xs font-semibold leading-tight",children:l.primary}),l.secondary&&a.jsx("span",{className:"text-[10px] leading-tight opacity-80",children:l.secondary})]}),i&&e.severity!=="none"&&a.jsx(wae,{problem:e,columnId:t,position:o})]})}async function Sae(e){const t=await fetch(`/api/merchants/${e}`);if(!t.ok)throw new Error("Failed to load merchant");return t.json()}function Oae({merchant:e,onClose:t}){const{data:r,isLoading:n}=ye({queryKey:["merchant",e.merchant_id],queryFn:()=>Sae(e.merchant_id),enabled:!!e.merchant_id});return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 bg-black/30 z-40",onClick:t}),a.jsxs("div",{className:"fixed top-0 right-0 h-full w-1/2 bg-white shadow-xl z-50 overflow-y-auto",children:[a.jsxs("div",{className:"sticky top-0 z-10 bg-white border-b px-6 py-4 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:e.merchant_name}),a.jsx("p",{className:"text-sm text-gray-500",children:"Monthly Reconciliation Details"})]}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(Wt,{className:"h-5 w-5 text-gray-500"})})]}),a.jsxs("div",{className:"p-6",children:[n?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(Ee,{className:"h-8 w-8 text-gray-400 animate-spin"})}):r?a.jsx(X0,{data:r.monthly_reconciliation,isLoading:!1}):a.jsx("div",{className:"text-center py-12 text-gray-500",children:"No data available"}),e.merchant_id&&a.jsx("div",{className:"mt-6 pt-6 border-t",children:a.jsx(Ie,{to:`/merchant/${e.merchant_id}`,className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View full merchant details "})})]})]})]})}function Cae(){const[e,t]=O.useState(null),{data:r,isLoading:n,error:i}=ye({queryKey:["reports","merchants-overview"],queryFn:bae});if(n)return a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(Ee,{className:"h-8 w-8 text-gray-400 animate-spin"})});if(i||!r)return a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-red-600",children:"Failed to load report."})});const s=[...r.columns].reverse();return a.jsxs("div",{children:[a.jsxs(Ie,{to:"/",className:"inline-flex items-center gap-2 text-sm text-gray-500 hover:text-gray-700 mb-4",children:[a.jsx(kr,{className:"h-4 w-4"}),"Back to Reports"]}),a.jsxs(ne,{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:a.jsx($T,{className:"h-6 w-6 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Merchants Overview Report"}),a.jsx("p",{className:"text-sm text-gray-500",children:r.description})]})]}),a.jsx("div",{className:"text-right text-sm text-gray-500",children:a.jsxs("div",{children:["Generated: ",new Date(r.generated_at).toLocaleDateString()]})})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[a.jsxs("div",{className:"rounded-lg p-4 bg-gray-50",children:[a.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:r.summary.total_merchants}),a.jsx("div",{className:"text-sm text-gray-500",children:"Total Merchants"})]}),a.jsxs("div",{className:"rounded-lg p-4 bg-amber-50",children:[a.jsx("div",{className:"text-2xl font-semibold text-amber-700",children:r.summary.merchants_with_issues}),a.jsx("div",{className:"text-sm text-gray-500",children:"With Issues"})]}),a.jsxs("div",{className:"rounded-lg p-4 bg-red-50",children:[a.jsx("div",{className:"text-2xl font-semibold text-red-700",children:r.summary.critical_issues}),a.jsx("div",{className:"text-sm text-gray-500",children:"Critical Issues"})]}),a.jsxs("div",{className:"rounded-lg p-4 bg-yellow-50",children:[a.jsx("div",{className:"text-2xl font-semibold text-yellow-700",children:r.summary.warning_issues}),a.jsx("div",{className:"text-sm text-gray-500",children:"Warnings"})]})]}),a.jsxs("div",{className:"flex items-center gap-6 text-sm border-t pt-4",children:[a.jsx("span",{className:"text-gray-500 font-medium",children:"Legend:"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-6 h-6 rounded bg-red-500"}),a.jsx("span",{className:"text-gray-600",children:"Critical"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-6 h-6 rounded bg-amber-400"}),a.jsx("span",{className:"text-gray-600",children:"Warning"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-6 h-6 rounded bg-yellow-200"}),a.jsx("span",{className:"text-gray-600",children:"Minor"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-6 h-6 rounded bg-green-100"}),a.jsx("span",{className:"text-gray-600",children:"OK"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-6 h-6 rounded bg-gray-100"}),a.jsx("span",{className:"text-gray-600",children:"No Data"})]})]})]}),a.jsxs(ne,{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(nt,{className:"h-5 w-5 text-gray-600"}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Issues Heatmap"}),a.jsx("span",{className:"text-sm text-gray-500",children:"(sorted by severity - worst at top-right)"})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600 bg-gray-50 border-b w-48",children:"Merchant"}),s.map(o=>a.jsx("th",{className:"text-center py-3 px-2 font-medium text-gray-600 bg-gray-50 border-b w-32",children:a.jsx("div",{className:"text-xs",children:o.label})},o.id)),a.jsx("th",{className:"text-center py-3 px-4 font-medium text-gray-600 bg-gray-50 border-b w-20",children:"Score"})]})}),a.jsx("tbody",{children:r.merchants.map((o,l)=>a.jsxs("tr",{className:G("border-b border-gray-100",l===0&&"bg-red-50/30",(e==null?void 0:e.merchant_name)===o.merchant_name&&"bg-blue-50"),children:[a.jsx("td",{className:"py-2 px-4 cursor-pointer hover:bg-gray-50",onClick:()=>t(o),children:a.jsx("div",{className:"font-medium text-gray-900 text-sm truncate max-w-[180px] hover:text-blue-600",children:o.merchant_name})}),s.map(c=>a.jsx(_ae,{problem:o.problems[c.id],columnId:c.id,rowIndex:l,totalRows:r.merchants.length},c.id)),a.jsx("td",{className:"text-center py-2 px-4",children:a.jsx("span",{className:G("text-sm font-medium",o.total_score>100?"text-red-600":o.total_score>50?"text-amber-600":o.total_score>0?"text-yellow-600":"text-gray-400"),children:o.total_score>0?o.total_score.toFixed(0):"-"})})]},o.merchant_name))})]})}),a.jsx("div",{className:"mt-4 text-xs text-gray-500",children:"Hover over cells to see detailed information. Click a row to view monthly breakdown."})]}),e&&a.jsx(Oae,{merchant:e,onClose:()=>t(null)})]})}function Pae({rateHistory:e,stats:t}){return a.jsxs("div",{className:"grid grid-cols-[1fr_2fr] gap-12 mt-6 pt-6 border-t border-gray-100",children:[a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase mb-3",children:"Statistics"}),t?a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Success txn"}),a.jsx("span",{className:"font-medium text-gray-900",children:t.successTxn.toLocaleString()})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Failed txn"}),a.jsx("span",{className:"font-medium text-gray-900",children:t.failedTxn.toLocaleString()})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Accept rate"}),a.jsxs("span",{className:"font-medium text-gray-900",children:[t.acceptRate,"%"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Refund rate"}),a.jsxs("span",{className:"font-medium text-gray-900",children:[t.refundRate,"%"]})]})]}):a.jsx("div",{className:"text-sm text-gray-400",children:"No statistics available"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase mb-3",children:"Rate History"}),a.jsx("div",{className:"space-y-3",children:e.map((r,n)=>a.jsxs("div",{className:G(n>0&&"pt-3 border-t border-gray-100"),children:[a.jsxs("div",{className:"flex items-baseline gap-3 text-xs mb-1.5",children:[a.jsxs("span",{className:"font-semibold text-gray-900",children:[r.contract,r.suffix&&a.jsx("span",{className:"font-normal text-gray-400 ml-1",children:r.suffix})]}),a.jsx("span",{className:"text-gray-500",children:r.effectiveDate}),a.jsxs("span",{className:"text-gray-400 ml-auto",children:[r.periodFrom,"  ",r.periodTo]})]}),a.jsx("div",{className:"space-y-1",children:r.rates.map((i,s)=>a.jsxs("div",{className:"flex items-baseline gap-2 text-xs flex-wrap",children:[a.jsx("span",{className:"text-gray-700",children:i.parts.map(o=>`${o.label} ${o.rate}%`).join(" + ")}),i.refundFee!=null&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-gray-300",children:""}),a.jsxs("span",{className:"text-gray-500",children:["Refund: ",i.refundFee]})]}),i.rollingReserve!=null&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-gray-300",children:""}),a.jsxs("span",{className:"text-gray-500",children:["RR: ",i.rollingReserve,"%"]})]}),a.jsx("span",{className:"text-gray-300",children:""}),i.notes.map(o=>a.jsx("span",{className:"text-[10px] text-gray-400 bg-gray-50 px-1.5 py-0.5 rounded",children:o},o))]},s))})]},n))})]})]})}function ai(e){return new Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:0}).format(Math.round(e))}function ya(e){return Math.abs(e)<.5?"0":(e>0?"+":"")+ai(e)}function jf(e){return Math.abs(e)<.5?"text-gray-400":e>0?"text-green-600":"text-red-600"}function gs(e){return Math.abs(e)<1?"text-gray-400":e>0?"text-green-600":"text-red-600"}function xn({label:e,value:t,valueClass:r}){return a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:e}),a.jsx("span",{className:G("font-medium",r||"text-gray-900"),children:t})]})}function Aae({data:e,onClose:t}){const{type:r,month:n,day:i}=e;if(!i&&!n)return null;const s=!!i,o=s?i.turnover:n.registryAmount,l=s?i.reconCommission:n.reconCommission,c=s?i.regCommission:n.regCommission,u=s?i.regTxCount:n.regTxCount,d=s?i.reconTurnover:n.reconTurnover,f=s?i.parts:n.parts,h=f.reduce((p,g)=>p+g.amount,0),m=f.reduce((p,g)=>p+g.rate,0),y=f.reduce((p,g)=>p+g.contractRate,0),x=f.reduce((p,g)=>p+g.contractAmount,0),v=h-x;return a.jsxs("div",{className:"absolute z-50 bg-white border border-gray-200 rounded-lg shadow-lg p-4 min-w-[400px] text-sm",style:{bottom:"100%",left:"50%",transform:"translateX(-50%)",marginBottom:"8px"},onMouseEnter:p=>p.stopPropagation(),children:[a.jsxs("div",{className:"flex justify-between items-center mb-3",children:[a.jsxs("span",{className:"font-semibold text-gray-900",children:[r==="registry"&&"Registry",r==="reconciliation"&&"Reconciliation",r==="contract"&&"Contract Deviation"]}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 text-xs",children:""})]}),r==="registry"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(xn,{label:"Transactions",value:u.toLocaleString()}),a.jsx(xn,{label:"Amount (incoming)",value:V(o)}),!s&&(n!=null&&n.refundAmount)?a.jsx(xn,{label:"Refunds deducted",value:V(-n.refundAmount),valueClass:"text-red-500"}):null,a.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-100",children:[a.jsx("div",{className:"text-xs font-medium text-gray-500 mb-2",children:"Commission"}),f.map(p=>a.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[a.jsx("span",{className:"text-gray-500",children:p.label}),a.jsxs("span",{className:"text-gray-700",children:[V(p.amount),a.jsxs("span",{className:"text-gray-400 ml-1.5",children:["(",p.rate.toFixed(2),"%)"]})]})]},p.label)),a.jsxs("div",{className:"flex justify-between text-xs font-medium pt-1.5 mt-1 border-t border-gray-100",children:[a.jsx("span",{className:"text-gray-900",children:"Total"}),a.jsxs("span",{className:"text-gray-900",children:[V(h),a.jsxs("span",{className:"text-gray-400 ml-1.5",children:["(",m.toFixed(2),"%)"]})]})]})]}),a.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Effective rate ",lt(c/o*100,2)]}),a.jsx("div",{className:"mt-3 pt-2 border-t border-gray-100 space-y-0.5",children:f.map(p=>a.jsxs("div",{className:"text-[11px] text-gray-400",children:[p.label,": ",p.source]},p.label))})]}),r==="reconciliation"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(xn,{label:"Amount",value:V(d)}),a.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-100",children:[a.jsx("div",{className:"text-xs font-medium text-gray-500 mb-2",children:"Commission breakdown"}),a.jsxs("div",{className:"flex text-[10px] text-gray-400 mb-1",children:[a.jsx("span",{className:"flex-1",children:"Part"}),a.jsx("span",{className:"w-16 text-right",children:"Rate"}),a.jsx("span",{className:"w-24 text-right",children:"Amount"})]}),f.map(p=>a.jsxs("div",{className:"flex text-xs mb-0.5",children:[a.jsx("span",{className:"flex-1 text-gray-600",children:p.label}),a.jsxs("span",{className:"w-16 text-right text-gray-500",children:[p.rate.toFixed(2),"%"]}),a.jsx("span",{className:"w-24 text-right text-gray-700",children:V(p.amount)})]},p.label)),a.jsxs("div",{className:"flex text-xs font-medium pt-1.5 mt-1 border-t border-gray-100",children:[a.jsx("span",{className:"flex-1 text-gray-900",children:"Total"}),a.jsxs("span",{className:"w-16 text-right text-gray-900",children:[m.toFixed(2),"%"]}),a.jsx("span",{className:"w-24 text-right text-gray-900",children:V(h)})]})]}),(()=>{const p=l-c;return Math.abs(p)>.005?a.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-100",children:[a.jsx("div",{className:"text-xs font-medium text-gray-500 mb-1",children:"vs Registry"}),a.jsx(xn,{label:"Commission diff",value:V(p),valueClass:jf(p)})]}):null})(),a.jsx(xn,{label:"Period",value:s?i.date:n!=null&&n.period?`Partial ${n.period}`:"Full month"}),a.jsx("div",{className:"mt-3 pt-2 border-t border-gray-100 space-y-0.5",children:f.map(p=>a.jsxs("div",{className:"text-[11px] text-gray-400",children:[p.label,": ",p.source]},p.label))})]}),r==="contract"&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-xs font-medium text-gray-500 mb-2",children:"Commission breakdown"}),a.jsxs("div",{className:"flex text-[10px] text-gray-400 mb-1",children:[a.jsx("span",{className:"flex-1",children:"Part"}),a.jsx("span",{className:"w-16 text-right",children:"Contract"}),a.jsx("span",{className:"w-16 text-right",children:"Actual"}),a.jsx("span",{className:"w-24 text-right",children:"Deviation"})]}),f.map(p=>{const g=p.amount-p.contractAmount;return a.jsxs("div",{className:"flex text-xs mb-0.5 items-baseline",children:[a.jsx("span",{className:"flex-1 text-gray-600",children:p.label}),a.jsxs("span",{className:"w-16 text-right text-gray-400",children:[p.contractRate.toFixed(2),"%"]}),a.jsxs("span",{className:"w-16 text-right text-gray-700",children:[p.rate.toFixed(2),"%"]}),a.jsx("span",{className:G("w-24 text-right font-medium",gs(g)),children:ya(g)})]},p.label)}),a.jsxs("div",{className:"flex text-xs font-semibold pt-1.5 mt-1 border-t border-gray-100 items-baseline",children:[a.jsx("span",{className:"flex-1 text-gray-900",children:"Total"}),a.jsxs("span",{className:"w-16 text-right text-gray-400",children:[y.toFixed(2),"%"]}),a.jsxs("span",{className:"w-16 text-right text-gray-900",children:[m.toFixed(2),"%"]}),a.jsx("span",{className:G("w-24 text-right",gs(v)),children:ya(v)})]})]}),a.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-100 space-y-1",children:[a.jsx(xn,{label:"Expected (contract)",value:V(x)}),a.jsx(xn,{label:"Actual (recon)",value:V(h)}),a.jsx(xn,{label:"Deviation",value:V(v),valueClass:gs(v)})]}),a.jsx("div",{className:"mt-3 pt-2 border-t border-gray-100 space-y-0.5",children:f.map(p=>a.jsxs("div",{className:"text-[11px] text-gray-400",children:[p.label,": ",p.contractSource]},p.label))})]})]})}function jn({children:e,tooltipType:t,month:r,day:n,className:i}){const[s,o]=O.useState(!1);return a.jsxs("td",{className:G("relative cursor-pointer",i),onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[e,s&&a.jsx(Aae,{data:{type:t,month:r,day:n},onClose:()=>o(!1)})]})}function kae({month:e,isExpanded:t,monthDiff:r,hasRateChange:n,onToggle:i}){var l;if(!(e.days.length>0))return a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("td",{className:"px-4 py-3 text-sm",children:a.jsx("span",{className:"font-medium text-gray-400",children:e.label})}),a.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-300 border-l border-gray-100",children:""}),a.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-300 border-l border-gray-100",children:""}),a.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-300",children:""}),a.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-300 border-l border-gray-100",children:""}),a.jsx("td",{})]});const o=n?(l=e.parts.find(c=>c.contractRate===e.rateFrom))==null?void 0:l.label:void 0;return a.jsxs(a.Fragment,{children:[a.jsxs("tr",{className:G("border-b border-gray-200 hover:bg-gray-50 cursor-pointer transition-colors",n&&"border-l-2 border-l-amber-400"),onClick:i,children:[a.jsx("td",{className:"px-4 py-3 text-sm",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium text-gray-900",children:e.label}),e.period&&a.jsx("span",{className:"text-gray-400 text-xs",children:e.period}),n&&a.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-amber-600 bg-amber-50 px-1.5 py-0.5 rounded",children:[a.jsx(nt,{className:"h-3 w-3"}),o,": ",e.rateFrom,"% ",a.jsx(My,{className:"h-3 w-3"})," ",e.rateTo,"%"]})]})}),a.jsx(jn,{className:"px-4 py-3 text-sm text-right text-gray-900 border-l border-gray-100",tooltipType:"registry",month:e,children:ai(e.registryAmount)}),a.jsx(jn,{className:"px-4 py-3 text-sm text-right text-gray-900 border-l border-gray-100",tooltipType:"reconciliation",month:e,children:ai(e.reconCommission)}),a.jsx("td",{className:G("px-4 py-3 text-sm text-right",jf(r)),children:ya(r)}),a.jsx(jn,{className:G("px-4 py-3 text-sm text-right border-l border-gray-100",gs(e.deviation)),tooltipType:"contract",month:e,children:ya(e.deviation)}),a.jsx("td",{className:"px-2 py-3 text-center",children:t?a.jsx(cr,{className:"h-4 w-4 text-gray-400"}):a.jsx(qe,{className:"h-4 w-4 text-gray-400"})})]}),t&&[...e.days].reverse().map(c=>{var m;const u=c.parts.reduce((y,x)=>y+x.contractAmount,0),d=c.reconCommission-u,f=c.reconCommission-c.regCommission,h=c.rateChangeDay?(m=c.parts.find(y=>y.contractRate===c.rateFrom))==null?void 0:m.label:void 0;return a.jsxs("tr",{className:G("border-b border-gray-100 text-xs",c.rateChangeDay?"bg-amber-50 border-l-2 border-l-amber-400":"hover:bg-gray-50"),children:[a.jsx("td",{className:"px-4 py-2 pl-8 text-gray-600",children:a.jsxs("div",{className:"flex items-center gap-2",children:[c.rateChangeDay&&a.jsx("span",{className:"text-amber-500",children:""}),a.jsx("span",{className:c.rateChangeDay?"font-medium text-amber-700":"",children:c.date}),c.rateChangeDay&&a.jsxs("span",{className:"text-amber-600 text-[10px]",children:[h,": ",c.rateFrom,"%  ",c.rateTo,"%"]})]})}),a.jsx(jn,{className:"px-4 py-2 text-right text-gray-700 border-l border-gray-100",tooltipType:"registry",day:c,month:e,children:ai(c.turnover)}),a.jsx(jn,{className:"px-4 py-2 text-right text-gray-700 border-l border-gray-100",tooltipType:"reconciliation",day:c,month:e,children:ai(c.reconCommission)}),a.jsx("td",{className:G("px-4 py-2 text-right",jf(f)),children:ya(f)}),a.jsx(jn,{className:G("px-4 py-2 text-right border-l border-gray-100",gs(d)),tooltipType:"contract",day:c,month:e,children:ya(d)}),a.jsx("td",{})]},`${e.key}-${c.day}`)})]})}const Eae=[2025,2026],$ae=[{key:"incoming",label:"Incoming"},{key:"refund",label:"Refund"},{key:"failed",label:"Failed"},{key:"payout",label:"Payout"}],Tae=[{key:"card",label:"Card"},{key:"apm",label:"APM"}];function Mae({months:e,total:t,totalContractRate:r,streams:n,selectedStream:i,onStreamChange:s}){const[o]=O.useState(2025),[l,c]=O.useState("incoming"),[u,d]=O.useState("card"),[f,h]=O.useState(new Set),m=t.reconCommission-t.regCommission,y=x=>{h(v=>{const p=new Set(v);return p.has(x)?p.delete(x):p.add(x),p})};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"flex bg-gray-100 rounded-lg p-0.5",children:Eae.map(x=>a.jsx("button",{className:G("px-3 py-1.5 text-sm font-medium rounded-md transition-colors",x===o?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"),children:x},x))}),a.jsx("div",{className:"w-px h-6 bg-gray-200"}),a.jsx("div",{className:"flex bg-gray-100 rounded-lg p-0.5",children:$ae.map(x=>a.jsx("button",{onClick:()=>c(x.key),className:G("px-3 py-1.5 text-sm font-medium rounded-md transition-colors",x.key===l?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"),children:x.label},x.key))}),n&&n.length>0?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-px h-6 bg-gray-200"}),a.jsx("div",{className:"flex bg-gray-100 rounded-lg p-0.5",children:n.map(x=>a.jsx("button",{onClick:()=>s==null?void 0:s(x.id),className:G("px-3 py-1.5 text-sm font-medium rounded-md transition-colors",x.id===i?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"),children:x.label},x.id))})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-px h-6 bg-gray-200"}),a.jsx("div",{className:"flex bg-gray-100 rounded-lg p-0.5",children:Tae.map(x=>a.jsx("button",{onClick:()=>d(x.key),className:G("px-3 py-1.5 text-sm font-medium rounded-md transition-colors",x.key===u?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"),children:x.label},x.key))})]})]}),a.jsx(ne,{className:"p-0",children:a.jsx("div",{className:"p-6",children:a.jsxs("table",{className:"min-w-full",children:[a.jsxs("thead",{children:[a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase w-[280px]",rowSpan:2,children:"Period"}),a.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase border-l border-gray-100",colSpan:1,children:"Amount"}),a.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase border-l border-gray-100",colSpan:2,children:"Commission  diff"}),a.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase border-l border-gray-100",colSpan:1,children:"deviation"}),a.jsx("th",{className:"w-10",rowSpan:2})]}),a.jsxs("tr",{className:"border-b border-gray-300",children:[a.jsx("th",{className:"px-4 py-1 text-right text-[10px] font-normal text-gray-400 border-l border-gray-100",children:"registry"}),a.jsx("th",{className:"px-4 py-1 text-right text-[10px] font-normal text-gray-400 border-l border-gray-100",colSpan:2,children:"reconciliation"}),a.jsx("th",{className:"px-4 py-1 text-right text-[10px] font-normal text-gray-400 border-l border-gray-100",children:"contract"})]})]}),a.jsxs("tbody",{children:[(()=>{const x={key:"total",label:"Total",turnover:t.turnover,registryAmount:t.registryAmount,regCommission:t.regCommission,regTxCount:e.reduce((v,p)=>v+p.regTxCount,0),reconTurnover:t.turnover,reconCommission:t.reconCommission,reconRate:t.turnover>0?t.reconCommission/t.turnover*100:0,contractRate:r,contractExpected:t.contractExpected,deviation:t.deviation,parts:t.parts,days:[]};return a.jsxs("tr",{className:"bg-gray-50 border-b border-gray-300 font-semibold",children:[a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:"TOTAL"}),a.jsx(jn,{className:"px-4 py-3 text-sm text-right text-gray-900 border-l border-gray-100",tooltipType:"registry",month:x,children:ai(t.registryAmount)}),a.jsx(jn,{className:"px-4 py-3 text-sm text-right text-gray-900 border-l border-gray-100",tooltipType:"reconciliation",month:x,children:ai(t.reconCommission)}),a.jsx("td",{className:G("px-4 py-3 text-sm text-right",jf(m)),children:ya(m)}),a.jsx(jn,{className:G("px-4 py-3 text-sm text-right border-l border-gray-100",gs(t.deviation)),tooltipType:"contract",month:x,children:ya(t.deviation)}),a.jsx("td",{})]})})(),e.map(x=>{const v=f.has(x.key),p=x.reconCommission-x.regCommission,g=!!x.rateChangeDay;return a.jsx(kae,{month:x,isExpanded:v,monthDiff:p,hasRateChange:g,onToggle:()=>y(x.key)},x.key)})]})]})})}),a.jsxs("div",{className:"mt-4 flex items-center gap-6 text-xs text-gray-400",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded border-l-2 border-amber-400 bg-amber-50"}),a.jsx("span",{children:"Rate change day"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-green-600 font-medium",children:"+123"}),a.jsx("span",{children:"Overpayment"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-red-600 font-medium",children:"-123"}),a.jsx("span",{children:"Underpayment"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-gray-400 font-medium",children:"0"}),a.jsx("span",{children:"No deviation"})]})]})]})}function Rae(e){const t=e.filter(s=>s.days.length>0),r=t.reduce((s,o)=>({turnover:s.turnover+o.turnover,registryAmount:s.registryAmount+o.registryAmount,reconCommission:s.reconCommission+o.reconCommission,regCommission:s.regCommission+o.regCommission,contractExpected:s.contractExpected+o.contractExpected,deviation:s.deviation+o.deviation}),{turnover:0,registryAmount:0,reconCommission:0,regCommission:0,contractExpected:0,deviation:0}),n=new Map;for(const s of t)for(const o of s.parts){const l=n.get(o.label);l?(l.amount+=o.amount,l.contractAmount+=o.contractAmount):n.set(o.label,{amount:o.amount,contractAmount:o.contractAmount,template:o})}const i=Array.from(n.values()).map(({amount:s,contractAmount:o,template:l})=>({...l,amount:Math.round(s*100)/100,contractAmount:Math.round(o*100)/100,rate:r.turnover>0?Math.round(s/r.turnover*1e4)/100:0}));return{...r,parts:i}}function Iae(){var N,_;const e=xo(),t=e.shortname??e.id,[r,n]=O.useState(null),{data:i,isLoading:s,error:o}=ye({queryKey:["merchant",t],queryFn:()=>se.getMerchantByShortname(t),enabled:!!t}),l=i==null?void 0:i.streams,c=r??((N=l==null?void 0:l[0])==null?void 0:N.id)??null,u=!!l&&l.length>0,{data:d}=ye({queryKey:["merchant-stream",t,c],queryFn:()=>se.getMerchantStream(t,c),enabled:!!t&&!!c&&u}),f=O.useMemo(()=>u&&d?d.months:i?i.months:[],[u,d,i]),h=O.useMemo(()=>f.length===0?null:Rae(f),[f]);if(s)return a.jsx("div",{className:"flex items-center justify-center py-20",children:a.jsx(Ee,{className:"h-8 w-8 animate-spin text-gray-400"})});if(o||!i)return a.jsxs("div",{className:"py-20 text-center",children:[a.jsx(nt,{className:"h-8 w-8 text-red-400 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-600",children:"Failed to load merchant data"}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:o==null?void 0:o.message})]});const m=!!h&&f.some(S=>S.days.length>0),y=((_=f.find(S=>S.parts.length>0))==null?void 0:_.parts)||[],x=y.reduce((S,C)=>S+C.contractRate,0),v=y.map(S=>`${S.label} ${S.contractRate}%`).join(" + "),p=f.filter(S=>S.days.length>0),g=p[p.length-1],b=p[0],w=g?`${g.days[0].date}, 2025`:"",j=b?`${b.days[b.days.length-1].date}, 2025`:"";return a.jsxs("div",{children:[a.jsxs(Ie,{to:"/merchant-overview-v2",className:"inline-flex items-center gap-2 text-sm text-gray-500 hover:text-gray-700 mb-4",children:[a.jsx(kr,{className:"h-4 w-4"}),"Back to Overview"]}),a.jsxs(ne,{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-amber-100 rounded-lg",children:a.jsx(Dc,{className:"h-6 w-6 text-amber-600"})}),a.jsxs("div",{children:[a.jsxs("h1",{className:"text-xl font-semibold text-gray-900",children:[i.name,"  ",i.legalName]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Merchant Rate Deviation Analysis"})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["Contract ",i.contract]}),a.jsxs("div",{className:"text-sm text-gray-500",children:["Total: ",x.toFixed(2),"% (",v,")"]})]})]}),m&&h&&a.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[a.jsx(wr,{label:"Total Turnover",value:V(h.turnover)}),a.jsx(wr,{label:"Total Commission",value:V(h.reconCommission)}),a.jsx(wr,{label:"Total Deviation",value:V(h.deviation),variant:Math.abs(h.deviation)<1?"default":h.deviation<0?"danger":"success",subValue:`reconciliation vs contract expected ${V(h.contractExpected)}`}),a.jsx(wr,{label:"Period",value:`${w}  ${j}`,subValue:"first to last transaction"})]}),a.jsx(Pae,{rateHistory:i.rateHistory,stats:i.stats})]}),a.jsx(CA,{shortname:t}),m&&h&&a.jsx(Mae,{months:f,total:h,totalContractRate:x,streams:l,selectedStream:c??void 0,onStreamChange:n}),a.jsx("div",{className:"mt-6",children:a.jsx(AA,{shortname:t,readonly:!0})})]})}const rr=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],EA=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Dae(e){const t=Math.abs(e);return t<1?"0":t>=1e6?(e/1e6).toFixed(1)+"M":t>=1e3?(e/1e3).toFixed(1)+"K":Math.round(e).toLocaleString()}function Km(e){return Math.abs(e)<.5?"0":(e>0?"+":"")+Dae(e)}function Vm(e){return Math.abs(e)<.5?"0":(e>0?"+":"")+new Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:0}).format(Math.round(e))}function wn(e){return Math.abs(e)<1?"text-gray-400":e>0?"text-green-600":"text-red-600"}function RN(e){return Math.abs(e)<1?"":e>0?"bg-green-50":"bg-red-50"}function Lae({merchant:e,monthKey:t,cell:r,onClose:n}){const i=O.useRef(null);O.useEffect(()=>{const u=d=>{d.key==="Escape"&&n()};return document.addEventListener("keydown",u),()=>document.removeEventListener("keydown",u)},[n]);const s=rr.indexOf(t),o=s>=0?EA[s]:t,l=r.cases.filter(u=>Math.abs(u.deviation)>.5),c=r.cases.filter(u=>Math.abs(u.deviation)<=.5);return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 bg-black/20 z-40",onClick:n}),a.jsxs("div",{ref:i,className:"fixed right-0 top-0 h-full w-[420px] bg-white shadow-2xl z-50 flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:e.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:[o," 2025"]})]}),a.jsx("button",{onClick:n,className:"p-1.5 rounded-lg hover:bg-gray-100 transition-colors",children:a.jsx(Wt,{className:"h-5 w-5 text-gray-400"})})]}),a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Total deviation"}),a.jsx("span",{className:G("font-semibold",wn(r.deviation)),children:V(r.deviation)})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Turnover"}),a.jsx("span",{className:"font-medium text-gray-900",children:V(r.turnover)})]}),r.hasRateChange&&r.rateChangeInfo&&a.jsx("div",{className:"text-xs text-gray-600 bg-gray-100 px-2 py-1 rounded",children:r.rateChangeInfo})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:[l.length>0&&a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"text-xs font-medium text-gray-500 uppercase mb-3",children:["Deviations (",l.length,")"]}),a.jsx("div",{className:"space-y-3",children:l.map(u=>a.jsx(Fae,{case_:u},u.id))})]}),c.length>0&&a.jsxs("div",{children:[a.jsxs("div",{className:"text-xs font-medium text-gray-400 uppercase mb-3",children:["No deviation (",c.length,")"]}),a.jsx("div",{className:"space-y-2",children:c.map(u=>a.jsxs("div",{className:"text-xs text-gray-400 flex justify-between py-1",children:[a.jsx("span",{children:u.partLabel}),a.jsxs("span",{children:[u.contractRate.toFixed(2),"%  ",u.periodFrom,"  ",u.periodTo]})]},u.id))})]})]})]})]})}function Fae({case_:e}){const t=e.investigationId?`/investigate/${e.investigationId}`:void 0;return a.jsxs("div",{className:G("rounded-lg border p-3",e.deviation>0?"border-green-200 bg-green-50/50":"border-red-200 bg-red-50/50"),children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{children:[e.investigationId&&a.jsx("span",{className:"text-[10px] font-mono text-gray-400 block mb-0.5",children:e.investigationId}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:e.title})]}),a.jsx("span",{className:G("text-sm font-semibold",wn(e.deviation)),children:V(e.deviation)})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-xs",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Part"}),a.jsx("span",{className:"text-gray-700",children:e.partLabel})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Period"}),a.jsxs("span",{className:"text-gray-700",children:[e.periodFrom,"  ",e.periodTo]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Contract"}),a.jsxs("span",{className:"text-gray-700",children:[e.contractRate.toFixed(2),"%"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Actual"}),a.jsxs("span",{className:G("font-medium",e.actualRate!==e.contractRate?wn(e.deviation):"text-gray-700"),children:[e.actualRate.toFixed(2),"%"]})]})]}),a.jsx("div",{className:"mt-2 pt-2 border-t border-gray-200/50",children:t?a.jsx(Ie,{to:t,className:"text-xs text-blue-600 hover:text-blue-800 font-medium",children:"Investigate "}):a.jsx("span",{className:"text-xs text-gray-400",children:"No investigation available"})})]})}function Bae(){const[e]=O.useState(2025),t=[2025,2026],{data:r,isLoading:n}=ye({queryKey:["overview"],queryFn:se.getOverview}),[i,s]=O.useState(null);if(n||!r)return a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(Ee,{className:"h-8 w-8 text-gray-400 animate-spin"})});const o=r.merchants,l=o.map(g=>{var w,j;if(!((w=g.subMerchants)!=null&&w.length))return g;const b={};for(const N of rr){const _=g.subMerchants.map(S=>S.months[N]).filter(Boolean);if(_.length===0){b[N]=null;continue}b[N]={turnover:_.reduce((S,C)=>S+C.turnover,0),commission:_.reduce((S,C)=>S+C.commission,0),deviation:_.reduce((S,C)=>S+C.deviation,0),cases:_.flatMap(S=>S.cases),hasRateChange:_.some(S=>S.hasRateChange),rateChangeInfo:(j=_.find(S=>S.rateChangeInfo))==null?void 0:j.rateChangeInfo}}return{...g,months:b}}),c=o.flatMap(g=>{var b;return(b=g.subMerchants)!=null&&b.length?g.subMerchants:[g]}),u=l.map(g=>{let b=0;for(const w of rr){const j=g.months[w];j&&(b+=j.deviation)}return b}),d=c.reduce((g,b)=>{var j;let w=0;for(const N of rr)w+=((j=b.months[N])==null?void 0:j.deviation)??0;return g+w},0),f=rr.map(g=>c.reduce((b,w)=>{var j;return b+(((j=w.months[g])==null?void 0:j.deviation)??0)},0)),h=c.reduce((g,b)=>{var j;let w=0;for(const N of rr)w+=((j=b.months[N])==null?void 0:j.turnover)??0;return g+w},0),m=c.reduce((g,b)=>{var j;let w=0;for(const N of rr)w+=((j=b.months[N])==null?void 0:j.commission)??0;return g+w},0),y=c.length,x="w-[260px] min-w-[260px]",v="w-[100px] min-w-[100px]",p="w-[80px] min-w-[80px]";return a.jsxs("div",{children:[a.jsxs(Ie,{to:"/",className:"inline-flex items-center gap-2 text-sm text-gray-500 hover:text-gray-700 mb-4",children:[a.jsx(kr,{className:"h-4 w-4"}),"Back to Reports"]}),a.jsxs(ne,{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(ax,{className:"h-6 w-6 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:r.title}),a.jsx("p",{className:"text-sm text-gray-500",children:r.subtitle})]})]}),a.jsxs("div",{className:"text-right text-sm text-gray-500",children:[y," merchants"]})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[a.jsx(wr,{label:"Merchants",value:String(y),variant:"default"}),a.jsx(wr,{label:"Total Turnover",value:V(h),variant:"default"}),a.jsx(wr,{label:"Total Commission",value:V(m),variant:"default"}),a.jsx(wr,{label:"Deviation",value:V(d),variant:Math.abs(d)<1?"default":d<0?"danger":"success"})]})]}),a.jsx("div",{className:"flex items-center gap-3 mb-4",children:a.jsx("div",{className:"flex bg-gray-100 rounded-lg p-0.5",children:t.map(g=>a.jsx("button",{className:G("px-3 py-1.5 text-sm font-medium rounded-md transition-colors",g===e?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"),children:g},g))})}),a.jsx(ne,{className:"p-0",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-300",children:[a.jsx("th",{className:G("sticky left-0 z-20 bg-white px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",x),children:"Merchant"}),a.jsx("th",{className:G("sticky left-[260px] z-20 bg-white px-3 py-3 text-right text-xs font-medium text-gray-500 uppercase border-l border-r border-gray-200",v),children:"Total"}),EA.map(g=>a.jsx("th",{className:G("px-3 py-3 text-right text-xs font-medium text-gray-400 uppercase",p),children:g},g))]})}),a.jsxs("tbody",{children:[a.jsxs("tr",{className:"bg-gray-50 border-b border-gray-300 font-semibold",children:[a.jsx("td",{className:G("sticky left-0 z-10 bg-gray-50 px-4 py-3 text-sm text-gray-900",x),children:"ALL MERCHANTS"}),a.jsx("td",{className:G("sticky left-[260px] z-10 bg-gray-50 px-3 py-3 text-sm text-right border-l border-r border-gray-200",v,wn(d)),children:Vm(d)}),f.map((g,b)=>{const w=c.some(j=>j.months[rr[b]]!=null);return a.jsx("td",{className:G("px-3 py-3 text-sm text-right",p,w?wn(g):"text-gray-300"),children:w?Km(g):""},b)})]}),l.map((g,b)=>{var S;const w=u[b],j=!!((S=g.subMerchants)!=null&&S.length),N=o[b],_=j?N.subMerchants.map(C=>{var A;let P=0;for(const E of rr)P+=((A=C.months[E])==null?void 0:A.deviation)??0;return P}):[];return a.jsxs(R.Fragment,{children:[a.jsxs("tr",{className:G("border-b border-gray-200 hover:bg-gray-50/50 transition-colors",j&&"bg-blue-50/30"),children:[a.jsx("td",{className:G("sticky left-0 z-10 px-4 py-3",x,j?"bg-blue-50/30":"bg-white"),children:a.jsxs(Ie,{to:`/merchant/${g.id}`,className:"block group",children:[a.jsx("span",{className:G("text-sm font-medium group-hover:text-blue-600 transition-colors",j?"text-blue-900":"text-gray-900"),children:g.name}),a.jsxs("div",{className:"text-[11px] text-gray-400 mt-0.5",children:[g.legalName,"  ",g.contract]})]})}),a.jsx("td",{className:G("sticky left-[260px] z-10 px-3 py-3 text-sm text-right font-semibold border-l border-r border-gray-200",v,j?"bg-blue-50/30":"bg-white",wn(w)),children:Vm(w)}),(()=>{const C=rr.find(P=>{var A;return(A=g.months[P])==null?void 0:A.hasRateChange});return rr.map(P=>{const A=g.months[P]??null;if(!A)return a.jsx("td",{className:G("px-3 py-3 text-sm text-right text-gray-300",p),children:""},P);const E=P===C,W=A.cases.some(D=>Math.abs(D.deviation)>.5);return a.jsxs("td",{className:G("px-3 py-3 text-sm text-right relative",p,wn(A.deviation),RN(A.deviation),E&&"border-l-2 border-l-gray-400",W&&"cursor-pointer hover:bg-gray-100 transition-colors"),onClick:()=>{W&&s({merchant:g,monthKey:P,cell:A})},children:[E&&a.jsxs("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 flex items-center",children:[a.jsx("div",{className:"w-[6px] h-[2px] bg-gray-400"}),a.jsx("div",{style:{width:0,height:0,borderTop:"6px solid transparent",borderBottom:"6px solid transparent",borderLeft:"6px solid rgb(156 163 175)"}})]}),Km(A.deviation)]},P)})})()]}),j&&N.subMerchants.map((C,P)=>{const A=_[P],E=P===N.subMerchants.length-1;return a.jsxs("tr",{className:G("border-b transition-colors hover:bg-gray-50/50",E?"border-gray-200":"border-gray-100"),children:[a.jsx("td",{className:G("sticky left-0 z-10 bg-white px-4 py-2",x),children:a.jsx(Ie,{to:`/merchant/${C.id}`,className:"block group",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"text-gray-300 font-mono text-xs mr-2 mt-0.5 select-none shrink-0",children:E?"":""}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-700 group-hover:text-blue-600 transition-colors",children:C.name}),a.jsxs("div",{className:"text-[11px] text-gray-400",children:[C.legalName,"  ",C.contract]})]})]})})}),a.jsx("td",{className:G("sticky left-[260px] z-10 bg-white px-3 py-2 text-sm text-right font-medium border-l border-r border-gray-200",v,wn(A)),children:Vm(A)}),(()=>{const W=rr.find(D=>{var F;return(F=C.months[D])==null?void 0:F.hasRateChange});return rr.map(D=>{const F=C.months[D]??null;if(!F)return a.jsx("td",{className:G("px-3 py-2 text-sm text-right text-gray-300",p),children:""},D);const T=D===W,z=F.cases.some(M=>Math.abs(M.deviation)>.5);return a.jsxs("td",{className:G("px-3 py-2 text-sm text-right relative",p,wn(F.deviation),RN(F.deviation),T&&"border-l-2 border-l-gray-400",z&&"cursor-pointer hover:bg-gray-100 transition-colors"),onClick:()=>{z&&s({merchant:C,monthKey:D,cell:F})},children:[T&&a.jsxs("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 flex items-center",children:[a.jsx("div",{className:"w-[6px] h-[2px] bg-gray-400"}),a.jsx("div",{style:{width:0,height:0,borderTop:"6px solid transparent",borderBottom:"6px solid transparent",borderLeft:"6px solid rgb(156 163 175)"}})]}),Km(F.deviation)]},D)})})()]},C.id)})]},g.id)})]})]})})}),a.jsxs("div",{className:"mt-4 flex items-center gap-6 text-xs text-gray-400",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"relative w-4 h-4 rounded border-l-2 border-gray-500 bg-gray-100",children:a.jsxs("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 flex items-center",children:[a.jsx("div",{className:"w-[4px] h-[1.5px] bg-gray-400"}),a.jsx("div",{style:{width:0,height:0,borderTop:"3px solid transparent",borderBottom:"3px solid transparent",borderLeft:"3px solid rgb(156 163 175)"}})]})}),a.jsx("span",{children:"Rate change"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-green-600 font-medium",children:"+1.2K"}),a.jsx("span",{children:"Overpayment"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-red-600 font-medium",children:"-1.2K"}),a.jsx("span",{children:"Underpayment"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-gray-400 font-medium",children:"0"}),a.jsx("span",{children:"No deviation"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-gray-300 font-medium",children:""}),a.jsx("span",{children:"No data"})]}),a.jsx("div",{className:"text-gray-400",children:"Click deviation cell to see cases"})]}),i&&a.jsx(Lae,{merchant:i.merchant,monthKey:i.monthKey,cell:i.cell,onClose:()=>s(null)})]})}function zae({caseNumber:e,path:t}){const[r,n]=O.useState(!1),i=()=>{const s=window.location.origin+t;navigator.clipboard.writeText(s).then(()=>{n(!0),setTimeout(()=>n(!1),2e3)})};return a.jsxs("button",{onClick:i,className:"inline-flex items-center gap-1.5 px-2 py-0.5 text-xs font-mono font-medium bg-gray-100 text-gray-600 rounded-full hover:bg-gray-200 transition-colors",title:"Copy link",children:[e,r?a.jsx(Ds,{className:"h-3 w-3 text-green-500"}):a.jsx(IS,{className:"h-3 w-3 text-gray-400"})]})}function Qe(e){return new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e)}function ht(e){return e.toFixed(2)+"%"}function wf(e){return new Intl.NumberFormat("en-US").format(e)}function Uae({sources:e}){return a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(Ri,{className:"h-4 w-4 text-blue-500"}),a.jsx("span",{className:"text-sm font-semibold text-gray-900",children:"Contract"})]}),a.jsxs("div",{className:"space-y-1.5 text-xs",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Name"}),a.jsx("span",{className:"text-gray-900 font-medium",children:e.contract.name})]}),e.contract.suffix&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Amendment"}),a.jsx("span",{className:"text-gray-900 font-medium",children:e.contract.suffix})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Effective"}),a.jsx("span",{className:"text-gray-900",children:e.contract.effectiveDate})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Period"}),a.jsx("span",{className:"text-gray-900",children:e.contract.period})]}),a.jsxs("div",{className:"mt-3 pt-2 border-t border-gray-100",children:[a.jsx("div",{className:"text-xs font-medium text-gray-500 mb-1.5",children:e.contract.previousRates?"Current rates":"Rates"}),e.contract.rates.map(t=>a.jsxs("div",{className:"flex justify-between py-0.5",children:[a.jsx("span",{className:"text-gray-500 truncate mr-2",children:t.label}),a.jsxs("span",{className:"text-gray-900 whitespace-nowrap",children:[ht(t.rate)," + ",t.fixedFee.toFixed(2)]})]},t.label))]}),e.contract.previousRates&&a.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-100",children:[a.jsx("div",{className:"text-xs font-medium text-gray-400 mb-1.5",children:"Previous rates"}),e.contract.previousRates.map(t=>a.jsxs("div",{className:"flex justify-between py-0.5",children:[a.jsx("span",{className:"text-gray-400 truncate mr-2",children:t.label}),a.jsxs("span",{className:"text-gray-400 whitespace-nowrap line-through",children:[ht(t.rate)," + ",t.fixedFee.toFixed(2)]})]},t.label))]})]})]}),a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(Iy,{className:"h-4 w-4 text-green-500"}),a.jsx("span",{className:"text-sm font-semibold text-gray-900",children:"Registry"})]}),a.jsxs("div",{className:"space-y-1.5 text-xs",children:[e.registry.files.map(t=>a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"File"}),a.jsx("span",{className:"text-gray-900 font-mono text-[11px]",children:t})]},t)),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Operation"}),a.jsx("span",{className:"text-gray-900",children:e.registry.operationType})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Currency"}),a.jsx("span",{className:"text-gray-900",children:e.registry.currency})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Period"}),a.jsx("span",{className:"text-gray-900",children:e.registry.period})]}),a.jsxs("div",{className:"mt-3 pt-2 border-t border-gray-100",children:[a.jsx("div",{className:"text-xs font-medium text-gray-500 mb-1.5",children:"Columns"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:e.registry.columns.map(t=>a.jsx("span",{className:"px-1.5 py-0.5 bg-gray-100 rounded text-[10px] font-mono text-gray-600",children:t},t))})]})]})]}),a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(FT,{className:"h-4 w-4 text-purple-500"}),a.jsx("span",{className:"text-sm font-semibold text-gray-900",children:"Reconciliation"})]}),a.jsxs("div",{className:"space-y-1.5 text-xs",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"File"}),a.jsx("span",{className:"text-gray-900 font-mono text-[11px]",children:e.reconciliation.file})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Sheet"}),a.jsx("span",{className:"text-gray-900",children:e.reconciliation.sheet})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Period"}),a.jsx("span",{className:"text-gray-900",children:e.reconciliation.period})]}),a.jsxs("div",{className:"mt-3 pt-2 border-t border-gray-100",children:[a.jsx("div",{className:"text-xs font-medium text-gray-500 mb-1.5",children:"Columns"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:e.reconciliation.columns.map(t=>a.jsx("span",{className:"px-1.5 py-0.5 bg-gray-100 rounded text-[10px] font-mono text-gray-600",children:t},t))})]})]})]})]})}function Wae({dailyData:e,contractRate:t,sampleTxBefore:r,sampleTxAfter:n}){const i=e.findIndex(l=>l.isAfterChange);if(i<1)return null;const s=e[i-1],o=e[i];return a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Rate Change Point"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{className:"border border-green-200 bg-green-50/30 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(Ry,{className:"h-4 w-4 text-green-600"}),a.jsxs("span",{className:"text-sm font-semibold text-green-800",children:["Before Change  ",s.date]})]}),a.jsxs("div",{className:"space-y-2 text-xs",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Registry effective rate"}),a.jsx("span",{className:"text-gray-900 font-medium",children:ht(s.registry.effectiveRate)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Reconciliation effective rate"}),a.jsx("span",{className:"text-gray-900 font-medium",children:ht(s.reconciliation.effectiveRate)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Contract rate"}),a.jsx("span",{className:"text-gray-900 font-medium",children:ht(t)})]}),a.jsxs("div",{className:"flex justify-between pt-2 border-t border-green-200",children:[a.jsx("span",{className:"text-green-700 font-medium",children:"Status"}),a.jsx("span",{className:"text-green-700 font-semibold",children:"Match"})]})]})]}),a.jsxs("div",{className:"border border-red-200 bg-red-50/30 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(nt,{className:"h-4 w-4 text-red-600"}),a.jsxs("span",{className:"text-sm font-semibold text-red-800",children:["After Change  ",o.date]})]}),a.jsxs("div",{className:"space-y-2 text-xs",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Registry effective rate"}),a.jsx("span",{className:"text-red-700 font-medium",children:ht(o.registry.effectiveRate)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Reconciliation effective rate"}),a.jsx("span",{className:"text-red-700 font-medium",children:ht(o.reconciliation.effectiveRate)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Contract rate"}),a.jsx("span",{className:"text-gray-900 font-medium",children:ht(t)})]}),a.jsxs("div",{className:"flex justify-between pt-2 border-t border-red-200",children:[a.jsx("span",{className:"text-red-700 font-medium",children:"Status"}),a.jsx("span",{className:"text-red-700 font-semibold",children:"Mismatch  rate changed, contract not updated"})]})]})]})]}),((r==null?void 0:r.length)||(n==null?void 0:n.length))&&a.jsxs("div",{className:"mt-4",children:[a.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase mb-2",children:"Sample Transactions Around Change Point"}),a.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:a.jsxs("table",{className:"w-full text-xs",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200",children:[a.jsx("th",{className:"text-left px-3 py-2 font-medium text-gray-500",children:"Transaction"}),a.jsx("th",{className:"text-left px-3 py-2 font-medium text-gray-500",children:"Date"}),a.jsx("th",{className:"text-right px-3 py-2 font-medium text-gray-500",children:"Amount"}),a.jsx("th",{className:"text-right px-3 py-2 font-medium text-gray-500",children:"Registry"}),a.jsx("th",{className:"text-right px-3 py-2 font-medium text-gray-500",children:"Reconciliation"}),a.jsx("th",{className:"text-right px-3 py-2 font-medium text-gray-500",children:"Contract Expected"}),a.jsx("th",{className:"text-right px-3 py-2 font-medium text-gray-500",children:"Diff"})]})}),a.jsxs("tbody",{children:[r&&r.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("tr",{className:"border-b border-gray-100",children:a.jsxs("td",{colSpan:7,className:"px-3 py-1.5 bg-green-50/50 text-[10px] font-medium text-green-700 uppercase",children:["Before change (",r[0].date,")"]})}),r.map(l=>{const c=l.reconciliation.commission-l.contractExpected;return a.jsxs("tr",{className:"border-b border-gray-100",children:[a.jsx("td",{className:"px-3 py-1.5 font-mono text-gray-600",children:l.txId}),a.jsx("td",{className:"px-3 py-1.5 text-gray-600",children:l.date}),a.jsx("td",{className:"px-3 py-1.5 text-right text-gray-900",children:Qe(l.amount)}),a.jsxs("td",{className:"px-3 py-1.5 text-right text-gray-900",children:[Qe(l.registry.commission)," ",a.jsxs("span",{className:"text-gray-400",children:["(",ht(l.registry.rate),")"]})]}),a.jsxs("td",{className:"px-3 py-1.5 text-right text-gray-900",children:[Qe(l.reconciliation.commission)," ",a.jsxs("span",{className:"text-gray-400",children:["(",ht(l.reconciliation.rate),")"]})]}),a.jsx("td",{className:"px-3 py-1.5 text-right text-gray-900",children:Qe(l.contractExpected)}),a.jsx("td",{className:"px-3 py-1.5 text-right text-green-600 font-medium",children:Qe(c)})]},l.txId)})]}),n&&n.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("tr",{className:"border-b border-gray-100",children:a.jsxs("td",{colSpan:7,className:"px-3 py-1.5 bg-red-50/50 text-[10px] font-medium text-red-700 uppercase",children:["After change (",n[0].date,")"]})}),n.map(l=>{const c=l.reconciliation.commission-l.contractExpected;return a.jsxs("tr",{className:"border-b border-gray-100",children:[a.jsx("td",{className:"px-3 py-1.5 font-mono text-gray-600",children:l.txId}),a.jsx("td",{className:"px-3 py-1.5 text-gray-600",children:l.date}),a.jsx("td",{className:"px-3 py-1.5 text-right text-gray-900",children:Qe(l.amount)}),a.jsxs("td",{className:"px-3 py-1.5 text-right text-red-600",children:[Qe(l.registry.commission)," ",a.jsxs("span",{className:"text-red-400",children:["(",ht(l.registry.rate),")"]})]}),a.jsxs("td",{className:"px-3 py-1.5 text-right text-red-600",children:[Qe(l.reconciliation.commission)," ",a.jsxs("span",{className:"text-red-400",children:["(",ht(l.reconciliation.rate),")"]})]}),a.jsx("td",{className:"px-3 py-1.5 text-right text-gray-900",children:Qe(l.contractExpected)}),a.jsx("td",{className:"px-3 py-1.5 text-right text-red-600 font-medium",children:Qe(c)})]},l.txId)})]})]})]})})]})]})}function Hae({dailyData:e,totalDiff:t}){const r=e.filter(o=>o.hasMismatch).map(o=>o.date),n=e.reduce((o,l)=>o+l.registry.count,0),i=e.reduce((o,l)=>o+l.reconciliation.count,0),s=e.reduce((o,l)=>o+(l.missingCount||0),0);return a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Monthly Summary"}),a.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:a.jsxs("table",{className:"w-full text-xs",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200",children:[a.jsx("th",{className:"text-left px-3 py-2 font-medium text-gray-500",children:"Month"}),a.jsx("th",{className:"text-right px-3 py-2 font-medium text-gray-500",children:"Registry Count"}),a.jsx("th",{className:"text-right px-3 py-2 font-medium text-gray-500",children:"Recon Count"}),a.jsx("th",{className:"text-right px-3 py-2 font-medium text-gray-500",children:"Missing"}),a.jsx("th",{className:"text-left px-3 py-2 font-medium text-gray-500",children:"Days Affected"}),a.jsx("th",{className:"text-right px-3 py-2 font-medium text-gray-500",children:"Deviation"})]})}),a.jsx("tbody",{children:a.jsxs("tr",{className:"border-b border-gray-100",children:[a.jsx("td",{className:"px-3 py-2 font-medium text-gray-900",children:"March 2025"}),a.jsx("td",{className:"text-right px-3 py-2 text-gray-700",children:wf(n)}),a.jsx("td",{className:"text-right px-3 py-2 text-gray-700",children:wf(i)}),a.jsx("td",{className:"text-right px-3 py-2 text-red-600 font-semibold",children:s}),a.jsx("td",{className:"px-3 py-2",children:r.map(o=>a.jsx("span",{className:"inline-block mr-1.5 px-1.5 py-0.5 bg-red-100 text-red-700 rounded text-[10px] font-medium",children:o},o))}),a.jsx("td",{className:"text-right px-3 py-2 text-red-600 font-semibold",children:V(t)})]})})]})})]})}function Kae({dailyData:e,type:t}){const[r,n]=O.useState(!0),i=O.useMemo(()=>e.reduce((s,o)=>({regCount:s.regCount+o.registry.count,regAmount:s.regAmount+o.registry.amount,regCommission:s.regCommission+o.registry.commission,reconCount:s.reconCount+o.reconciliation.count,reconAmount:s.reconAmount+o.reconciliation.amount,reconCommission:s.reconCommission+o.reconciliation.commission,contractExpected:s.contractExpected+o.contractExpected,diff:s.diff+o.diff}),{regCount:0,regAmount:0,regCommission:0,reconCount:0,reconAmount:0,reconCommission:0,contractExpected:0,diff:0}),[e]);return a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Day-by-Day Comparison"}),a.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:a.jsxs("table",{className:"w-full text-xs",children:[a.jsxs("thead",{children:[a.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200",children:[a.jsx("th",{className:"text-left px-3 py-2 font-medium text-gray-500 w-[80px]",children:"Day"}),a.jsx("th",{colSpan:3,className:"text-center px-3 py-2 font-medium text-gray-500 border-l border-gray-200",children:"Registry"}),a.jsx("th",{colSpan:3,className:"text-center px-3 py-2 font-medium text-gray-500 border-l border-gray-200",children:"Reconciliation"}),a.jsx("th",{className:"text-right px-3 py-2 font-medium text-gray-500 border-l border-gray-200",children:"Contract Exp."}),a.jsx("th",{className:"text-right px-3 py-2 font-medium text-gray-500 border-l border-gray-200",children:"Diff"})]}),a.jsxs("tr",{className:"bg-gray-50/50 border-b border-gray-200",children:[a.jsx("th",{className:"px-3 py-1"}),a.jsx("th",{className:"text-right px-3 py-1 text-[10px] font-normal text-gray-400 border-l border-gray-200",children:"Count"}),a.jsx("th",{className:"text-right px-3 py-1 text-[10px] font-normal text-gray-400",children:"Amount"}),a.jsx("th",{className:"text-right px-3 py-1 text-[10px] font-normal text-gray-400",children:"Eff. Rate"}),a.jsx("th",{className:"text-right px-3 py-1 text-[10px] font-normal text-gray-400 border-l border-gray-200",children:"Count"}),a.jsx("th",{className:"text-right px-3 py-1 text-[10px] font-normal text-gray-400",children:"Amount"}),a.jsx("th",{className:"text-right px-3 py-1 text-[10px] font-normal text-gray-400",children:"Eff. Rate"}),a.jsx("th",{className:"px-3 py-1 border-l border-gray-200"}),a.jsx("th",{className:"px-3 py-1 border-l border-gray-200"})]})]}),a.jsxs("tbody",{children:[a.jsxs("tr",{className:"bg-gray-100 border-b border-gray-300 font-semibold cursor-pointer hover:bg-gray-200/50 transition-colors",onClick:()=>n(!r),children:[a.jsxs("td",{className:"px-3 py-2 text-gray-900 flex items-center gap-1",children:[r?a.jsx(qe,{className:"h-3 w-3"}):a.jsx(Qr,{className:"h-3 w-3"}),"March"]}),a.jsx("td",{className:"text-right px-3 py-2 text-gray-900 border-l border-gray-200",children:wf(i.regCount)}),a.jsx("td",{className:"text-right px-3 py-2 text-gray-900",children:Qe(i.regAmount)}),a.jsx("td",{className:"text-right px-3 py-2 text-gray-500",children:""}),a.jsx("td",{className:G("text-right px-3 py-2 border-l border-gray-200",t==="missing-transactions"?"text-red-600":"text-gray-900"),children:wf(i.reconCount)}),a.jsx("td",{className:"text-right px-3 py-2 text-gray-900",children:Qe(i.reconAmount)}),a.jsx("td",{className:"text-right px-3 py-2 text-gray-500",children:""}),a.jsx("td",{className:"text-right px-3 py-2 text-gray-900 border-l border-gray-200",children:Qe(i.contractExpected)}),a.jsx("td",{className:G("text-right px-3 py-2 border-l border-gray-200",i.diff<0?"text-red-600":"text-gray-900"),children:V(i.diff)})]}),r&&e.map((s,o)=>{const l=t==="rate-change"&&s.isAfterChange&&(o===0||!e[o-1].isAfterChange);return t==="rate-change"?a.jsxs("tr",{className:G("border-b border-gray-100 transition-colors",l&&"bg-amber-50/50 border-t-2 border-t-amber-400",s.isAfterChange&&!l&&"bg-red-50/20"),children:[a.jsxs("td",{className:"px-3 py-1.5 text-gray-600 pl-7",children:[s.date,l&&a.jsx("span",{className:"ml-1 text-[9px] text-amber-600 font-semibold",children:"CHANGE"})]}),a.jsx("td",{className:"text-right px-3 py-1.5 text-gray-700 border-l border-gray-100",children:s.registry.count}),a.jsx("td",{className:"text-right px-3 py-1.5 text-gray-700",children:Qe(s.registry.amount)}),a.jsx("td",{className:G("text-right px-3 py-1.5",s.isAfterChange?"text-red-600 font-medium":"text-gray-700"),children:ht(s.registry.effectiveRate)}),a.jsx("td",{className:"text-right px-3 py-1.5 text-gray-700 border-l border-gray-100",children:s.reconciliation.count}),a.jsx("td",{className:"text-right px-3 py-1.5 text-gray-700",children:Qe(s.reconciliation.amount)}),a.jsx("td",{className:G("text-right px-3 py-1.5",s.isAfterChange?"text-red-600 font-medium":"text-gray-700"),children:ht(s.reconciliation.effectiveRate)}),a.jsx("td",{className:"text-right px-3 py-1.5 text-gray-700 border-l border-gray-100",children:Qe(s.contractExpected)}),a.jsx("td",{className:G("text-right px-3 py-1.5 border-l border-gray-100",s.diff<-.5?"text-red-600 font-medium":"text-gray-400"),children:Math.abs(s.diff)<.5?"0.00":V(s.diff)})]},s.date):a.jsxs("tr",{className:G("border-b border-gray-100 transition-colors",s.hasMismatch&&"bg-red-50/50 border-l-2 border-l-red-400"),children:[a.jsxs("td",{className:"px-3 py-1.5 text-gray-600 pl-7",children:[s.date,s.hasMismatch&&a.jsxs("span",{className:"ml-1 text-[9px] text-red-600 font-semibold",children:["-",s.missingCount]})]}),a.jsx("td",{className:"text-right px-3 py-1.5 text-gray-700 border-l border-gray-100",children:s.registry.count}),a.jsx("td",{className:"text-right px-3 py-1.5 text-gray-700",children:Qe(s.registry.amount)}),a.jsx("td",{className:"text-right px-3 py-1.5 text-gray-700",children:ht(s.registry.effectiveRate)}),a.jsx("td",{className:G("text-right px-3 py-1.5 border-l border-gray-100",s.hasMismatch?"text-red-600 font-medium":"text-gray-700"),children:s.reconciliation.count}),a.jsx("td",{className:"text-right px-3 py-1.5 text-gray-700",children:Qe(s.reconciliation.amount)}),a.jsx("td",{className:"text-right px-3 py-1.5 text-gray-700",children:ht(s.reconciliation.effectiveRate)}),a.jsx("td",{className:"text-right px-3 py-1.5 text-gray-700 border-l border-gray-100",children:Qe(s.contractExpected)}),a.jsx("td",{className:G("text-right px-3 py-1.5 border-l border-gray-100",s.hasMismatch?"text-red-600 font-medium":"text-gray-400"),children:s.hasMismatch?V(s.diff):"0.00"})]},s.date)})]})]})})]})}function Vae({missingTransactions:e}){return a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Missing Transactions"}),a.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"Transactions present in registry but absent in reconciliation settlement."}),a.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:a.jsxs("table",{className:"w-full text-xs",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200",children:[a.jsx("th",{className:"text-left px-3 py-2 font-medium text-gray-500",children:"Transaction ID"}),a.jsx("th",{className:"text-left px-3 py-2 font-medium text-gray-500",children:"Date"}),a.jsx("th",{className:"text-right px-3 py-2 font-medium text-gray-500",children:"Amount"}),a.jsx("th",{className:"text-right px-3 py-2 font-medium text-gray-500",children:"Rate"}),a.jsx("th",{className:"text-right px-3 py-2 font-medium text-gray-500",children:"Commission"}),a.jsx("th",{className:"text-left px-3 py-2 font-medium text-gray-500",children:"Present In"}),a.jsx("th",{className:"text-left px-3 py-2 font-medium text-gray-500",children:"Missing From"})]})}),a.jsx("tbody",{children:e.map(t=>a.jsxs("tr",{className:"border-b border-gray-100 bg-red-50/30",children:[a.jsx("td",{className:"px-3 py-2 font-mono text-gray-700",children:t.txId}),a.jsx("td",{className:"px-3 py-2 text-gray-700",children:t.date}),a.jsx("td",{className:"text-right px-3 py-2 text-gray-900",children:Qe(t.amount)}),a.jsx("td",{className:"text-right px-3 py-2 text-gray-700",children:ht(t.rate)}),a.jsx("td",{className:"text-right px-3 py-2 text-red-600 font-medium",children:Qe(t.commission)}),a.jsx("td",{className:"px-3 py-2",children:a.jsx("span",{className:"px-1.5 py-0.5 bg-green-100 text-green-700 rounded text-[10px] font-medium",children:"Registry"})}),a.jsx("td",{className:"px-3 py-2",children:a.jsx("span",{className:"px-1.5 py-0.5 bg-red-100 text-red-700 rounded text-[10px] font-medium",children:"Reconciliation"})})]},t.txId))}),a.jsx("tfoot",{children:a.jsxs("tr",{className:"bg-gray-50 border-t border-gray-200 font-semibold",children:[a.jsxs("td",{className:"px-3 py-2 text-gray-900",colSpan:2,children:["Total (",e.length," transactions)"]}),a.jsx("td",{className:"text-right px-3 py-2 text-gray-900",children:Qe(e.reduce((t,r)=>t+r.amount,0))}),a.jsx("td",{className:"px-3 py-2"}),a.jsx("td",{className:"text-right px-3 py-2 text-red-600",children:Qe(e.reduce((t,r)=>t+r.commission,0))}),a.jsx("td",{colSpan:2})]})})]})})]})}function qae({notes:e}){const t={info:a.jsx(FS,{className:"h-4 w-4 text-blue-500 mt-0.5 shrink-0"}),warning:a.jsx(nt,{className:"h-4 w-4 text-amber-500 mt-0.5 shrink-0"}),error:a.jsx(nt,{className:"h-4 w-4 text-red-500 mt-0.5 shrink-0"})},r={info:"bg-blue-50 border-blue-200",warning:"bg-amber-50 border-amber-200",error:"bg-red-50 border-red-200"};return a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Analysis Notes"}),a.jsx("div",{className:"space-y-2",children:e.map((n,i)=>a.jsxs("div",{className:G("flex gap-2 p-3 rounded-lg border text-xs",r[n.type]),children:[t[n.type],a.jsx("span",{className:"text-gray-700",children:n.text})]},i))})]})}function Gae(){const{id:e}=xo(),{data:t,isLoading:r,error:n}=ye({queryKey:["case",e],queryFn:()=>se.getCase(e),enabled:!!e});if(r)return a.jsx("div",{className:"flex items-center justify-center py-20",children:a.jsx(Ee,{className:"h-8 w-8 animate-spin text-gray-400"})});if(n||!t)return a.jsxs("div",{className:"py-20 text-center",children:[a.jsx(nt,{className:"h-8 w-8 text-red-400 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-600",children:"Failed to load investigation case"}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:n==null?void 0:n.message})]});const i=t.type==="rate-change",s=t.type==="missing-transactions",o=t.dailyData.reduce((l,c)=>l+c.diff,0);return a.jsxs("div",{children:[a.jsxs(Ie,{to:"/merchant-overview-v2",className:"inline-flex items-center gap-2 text-sm text-gray-500 hover:text-gray-700 mb-4",children:[a.jsx(kr,{className:"h-4 w-4"}),"Back to Overview"]}),a.jsxs(ne,{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[a.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:i?"Rate Change Investigation":"Missing Transactions Investigation"}),a.jsx("span",{className:G("px-2 py-0.5 text-xs font-medium rounded-full",i?"bg-red-100 text-red-700":"bg-amber-100 text-amber-700"),children:i?"Rate Mismatch":"Missing Transactions"}),a.jsx(zae,{caseNumber:t.caseNumber,path:`/investigate/${t.caseNumber}`})]}),a.jsxs("p",{className:"text-sm text-gray-500",children:[t.merchant.name," (",t.merchant.legalName,")  ",t.partLabel,"  ",t.merchant.contract]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-2xl font-semibold text-red-600",children:V(t.deviation)}),a.jsxs("div",{className:"text-xs text-gray-500",children:[t.period.from,"  ",t.period.to]})]})]}),a.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[i&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Contract rate: "}),a.jsx("span",{className:"font-medium text-gray-900",children:ht(t.contractRate)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Actual rate: "}),a.jsx("span",{className:"font-medium text-red-600",children:ht(t.actualRate)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Change date: "}),a.jsx("span",{className:"font-medium text-amber-600",children:t.changeDate})]})]}),s&&t.missingTransactions&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Missing transactions: "}),a.jsx("span",{className:"font-medium text-red-600",children:t.missingTransactions.length})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Unsettled amount: "}),a.jsx("span",{className:"font-medium text-gray-900",children:V(t.missingTransactions.reduce((l,c)=>l+c.amount,0))})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Affected days: "}),a.jsx("span",{className:"font-medium text-amber-600",children:t.dailyData.filter(l=>l.hasMismatch).map(l=>l.date).join(", ")})]})]})]})]}),a.jsxs(ne,{className:"mb-6",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("h2",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Summary"}),a.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:t.summary})]}),a.jsx(qae,{notes:t.notes})]}),a.jsxs(ne,{className:"mb-6",children:[a.jsx("h2",{className:"text-sm font-semibold text-gray-900 mb-4",children:"Sources Used"}),a.jsx(Uae,{sources:t.sources})]}),i&&a.jsx(ne,{className:"mb-6",children:a.jsx(Wae,{dailyData:t.dailyData,contractRate:t.contractRate,sampleTxBefore:t.sampleTxBefore,sampleTxAfter:t.sampleTxAfter})}),s&&t.missingTransactions&&a.jsx(ne,{className:"mb-6",children:a.jsx(Hae,{dailyData:t.dailyData,totalDiff:o})}),a.jsx(ne,{className:"mb-6",children:a.jsx(Kae,{dailyData:t.dailyData,type:t.type})}),s&&t.missingTransactions&&a.jsx(ne,{className:"mb-6",children:a.jsx(Vae,{missingTransactions:t.missingTransactions})})]})}function Xae({c:e}){const t={"rate-change":{badge:"Rate Change",badgeClass:"bg-red-100 text-red-700",icon:a.jsx(Dc,{className:"h-4 w-4 text-red-500"})},"missing-transactions":{badge:"Missing Transactions",badgeClass:"bg-amber-100 text-amber-700",icon:a.jsx(HS,{className:"h-4 w-4 text-amber-500"})}}[e.type]||{badge:e.type,badgeClass:"bg-gray-100 text-gray-700",icon:a.jsx(nt,{className:"h-4 w-4 text-gray-500"})},r={open:{label:"Open",className:"bg-blue-100 text-blue-700"},resolved:{label:"Resolved",className:"bg-green-100 text-green-700"},closed:{label:"Closed",className:"bg-gray-100 text-gray-600"}}[e.status]||{label:e.status,className:"bg-gray-100 text-gray-600"};return a.jsxs(Ie,{to:`/investigate/${e.id}`,className:"block border border-gray-200 rounded-lg p-4 hover:border-gray-300 hover:shadow-sm transition-all group",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[t.icon,a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-mono text-sm text-gray-500",children:e.id}),a.jsx("span",{className:G("px-1.5 py-0.5 text-[10px] font-medium rounded-full",t.badgeClass),children:t.badge}),a.jsx("span",{className:G("px-1.5 py-0.5 text-[10px] font-medium rounded-full",r.className),children:r.label})]}),a.jsx("h3",{className:"text-sm font-semibold text-gray-900 mt-0.5",children:e.title})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:G("text-lg font-semibold",e.deviation<0?"text-red-600":"text-green-600"),children:V(e.deviation)}),a.jsx(My,{className:"h-4 w-4 text-gray-300 group-hover:text-gray-500 transition-colors ml-auto mt-1"})]})]}),a.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 mb-2",children:[a.jsxs("span",{children:["Merchant: ",a.jsx("span",{className:"text-gray-700 font-medium",children:e.merchant})]}),a.jsxs("span",{children:["Part: ",a.jsx("span",{className:"text-gray-700 font-medium",children:e.partLabel})]}),a.jsxs("span",{children:["Period: ",a.jsx("span",{className:"text-gray-700",children:e.period})]})]}),a.jsx("p",{className:"text-xs text-gray-500 leading-relaxed line-clamp-2",children:e.summary})]})}function Qae(){const{data:e,isLoading:t,error:r}=ye({queryKey:["cases"],queryFn:se.getCases});if(t)return a.jsx("div",{className:"flex items-center justify-center py-20",children:a.jsx(Ee,{className:"h-8 w-8 animate-spin text-gray-400"})});if(r||!e)return a.jsxs("div",{className:"py-20 text-center",children:[a.jsx(nt,{className:"h-8 w-8 text-red-400 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-600",children:"Failed to load cases"})]});const n=e.cases,i=n.reduce((s,o)=>s+o.deviation,0);return a.jsxs("div",{children:[a.jsx(ne,{className:"mb-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Investigation Cases"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"All open deviation cases across merchants"})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-sm text-gray-500",children:[n.length," cases"]}),a.jsx("div",{className:G("text-xl font-semibold",i<0?"text-red-600":"text-green-600"),children:V(i)}),a.jsx("div",{className:"text-xs text-gray-400",children:"total deviation"})]})]})}),a.jsx("div",{className:"space-y-3",children:n.map(s=>a.jsx(Xae,{c:s},s.id))}),n.length===0&&a.jsx("div",{className:"py-12 text-center text-gray-400",children:"No investigation cases found"})]})}function Yae(){const{id:e}=xo();return e&&/^\d+$/.test(e)?a.jsx(Nne,{}):a.jsx(Iae,{})}function Zae(){return a.jsx(AM,{children:a.jsxs(T$,{children:[a.jsx(vt,{path:"/",element:a.jsx(EM,{})}),a.jsx(vt,{path:"/reports/underpayment",element:a.jsx(rae,{})}),a.jsx(vt,{path:"/reports/contract-mismatch",element:a.jsx(aae,{})}),a.jsx(vt,{path:"/reports/anomalies",element:a.jsx(lae,{})}),a.jsx(vt,{path:"/reports/reconciliation-deviation",element:a.jsx(fae,{})}),a.jsx(vt,{path:"/reports/commission-mismatch",element:a.jsx(vae,{})}),a.jsx(vt,{path:"/reports/merchants-overview",element:a.jsx(Cae,{})}),a.jsx(vt,{path:"/merchant-overview-v2",element:a.jsx(Bae,{})}),a.jsx(vt,{path:"/merchant/:id",element:a.jsx(Yae,{})}),a.jsx(vt,{path:"/investigate/:id",element:a.jsx(Gae,{})}),a.jsx(vt,{path:"/cases",element:a.jsx(Qae,{})}),a.jsx(vt,{path:"/transactions",element:a.jsx(tne,{})}),a.jsx(vt,{path:"/transaction/:id",element:a.jsx(rne,{})}),a.jsx(vt,{path:"/merchants",element:a.jsx(ane,{})}),a.jsx(vt,{path:"/rateplan/:merchantId/:planKey",element:a.jsx(Ane,{})}),a.jsx(vt,{path:"/experiments",element:a.jsx(eae,{})}),a.jsx(vt,{path:"/settings",element:a.jsx(Gne,{})})]})})}const Jae=new CE({defaultOptions:{queries:{staleTime:5*60*1e3,retry:1}}});Hf.getState().checkConnection();qm.createRoot(document.getElementById("root")).render(a.jsx(R.StrictMode,{children:a.jsx(PE,{client:Jae,children:a.jsx(B$,{children:a.jsx(Zae,{})})})}));
