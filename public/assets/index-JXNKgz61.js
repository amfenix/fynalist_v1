var M0=e=>{throw TypeError(e)};var wh=(e,t,r)=>t.has(e)||M0("Cannot "+r);var $=(e,t,r)=>(wh(e,t,"read from private field"),r?r.call(e):t.get(e)),se=(e,t,r)=>t.has(e)?M0("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Z=(e,t,r,n)=>(wh(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),he=(e,t,r)=>(wh(e,t,"access private method"),r);var Rc=(e,t,r,n)=>({set _(a){Z(e,t,a,r)},get _(){return $(e,t,n)}});function dA(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var Dc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Me(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var AN={exports:{}},uf={},kN={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xc=Symbol.for("react.element"),fA=Symbol.for("react.portal"),hA=Symbol.for("react.fragment"),pA=Symbol.for("react.strict_mode"),mA=Symbol.for("react.profiler"),gA=Symbol.for("react.provider"),yA=Symbol.for("react.context"),xA=Symbol.for("react.forward_ref"),vA=Symbol.for("react.suspense"),bA=Symbol.for("react.memo"),jA=Symbol.for("react.lazy"),I0=Symbol.iterator;function wA(e){return e===null||typeof e!="object"?null:(e=I0&&e[I0]||e["@@iterator"],typeof e=="function"?e:null)}var EN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$N=Object.assign,TN={};function Zs(e,t,r){this.props=e,this.context=t,this.refs=TN,this.updater=r||EN}Zs.prototype.isReactComponent={};Zs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Zs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function MN(){}MN.prototype=Zs.prototype;function gy(e,t,r){this.props=e,this.context=t,this.refs=TN,this.updater=r||EN}var yy=gy.prototype=new MN;yy.constructor=gy;$N(yy,Zs.prototype);yy.isPureReactComponent=!0;var R0=Array.isArray,IN=Object.prototype.hasOwnProperty,xy={current:null},RN={key:!0,ref:!0,__self:!0,__source:!0};function DN(e,t,r){var n,a={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)IN.call(t,n)&&!RN.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:xc,type:e,key:s,ref:o,props:a,_owner:xy.current}}function NA(e,t){return{$$typeof:xc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function vy(e){return typeof e=="object"&&e!==null&&e.$$typeof===xc}function _A(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var D0=/\/+/g;function Nh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?_A(""+e.key):t.toString(36)}function bu(e,t,r,n,a){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case xc:case fA:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+Nh(o,0):n,R0(a)?(r="",e!=null&&(r=e.replace(D0,"$&/")+"/"),bu(a,t,r,"",function(u){return u})):a!=null&&(vy(a)&&(a=NA(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(D0,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",R0(e))for(var l=0;l<e.length;l++){s=e[l];var c=n+Nh(s,l);o+=bu(s,t,r,c,a)}else if(c=wA(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=n+Nh(s,l++),o+=bu(s,t,r,c,a);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Lc(e,t,r){if(e==null)return e;var n=[],a=0;return bu(e,n,"","",function(s){return t.call(r,s,a++)}),n}function SA(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Bt={current:null},ju={transition:null},OA={ReactCurrentDispatcher:Bt,ReactCurrentBatchConfig:ju,ReactCurrentOwner:xy};function LN(){throw Error("act(...) is not supported in production builds of React.")}ge.Children={map:Lc,forEach:function(e,t,r){Lc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Lc(e,function(){t++}),t},toArray:function(e){return Lc(e,function(t){return t})||[]},only:function(e){if(!vy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ge.Component=Zs;ge.Fragment=hA;ge.Profiler=mA;ge.PureComponent=gy;ge.StrictMode=pA;ge.Suspense=vA;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OA;ge.act=LN;ge.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=$N({},e.props),a=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=xy.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)IN.call(t,c)&&!RN.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:xc,type:e.type,key:a,ref:s,props:n,_owner:o}};ge.createContext=function(e){return e={$$typeof:yA,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:gA,_context:e},e.Consumer=e};ge.createElement=DN;ge.createFactory=function(e){var t=DN.bind(null,e);return t.type=e,t};ge.createRef=function(){return{current:null}};ge.forwardRef=function(e){return{$$typeof:xA,render:e}};ge.isValidElement=vy;ge.lazy=function(e){return{$$typeof:jA,_payload:{_status:-1,_result:e},_init:SA}};ge.memo=function(e,t){return{$$typeof:bA,type:e,compare:t===void 0?null:t}};ge.startTransition=function(e){var t=ju.transition;ju.transition={};try{e()}finally{ju.transition=t}};ge.unstable_act=LN;ge.useCallback=function(e,t){return Bt.current.useCallback(e,t)};ge.useContext=function(e){return Bt.current.useContext(e)};ge.useDebugValue=function(){};ge.useDeferredValue=function(e){return Bt.current.useDeferredValue(e)};ge.useEffect=function(e,t){return Bt.current.useEffect(e,t)};ge.useId=function(){return Bt.current.useId()};ge.useImperativeHandle=function(e,t,r){return Bt.current.useImperativeHandle(e,t,r)};ge.useInsertionEffect=function(e,t){return Bt.current.useInsertionEffect(e,t)};ge.useLayoutEffect=function(e,t){return Bt.current.useLayoutEffect(e,t)};ge.useMemo=function(e,t){return Bt.current.useMemo(e,t)};ge.useReducer=function(e,t,r){return Bt.current.useReducer(e,t,r)};ge.useRef=function(e){return Bt.current.useRef(e)};ge.useState=function(e){return Bt.current.useState(e)};ge.useSyncExternalStore=function(e,t,r){return Bt.current.useSyncExternalStore(e,t,r)};ge.useTransition=function(){return Bt.current.useTransition()};ge.version="18.3.1";kN.exports=ge;var O=kN.exports;const I=Me(O),CA=dA({__proto__:null,default:I},[O]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PA=O,AA=Symbol.for("react.element"),kA=Symbol.for("react.fragment"),EA=Object.prototype.hasOwnProperty,$A=PA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,TA={key:!0,ref:!0,__self:!0,__source:!0};function FN(e,t,r){var n,a={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)EA.call(t,n)&&!TA.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:AA,type:e,key:s,ref:o,props:a,_owner:$A.current}}uf.Fragment=kA;uf.jsx=FN;uf.jsxs=FN;AN.exports=uf;var i=AN.exports,$p={},BN={exports:{}},lr={},zN={exports:{}},UN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,R){var k=P.length;P.push(R);e:for(;0<k;){var B=k-1>>>1,F=P[B];if(0<a(F,R))P[B]=R,P[k]=F,k=B;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var R=P[0],k=P.pop();if(k!==R){P[0]=k;e:for(var B=0,F=P.length,K=F>>>1;B<K;){var Y=2*(B+1)-1,J=P[Y],ae=Y+1,we=P[ae];if(0>a(J,k))ae<F&&0>a(we,J)?(P[B]=we,P[ae]=k,B=ae):(P[B]=J,P[Y]=k,B=Y);else if(ae<F&&0>a(we,k))P[B]=we,P[ae]=k,B=ae;else break e}}return R}function a(P,R){var k=P.sortIndex-R.sortIndex;return k!==0?k:P.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,y=!1,x=!1,m=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(P){for(var R=r(u);R!==null;){if(R.callback===null)n(u);else if(R.startTime<=P)n(u),R.sortIndex=R.expirationTime,t(c,R);else break;R=r(u)}}function w(P){if(x=!1,b(P),!y)if(r(c)!==null)y=!0,M(j);else{var R=r(u);R!==null&&U(w,R.startTime-P)}}function j(P,R){y=!1,x&&(x=!1,g(S),S=-1),p=!0;var k=h;try{for(b(R),f=r(c);f!==null&&(!(f.expirationTime>R)||P&&!E());){var B=f.callback;if(typeof B=="function"){f.callback=null,h=f.priorityLevel;var F=B(f.expirationTime<=R);R=e.unstable_now(),typeof F=="function"?f.callback=F:f===r(c)&&n(c),b(R)}else n(c);f=r(c)}if(f!==null)var K=!0;else{var Y=r(u);Y!==null&&U(w,Y.startTime-R),K=!1}return K}finally{f=null,h=k,p=!1}}var N=!1,_=null,S=-1,C=5,A=-1;function E(){return!(e.unstable_now()-A<C)}function T(){if(_!==null){var P=e.unstable_now();A=P;var R=!0;try{R=_(!0,P)}finally{R?W():(N=!1,_=null)}}else N=!1}var W;if(typeof v=="function")W=function(){v(T)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,L=z.port2;z.port1.onmessage=T,W=function(){L.postMessage(null)}}else W=function(){m(T,0)};function M(P){_=P,N||(N=!0,W())}function U(P,R){S=m(function(){P(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){y||p||(y=!0,M(j))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(P){switch(h){case 1:case 2:case 3:var R=3;break;default:R=h}var k=h;h=R;try{return P()}finally{h=k}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,R){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var k=h;h=P;try{return R()}finally{h=k}},e.unstable_scheduleCallback=function(P,R,k){var B=e.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?B+k:B):k=B,P){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=k+F,P={id:d++,callback:R,priorityLevel:P,startTime:k,expirationTime:F,sortIndex:-1},k>B?(P.sortIndex=k,t(u,P),r(c)===null&&P===r(u)&&(x?(g(S),S=-1):x=!0,U(w,k-B))):(P.sortIndex=F,t(c,P),y||p||(y=!0,M(j))),P},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(P){var R=h;return function(){var k=h;h=R;try{return P.apply(this,arguments)}finally{h=k}}}})(UN);zN.exports=UN;var MA=zN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IA=O,sr=MA;function q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var WN=new Set,cl={};function Ni(e,t){vs(e,t),vs(e+"Capture",t)}function vs(e,t){for(cl[e]=t,e=0;e<t.length;e++)WN.add(t[e])}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tp=Object.prototype.hasOwnProperty,RA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,L0={},F0={};function DA(e){return Tp.call(F0,e)?!0:Tp.call(L0,e)?!1:RA.test(e)?F0[e]=!0:(L0[e]=!0,!1)}function LA(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function FA(e,t,r,n){if(t===null||typeof t>"u"||LA(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function zt(e,t,r,n,a,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var St={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){St[e]=new zt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];St[t]=new zt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){St[e]=new zt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){St[e]=new zt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){St[e]=new zt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){St[e]=new zt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){St[e]=new zt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){St[e]=new zt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){St[e]=new zt(e,5,!1,e.toLowerCase(),null,!1,!1)});var by=/[\-:]([a-z])/g;function jy(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(by,jy);St[t]=new zt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(by,jy);St[t]=new zt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(by,jy);St[t]=new zt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){St[e]=new zt(e,1,!1,e.toLowerCase(),null,!1,!1)});St.xlinkHref=new zt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){St[e]=new zt(e,1,!1,e.toLowerCase(),null,!0,!0)});function wy(e,t,r,n){var a=St.hasOwnProperty(t)?St[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(FA(t,r,a,n)&&(r=null),n||a===null?DA(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Dn=IA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fc=Symbol.for("react.element"),Ri=Symbol.for("react.portal"),Di=Symbol.for("react.fragment"),Ny=Symbol.for("react.strict_mode"),Mp=Symbol.for("react.profiler"),HN=Symbol.for("react.provider"),VN=Symbol.for("react.context"),_y=Symbol.for("react.forward_ref"),Ip=Symbol.for("react.suspense"),Rp=Symbol.for("react.suspense_list"),Sy=Symbol.for("react.memo"),Kn=Symbol.for("react.lazy"),KN=Symbol.for("react.offscreen"),B0=Symbol.iterator;function bo(e){return e===null||typeof e!="object"?null:(e=B0&&e[B0]||e["@@iterator"],typeof e=="function"?e:null)}var Qe=Object.assign,_h;function Uo(e){if(_h===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);_h=t&&t[1]||""}return`
`+_h+e}var Sh=!1;function Oh(e,t){if(!e||Sh)return"";Sh=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),s=n.stack.split(`
`),o=a.length-1,l=s.length-1;1<=o&&0<=l&&a[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==s[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Sh=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Uo(e):""}function BA(e){switch(e.tag){case 5:return Uo(e.type);case 16:return Uo("Lazy");case 13:return Uo("Suspense");case 19:return Uo("SuspenseList");case 0:case 2:case 15:return e=Oh(e.type,!1),e;case 11:return e=Oh(e.type.render,!1),e;case 1:return e=Oh(e.type,!0),e;default:return""}}function Dp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Di:return"Fragment";case Ri:return"Portal";case Mp:return"Profiler";case Ny:return"StrictMode";case Ip:return"Suspense";case Rp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case VN:return(e.displayName||"Context")+".Consumer";case HN:return(e._context.displayName||"Context")+".Provider";case _y:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Sy:return t=e.displayName||null,t!==null?t:Dp(e.type)||"Memo";case Kn:t=e._payload,e=e._init;try{return Dp(e(t))}catch{}}return null}function zA(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Dp(t);case 8:return t===Ny?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Na(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qN(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function UA(e){var t=qN(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Bc(e){e._valueTracker||(e._valueTracker=UA(e))}function GN(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=qN(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Tu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Lp(e,t){var r=t.checked;return Qe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function z0(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Na(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function XN(e,t){t=t.checked,t!=null&&wy(e,"checked",t,!1)}function Fp(e,t){XN(e,t);var r=Na(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Bp(e,t.type,r):t.hasOwnProperty("defaultValue")&&Bp(e,t.type,Na(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function U0(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Bp(e,t,r){(t!=="number"||Tu(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Wo=Array.isArray;function Yi(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Na(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function zp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(q(91));return Qe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function W0(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(q(92));if(Wo(r)){if(1<r.length)throw Error(q(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Na(r)}}function QN(e,t){var r=Na(t.value),n=Na(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function H0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function YN(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Up(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?YN(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var zc,ZN=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(zc=zc||document.createElement("div"),zc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=zc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ul(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Xo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},WA=["Webkit","ms","Moz","O"];Object.keys(Xo).forEach(function(e){WA.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Xo[t]=Xo[e]})});function JN(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Xo.hasOwnProperty(e)&&Xo[e]?(""+t).trim():t+"px"}function e2(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=JN(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var HA=Qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wp(e,t){if(t){if(HA[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(q(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(q(62))}}function Hp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vp=null;function Oy(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Kp=null,Zi=null,Ji=null;function V0(e){if(e=jc(e)){if(typeof Kp!="function")throw Error(q(280));var t=e.stateNode;t&&(t=mf(t),Kp(e.stateNode,e.type,t))}}function t2(e){Zi?Ji?Ji.push(e):Ji=[e]:Zi=e}function r2(){if(Zi){var e=Zi,t=Ji;if(Ji=Zi=null,V0(e),t)for(e=0;e<t.length;e++)V0(t[e])}}function n2(e,t){return e(t)}function a2(){}var Ch=!1;function i2(e,t,r){if(Ch)return e(t,r);Ch=!0;try{return n2(e,t,r)}finally{Ch=!1,(Zi!==null||Ji!==null)&&(a2(),r2())}}function dl(e,t){var r=e.stateNode;if(r===null)return null;var n=mf(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(q(231,t,typeof r));return r}var qp=!1;if(An)try{var jo={};Object.defineProperty(jo,"passive",{get:function(){qp=!0}}),window.addEventListener("test",jo,jo),window.removeEventListener("test",jo,jo)}catch{qp=!1}function VA(e,t,r,n,a,s,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Qo=!1,Mu=null,Iu=!1,Gp=null,KA={onError:function(e){Qo=!0,Mu=e}};function qA(e,t,r,n,a,s,o,l,c){Qo=!1,Mu=null,VA.apply(KA,arguments)}function GA(e,t,r,n,a,s,o,l,c){if(qA.apply(this,arguments),Qo){if(Qo){var u=Mu;Qo=!1,Mu=null}else throw Error(q(198));Iu||(Iu=!0,Gp=u)}}function _i(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function s2(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function K0(e){if(_i(e)!==e)throw Error(q(188))}function XA(e){var t=e.alternate;if(!t){if(t=_i(e),t===null)throw Error(q(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var s=a.alternate;if(s===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return K0(a),e;if(s===n)return K0(a),t;s=s.sibling}throw Error(q(188))}if(r.return!==n.return)r=a,n=s;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o)throw Error(q(189))}}if(r.alternate!==n)throw Error(q(190))}if(r.tag!==3)throw Error(q(188));return r.stateNode.current===r?e:t}function o2(e){return e=XA(e),e!==null?l2(e):null}function l2(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=l2(e);if(t!==null)return t;e=e.sibling}return null}var c2=sr.unstable_scheduleCallback,q0=sr.unstable_cancelCallback,QA=sr.unstable_shouldYield,YA=sr.unstable_requestPaint,et=sr.unstable_now,ZA=sr.unstable_getCurrentPriorityLevel,Cy=sr.unstable_ImmediatePriority,u2=sr.unstable_UserBlockingPriority,Ru=sr.unstable_NormalPriority,JA=sr.unstable_LowPriority,d2=sr.unstable_IdlePriority,df=null,en=null;function ek(e){if(en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(df,e,void 0,(e.current.flags&128)===128)}catch{}}var Ur=Math.clz32?Math.clz32:nk,tk=Math.log,rk=Math.LN2;function nk(e){return e>>>=0,e===0?32:31-(tk(e)/rk|0)|0}var Uc=64,Wc=4194304;function Ho(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Du(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=Ho(l):(s&=o,s!==0&&(n=Ho(s)))}else o=r&~a,o!==0?n=Ho(o):s!==0&&(n=Ho(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,s=t&-t,a>=s||a===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ur(t),a=1<<r,n|=e[r],t&=~a;return n}function ak(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ik(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Ur(s),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=ak(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function Xp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function f2(){var e=Uc;return Uc<<=1,!(Uc&4194240)&&(Uc=64),e}function Ph(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function vc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ur(t),e[t]=r}function sk(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Ur(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}function Py(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ur(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Ee=0;function h2(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var p2,Ay,m2,g2,y2,Qp=!1,Hc=[],da=null,fa=null,ha=null,fl=new Map,hl=new Map,Xn=[],ok="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function G0(e,t){switch(e){case"focusin":case"focusout":da=null;break;case"dragenter":case"dragleave":fa=null;break;case"mouseover":case"mouseout":ha=null;break;case"pointerover":case"pointerout":fl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":hl.delete(t.pointerId)}}function wo(e,t,r,n,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},t!==null&&(t=jc(t),t!==null&&Ay(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function lk(e,t,r,n,a){switch(t){case"focusin":return da=wo(da,e,t,r,n,a),!0;case"dragenter":return fa=wo(fa,e,t,r,n,a),!0;case"mouseover":return ha=wo(ha,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return fl.set(s,wo(fl.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,hl.set(s,wo(hl.get(s)||null,e,t,r,n,a)),!0}return!1}function x2(e){var t=Ua(e.target);if(t!==null){var r=_i(t);if(r!==null){if(t=r.tag,t===13){if(t=s2(r),t!==null){e.blockedOn=t,y2(e.priority,function(){m2(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Yp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Vp=n,r.target.dispatchEvent(n),Vp=null}else return t=jc(r),t!==null&&Ay(t),e.blockedOn=r,!1;t.shift()}return!0}function X0(e,t,r){wu(e)&&r.delete(t)}function ck(){Qp=!1,da!==null&&wu(da)&&(da=null),fa!==null&&wu(fa)&&(fa=null),ha!==null&&wu(ha)&&(ha=null),fl.forEach(X0),hl.forEach(X0)}function No(e,t){e.blockedOn===t&&(e.blockedOn=null,Qp||(Qp=!0,sr.unstable_scheduleCallback(sr.unstable_NormalPriority,ck)))}function pl(e){function t(a){return No(a,e)}if(0<Hc.length){No(Hc[0],e);for(var r=1;r<Hc.length;r++){var n=Hc[r];n.blockedOn===e&&(n.blockedOn=null)}}for(da!==null&&No(da,e),fa!==null&&No(fa,e),ha!==null&&No(ha,e),fl.forEach(t),hl.forEach(t),r=0;r<Xn.length;r++)n=Xn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Xn.length&&(r=Xn[0],r.blockedOn===null);)x2(r),r.blockedOn===null&&Xn.shift()}var es=Dn.ReactCurrentBatchConfig,Lu=!0;function uk(e,t,r,n){var a=Ee,s=es.transition;es.transition=null;try{Ee=1,ky(e,t,r,n)}finally{Ee=a,es.transition=s}}function dk(e,t,r,n){var a=Ee,s=es.transition;es.transition=null;try{Ee=4,ky(e,t,r,n)}finally{Ee=a,es.transition=s}}function ky(e,t,r,n){if(Lu){var a=Yp(e,t,r,n);if(a===null)Lh(e,t,n,Fu,r),G0(e,n);else if(lk(a,e,t,r,n))n.stopPropagation();else if(G0(e,n),t&4&&-1<ok.indexOf(e)){for(;a!==null;){var s=jc(a);if(s!==null&&p2(s),s=Yp(e,t,r,n),s===null&&Lh(e,t,n,Fu,r),s===a)break;a=s}a!==null&&n.stopPropagation()}else Lh(e,t,n,null,r)}}var Fu=null;function Yp(e,t,r,n){if(Fu=null,e=Oy(n),e=Ua(e),e!==null)if(t=_i(e),t===null)e=null;else if(r=t.tag,r===13){if(e=s2(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Fu=e,null}function v2(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ZA()){case Cy:return 1;case u2:return 4;case Ru:case JA:return 16;case d2:return 536870912;default:return 16}default:return 16}}var oa=null,Ey=null,Nu=null;function b2(){if(Nu)return Nu;var e,t=Ey,r=t.length,n,a="value"in oa?oa.value:oa.textContent,s=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[s-n];n++);return Nu=a.slice(e,1<n?1-n:void 0)}function _u(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Vc(){return!0}function Q0(){return!1}function cr(e){function t(r,n,a,s,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Vc:Q0,this.isPropagationStopped=Q0,this}return Qe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Vc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Vc)},persist:function(){},isPersistent:Vc}),t}var Js={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$y=cr(Js),bc=Qe({},Js,{view:0,detail:0}),fk=cr(bc),Ah,kh,_o,ff=Qe({},bc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ty,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_o&&(_o&&e.type==="mousemove"?(Ah=e.screenX-_o.screenX,kh=e.screenY-_o.screenY):kh=Ah=0,_o=e),Ah)},movementY:function(e){return"movementY"in e?e.movementY:kh}}),Y0=cr(ff),hk=Qe({},ff,{dataTransfer:0}),pk=cr(hk),mk=Qe({},bc,{relatedTarget:0}),Eh=cr(mk),gk=Qe({},Js,{animationName:0,elapsedTime:0,pseudoElement:0}),yk=cr(gk),xk=Qe({},Js,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vk=cr(xk),bk=Qe({},Js,{data:0}),Z0=cr(bk),jk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _k(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Nk[e])?!!t[e]:!1}function Ty(){return _k}var Sk=Qe({},bc,{key:function(e){if(e.key){var t=jk[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=_u(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?wk[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ty,charCode:function(e){return e.type==="keypress"?_u(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_u(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ok=cr(Sk),Ck=Qe({},ff,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),J0=cr(Ck),Pk=Qe({},bc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ty}),Ak=cr(Pk),kk=Qe({},Js,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ek=cr(kk),$k=Qe({},ff,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tk=cr($k),Mk=[9,13,27,32],My=An&&"CompositionEvent"in window,Yo=null;An&&"documentMode"in document&&(Yo=document.documentMode);var Ik=An&&"TextEvent"in window&&!Yo,j2=An&&(!My||Yo&&8<Yo&&11>=Yo),ev=" ",tv=!1;function w2(e,t){switch(e){case"keyup":return Mk.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function N2(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Li=!1;function Rk(e,t){switch(e){case"compositionend":return N2(t);case"keypress":return t.which!==32?null:(tv=!0,ev);case"textInput":return e=t.data,e===ev&&tv?null:e;default:return null}}function Dk(e,t){if(Li)return e==="compositionend"||!My&&w2(e,t)?(e=b2(),Nu=Ey=oa=null,Li=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return j2&&t.locale!=="ko"?null:t.data;default:return null}}var Lk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Lk[e.type]:t==="textarea"}function _2(e,t,r,n){t2(n),t=Bu(t,"onChange"),0<t.length&&(r=new $y("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Zo=null,ml=null;function Fk(e){I2(e,0)}function hf(e){var t=zi(e);if(GN(t))return e}function Bk(e,t){if(e==="change")return t}var S2=!1;if(An){var $h;if(An){var Th="oninput"in document;if(!Th){var nv=document.createElement("div");nv.setAttribute("oninput","return;"),Th=typeof nv.oninput=="function"}$h=Th}else $h=!1;S2=$h&&(!document.documentMode||9<document.documentMode)}function av(){Zo&&(Zo.detachEvent("onpropertychange",O2),ml=Zo=null)}function O2(e){if(e.propertyName==="value"&&hf(ml)){var t=[];_2(t,ml,e,Oy(e)),i2(Fk,t)}}function zk(e,t,r){e==="focusin"?(av(),Zo=t,ml=r,Zo.attachEvent("onpropertychange",O2)):e==="focusout"&&av()}function Uk(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hf(ml)}function Wk(e,t){if(e==="click")return hf(t)}function Hk(e,t){if(e==="input"||e==="change")return hf(t)}function Vk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Hr=typeof Object.is=="function"?Object.is:Vk;function gl(e,t){if(Hr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Tp.call(t,a)||!Hr(e[a],t[a]))return!1}return!0}function iv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sv(e,t){var r=iv(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=iv(r)}}function C2(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?C2(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function P2(){for(var e=window,t=Tu();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Tu(e.document)}return t}function Iy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Kk(e){var t=P2(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&C2(r.ownerDocument.documentElement,r)){if(n!==null&&Iy(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=n.end===void 0?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=sv(r,s);var o=sv(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var qk=An&&"documentMode"in document&&11>=document.documentMode,Fi=null,Zp=null,Jo=null,Jp=!1;function ov(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Jp||Fi==null||Fi!==Tu(n)||(n=Fi,"selectionStart"in n&&Iy(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Jo&&gl(Jo,n)||(Jo=n,n=Bu(Zp,"onSelect"),0<n.length&&(t=new $y("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Fi)))}function Kc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Bi={animationend:Kc("Animation","AnimationEnd"),animationiteration:Kc("Animation","AnimationIteration"),animationstart:Kc("Animation","AnimationStart"),transitionend:Kc("Transition","TransitionEnd")},Mh={},A2={};An&&(A2=document.createElement("div").style,"AnimationEvent"in window||(delete Bi.animationend.animation,delete Bi.animationiteration.animation,delete Bi.animationstart.animation),"TransitionEvent"in window||delete Bi.transitionend.transition);function pf(e){if(Mh[e])return Mh[e];if(!Bi[e])return e;var t=Bi[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in A2)return Mh[e]=t[r];return e}var k2=pf("animationend"),E2=pf("animationiteration"),$2=pf("animationstart"),T2=pf("transitionend"),M2=new Map,lv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Oa(e,t){M2.set(e,t),Ni(t,[e])}for(var Ih=0;Ih<lv.length;Ih++){var Rh=lv[Ih],Gk=Rh.toLowerCase(),Xk=Rh[0].toUpperCase()+Rh.slice(1);Oa(Gk,"on"+Xk)}Oa(k2,"onAnimationEnd");Oa(E2,"onAnimationIteration");Oa($2,"onAnimationStart");Oa("dblclick","onDoubleClick");Oa("focusin","onFocus");Oa("focusout","onBlur");Oa(T2,"onTransitionEnd");vs("onMouseEnter",["mouseout","mouseover"]);vs("onMouseLeave",["mouseout","mouseover"]);vs("onPointerEnter",["pointerout","pointerover"]);vs("onPointerLeave",["pointerout","pointerover"]);Ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ni("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vo));function cv(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,GA(n,t,void 0,e),e.currentTarget=null}function I2(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&a.isPropagationStopped())break e;cv(a,l,u),s=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&a.isPropagationStopped())break e;cv(a,l,u),s=c}}}if(Iu)throw e=Gp,Iu=!1,Gp=null,e}function ze(e,t){var r=t[am];r===void 0&&(r=t[am]=new Set);var n=e+"__bubble";r.has(n)||(R2(t,e,2,!1),r.add(n))}function Dh(e,t,r){var n=0;t&&(n|=4),R2(r,e,n,t)}var qc="_reactListening"+Math.random().toString(36).slice(2);function yl(e){if(!e[qc]){e[qc]=!0,WN.forEach(function(r){r!=="selectionchange"&&(Qk.has(r)||Dh(r,!1,e),Dh(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[qc]||(t[qc]=!0,Dh("selectionchange",!1,t))}}function R2(e,t,r,n){switch(v2(t)){case 1:var a=uk;break;case 4:a=dk;break;default:a=ky}r=a.bind(null,t,r,e),a=void 0,!qp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Lh(e,t,r,n,a){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Ua(l),o===null)return;if(c=o.tag,c===5||c===6){n=s=o;continue e}l=l.parentNode}}n=n.return}i2(function(){var u=s,d=Oy(r),f=[];e:{var h=M2.get(e);if(h!==void 0){var p=$y,y=e;switch(e){case"keypress":if(_u(r)===0)break e;case"keydown":case"keyup":p=Ok;break;case"focusin":y="focus",p=Eh;break;case"focusout":y="blur",p=Eh;break;case"beforeblur":case"afterblur":p=Eh;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Y0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=pk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Ak;break;case k2:case E2:case $2:p=yk;break;case T2:p=Ek;break;case"scroll":p=fk;break;case"wheel":p=Tk;break;case"copy":case"cut":case"paste":p=vk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=J0}var x=(t&4)!==0,m=!x&&e==="scroll",g=x?h!==null?h+"Capture":null:h;x=[];for(var v=u,b;v!==null;){b=v;var w=b.stateNode;if(b.tag===5&&w!==null&&(b=w,g!==null&&(w=dl(v,g),w!=null&&x.push(xl(v,w,b)))),m)break;v=v.return}0<x.length&&(h=new p(h,y,null,r,d),f.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==Vp&&(y=r.relatedTarget||r.fromElement)&&(Ua(y)||y[kn]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(y=r.relatedTarget||r.toElement,p=u,y=y?Ua(y):null,y!==null&&(m=_i(y),y!==m||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(x=Y0,w="onMouseLeave",g="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(x=J0,w="onPointerLeave",g="onPointerEnter",v="pointer"),m=p==null?h:zi(p),b=y==null?h:zi(y),h=new x(w,v+"leave",p,r,d),h.target=m,h.relatedTarget=b,w=null,Ua(d)===u&&(x=new x(g,v+"enter",y,r,d),x.target=b,x.relatedTarget=m,w=x),m=w,p&&y)t:{for(x=p,g=y,v=0,b=x;b;b=Ei(b))v++;for(b=0,w=g;w;w=Ei(w))b++;for(;0<v-b;)x=Ei(x),v--;for(;0<b-v;)g=Ei(g),b--;for(;v--;){if(x===g||g!==null&&x===g.alternate)break t;x=Ei(x),g=Ei(g)}x=null}else x=null;p!==null&&uv(f,h,p,x,!1),y!==null&&m!==null&&uv(f,m,y,x,!0)}}e:{if(h=u?zi(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var j=Bk;else if(rv(h))if(S2)j=Hk;else{j=Uk;var N=zk}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=Wk);if(j&&(j=j(e,u))){_2(f,j,r,d);break e}N&&N(e,h,u),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&Bp(h,"number",h.value)}switch(N=u?zi(u):window,e){case"focusin":(rv(N)||N.contentEditable==="true")&&(Fi=N,Zp=u,Jo=null);break;case"focusout":Jo=Zp=Fi=null;break;case"mousedown":Jp=!0;break;case"contextmenu":case"mouseup":case"dragend":Jp=!1,ov(f,r,d);break;case"selectionchange":if(qk)break;case"keydown":case"keyup":ov(f,r,d)}var _;if(My)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Li?w2(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(j2&&r.locale!=="ko"&&(Li||S!=="onCompositionStart"?S==="onCompositionEnd"&&Li&&(_=b2()):(oa=d,Ey="value"in oa?oa.value:oa.textContent,Li=!0)),N=Bu(u,S),0<N.length&&(S=new Z0(S,e,null,r,d),f.push({event:S,listeners:N}),_?S.data=_:(_=N2(r),_!==null&&(S.data=_)))),(_=Ik?Rk(e,r):Dk(e,r))&&(u=Bu(u,"onBeforeInput"),0<u.length&&(d=new Z0("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=_))}I2(f,t)})}function xl(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Bu(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=dl(e,r),s!=null&&n.unshift(xl(e,s,a)),s=dl(e,t),s!=null&&n.push(xl(e,s,a))),e=e.return}return n}function Ei(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function uv(e,t,r,n,a){for(var s=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=dl(r,s),c!=null&&o.unshift(xl(r,c,l))):a||(c=dl(r,s),c!=null&&o.push(xl(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Yk=/\r\n?/g,Zk=/\u0000|\uFFFD/g;function dv(e){return(typeof e=="string"?e:""+e).replace(Yk,`
`).replace(Zk,"")}function Gc(e,t,r){if(t=dv(t),dv(e)!==t&&r)throw Error(q(425))}function zu(){}var em=null,tm=null;function rm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var nm=typeof setTimeout=="function"?setTimeout:void 0,Jk=typeof clearTimeout=="function"?clearTimeout:void 0,fv=typeof Promise=="function"?Promise:void 0,eE=typeof queueMicrotask=="function"?queueMicrotask:typeof fv<"u"?function(e){return fv.resolve(null).then(e).catch(tE)}:nm;function tE(e){setTimeout(function(){throw e})}function Fh(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),pl(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);pl(t)}function pa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function hv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var eo=Math.random().toString(36).slice(2),Zr="__reactFiber$"+eo,vl="__reactProps$"+eo,kn="__reactContainer$"+eo,am="__reactEvents$"+eo,rE="__reactListeners$"+eo,nE="__reactHandles$"+eo;function Ua(e){var t=e[Zr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[kn]||r[Zr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=hv(e);e!==null;){if(r=e[Zr])return r;e=hv(e)}return t}e=r,r=e.parentNode}return null}function jc(e){return e=e[Zr]||e[kn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(q(33))}function mf(e){return e[vl]||null}var im=[],Ui=-1;function Ca(e){return{current:e}}function He(e){0>Ui||(e.current=im[Ui],im[Ui]=null,Ui--)}function Le(e,t){Ui++,im[Ui]=e.current,e.current=t}var _a={},$t=Ca(_a),qt=Ca(!1),ui=_a;function bs(e,t){var r=e.type.contextTypes;if(!r)return _a;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in r)a[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Gt(e){return e=e.childContextTypes,e!=null}function Uu(){He(qt),He($t)}function pv(e,t,r){if($t.current!==_a)throw Error(q(168));Le($t,t),Le(qt,r)}function D2(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(q(108,zA(e)||"Unknown",a));return Qe({},r,n)}function Wu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_a,ui=$t.current,Le($t,e),Le(qt,qt.current),!0}function mv(e,t,r){var n=e.stateNode;if(!n)throw Error(q(169));r?(e=D2(e,t,ui),n.__reactInternalMemoizedMergedChildContext=e,He(qt),He($t),Le($t,e)):He(qt),Le(qt,r)}var pn=null,gf=!1,Bh=!1;function L2(e){pn===null?pn=[e]:pn.push(e)}function aE(e){gf=!0,L2(e)}function Pa(){if(!Bh&&pn!==null){Bh=!0;var e=0,t=Ee;try{var r=pn;for(Ee=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}pn=null,gf=!1}catch(a){throw pn!==null&&(pn=pn.slice(e+1)),c2(Cy,Pa),a}finally{Ee=t,Bh=!1}}return null}var Wi=[],Hi=0,Hu=null,Vu=0,mr=[],gr=0,di=null,vn=1,bn="";function Da(e,t){Wi[Hi++]=Vu,Wi[Hi++]=Hu,Hu=e,Vu=t}function F2(e,t,r){mr[gr++]=vn,mr[gr++]=bn,mr[gr++]=di,di=e;var n=vn;e=bn;var a=32-Ur(n)-1;n&=~(1<<a),r+=1;var s=32-Ur(t)+a;if(30<s){var o=a-a%5;s=(n&(1<<o)-1).toString(32),n>>=o,a-=o,vn=1<<32-Ur(t)+a|r<<a|n,bn=s+e}else vn=1<<s|r<<a|n,bn=e}function Ry(e){e.return!==null&&(Da(e,1),F2(e,1,0))}function Dy(e){for(;e===Hu;)Hu=Wi[--Hi],Wi[Hi]=null,Vu=Wi[--Hi],Wi[Hi]=null;for(;e===di;)di=mr[--gr],mr[gr]=null,bn=mr[--gr],mr[gr]=null,vn=mr[--gr],mr[gr]=null}var ir=null,ar=null,Ve=!1,Lr=null;function B2(e,t){var r=yr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function gv(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ir=e,ar=pa(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ir=e,ar=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=di!==null?{id:vn,overflow:bn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=yr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ir=e,ar=null,!0):!1;default:return!1}}function sm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function om(e){if(Ve){var t=ar;if(t){var r=t;if(!gv(e,t)){if(sm(e))throw Error(q(418));t=pa(r.nextSibling);var n=ir;t&&gv(e,t)?B2(n,r):(e.flags=e.flags&-4097|2,Ve=!1,ir=e)}}else{if(sm(e))throw Error(q(418));e.flags=e.flags&-4097|2,Ve=!1,ir=e}}}function yv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ir=e}function Xc(e){if(e!==ir)return!1;if(!Ve)return yv(e),Ve=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!rm(e.type,e.memoizedProps)),t&&(t=ar)){if(sm(e))throw z2(),Error(q(418));for(;t;)B2(e,t),t=pa(t.nextSibling)}if(yv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ar=pa(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ar=null}}else ar=ir?pa(e.stateNode.nextSibling):null;return!0}function z2(){for(var e=ar;e;)e=pa(e.nextSibling)}function js(){ar=ir=null,Ve=!1}function Ly(e){Lr===null?Lr=[e]:Lr.push(e)}var iE=Dn.ReactCurrentBatchConfig;function So(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(q(309));var n=r.stateNode}if(!n)throw Error(q(147,e));var a=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=a.refs;o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(q(284));if(!r._owner)throw Error(q(290,e))}return e}function Qc(e,t){throw e=Object.prototype.toString.call(t),Error(q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xv(e){var t=e._init;return t(e._payload)}function U2(e){function t(g,v){if(e){var b=g.deletions;b===null?(g.deletions=[v],g.flags|=16):b.push(v)}}function r(g,v){if(!e)return null;for(;v!==null;)t(g,v),v=v.sibling;return null}function n(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function a(g,v){return g=xa(g,v),g.index=0,g.sibling=null,g}function s(g,v,b){return g.index=b,e?(b=g.alternate,b!==null?(b=b.index,b<v?(g.flags|=2,v):b):(g.flags|=2,v)):(g.flags|=1048576,v)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,v,b,w){return v===null||v.tag!==6?(v=qh(b,g.mode,w),v.return=g,v):(v=a(v,b),v.return=g,v)}function c(g,v,b,w){var j=b.type;return j===Di?d(g,v,b.props.children,w,b.key):v!==null&&(v.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Kn&&xv(j)===v.type)?(w=a(v,b.props),w.ref=So(g,v,b),w.return=g,w):(w=Eu(b.type,b.key,b.props,null,g.mode,w),w.ref=So(g,v,b),w.return=g,w)}function u(g,v,b,w){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=Gh(b,g.mode,w),v.return=g,v):(v=a(v,b.children||[]),v.return=g,v)}function d(g,v,b,w,j){return v===null||v.tag!==7?(v=si(b,g.mode,w,j),v.return=g,v):(v=a(v,b),v.return=g,v)}function f(g,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=qh(""+v,g.mode,b),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Fc:return b=Eu(v.type,v.key,v.props,null,g.mode,b),b.ref=So(g,null,v),b.return=g,b;case Ri:return v=Gh(v,g.mode,b),v.return=g,v;case Kn:var w=v._init;return f(g,w(v._payload),b)}if(Wo(v)||bo(v))return v=si(v,g.mode,b,null),v.return=g,v;Qc(g,v)}return null}function h(g,v,b,w){var j=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return j!==null?null:l(g,v,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Fc:return b.key===j?c(g,v,b,w):null;case Ri:return b.key===j?u(g,v,b,w):null;case Kn:return j=b._init,h(g,v,j(b._payload),w)}if(Wo(b)||bo(b))return j!==null?null:d(g,v,b,w,null);Qc(g,b)}return null}function p(g,v,b,w,j){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(b)||null,l(v,g,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Fc:return g=g.get(w.key===null?b:w.key)||null,c(v,g,w,j);case Ri:return g=g.get(w.key===null?b:w.key)||null,u(v,g,w,j);case Kn:var N=w._init;return p(g,v,b,N(w._payload),j)}if(Wo(w)||bo(w))return g=g.get(b)||null,d(v,g,w,j,null);Qc(v,w)}return null}function y(g,v,b,w){for(var j=null,N=null,_=v,S=v=0,C=null;_!==null&&S<b.length;S++){_.index>S?(C=_,_=null):C=_.sibling;var A=h(g,_,b[S],w);if(A===null){_===null&&(_=C);break}e&&_&&A.alternate===null&&t(g,_),v=s(A,v,S),N===null?j=A:N.sibling=A,N=A,_=C}if(S===b.length)return r(g,_),Ve&&Da(g,S),j;if(_===null){for(;S<b.length;S++)_=f(g,b[S],w),_!==null&&(v=s(_,v,S),N===null?j=_:N.sibling=_,N=_);return Ve&&Da(g,S),j}for(_=n(g,_);S<b.length;S++)C=p(_,g,S,b[S],w),C!==null&&(e&&C.alternate!==null&&_.delete(C.key===null?S:C.key),v=s(C,v,S),N===null?j=C:N.sibling=C,N=C);return e&&_.forEach(function(E){return t(g,E)}),Ve&&Da(g,S),j}function x(g,v,b,w){var j=bo(b);if(typeof j!="function")throw Error(q(150));if(b=j.call(b),b==null)throw Error(q(151));for(var N=j=null,_=v,S=v=0,C=null,A=b.next();_!==null&&!A.done;S++,A=b.next()){_.index>S?(C=_,_=null):C=_.sibling;var E=h(g,_,A.value,w);if(E===null){_===null&&(_=C);break}e&&_&&E.alternate===null&&t(g,_),v=s(E,v,S),N===null?j=E:N.sibling=E,N=E,_=C}if(A.done)return r(g,_),Ve&&Da(g,S),j;if(_===null){for(;!A.done;S++,A=b.next())A=f(g,A.value,w),A!==null&&(v=s(A,v,S),N===null?j=A:N.sibling=A,N=A);return Ve&&Da(g,S),j}for(_=n(g,_);!A.done;S++,A=b.next())A=p(_,g,S,A.value,w),A!==null&&(e&&A.alternate!==null&&_.delete(A.key===null?S:A.key),v=s(A,v,S),N===null?j=A:N.sibling=A,N=A);return e&&_.forEach(function(T){return t(g,T)}),Ve&&Da(g,S),j}function m(g,v,b,w){if(typeof b=="object"&&b!==null&&b.type===Di&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Fc:e:{for(var j=b.key,N=v;N!==null;){if(N.key===j){if(j=b.type,j===Di){if(N.tag===7){r(g,N.sibling),v=a(N,b.props.children),v.return=g,g=v;break e}}else if(N.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Kn&&xv(j)===N.type){r(g,N.sibling),v=a(N,b.props),v.ref=So(g,N,b),v.return=g,g=v;break e}r(g,N);break}else t(g,N);N=N.sibling}b.type===Di?(v=si(b.props.children,g.mode,w,b.key),v.return=g,g=v):(w=Eu(b.type,b.key,b.props,null,g.mode,w),w.ref=So(g,v,b),w.return=g,g=w)}return o(g);case Ri:e:{for(N=b.key;v!==null;){if(v.key===N)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){r(g,v.sibling),v=a(v,b.children||[]),v.return=g,g=v;break e}else{r(g,v);break}else t(g,v);v=v.sibling}v=Gh(b,g.mode,w),v.return=g,g=v}return o(g);case Kn:return N=b._init,m(g,v,N(b._payload),w)}if(Wo(b))return y(g,v,b,w);if(bo(b))return x(g,v,b,w);Qc(g,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(r(g,v.sibling),v=a(v,b),v.return=g,g=v):(r(g,v),v=qh(b,g.mode,w),v.return=g,g=v),o(g)):r(g,v)}return m}var ws=U2(!0),W2=U2(!1),Ku=Ca(null),qu=null,Vi=null,Fy=null;function By(){Fy=Vi=qu=null}function zy(e){var t=Ku.current;He(Ku),e._currentValue=t}function lm(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ts(e,t){qu=e,Fy=Vi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Vt=!0),e.firstContext=null)}function Nr(e){var t=e._currentValue;if(Fy!==e)if(e={context:e,memoizedValue:t,next:null},Vi===null){if(qu===null)throw Error(q(308));Vi=e,qu.dependencies={lanes:0,firstContext:e}}else Vi=Vi.next=e;return t}var Wa=null;function Uy(e){Wa===null?Wa=[e]:Wa.push(e)}function H2(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Uy(t)):(r.next=a.next,a.next=r),t.interleaved=r,En(e,n)}function En(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var qn=!1;function Wy(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function V2(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _n(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ma(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Oe&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,En(e,r)}return a=n.interleaved,a===null?(t.next=t,Uy(n)):(t.next=a.next,a.next=t),n.interleaved=t,En(e,r)}function Su(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Py(e,r)}}function vv(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?a=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?a=s=t:s=s.next=t}else a=s=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Gu(e,t,r,n){var a=e.updateQueue;qn=!1;var s=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=a.baseState;o=0,d=u=c=null,l=s;do{var h=l.lane,p=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,x=l;switch(h=t,p=r,x.tag){case 1:if(y=x.payload,typeof y=="function"){f=y.call(p,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,h=typeof y=="function"?y.call(p,f,h):y,h==null)break e;f=Qe({},f,h);break e;case 2:qn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else s===null&&(a.shared.lanes=0);hi|=o,e.lanes=o,e.memoizedState=f}}function bv(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(q(191,a));a.call(n)}}}var wc={},tn=Ca(wc),bl=Ca(wc),jl=Ca(wc);function Ha(e){if(e===wc)throw Error(q(174));return e}function Hy(e,t){switch(Le(jl,t),Le(bl,e),Le(tn,wc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Up(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Up(t,e)}He(tn),Le(tn,t)}function Ns(){He(tn),He(bl),He(jl)}function K2(e){Ha(jl.current);var t=Ha(tn.current),r=Up(t,e.type);t!==r&&(Le(bl,e),Le(tn,r))}function Vy(e){bl.current===e&&(He(tn),He(bl))}var qe=Ca(0);function Xu(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zh=[];function Ky(){for(var e=0;e<zh.length;e++)zh[e]._workInProgressVersionPrimary=null;zh.length=0}var Ou=Dn.ReactCurrentDispatcher,Uh=Dn.ReactCurrentBatchConfig,fi=0,Ge=null,ut=null,xt=null,Qu=!1,el=!1,wl=0,sE=0;function Ot(){throw Error(q(321))}function qy(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Hr(e[r],t[r]))return!1;return!0}function Gy(e,t,r,n,a,s){if(fi=s,Ge=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ou.current=e===null||e.memoizedState===null?uE:dE,e=r(n,a),el){s=0;do{if(el=!1,wl=0,25<=s)throw Error(q(301));s+=1,xt=ut=null,t.updateQueue=null,Ou.current=fE,e=r(n,a)}while(el)}if(Ou.current=Yu,t=ut!==null&&ut.next!==null,fi=0,xt=ut=Ge=null,Qu=!1,t)throw Error(q(300));return e}function Xy(){var e=wl!==0;return wl=0,e}function qr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?Ge.memoizedState=xt=e:xt=xt.next=e,xt}function _r(){if(ut===null){var e=Ge.alternate;e=e!==null?e.memoizedState:null}else e=ut.next;var t=xt===null?Ge.memoizedState:xt.next;if(t!==null)xt=t,ut=e;else{if(e===null)throw Error(q(310));ut=e,e={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},xt===null?Ge.memoizedState=xt=e:xt=xt.next=e}return xt}function Nl(e,t){return typeof t=="function"?t(e):t}function Wh(e){var t=_r(),r=t.queue;if(r===null)throw Error(q(311));r.lastRenderedReducer=e;var n=ut,a=n.baseQueue,s=r.pending;if(s!==null){if(a!==null){var o=a.next;a.next=s.next,s.next=o}n.baseQueue=a=s,r.pending=null}if(a!==null){s=a.next,n=n.baseState;var l=o=null,c=null,u=s;do{var d=u.lane;if((fi&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,Ge.lanes|=d,hi|=d}u=u.next}while(u!==null&&u!==s);c===null?o=n:c.next=l,Hr(n,t.memoizedState)||(Vt=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do s=a.lane,Ge.lanes|=s,hi|=s,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Hh(e){var t=_r(),r=t.queue;if(r===null)throw Error(q(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,s=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do s=e(s,o.action),o=o.next;while(o!==a);Hr(s,t.memoizedState)||(Vt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function q2(){}function G2(e,t){var r=Ge,n=_r(),a=t(),s=!Hr(n.memoizedState,a);if(s&&(n.memoizedState=a,Vt=!0),n=n.queue,Qy(Y2.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||xt!==null&&xt.memoizedState.tag&1){if(r.flags|=2048,_l(9,Q2.bind(null,r,n,a,t),void 0,null),vt===null)throw Error(q(349));fi&30||X2(r,t,a)}return a}function X2(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ge.updateQueue,t===null?(t={lastEffect:null,stores:null},Ge.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Q2(e,t,r,n){t.value=r,t.getSnapshot=n,Z2(t)&&J2(e)}function Y2(e,t,r){return r(function(){Z2(t)&&J2(e)})}function Z2(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Hr(e,r)}catch{return!0}}function J2(e){var t=En(e,1);t!==null&&Wr(t,e,1,-1)}function jv(e){var t=qr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nl,lastRenderedState:e},t.queue=e,e=e.dispatch=cE.bind(null,Ge,e),[t.memoizedState,e]}function _l(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ge.updateQueue,t===null?(t={lastEffect:null,stores:null},Ge.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function e_(){return _r().memoizedState}function Cu(e,t,r,n){var a=qr();Ge.flags|=e,a.memoizedState=_l(1|t,r,void 0,n===void 0?null:n)}function yf(e,t,r,n){var a=_r();n=n===void 0?null:n;var s=void 0;if(ut!==null){var o=ut.memoizedState;if(s=o.destroy,n!==null&&qy(n,o.deps)){a.memoizedState=_l(t,r,s,n);return}}Ge.flags|=e,a.memoizedState=_l(1|t,r,s,n)}function wv(e,t){return Cu(8390656,8,e,t)}function Qy(e,t){return yf(2048,8,e,t)}function t_(e,t){return yf(4,2,e,t)}function r_(e,t){return yf(4,4,e,t)}function n_(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function a_(e,t,r){return r=r!=null?r.concat([e]):null,yf(4,4,n_.bind(null,t,e),r)}function Yy(){}function i_(e,t){var r=_r();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&qy(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function s_(e,t){var r=_r();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&qy(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function o_(e,t,r){return fi&21?(Hr(r,t)||(r=f2(),Ge.lanes|=r,hi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Vt=!0),e.memoizedState=r)}function oE(e,t){var r=Ee;Ee=r!==0&&4>r?r:4,e(!0);var n=Uh.transition;Uh.transition={};try{e(!1),t()}finally{Ee=r,Uh.transition=n}}function l_(){return _r().memoizedState}function lE(e,t,r){var n=ya(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},c_(e))u_(t,r);else if(r=H2(e,t,r,n),r!==null){var a=Ft();Wr(r,e,n,a),d_(r,t,n)}}function cE(e,t,r){var n=ya(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(c_(e))u_(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,r);if(a.hasEagerState=!0,a.eagerState=l,Hr(l,o)){var c=t.interleaved;c===null?(a.next=a,Uy(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=H2(e,t,a,n),r!==null&&(a=Ft(),Wr(r,e,n,a),d_(r,t,n))}}function c_(e){var t=e.alternate;return e===Ge||t!==null&&t===Ge}function u_(e,t){el=Qu=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function d_(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Py(e,r)}}var Yu={readContext:Nr,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useInsertionEffect:Ot,useLayoutEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useMutableSource:Ot,useSyncExternalStore:Ot,useId:Ot,unstable_isNewReconciler:!1},uE={readContext:Nr,useCallback:function(e,t){return qr().memoizedState=[e,t===void 0?null:t],e},useContext:Nr,useEffect:wv,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Cu(4194308,4,n_.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Cu(4194308,4,e,t)},useInsertionEffect:function(e,t){return Cu(4,2,e,t)},useMemo:function(e,t){var r=qr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=qr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=lE.bind(null,Ge,e),[n.memoizedState,e]},useRef:function(e){var t=qr();return e={current:e},t.memoizedState=e},useState:jv,useDebugValue:Yy,useDeferredValue:function(e){return qr().memoizedState=e},useTransition:function(){var e=jv(!1),t=e[0];return e=oE.bind(null,e[1]),qr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ge,a=qr();if(Ve){if(r===void 0)throw Error(q(407));r=r()}else{if(r=t(),vt===null)throw Error(q(349));fi&30||X2(n,t,r)}a.memoizedState=r;var s={value:r,getSnapshot:t};return a.queue=s,wv(Y2.bind(null,n,s,e),[e]),n.flags|=2048,_l(9,Q2.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=qr(),t=vt.identifierPrefix;if(Ve){var r=bn,n=vn;r=(n&~(1<<32-Ur(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=wl++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=sE++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},dE={readContext:Nr,useCallback:i_,useContext:Nr,useEffect:Qy,useImperativeHandle:a_,useInsertionEffect:t_,useLayoutEffect:r_,useMemo:s_,useReducer:Wh,useRef:e_,useState:function(){return Wh(Nl)},useDebugValue:Yy,useDeferredValue:function(e){var t=_r();return o_(t,ut.memoizedState,e)},useTransition:function(){var e=Wh(Nl)[0],t=_r().memoizedState;return[e,t]},useMutableSource:q2,useSyncExternalStore:G2,useId:l_,unstable_isNewReconciler:!1},fE={readContext:Nr,useCallback:i_,useContext:Nr,useEffect:Qy,useImperativeHandle:a_,useInsertionEffect:t_,useLayoutEffect:r_,useMemo:s_,useReducer:Hh,useRef:e_,useState:function(){return Hh(Nl)},useDebugValue:Yy,useDeferredValue:function(e){var t=_r();return ut===null?t.memoizedState=e:o_(t,ut.memoizedState,e)},useTransition:function(){var e=Hh(Nl)[0],t=_r().memoizedState;return[e,t]},useMutableSource:q2,useSyncExternalStore:G2,useId:l_,unstable_isNewReconciler:!1};function $r(e,t){if(e&&e.defaultProps){t=Qe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function cm(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Qe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var xf={isMounted:function(e){return(e=e._reactInternals)?_i(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ft(),a=ya(e),s=_n(n,a);s.payload=t,r!=null&&(s.callback=r),t=ma(e,s,a),t!==null&&(Wr(t,e,a,n),Su(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ft(),a=ya(e),s=_n(n,a);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=ma(e,s,a),t!==null&&(Wr(t,e,a,n),Su(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ft(),n=ya(e),a=_n(r,n);a.tag=2,t!=null&&(a.callback=t),t=ma(e,a,n),t!==null&&(Wr(t,e,n,r),Su(t,e,n))}};function Nv(e,t,r,n,a,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!gl(r,n)||!gl(a,s):!0}function f_(e,t,r){var n=!1,a=_a,s=t.contextType;return typeof s=="object"&&s!==null?s=Nr(s):(a=Gt(t)?ui:$t.current,n=t.contextTypes,s=(n=n!=null)?bs(e,a):_a),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=xf,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function _v(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&xf.enqueueReplaceState(t,t.state,null)}function um(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Wy(e);var s=t.contextType;typeof s=="object"&&s!==null?a.context=Nr(s):(s=Gt(t)?ui:$t.current,a.context=bs(e,s)),a.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(cm(e,t,s,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&xf.enqueueReplaceState(a,a.state,null),Gu(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function _s(e,t){try{var r="",n=t;do r+=BA(n),n=n.return;while(n);var a=r}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:a,digest:null}}function Vh(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function dm(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var hE=typeof WeakMap=="function"?WeakMap:Map;function h_(e,t,r){r=_n(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ju||(Ju=!0,jm=n),dm(e,t)},r}function p_(e,t,r){r=_n(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){dm(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){dm(e,t),typeof n!="function"&&(ga===null?ga=new Set([this]):ga.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Sv(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new hE;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=CE.bind(null,e,t,r),t.then(e,e))}function Ov(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Cv(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=_n(-1,1),t.tag=2,ma(r,t,1))),r.lanes|=1),e)}var pE=Dn.ReactCurrentOwner,Vt=!1;function Rt(e,t,r,n){t.child=e===null?W2(t,null,r,n):ws(t,e.child,r,n)}function Pv(e,t,r,n,a){r=r.render;var s=t.ref;return ts(t,a),n=Gy(e,t,r,n,s,a),r=Xy(),e!==null&&!Vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,$n(e,t,a)):(Ve&&r&&Ry(t),t.flags|=1,Rt(e,t,n,a),t.child)}function Av(e,t,r,n,a){if(e===null){var s=r.type;return typeof s=="function"&&!ix(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,m_(e,t,s,n,a)):(e=Eu(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&a)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:gl,r(o,n)&&e.ref===t.ref)return $n(e,t,a)}return t.flags|=1,e=xa(s,n),e.ref=t.ref,e.return=t,t.child=e}function m_(e,t,r,n,a){if(e!==null){var s=e.memoizedProps;if(gl(s,n)&&e.ref===t.ref)if(Vt=!1,t.pendingProps=n=s,(e.lanes&a)!==0)e.flags&131072&&(Vt=!0);else return t.lanes=e.lanes,$n(e,t,a)}return fm(e,t,r,n,a)}function g_(e,t,r){var n=t.pendingProps,a=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(qi,tr),tr|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Le(qi,tr),tr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Le(qi,tr),tr|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,Le(qi,tr),tr|=n;return Rt(e,t,a,r),t.child}function y_(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function fm(e,t,r,n,a){var s=Gt(r)?ui:$t.current;return s=bs(t,s),ts(t,a),r=Gy(e,t,r,n,s,a),n=Xy(),e!==null&&!Vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,$n(e,t,a)):(Ve&&n&&Ry(t),t.flags|=1,Rt(e,t,r,a),t.child)}function kv(e,t,r,n,a){if(Gt(r)){var s=!0;Wu(t)}else s=!1;if(ts(t,a),t.stateNode===null)Pu(e,t),f_(t,r,n),um(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Nr(u):(u=Gt(r)?ui:$t.current,u=bs(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&_v(t,o,n,u),qn=!1;var h=t.memoizedState;o.state=h,Gu(t,n,o,a),c=t.memoizedState,l!==n||h!==c||qt.current||qn?(typeof d=="function"&&(cm(t,r,d,n),c=t.memoizedState),(l=qn||Nv(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,V2(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:$r(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Nr(c):(c=Gt(r)?ui:$t.current,c=bs(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&_v(t,o,n,c),qn=!1,h=t.memoizedState,o.state=h,Gu(t,n,o,a);var y=t.memoizedState;l!==f||h!==y||qt.current||qn?(typeof p=="function"&&(cm(t,r,p,n),y=t.memoizedState),(u=qn||Nv(t,r,u,n,h,y,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),o.props=n,o.state=y,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return hm(e,t,r,n,s,a)}function hm(e,t,r,n,a,s){y_(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&mv(t,r,!1),$n(e,t,s);n=t.stateNode,pE.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=ws(t,e.child,null,s),t.child=ws(t,null,l,s)):Rt(e,t,l,s),t.memoizedState=n.state,a&&mv(t,r,!0),t.child}function x_(e){var t=e.stateNode;t.pendingContext?pv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&pv(e,t.context,!1),Hy(e,t.containerInfo)}function Ev(e,t,r,n,a){return js(),Ly(a),t.flags|=256,Rt(e,t,r,n),t.child}var pm={dehydrated:null,treeContext:null,retryLane:0};function mm(e){return{baseLanes:e,cachePool:null,transitions:null}}function v_(e,t,r){var n=t.pendingProps,a=qe.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Le(qe,a&1),e===null)return om(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=jf(o,n,0,null),e=si(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=mm(r),t.memoizedState=pm,e):Zy(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return mE(e,t,o,n,l,a,r);if(s){s=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=xa(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?s=xa(l,s):(s=si(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?mm(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=pm,n}return s=e.child,e=s.sibling,n=xa(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Zy(e,t){return t=jf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Yc(e,t,r,n){return n!==null&&Ly(n),ws(t,e.child,null,r),e=Zy(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function mE(e,t,r,n,a,s,o){if(r)return t.flags&256?(t.flags&=-257,n=Vh(Error(q(422))),Yc(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,a=t.mode,n=jf({mode:"visible",children:n.children},a,0,null),s=si(s,a,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&ws(t,e.child,null,o),t.child.memoizedState=mm(o),t.memoizedState=pm,s);if(!(t.mode&1))return Yc(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(q(419)),n=Vh(s,n,void 0),Yc(e,t,o,n)}if(l=(o&e.childLanes)!==0,Vt||l){if(n=vt,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,En(e,a),Wr(n,e,a,-1))}return ax(),n=Vh(Error(q(421))),Yc(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=PE.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,ar=pa(a.nextSibling),ir=t,Ve=!0,Lr=null,e!==null&&(mr[gr++]=vn,mr[gr++]=bn,mr[gr++]=di,vn=e.id,bn=e.overflow,di=t),t=Zy(t,n.children),t.flags|=4096,t)}function $v(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),lm(e.return,t,r)}function Kh(e,t,r,n,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function b_(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(Rt(e,t,n.children,r),n=qe.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$v(e,r,t);else if(e.tag===19)$v(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Le(qe,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Xu(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Kh(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Xu(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Kh(t,!0,r,null,s);break;case"together":Kh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Pu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function $n(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),hi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(q(153));if(t.child!==null){for(e=t.child,r=xa(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=xa(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function gE(e,t,r){switch(t.tag){case 3:x_(t),js();break;case 5:K2(t);break;case 1:Gt(t.type)&&Wu(t);break;case 4:Hy(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Le(Ku,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Le(qe,qe.current&1),t.flags|=128,null):r&t.child.childLanes?v_(e,t,r):(Le(qe,qe.current&1),e=$n(e,t,r),e!==null?e.sibling:null);Le(qe,qe.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return b_(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Le(qe,qe.current),n)break;return null;case 22:case 23:return t.lanes=0,g_(e,t,r)}return $n(e,t,r)}var j_,gm,w_,N_;j_=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};gm=function(){};w_=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Ha(tn.current);var s=null;switch(r){case"input":a=Lp(e,a),n=Lp(e,n),s=[];break;case"select":a=Qe({},a,{value:void 0}),n=Qe({},n,{value:void 0}),s=[];break;case"textarea":a=zp(e,a),n=zp(e,n),s=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=zu)}Wp(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(cl.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(cl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ze("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};N_=function(e,t,r,n){r!==n&&(t.flags|=4)};function Oo(e,t){if(!Ve)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ct(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function yE(e,t,r){var n=t.pendingProps;switch(Dy(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(t),null;case 1:return Gt(t.type)&&Uu(),Ct(t),null;case 3:return n=t.stateNode,Ns(),He(qt),He($t),Ky(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Xc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Lr!==null&&(_m(Lr),Lr=null))),gm(e,t),Ct(t),null;case 5:Vy(t);var a=Ha(jl.current);if(r=t.type,e!==null&&t.stateNode!=null)w_(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(q(166));return Ct(t),null}if(e=Ha(tn.current),Xc(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[Zr]=t,n[vl]=s,e=(t.mode&1)!==0,r){case"dialog":ze("cancel",n),ze("close",n);break;case"iframe":case"object":case"embed":ze("load",n);break;case"video":case"audio":for(a=0;a<Vo.length;a++)ze(Vo[a],n);break;case"source":ze("error",n);break;case"img":case"image":case"link":ze("error",n),ze("load",n);break;case"details":ze("toggle",n);break;case"input":z0(n,s),ze("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},ze("invalid",n);break;case"textarea":W0(n,s),ze("invalid",n)}Wp(r,s),a=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&Gc(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Gc(n.textContent,l,e),a=["children",""+l]):cl.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ze("scroll",n)}switch(r){case"input":Bc(n),U0(n,s,!0);break;case"textarea":Bc(n),H0(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=zu)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=YN(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Zr]=t,e[vl]=n,j_(e,t,!1,!1),t.stateNode=e;e:{switch(o=Hp(r,n),r){case"dialog":ze("cancel",e),ze("close",e),a=n;break;case"iframe":case"object":case"embed":ze("load",e),a=n;break;case"video":case"audio":for(a=0;a<Vo.length;a++)ze(Vo[a],e);a=n;break;case"source":ze("error",e),a=n;break;case"img":case"image":case"link":ze("error",e),ze("load",e),a=n;break;case"details":ze("toggle",e),a=n;break;case"input":z0(e,n),a=Lp(e,n),ze("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Qe({},n,{value:void 0}),ze("invalid",e);break;case"textarea":W0(e,n),a=zp(e,n),ze("invalid",e);break;default:a=n}Wp(r,a),l=a;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?e2(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&ZN(e,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&ul(e,c):typeof c=="number"&&ul(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(cl.hasOwnProperty(s)?c!=null&&s==="onScroll"&&ze("scroll",e):c!=null&&wy(e,s,c,o))}switch(r){case"input":Bc(e),U0(e,n,!1);break;case"textarea":Bc(e),H0(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Na(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?Yi(e,!!n.multiple,s,!1):n.defaultValue!=null&&Yi(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=zu)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ct(t),null;case 6:if(e&&t.stateNode!=null)N_(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(q(166));if(r=Ha(jl.current),Ha(tn.current),Xc(t)){if(n=t.stateNode,r=t.memoizedProps,n[Zr]=t,(s=n.nodeValue!==r)&&(e=ir,e!==null))switch(e.tag){case 3:Gc(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Gc(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Zr]=t,t.stateNode=n}return Ct(t),null;case 13:if(He(qe),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ve&&ar!==null&&t.mode&1&&!(t.flags&128))z2(),js(),t.flags|=98560,s=!1;else if(s=Xc(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(q(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(q(317));s[Zr]=t}else js(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ct(t),s=!1}else Lr!==null&&(_m(Lr),Lr=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||qe.current&1?ht===0&&(ht=3):ax())),t.updateQueue!==null&&(t.flags|=4),Ct(t),null);case 4:return Ns(),gm(e,t),e===null&&yl(t.stateNode.containerInfo),Ct(t),null;case 10:return zy(t.type._context),Ct(t),null;case 17:return Gt(t.type)&&Uu(),Ct(t),null;case 19:if(He(qe),s=t.memoizedState,s===null)return Ct(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)Oo(s,!1);else{if(ht!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Xu(e),o!==null){for(t.flags|=128,Oo(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Le(qe,qe.current&1|2),t.child}e=e.sibling}s.tail!==null&&et()>Ss&&(t.flags|=128,n=!0,Oo(s,!1),t.lanes=4194304)}else{if(!n)if(e=Xu(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Oo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ve)return Ct(t),null}else 2*et()-s.renderingStartTime>Ss&&r!==1073741824&&(t.flags|=128,n=!0,Oo(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=et(),t.sibling=null,r=qe.current,Le(qe,n?r&1|2:r&1),t):(Ct(t),null);case 22:case 23:return nx(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?tr&1073741824&&(Ct(t),t.subtreeFlags&6&&(t.flags|=8192)):Ct(t),null;case 24:return null;case 25:return null}throw Error(q(156,t.tag))}function xE(e,t){switch(Dy(t),t.tag){case 1:return Gt(t.type)&&Uu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ns(),He(qt),He($t),Ky(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Vy(t),null;case 13:if(He(qe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(q(340));js()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return He(qe),null;case 4:return Ns(),null;case 10:return zy(t.type._context),null;case 22:case 23:return nx(),null;case 24:return null;default:return null}}var Zc=!1,At=!1,vE=typeof WeakSet=="function"?WeakSet:Set,te=null;function Ki(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ze(e,t,n)}else r.current=null}function ym(e,t,r){try{r()}catch(n){Ze(e,t,n)}}var Tv=!1;function bE(e,t){if(em=Lu,e=P2(),Iy(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==s||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=o),h===s&&++d===n&&(c=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(tm={focusedElem:e,selectionRange:r},Lu=!1,te=t;te!==null;)if(t=te,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,te=e;else for(;te!==null;){t=te;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,m=y.memoizedState,g=t.stateNode,v=g.getSnapshotBeforeUpdate(t.elementType===t.type?x:$r(t.type,x),m);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(w){Ze(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,te=e;break}te=t.return}return y=Tv,Tv=!1,y}function tl(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,s!==void 0&&ym(t,r,s)}a=a.next}while(a!==n)}}function vf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function xm(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function __(e){var t=e.alternate;t!==null&&(e.alternate=null,__(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Zr],delete t[vl],delete t[am],delete t[rE],delete t[nE])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function S_(e){return e.tag===5||e.tag===3||e.tag===4}function Mv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||S_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vm(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=zu));else if(n!==4&&(e=e.child,e!==null))for(vm(e,t,r),e=e.sibling;e!==null;)vm(e,t,r),e=e.sibling}function bm(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(bm(e,t,r),e=e.sibling;e!==null;)bm(e,t,r),e=e.sibling}var wt=null,Ir=!1;function Un(e,t,r){for(r=r.child;r!==null;)O_(e,t,r),r=r.sibling}function O_(e,t,r){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(df,r)}catch{}switch(r.tag){case 5:At||Ki(r,t);case 6:var n=wt,a=Ir;wt=null,Un(e,t,r),wt=n,Ir=a,wt!==null&&(Ir?(e=wt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):wt.removeChild(r.stateNode));break;case 18:wt!==null&&(Ir?(e=wt,r=r.stateNode,e.nodeType===8?Fh(e.parentNode,r):e.nodeType===1&&Fh(e,r),pl(e)):Fh(wt,r.stateNode));break;case 4:n=wt,a=Ir,wt=r.stateNode.containerInfo,Ir=!0,Un(e,t,r),wt=n,Ir=a;break;case 0:case 11:case 14:case 15:if(!At&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var s=a,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&ym(r,t,o),a=a.next}while(a!==n)}Un(e,t,r);break;case 1:if(!At&&(Ki(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Ze(r,t,l)}Un(e,t,r);break;case 21:Un(e,t,r);break;case 22:r.mode&1?(At=(n=At)||r.memoizedState!==null,Un(e,t,r),At=n):Un(e,t,r);break;default:Un(e,t,r)}}function Iv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new vE),t.forEach(function(n){var a=AE.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function kr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:wt=l.stateNode,Ir=!1;break e;case 3:wt=l.stateNode.containerInfo,Ir=!0;break e;case 4:wt=l.stateNode.containerInfo,Ir=!0;break e}l=l.return}if(wt===null)throw Error(q(160));O_(s,o,a),wt=null,Ir=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){Ze(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)C_(t,e),t=t.sibling}function C_(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(kr(t,e),Kr(e),n&4){try{tl(3,e,e.return),vf(3,e)}catch(x){Ze(e,e.return,x)}try{tl(5,e,e.return)}catch(x){Ze(e,e.return,x)}}break;case 1:kr(t,e),Kr(e),n&512&&r!==null&&Ki(r,r.return);break;case 5:if(kr(t,e),Kr(e),n&512&&r!==null&&Ki(r,r.return),e.flags&32){var a=e.stateNode;try{ul(a,"")}catch(x){Ze(e,e.return,x)}}if(n&4&&(a=e.stateNode,a!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&XN(a,s),Hp(l,o);var u=Hp(l,s);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?e2(a,f):d==="dangerouslySetInnerHTML"?ZN(a,f):d==="children"?ul(a,f):wy(a,d,f,u)}switch(l){case"input":Fp(a,s);break;case"textarea":QN(a,s);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Yi(a,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?Yi(a,!!s.multiple,s.defaultValue,!0):Yi(a,!!s.multiple,s.multiple?[]:"",!1))}a[vl]=s}catch(x){Ze(e,e.return,x)}}break;case 6:if(kr(t,e),Kr(e),n&4){if(e.stateNode===null)throw Error(q(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(x){Ze(e,e.return,x)}}break;case 3:if(kr(t,e),Kr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{pl(t.containerInfo)}catch(x){Ze(e,e.return,x)}break;case 4:kr(t,e),Kr(e);break;case 13:kr(t,e),Kr(e),a=e.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(tx=et())),n&4&&Iv(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(At=(u=At)||d,kr(t,e),At=u):kr(t,e),Kr(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(te=e,d=e.child;d!==null;){for(f=te=d;te!==null;){switch(h=te,p=h.child,h.tag){case 0:case 11:case 14:case 15:tl(4,h,h.return);break;case 1:Ki(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(x){Ze(n,r,x)}}break;case 5:Ki(h,h.return);break;case 22:if(h.memoizedState!==null){Dv(f);continue}}p!==null?(p.return=h,te=p):Dv(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=JN("display",o))}catch(x){Ze(e,e.return,x)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){Ze(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:kr(t,e),Kr(e),n&4&&Iv(e);break;case 21:break;default:kr(t,e),Kr(e)}}function Kr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(S_(r)){var n=r;break e}r=r.return}throw Error(q(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(ul(a,""),n.flags&=-33);var s=Mv(e);bm(e,s,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Mv(e);vm(e,l,o);break;default:throw Error(q(161))}}catch(c){Ze(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function jE(e,t,r){te=e,P_(e)}function P_(e,t,r){for(var n=(e.mode&1)!==0;te!==null;){var a=te,s=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||Zc;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||At;l=Zc;var u=At;if(Zc=o,(At=c)&&!u)for(te=a;te!==null;)o=te,c=o.child,o.tag===22&&o.memoizedState!==null?Lv(a):c!==null?(c.return=o,te=c):Lv(a);for(;s!==null;)te=s,P_(s),s=s.sibling;te=a,Zc=l,At=u}Rv(e)}else a.subtreeFlags&8772&&s!==null?(s.return=a,te=s):Rv(e)}}function Rv(e){for(;te!==null;){var t=te;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:At||vf(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!At)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:$r(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&bv(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}bv(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&pl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}At||t.flags&512&&xm(t)}catch(h){Ze(t,t.return,h)}}if(t===e){te=null;break}if(r=t.sibling,r!==null){r.return=t.return,te=r;break}te=t.return}}function Dv(e){for(;te!==null;){var t=te;if(t===e){te=null;break}var r=t.sibling;if(r!==null){r.return=t.return,te=r;break}te=t.return}}function Lv(e){for(;te!==null;){var t=te;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{vf(4,t)}catch(c){Ze(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){Ze(t,a,c)}}var s=t.return;try{xm(t)}catch(c){Ze(t,s,c)}break;case 5:var o=t.return;try{xm(t)}catch(c){Ze(t,o,c)}}}catch(c){Ze(t,t.return,c)}if(t===e){te=null;break}var l=t.sibling;if(l!==null){l.return=t.return,te=l;break}te=t.return}}var wE=Math.ceil,Zu=Dn.ReactCurrentDispatcher,Jy=Dn.ReactCurrentOwner,vr=Dn.ReactCurrentBatchConfig,Oe=0,vt=null,at=null,_t=0,tr=0,qi=Ca(0),ht=0,Sl=null,hi=0,bf=0,ex=0,rl=null,Ht=null,tx=0,Ss=1/0,fn=null,Ju=!1,jm=null,ga=null,Jc=!1,la=null,ed=0,nl=0,wm=null,Au=-1,ku=0;function Ft(){return Oe&6?et():Au!==-1?Au:Au=et()}function ya(e){return e.mode&1?Oe&2&&_t!==0?_t&-_t:iE.transition!==null?(ku===0&&(ku=f2()),ku):(e=Ee,e!==0||(e=window.event,e=e===void 0?16:v2(e.type)),e):1}function Wr(e,t,r,n){if(50<nl)throw nl=0,wm=null,Error(q(185));vc(e,r,n),(!(Oe&2)||e!==vt)&&(e===vt&&(!(Oe&2)&&(bf|=r),ht===4&&Qn(e,_t)),Xt(e,n),r===1&&Oe===0&&!(t.mode&1)&&(Ss=et()+500,gf&&Pa()))}function Xt(e,t){var r=e.callbackNode;ik(e,t);var n=Du(e,e===vt?_t:0);if(n===0)r!==null&&q0(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&q0(r),t===1)e.tag===0?aE(Fv.bind(null,e)):L2(Fv.bind(null,e)),eE(function(){!(Oe&6)&&Pa()}),r=null;else{switch(h2(n)){case 1:r=Cy;break;case 4:r=u2;break;case 16:r=Ru;break;case 536870912:r=d2;break;default:r=Ru}r=R_(r,A_.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function A_(e,t){if(Au=-1,ku=0,Oe&6)throw Error(q(327));var r=e.callbackNode;if(rs()&&e.callbackNode!==r)return null;var n=Du(e,e===vt?_t:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=td(e,n);else{t=n;var a=Oe;Oe|=2;var s=E_();(vt!==e||_t!==t)&&(fn=null,Ss=et()+500,ii(e,t));do try{SE();break}catch(l){k_(e,l)}while(!0);By(),Zu.current=s,Oe=a,at!==null?t=0:(vt=null,_t=0,t=ht)}if(t!==0){if(t===2&&(a=Xp(e),a!==0&&(n=a,t=Nm(e,a))),t===1)throw r=Sl,ii(e,0),Qn(e,n),Xt(e,et()),r;if(t===6)Qn(e,n);else{if(a=e.current.alternate,!(n&30)&&!NE(a)&&(t=td(e,n),t===2&&(s=Xp(e),s!==0&&(n=s,t=Nm(e,s))),t===1))throw r=Sl,ii(e,0),Qn(e,n),Xt(e,et()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(q(345));case 2:La(e,Ht,fn);break;case 3:if(Qn(e,n),(n&130023424)===n&&(t=tx+500-et(),10<t)){if(Du(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Ft(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=nm(La.bind(null,e,Ht,fn),t);break}La(e,Ht,fn);break;case 4:if(Qn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-Ur(n);s=1<<o,o=t[o],o>a&&(a=o),n&=~s}if(n=a,n=et()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*wE(n/1960))-n,10<n){e.timeoutHandle=nm(La.bind(null,e,Ht,fn),n);break}La(e,Ht,fn);break;case 5:La(e,Ht,fn);break;default:throw Error(q(329))}}}return Xt(e,et()),e.callbackNode===r?A_.bind(null,e):null}function Nm(e,t){var r=rl;return e.current.memoizedState.isDehydrated&&(ii(e,t).flags|=256),e=td(e,t),e!==2&&(t=Ht,Ht=r,t!==null&&_m(t)),e}function _m(e){Ht===null?Ht=e:Ht.push.apply(Ht,e)}function NE(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!Hr(s(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Qn(e,t){for(t&=~ex,t&=~bf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ur(t),n=1<<r;e[r]=-1,t&=~n}}function Fv(e){if(Oe&6)throw Error(q(327));rs();var t=Du(e,0);if(!(t&1))return Xt(e,et()),null;var r=td(e,t);if(e.tag!==0&&r===2){var n=Xp(e);n!==0&&(t=n,r=Nm(e,n))}if(r===1)throw r=Sl,ii(e,0),Qn(e,t),Xt(e,et()),r;if(r===6)throw Error(q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,La(e,Ht,fn),Xt(e,et()),null}function rx(e,t){var r=Oe;Oe|=1;try{return e(t)}finally{Oe=r,Oe===0&&(Ss=et()+500,gf&&Pa())}}function pi(e){la!==null&&la.tag===0&&!(Oe&6)&&rs();var t=Oe;Oe|=1;var r=vr.transition,n=Ee;try{if(vr.transition=null,Ee=1,e)return e()}finally{Ee=n,vr.transition=r,Oe=t,!(Oe&6)&&Pa()}}function nx(){tr=qi.current,He(qi)}function ii(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Jk(r)),at!==null)for(r=at.return;r!==null;){var n=r;switch(Dy(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Uu();break;case 3:Ns(),He(qt),He($t),Ky();break;case 5:Vy(n);break;case 4:Ns();break;case 13:He(qe);break;case 19:He(qe);break;case 10:zy(n.type._context);break;case 22:case 23:nx()}r=r.return}if(vt=e,at=e=xa(e.current,null),_t=tr=t,ht=0,Sl=null,ex=bf=hi=0,Ht=rl=null,Wa!==null){for(t=0;t<Wa.length;t++)if(r=Wa[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=a,n.next=o}r.pending=n}Wa=null}return e}function k_(e,t){do{var r=at;try{if(By(),Ou.current=Yu,Qu){for(var n=Ge.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Qu=!1}if(fi=0,xt=ut=Ge=null,el=!1,wl=0,Jy.current=null,r===null||r.return===null){ht=1,Sl=t,at=null;break}e:{var s=e,o=r.return,l=r,c=t;if(t=_t,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Ov(o);if(p!==null){p.flags&=-257,Cv(p,o,l,s,t),p.mode&1&&Sv(s,u,t),t=p,c=u;var y=t.updateQueue;if(y===null){var x=new Set;x.add(c),t.updateQueue=x}else y.add(c);break e}else{if(!(t&1)){Sv(s,u,t),ax();break e}c=Error(q(426))}}else if(Ve&&l.mode&1){var m=Ov(o);if(m!==null){!(m.flags&65536)&&(m.flags|=256),Cv(m,o,l,s,t),Ly(_s(c,l));break e}}s=c=_s(c,l),ht!==4&&(ht=2),rl===null?rl=[s]:rl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var g=h_(s,c,t);vv(s,g);break e;case 1:l=c;var v=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ga===null||!ga.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t;var w=p_(s,l,t);vv(s,w);break e}}s=s.return}while(s!==null)}T_(r)}catch(j){t=j,at===r&&r!==null&&(at=r=r.return);continue}break}while(!0)}function E_(){var e=Zu.current;return Zu.current=Yu,e===null?Yu:e}function ax(){(ht===0||ht===3||ht===2)&&(ht=4),vt===null||!(hi&268435455)&&!(bf&268435455)||Qn(vt,_t)}function td(e,t){var r=Oe;Oe|=2;var n=E_();(vt!==e||_t!==t)&&(fn=null,ii(e,t));do try{_E();break}catch(a){k_(e,a)}while(!0);if(By(),Oe=r,Zu.current=n,at!==null)throw Error(q(261));return vt=null,_t=0,ht}function _E(){for(;at!==null;)$_(at)}function SE(){for(;at!==null&&!QA();)$_(at)}function $_(e){var t=I_(e.alternate,e,tr);e.memoizedProps=e.pendingProps,t===null?T_(e):at=t,Jy.current=null}function T_(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=xE(r,t),r!==null){r.flags&=32767,at=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ht=6,at=null;return}}else if(r=yE(r,t,tr),r!==null){at=r;return}if(t=t.sibling,t!==null){at=t;return}at=t=e}while(t!==null);ht===0&&(ht=5)}function La(e,t,r){var n=Ee,a=vr.transition;try{vr.transition=null,Ee=1,OE(e,t,r,n)}finally{vr.transition=a,Ee=n}return null}function OE(e,t,r,n){do rs();while(la!==null);if(Oe&6)throw Error(q(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(q(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(sk(e,s),e===vt&&(at=vt=null,_t=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Jc||(Jc=!0,R_(Ru,function(){return rs(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=vr.transition,vr.transition=null;var o=Ee;Ee=1;var l=Oe;Oe|=4,Jy.current=null,bE(e,r),C_(r,e),Kk(tm),Lu=!!em,tm=em=null,e.current=r,jE(r),YA(),Oe=l,Ee=o,vr.transition=s}else e.current=r;if(Jc&&(Jc=!1,la=e,ed=a),s=e.pendingLanes,s===0&&(ga=null),ek(r.stateNode),Xt(e,et()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Ju)throw Ju=!1,e=jm,jm=null,e;return ed&1&&e.tag!==0&&rs(),s=e.pendingLanes,s&1?e===wm?nl++:(nl=0,wm=e):nl=0,Pa(),null}function rs(){if(la!==null){var e=h2(ed),t=vr.transition,r=Ee;try{if(vr.transition=null,Ee=16>e?16:e,la===null)var n=!1;else{if(e=la,la=null,ed=0,Oe&6)throw Error(q(331));var a=Oe;for(Oe|=4,te=e.current;te!==null;){var s=te,o=s.child;if(te.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(te=u;te!==null;){var d=te;switch(d.tag){case 0:case 11:case 15:tl(8,d,s)}var f=d.child;if(f!==null)f.return=d,te=f;else for(;te!==null;){d=te;var h=d.sibling,p=d.return;if(__(d),d===u){te=null;break}if(h!==null){h.return=p,te=h;break}te=p}}}var y=s.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var m=x.sibling;x.sibling=null,x=m}while(x!==null)}}te=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,te=o;else e:for(;te!==null;){if(s=te,s.flags&2048)switch(s.tag){case 0:case 11:case 15:tl(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,te=g;break e}te=s.return}}var v=e.current;for(te=v;te!==null;){o=te;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,te=b;else e:for(o=v;te!==null;){if(l=te,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:vf(9,l)}}catch(j){Ze(l,l.return,j)}if(l===o){te=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,te=w;break e}te=l.return}}if(Oe=a,Pa(),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(df,e)}catch{}n=!0}return n}finally{Ee=r,vr.transition=t}}return!1}function Bv(e,t,r){t=_s(r,t),t=h_(e,t,1),e=ma(e,t,1),t=Ft(),e!==null&&(vc(e,1,t),Xt(e,t))}function Ze(e,t,r){if(e.tag===3)Bv(e,e,r);else for(;t!==null;){if(t.tag===3){Bv(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ga===null||!ga.has(n))){e=_s(r,e),e=p_(t,e,1),t=ma(t,e,1),e=Ft(),t!==null&&(vc(t,1,e),Xt(t,e));break}}t=t.return}}function CE(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ft(),e.pingedLanes|=e.suspendedLanes&r,vt===e&&(_t&r)===r&&(ht===4||ht===3&&(_t&130023424)===_t&&500>et()-tx?ii(e,0):ex|=r),Xt(e,t)}function M_(e,t){t===0&&(e.mode&1?(t=Wc,Wc<<=1,!(Wc&130023424)&&(Wc=4194304)):t=1);var r=Ft();e=En(e,t),e!==null&&(vc(e,t,r),Xt(e,r))}function PE(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),M_(e,r)}function AE(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(q(314))}n!==null&&n.delete(t),M_(e,r)}var I_;I_=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||qt.current)Vt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Vt=!1,gE(e,t,r);Vt=!!(e.flags&131072)}else Vt=!1,Ve&&t.flags&1048576&&F2(t,Vu,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Pu(e,t),e=t.pendingProps;var a=bs(t,$t.current);ts(t,r),a=Gy(null,t,n,e,a,r);var s=Xy();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Gt(n)?(s=!0,Wu(t)):s=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Wy(t),a.updater=xf,t.stateNode=a,a._reactInternals=t,um(t,n,e,r),t=hm(null,t,n,!0,s,r)):(t.tag=0,Ve&&s&&Ry(t),Rt(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Pu(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=EE(n),e=$r(n,e),a){case 0:t=fm(null,t,n,e,r);break e;case 1:t=kv(null,t,n,e,r);break e;case 11:t=Pv(null,t,n,e,r);break e;case 14:t=Av(null,t,n,$r(n.type,e),r);break e}throw Error(q(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:$r(n,a),fm(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:$r(n,a),kv(e,t,n,a,r);case 3:e:{if(x_(t),e===null)throw Error(q(387));n=t.pendingProps,s=t.memoizedState,a=s.element,V2(e,t),Gu(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){a=_s(Error(q(423)),t),t=Ev(e,t,n,r,a);break e}else if(n!==a){a=_s(Error(q(424)),t),t=Ev(e,t,n,r,a);break e}else for(ar=pa(t.stateNode.containerInfo.firstChild),ir=t,Ve=!0,Lr=null,r=W2(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(js(),n===a){t=$n(e,t,r);break e}Rt(e,t,n,r)}t=t.child}return t;case 5:return K2(t),e===null&&om(t),n=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,o=a.children,rm(n,a)?o=null:s!==null&&rm(n,s)&&(t.flags|=32),y_(e,t),Rt(e,t,o,r),t.child;case 6:return e===null&&om(t),null;case 13:return v_(e,t,r);case 4:return Hy(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ws(t,null,n,r):Rt(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:$r(n,a),Pv(e,t,n,a,r);case 7:return Rt(e,t,t.pendingProps,r),t.child;case 8:return Rt(e,t,t.pendingProps.children,r),t.child;case 12:return Rt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,s=t.memoizedProps,o=a.value,Le(Ku,n._currentValue),n._currentValue=o,s!==null)if(Hr(s.value,o)){if(s.children===a.children&&!qt.current){t=$n(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=_n(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),lm(s.return,r,t),l.lanes|=r;break}c=c.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(q(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),lm(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Rt(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,ts(t,r),a=Nr(a),n=n(a),t.flags|=1,Rt(e,t,n,r),t.child;case 14:return n=t.type,a=$r(n,t.pendingProps),a=$r(n.type,a),Av(e,t,n,a,r);case 15:return m_(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:$r(n,a),Pu(e,t),t.tag=1,Gt(n)?(e=!0,Wu(t)):e=!1,ts(t,r),f_(t,n,a),um(t,n,a,r),hm(null,t,n,!0,e,r);case 19:return b_(e,t,r);case 22:return g_(e,t,r)}throw Error(q(156,t.tag))};function R_(e,t){return c2(e,t)}function kE(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yr(e,t,r,n){return new kE(e,t,r,n)}function ix(e){return e=e.prototype,!(!e||!e.isReactComponent)}function EE(e){if(typeof e=="function")return ix(e)?1:0;if(e!=null){if(e=e.$$typeof,e===_y)return 11;if(e===Sy)return 14}return 2}function xa(e,t){var r=e.alternate;return r===null?(r=yr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Eu(e,t,r,n,a,s){var o=2;if(n=e,typeof e=="function")ix(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Di:return si(r.children,a,s,t);case Ny:o=8,a|=8;break;case Mp:return e=yr(12,r,t,a|2),e.elementType=Mp,e.lanes=s,e;case Ip:return e=yr(13,r,t,a),e.elementType=Ip,e.lanes=s,e;case Rp:return e=yr(19,r,t,a),e.elementType=Rp,e.lanes=s,e;case KN:return jf(r,a,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case HN:o=10;break e;case VN:o=9;break e;case _y:o=11;break e;case Sy:o=14;break e;case Kn:o=16,n=null;break e}throw Error(q(130,e==null?e:typeof e,""))}return t=yr(o,r,t,a),t.elementType=e,t.type=n,t.lanes=s,t}function si(e,t,r,n){return e=yr(7,e,n,t),e.lanes=r,e}function jf(e,t,r,n){return e=yr(22,e,n,t),e.elementType=KN,e.lanes=r,e.stateNode={isHidden:!1},e}function qh(e,t,r){return e=yr(6,e,null,t),e.lanes=r,e}function Gh(e,t,r){return t=yr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $E(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ph(0),this.expirationTimes=Ph(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ph(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function sx(e,t,r,n,a,s,o,l,c){return e=new $E(e,t,r,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=yr(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wy(s),e}function TE(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ri,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function D_(e){if(!e)return _a;e=e._reactInternals;e:{if(_i(e)!==e||e.tag!==1)throw Error(q(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Gt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(q(171))}if(e.tag===1){var r=e.type;if(Gt(r))return D2(e,r,t)}return t}function L_(e,t,r,n,a,s,o,l,c){return e=sx(r,n,!0,e,a,s,o,l,c),e.context=D_(null),r=e.current,n=Ft(),a=ya(r),s=_n(n,a),s.callback=t??null,ma(r,s,a),e.current.lanes=a,vc(e,a,n),Xt(e,n),e}function wf(e,t,r,n){var a=t.current,s=Ft(),o=ya(a);return r=D_(r),t.context===null?t.context=r:t.pendingContext=r,t=_n(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ma(a,t,o),e!==null&&(Wr(e,a,o,s),Su(e,a,o)),o}function rd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function zv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ox(e,t){zv(e,t),(e=e.alternate)&&zv(e,t)}function ME(){return null}var F_=typeof reportError=="function"?reportError:function(e){console.error(e)};function lx(e){this._internalRoot=e}Nf.prototype.render=lx.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(q(409));wf(e,t,null,null)};Nf.prototype.unmount=lx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;pi(function(){wf(null,e,null,null)}),t[kn]=null}};function Nf(e){this._internalRoot=e}Nf.prototype.unstable_scheduleHydration=function(e){if(e){var t=g2();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Xn.length&&t!==0&&t<Xn[r].priority;r++);Xn.splice(r,0,e),r===0&&x2(e)}};function cx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function _f(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Uv(){}function IE(e,t,r,n,a){if(a){if(typeof n=="function"){var s=n;n=function(){var u=rd(o);s.call(u)}}var o=L_(t,n,e,0,null,!1,!1,"",Uv);return e._reactRootContainer=o,e[kn]=o.current,yl(e.nodeType===8?e.parentNode:e),pi(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=rd(c);l.call(u)}}var c=sx(e,0,!1,null,null,!1,!1,"",Uv);return e._reactRootContainer=c,e[kn]=c.current,yl(e.nodeType===8?e.parentNode:e),pi(function(){wf(t,c,r,n)}),c}function Sf(e,t,r,n,a){var s=r._reactRootContainer;if(s){var o=s;if(typeof a=="function"){var l=a;a=function(){var c=rd(o);l.call(c)}}wf(t,o,e,a)}else o=IE(r,t,e,a,n);return rd(o)}p2=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ho(t.pendingLanes);r!==0&&(Py(t,r|1),Xt(t,et()),!(Oe&6)&&(Ss=et()+500,Pa()))}break;case 13:pi(function(){var n=En(e,1);if(n!==null){var a=Ft();Wr(n,e,1,a)}}),ox(e,1)}};Ay=function(e){if(e.tag===13){var t=En(e,134217728);if(t!==null){var r=Ft();Wr(t,e,134217728,r)}ox(e,134217728)}};m2=function(e){if(e.tag===13){var t=ya(e),r=En(e,t);if(r!==null){var n=Ft();Wr(r,e,t,n)}ox(e,t)}};g2=function(){return Ee};y2=function(e,t){var r=Ee;try{return Ee=e,t()}finally{Ee=r}};Kp=function(e,t,r){switch(t){case"input":if(Fp(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=mf(n);if(!a)throw Error(q(90));GN(n),Fp(n,a)}}}break;case"textarea":QN(e,r);break;case"select":t=r.value,t!=null&&Yi(e,!!r.multiple,t,!1)}};n2=rx;a2=pi;var RE={usingClientEntryPoint:!1,Events:[jc,zi,mf,t2,r2,rx]},Co={findFiberByHostInstance:Ua,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},DE={bundleType:Co.bundleType,version:Co.version,rendererPackageName:Co.rendererPackageName,rendererConfig:Co.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Dn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=o2(e),e===null?null:e.stateNode},findFiberByHostInstance:Co.findFiberByHostInstance||ME,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eu.isDisabled&&eu.supportsFiber)try{df=eu.inject(DE),en=eu}catch{}}lr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RE;lr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cx(t))throw Error(q(200));return TE(e,t,null,r)};lr.createRoot=function(e,t){if(!cx(e))throw Error(q(299));var r=!1,n="",a=F_;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=sx(e,1,!1,null,null,r,!1,n,a),e[kn]=t.current,yl(e.nodeType===8?e.parentNode:e),new lx(t)};lr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(q(188)):(e=Object.keys(e).join(","),Error(q(268,e)));return e=o2(t),e=e===null?null:e.stateNode,e};lr.flushSync=function(e){return pi(e)};lr.hydrate=function(e,t,r){if(!_f(t))throw Error(q(200));return Sf(null,e,t,!0,r)};lr.hydrateRoot=function(e,t,r){if(!cx(e))throw Error(q(405));var n=r!=null&&r.hydratedSources||null,a=!1,s="",o=F_;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=L_(t,null,e,1,r??null,a,!1,s,o),e[kn]=t.current,yl(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Nf(t)};lr.render=function(e,t,r){if(!_f(t))throw Error(q(200));return Sf(null,e,t,!1,r)};lr.unmountComponentAtNode=function(e){if(!_f(e))throw Error(q(40));return e._reactRootContainer?(pi(function(){Sf(null,null,e,!1,function(){e._reactRootContainer=null,e[kn]=null})}),!0):!1};lr.unstable_batchedUpdates=rx;lr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!_f(r))throw Error(q(200));if(e==null||e._reactInternals===void 0)throw Error(q(38));return Sf(e,t,r,!1,n)};lr.version="18.3.1-next-f1338f8080-20240426";function B_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(B_)}catch(e){console.error(e)}}B_(),BN.exports=lr;var z_=BN.exports,Wv=z_;$p.createRoot=Wv.createRoot,$p.hydrateRoot=Wv.hydrateRoot;var to=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},LE={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Zn,my,xN,FE=(xN=class{constructor(){se(this,Zn,LE);se(this,my,!1)}setTimeoutProvider(e){Z(this,Zn,e)}setTimeout(e,t){return $(this,Zn).setTimeout(e,t)}clearTimeout(e){$(this,Zn).clearTimeout(e)}setInterval(e,t){return $(this,Zn).setInterval(e,t)}clearInterval(e){$(this,Zn).clearInterval(e)}},Zn=new WeakMap,my=new WeakMap,xN),Va=new FE;function BE(e){setTimeout(e,0)}var mi=typeof window>"u"||"Deno"in globalThis;function Dt(){}function zE(e,t){return typeof e=="function"?e(t):e}function Sm(e){return typeof e=="number"&&e>=0&&e!==1/0}function U_(e,t){return Math.max(e+(t||0)-Date.now(),0)}function va(e,t){return typeof e=="function"?e(t):e}function pr(e,t){return typeof e=="function"?e(t):e}function Hv(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:s,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==ux(o,t.options))return!1}else if(!Ol(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||s&&!s(t))}function Vv(e,t){const{exact:r,status:n,predicate:a,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(gi(t.options.mutationKey)!==gi(s))return!1}else if(!Ol(t.options.mutationKey,s))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function ux(e,t){return((t==null?void 0:t.queryKeyHashFn)||gi)(e)}function gi(e){return JSON.stringify(e,(t,r)=>Om(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Ol(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Ol(e[r],t[r])):!1}var UE=Object.prototype.hasOwnProperty;function W_(e,t){if(e===t)return e;const r=Kv(e)&&Kv(t);if(!r&&!(Om(e)&&Om(t)))return t;const a=(r?e:Object.keys(e)).length,s=r?t:Object.keys(t),o=s.length,l=r?new Array(o):{};let c=0;for(let u=0;u<o;u++){const d=r?u:s[u],f=e[d],h=t[d];if(f===h){l[d]=f,(r?u<a:UE.call(e,d))&&c++;continue}if(f===null||h===null||typeof f!="object"||typeof h!="object"){l[d]=h;continue}const p=W_(f,h);l[d]=p,p===f&&c++}return a===o&&c===a?e:l}function nd(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Kv(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Om(e){if(!qv(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!qv(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function qv(e){return Object.prototype.toString.call(e)==="[object Object]"}function WE(e){return new Promise(t=>{Va.setTimeout(t,e)})}function Cm(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?W_(e,t):t}function HE(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function VE(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var dx=Symbol();function H_(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===dx?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function V_(e,t){return typeof e=="function"?e(...t):!!e}var Qa,Jn,os,vN,KE=(vN=class extends to{constructor(){super();se(this,Qa);se(this,Jn);se(this,os);Z(this,os,t=>{if(!mi&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){$(this,Jn)||this.setEventListener($(this,os))}onUnsubscribe(){var t;this.hasListeners()||((t=$(this,Jn))==null||t.call(this),Z(this,Jn,void 0))}setEventListener(t){var r;Z(this,os,t),(r=$(this,Jn))==null||r.call(this),Z(this,Jn,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){$(this,Qa)!==t&&(Z(this,Qa,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof $(this,Qa)=="boolean"?$(this,Qa):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Qa=new WeakMap,Jn=new WeakMap,os=new WeakMap,vN),fx=new KE;function Pm(){let e,t;const r=new Promise((a,s)=>{e=a,t=s});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var qE=BE;function GE(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=qE;const s=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var dt=GE(),ls,ea,cs,bN,XE=(bN=class extends to{constructor(){super();se(this,ls,!0);se(this,ea);se(this,cs);Z(this,cs,t=>{if(!mi&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){$(this,ea)||this.setEventListener($(this,cs))}onUnsubscribe(){var t;this.hasListeners()||((t=$(this,ea))==null||t.call(this),Z(this,ea,void 0))}setEventListener(t){var r;Z(this,cs,t),(r=$(this,ea))==null||r.call(this),Z(this,ea,t(this.setOnline.bind(this)))}setOnline(t){$(this,ls)!==t&&(Z(this,ls,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return $(this,ls)}},ls=new WeakMap,ea=new WeakMap,cs=new WeakMap,bN),ad=new XE;function QE(e){return Math.min(1e3*2**e,3e4)}function K_(e){return(e??"online")==="online"?ad.isOnline():!0}var Am=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function q_(e){let t=!1,r=0,n;const a=Pm(),s=()=>a.status!=="pending",o=x=>{var m;if(!s()){const g=new Am(x);h(g),(m=e.onCancel)==null||m.call(e,g)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>fx.isFocused()&&(e.networkMode==="always"||ad.isOnline())&&e.canRun(),d=()=>K_(e.networkMode)&&e.canRun(),f=x=>{s()||(n==null||n(),a.resolve(x))},h=x=>{s()||(n==null||n(),a.reject(x))},p=()=>new Promise(x=>{var m;n=g=>{(s()||u())&&x(g)},(m=e.onPause)==null||m.call(e)}).then(()=>{var x;n=void 0,s()||(x=e.onContinue)==null||x.call(e)}),y=()=>{if(s())return;let x;const m=r===0?e.initialPromise:void 0;try{x=m??e.fn()}catch(g){x=Promise.reject(g)}Promise.resolve(x).then(f).catch(g=>{var N;if(s())return;const v=e.retry??(mi?0:3),b=e.retryDelay??QE,w=typeof b=="function"?b(r,g):b,j=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,g);if(t||!j){h(g);return}r++,(N=e.onFail)==null||N.call(e,r,g),WE(w).then(()=>u()?void 0:p()).then(()=>{t?h(g):y()})})};return{promise:a,status:()=>a.status,cancel:o,continue:()=>(n==null||n(),a),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?y():p().then(y),a)}}var Ya,jN,G_=(jN=class{constructor(){se(this,Ya)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Sm(this.gcTime)&&Z(this,Ya,Va.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(mi?1/0:5*60*1e3))}clearGcTimeout(){$(this,Ya)&&(Va.clearTimeout($(this,Ya)),Z(this,Ya,void 0))}},Ya=new WeakMap,jN),Za,us,hr,Ja,gt,hc,ei,Tr,dn,wN,YE=(wN=class extends G_{constructor(t){super();se(this,Tr);se(this,Za);se(this,us);se(this,hr);se(this,Ja);se(this,gt);se(this,hc);se(this,ei);Z(this,ei,!1),Z(this,hc,t.defaultOptions),this.setOptions(t.options),this.observers=[],Z(this,Ja,t.client),Z(this,hr,$(this,Ja).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Z(this,Za,Xv(this.options)),this.state=t.state??$(this,Za),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=$(this,gt))==null?void 0:t.promise}setOptions(t){if(this.options={...$(this,hc),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=Xv(this.options);r.data!==void 0&&(this.setState(Gv(r.data,r.dataUpdatedAt)),Z(this,Za,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&$(this,hr).remove(this)}setData(t,r){const n=Cm(this.state.data,t,this.options);return he(this,Tr,dn).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){he(this,Tr,dn).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=$(this,gt))==null?void 0:n.promise;return(a=$(this,gt))==null||a.cancel(t),r?r.then(Dt).catch(Dt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState($(this,Za))}isActive(){return this.observers.some(t=>pr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===dx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>va(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!U_(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=$(this,gt))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=$(this,gt))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),$(this,hr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||($(this,gt)&&($(this,ei)?$(this,gt).cancel({revert:!0}):$(this,gt).cancelRetry()),this.scheduleGc()),$(this,hr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||he(this,Tr,dn).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,d,f,h,p,y,x,m,g,v,b;if(this.state.fetchStatus!=="idle"&&((c=$(this,gt))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if($(this,gt))return $(this,gt).continueRetry(),$(this,gt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const w=this.observers.find(j=>j.options.queryFn);w&&this.setOptions(w.options)}const n=new AbortController,a=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(Z(this,ei,!0),n.signal)})},s=()=>{const w=H_(this.options,r),N=(()=>{const _={client:$(this,Ja),queryKey:this.queryKey,meta:this.meta};return a(_),_})();return Z(this,ei,!1),this.options.persister?this.options.persister(w,N,this):w(N)},l=(()=>{const w={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:$(this,Ja),state:this.state,fetchFn:s};return a(w),w})();(u=this.options.behavior)==null||u.onFetch(l,this),Z(this,us,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&he(this,Tr,dn).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),Z(this,gt,q_({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:w=>{w instanceof Am&&w.revert&&this.setState({...$(this,us),fetchStatus:"idle"}),n.abort()},onFail:(w,j)=>{he(this,Tr,dn).call(this,{type:"failed",failureCount:w,error:j})},onPause:()=>{he(this,Tr,dn).call(this,{type:"pause"})},onContinue:()=>{he(this,Tr,dn).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const w=await $(this,gt).start();if(w===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(w),(p=(h=$(this,hr).config).onSuccess)==null||p.call(h,w,this),(x=(y=$(this,hr).config).onSettled)==null||x.call(y,w,this.state.error,this),w}catch(w){if(w instanceof Am){if(w.silent)return $(this,gt).promise;if(w.revert){if(this.state.data===void 0)throw w;return this.state.data}}throw he(this,Tr,dn).call(this,{type:"error",error:w}),(g=(m=$(this,hr).config).onError)==null||g.call(m,w,this),(b=(v=$(this,hr).config).onSettled)==null||b.call(v,this.state.data,w,this),w}finally{this.scheduleGc()}}},Za=new WeakMap,us=new WeakMap,hr=new WeakMap,Ja=new WeakMap,gt=new WeakMap,hc=new WeakMap,ei=new WeakMap,Tr=new WeakSet,dn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...X_(n.data,this.options),fetchMeta:t.meta??null};case"success":const a={...n,...Gv(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Z(this,us,t.manual?a:void 0),a;case"error":const s=t.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),dt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),$(this,hr).notify({query:this,type:"updated",action:t})})},wN);function X_(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:K_(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Gv(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Xv(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Ut,ve,pc,Mt,ti,ds,mn,ta,mc,fs,hs,ri,ni,ra,ps,ke,Ko,km,Em,$m,Tm,Mm,Im,Rm,Q_,NN,ZE=(NN=class extends to{constructor(t,r){super();se(this,ke);se(this,Ut);se(this,ve);se(this,pc);se(this,Mt);se(this,ti);se(this,ds);se(this,mn);se(this,ta);se(this,mc);se(this,fs);se(this,hs);se(this,ri);se(this,ni);se(this,ra);se(this,ps,new Set);this.options=r,Z(this,Ut,t),Z(this,ta,null),Z(this,mn,Pm()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&($(this,ve).addObserver(this),Qv($(this,ve),this.options)?he(this,ke,Ko).call(this):this.updateResult(),he(this,ke,Tm).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Dm($(this,ve),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Dm($(this,ve),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,he(this,ke,Mm).call(this),he(this,ke,Im).call(this),$(this,ve).removeObserver(this)}setOptions(t){const r=this.options,n=$(this,ve);if(this.options=$(this,Ut).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof pr(this.options.enabled,$(this,ve))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");he(this,ke,Rm).call(this),$(this,ve).setOptions(this.options),r._defaulted&&!nd(this.options,r)&&$(this,Ut).getQueryCache().notify({type:"observerOptionsUpdated",query:$(this,ve),observer:this});const a=this.hasListeners();a&&Yv($(this,ve),n,this.options,r)&&he(this,ke,Ko).call(this),this.updateResult(),a&&($(this,ve)!==n||pr(this.options.enabled,$(this,ve))!==pr(r.enabled,$(this,ve))||va(this.options.staleTime,$(this,ve))!==va(r.staleTime,$(this,ve)))&&he(this,ke,km).call(this);const s=he(this,ke,Em).call(this);a&&($(this,ve)!==n||pr(this.options.enabled,$(this,ve))!==pr(r.enabled,$(this,ve))||s!==$(this,ra))&&he(this,ke,$m).call(this,s)}getOptimisticResult(t){const r=$(this,Ut).getQueryCache().build($(this,Ut),t),n=this.createResult(r,t);return e$(this,n)&&(Z(this,Mt,n),Z(this,ds,this.options),Z(this,ti,$(this,ve).state)),n}getCurrentResult(){return $(this,Mt)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&$(this,mn).status==="pending"&&$(this,mn).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,a))})}trackProp(t){$(this,ps).add(t)}getCurrentQuery(){return $(this,ve)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=$(this,Ut).defaultQueryOptions(t),n=$(this,Ut).getQueryCache().build($(this,Ut),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return he(this,ke,Ko).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),$(this,Mt)))}createResult(t,r){var C;const n=$(this,ve),a=this.options,s=$(this,Mt),o=$(this,ti),l=$(this,ds),u=t!==n?t.state:$(this,pc),{state:d}=t;let f={...d},h=!1,p;if(r._optimisticResults){const A=this.hasListeners(),E=!A&&Qv(t,r),T=A&&Yv(t,n,r,a);(E||T)&&(f={...f,...X_(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:y,errorUpdatedAt:x,status:m}=f;p=f.data;let g=!1;if(r.placeholderData!==void 0&&p===void 0&&m==="pending"){let A;s!=null&&s.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(A=s.data,g=!0):A=typeof r.placeholderData=="function"?r.placeholderData((C=$(this,hs))==null?void 0:C.state.data,$(this,hs)):r.placeholderData,A!==void 0&&(m="success",p=Cm(s==null?void 0:s.data,A,r),h=!0)}if(r.select&&p!==void 0&&!g)if(s&&p===(o==null?void 0:o.data)&&r.select===$(this,mc))p=$(this,fs);else try{Z(this,mc,r.select),p=r.select(p),p=Cm(s==null?void 0:s.data,p,r),Z(this,fs,p),Z(this,ta,null)}catch(A){Z(this,ta,A)}$(this,ta)&&(y=$(this,ta),p=$(this,fs),x=Date.now(),m="error");const v=f.fetchStatus==="fetching",b=m==="pending",w=m==="error",j=b&&v,N=p!==void 0,S={status:m,fetchStatus:f.fetchStatus,isPending:b,isSuccess:m==="success",isError:w,isInitialLoading:j,isLoading:j,data:p,dataUpdatedAt:f.dataUpdatedAt,error:y,errorUpdatedAt:x,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:v,isRefetching:v&&!b,isLoadingError:w&&!N,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:w&&N,isStale:hx(t,r),refetch:this.refetch,promise:$(this,mn),isEnabled:pr(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const A=W=>{S.status==="error"?W.reject(S.error):S.data!==void 0&&W.resolve(S.data)},E=()=>{const W=Z(this,mn,S.promise=Pm());A(W)},T=$(this,mn);switch(T.status){case"pending":t.queryHash===n.queryHash&&A(T);break;case"fulfilled":(S.status==="error"||S.data!==T.value)&&E();break;case"rejected":(S.status!=="error"||S.error!==T.reason)&&E();break}}return S}updateResult(){const t=$(this,Mt),r=this.createResult($(this,ve),this.options);if(Z(this,ti,$(this,ve).state),Z(this,ds,this.options),$(this,ti).data!==void 0&&Z(this,hs,$(this,ve)),nd(r,t))return;Z(this,Mt,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,s=typeof a=="function"?a():a;if(s==="all"||!s&&!$(this,ps).size)return!0;const o=new Set(s??$(this,ps));return this.options.throwOnError&&o.add("error"),Object.keys($(this,Mt)).some(l=>{const c=l;return $(this,Mt)[c]!==t[c]&&o.has(c)})};he(this,ke,Q_).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&he(this,ke,Tm).call(this)}},Ut=new WeakMap,ve=new WeakMap,pc=new WeakMap,Mt=new WeakMap,ti=new WeakMap,ds=new WeakMap,mn=new WeakMap,ta=new WeakMap,mc=new WeakMap,fs=new WeakMap,hs=new WeakMap,ri=new WeakMap,ni=new WeakMap,ra=new WeakMap,ps=new WeakMap,ke=new WeakSet,Ko=function(t){he(this,ke,Rm).call(this);let r=$(this,ve).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Dt)),r},km=function(){he(this,ke,Mm).call(this);const t=va(this.options.staleTime,$(this,ve));if(mi||$(this,Mt).isStale||!Sm(t))return;const n=U_($(this,Mt).dataUpdatedAt,t)+1;Z(this,ri,Va.setTimeout(()=>{$(this,Mt).isStale||this.updateResult()},n))},Em=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval($(this,ve)):this.options.refetchInterval)??!1},$m=function(t){he(this,ke,Im).call(this),Z(this,ra,t),!(mi||pr(this.options.enabled,$(this,ve))===!1||!Sm($(this,ra))||$(this,ra)===0)&&Z(this,ni,Va.setInterval(()=>{(this.options.refetchIntervalInBackground||fx.isFocused())&&he(this,ke,Ko).call(this)},$(this,ra)))},Tm=function(){he(this,ke,km).call(this),he(this,ke,$m).call(this,he(this,ke,Em).call(this))},Mm=function(){$(this,ri)&&(Va.clearTimeout($(this,ri)),Z(this,ri,void 0))},Im=function(){$(this,ni)&&(Va.clearInterval($(this,ni)),Z(this,ni,void 0))},Rm=function(){const t=$(this,Ut).getQueryCache().build($(this,Ut),this.options);if(t===$(this,ve))return;const r=$(this,ve);Z(this,ve,t),Z(this,pc,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},Q_=function(t){dt.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r($(this,Mt))}),$(this,Ut).getQueryCache().notify({query:$(this,ve),type:"observerResultsUpdated"})})},NN);function JE(e,t){return pr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Qv(e,t){return JE(e,t)||e.state.data!==void 0&&Dm(e,t,t.refetchOnMount)}function Dm(e,t,r){if(pr(t.enabled,e)!==!1&&va(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&hx(e,t)}return!1}function Yv(e,t,r,n){return(e!==t||pr(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&hx(e,r)}function hx(e,t){return pr(t.enabled,e)!==!1&&e.isStaleByTime(va(t.staleTime,e))}function e$(e,t){return!nd(e.getCurrentResult(),t)}function Zv(e){return{onFetch:(t,r)=>{var d,f,h,p,y;const n=t.options,a=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,s=((p=t.state.data)==null?void 0:p.pages)||[],o=((y=t.state.data)==null?void 0:y.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let x=!1;const m=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?x=!0:t.signal.addEventListener("abort",()=>{x=!0}),t.signal)})},g=H_(t.options,t.fetchOptions),v=async(b,w,j)=>{if(x)return Promise.reject();if(w==null&&b.pages.length)return Promise.resolve(b);const _=(()=>{const E={client:t.client,queryKey:t.queryKey,pageParam:w,direction:j?"backward":"forward",meta:t.options.meta};return m(E),E})(),S=await g(_),{maxPages:C}=t.options,A=j?VE:HE;return{pages:A(b.pages,S,C),pageParams:A(b.pageParams,w,C)}};if(a&&s.length){const b=a==="backward",w=b?t$:Jv,j={pages:s,pageParams:o},N=w(n,j);l=await v(j,N,b)}else{const b=e??s.length;do{const w=c===0?o[0]??n.initialPageParam:Jv(n,l);if(c>0&&w==null)break;l=await v(l,w),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var x,m;return(m=(x=t.options).persister)==null?void 0:m.call(x,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function Jv(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function t$(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var gc,Xr,It,ai,Qr,Vn,_N,r$=(_N=class extends G_{constructor(t){super();se(this,Qr);se(this,gc);se(this,Xr);se(this,It);se(this,ai);Z(this,gc,t.client),this.mutationId=t.mutationId,Z(this,It,t.mutationCache),Z(this,Xr,[]),this.state=t.state||Y_(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){$(this,Xr).includes(t)||($(this,Xr).push(t),this.clearGcTimeout(),$(this,It).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Z(this,Xr,$(this,Xr).filter(r=>r!==t)),this.scheduleGc(),$(this,It).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){$(this,Xr).length||(this.state.status==="pending"?this.scheduleGc():$(this,It).remove(this))}continue(){var t;return((t=$(this,ai))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,u,d,f,h,p,y,x,m,g,v,b,w,j,N,_,S,C;const r=()=>{he(this,Qr,Vn).call(this,{type:"continue"})},n={client:$(this,gc),meta:this.options.meta,mutationKey:this.options.mutationKey};Z(this,ai,q_({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(A,E)=>{he(this,Qr,Vn).call(this,{type:"failed",failureCount:A,error:E})},onPause:()=>{he(this,Qr,Vn).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>$(this,It).canRun(this)}));const a=this.state.status==="pending",s=!$(this,ai).canStart();try{if(a)r();else{he(this,Qr,Vn).call(this,{type:"pending",variables:t,isPaused:s}),await((l=(o=$(this,It).config).onMutate)==null?void 0:l.call(o,t,this,n));const E=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,n));E!==this.state.context&&he(this,Qr,Vn).call(this,{type:"pending",context:E,variables:t,isPaused:s})}const A=await $(this,ai).start();return await((f=(d=$(this,It).config).onSuccess)==null?void 0:f.call(d,A,t,this.state.context,this,n)),await((p=(h=this.options).onSuccess)==null?void 0:p.call(h,A,t,this.state.context,n)),await((x=(y=$(this,It).config).onSettled)==null?void 0:x.call(y,A,null,this.state.variables,this.state.context,this,n)),await((g=(m=this.options).onSettled)==null?void 0:g.call(m,A,null,t,this.state.context,n)),he(this,Qr,Vn).call(this,{type:"success",data:A}),A}catch(A){try{throw await((b=(v=$(this,It).config).onError)==null?void 0:b.call(v,A,t,this.state.context,this,n)),await((j=(w=this.options).onError)==null?void 0:j.call(w,A,t,this.state.context,n)),await((_=(N=$(this,It).config).onSettled)==null?void 0:_.call(N,void 0,A,this.state.variables,this.state.context,this,n)),await((C=(S=this.options).onSettled)==null?void 0:C.call(S,void 0,A,t,this.state.context,n)),A}finally{he(this,Qr,Vn).call(this,{type:"error",error:A})}}finally{$(this,It).runNext(this)}}},gc=new WeakMap,Xr=new WeakMap,It=new WeakMap,ai=new WeakMap,Qr=new WeakSet,Vn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),dt.batch(()=>{$(this,Xr).forEach(n=>{n.onMutationUpdate(t)}),$(this,It).notify({mutation:this,type:"updated",action:t})})},_N);function Y_(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var gn,Mr,yc,SN,n$=(SN=class extends to{constructor(t={}){super();se(this,gn);se(this,Mr);se(this,yc);this.config=t,Z(this,gn,new Set),Z(this,Mr,new Map),Z(this,yc,0)}build(t,r,n){const a=new r$({client:t,mutationCache:this,mutationId:++Rc(this,yc)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){$(this,gn).add(t);const r=tu(t);if(typeof r=="string"){const n=$(this,Mr).get(r);n?n.push(t):$(this,Mr).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if($(this,gn).delete(t)){const r=tu(t);if(typeof r=="string"){const n=$(this,Mr).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&$(this,Mr).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=tu(t);if(typeof r=="string"){const n=$(this,Mr).get(r),a=n==null?void 0:n.find(s=>s.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=tu(t);if(typeof r=="string"){const a=(n=$(this,Mr).get(r))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){dt.batch(()=>{$(this,gn).forEach(t=>{this.notify({type:"removed",mutation:t})}),$(this,gn).clear(),$(this,Mr).clear()})}getAll(){return Array.from($(this,gn))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Vv(r,n))}findAll(t={}){return this.getAll().filter(r=>Vv(t,r))}notify(t){dt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return dt.batch(()=>Promise.all(t.map(r=>r.continue().catch(Dt))))}},gn=new WeakMap,Mr=new WeakMap,yc=new WeakMap,SN);function tu(e){var t;return(t=e.options.scope)==null?void 0:t.id}var yn,na,Wt,xn,Pn,$u,Lm,ON,a$=(ON=class extends to{constructor(r,n){super();se(this,Pn);se(this,yn);se(this,na);se(this,Wt);se(this,xn);Z(this,yn,r),this.setOptions(n),this.bindMethods(),he(this,Pn,$u).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=$(this,yn).defaultMutationOptions(r),nd(this.options,n)||$(this,yn).getMutationCache().notify({type:"observerOptionsUpdated",mutation:$(this,Wt),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&gi(n.mutationKey)!==gi(this.options.mutationKey)?this.reset():((a=$(this,Wt))==null?void 0:a.state.status)==="pending"&&$(this,Wt).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=$(this,Wt))==null||r.removeObserver(this)}onMutationUpdate(r){he(this,Pn,$u).call(this),he(this,Pn,Lm).call(this,r)}getCurrentResult(){return $(this,na)}reset(){var r;(r=$(this,Wt))==null||r.removeObserver(this),Z(this,Wt,void 0),he(this,Pn,$u).call(this),he(this,Pn,Lm).call(this)}mutate(r,n){var a;return Z(this,xn,n),(a=$(this,Wt))==null||a.removeObserver(this),Z(this,Wt,$(this,yn).getMutationCache().build($(this,yn),this.options)),$(this,Wt).addObserver(this),$(this,Wt).execute(r)}},yn=new WeakMap,na=new WeakMap,Wt=new WeakMap,xn=new WeakMap,Pn=new WeakSet,$u=function(){var n;const r=((n=$(this,Wt))==null?void 0:n.state)??Y_();Z(this,na,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Lm=function(r){dt.batch(()=>{var n,a,s,o,l,c,u,d;if($(this,xn)&&this.hasListeners()){const f=$(this,na).variables,h=$(this,na).context,p={client:$(this,yn),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((a=(n=$(this,xn)).onSuccess)==null||a.call(n,r.data,f,h,p),(o=(s=$(this,xn)).onSettled)==null||o.call(s,r.data,null,f,h,p)):(r==null?void 0:r.type)==="error"&&((c=(l=$(this,xn)).onError)==null||c.call(l,r.error,f,h,p),(d=(u=$(this,xn)).onSettled)==null||d.call(u,void 0,r.error,f,h,p))}this.listeners.forEach(f=>{f($(this,na))})})},ON),Yr,CN,i$=(CN=class extends to{constructor(t={}){super();se(this,Yr);this.config=t,Z(this,Yr,new Map)}build(t,r,n){const a=r.queryKey,s=r.queryHash??ux(a,r);let o=this.get(s);return o||(o=new YE({client:t,queryKey:a,queryHash:s,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){$(this,Yr).has(t.queryHash)||($(this,Yr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=$(this,Yr).get(t.queryHash);r&&(t.destroy(),r===t&&$(this,Yr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){dt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return $(this,Yr).get(t)}getAll(){return[...$(this,Yr).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Hv(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Hv(t,n)):r}notify(t){dt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){dt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){dt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Yr=new WeakMap,CN),Ye,aa,ia,ms,gs,sa,ys,xs,PN,s$=(PN=class{constructor(e={}){se(this,Ye);se(this,aa);se(this,ia);se(this,ms);se(this,gs);se(this,sa);se(this,ys);se(this,xs);Z(this,Ye,e.queryCache||new i$),Z(this,aa,e.mutationCache||new n$),Z(this,ia,e.defaultOptions||{}),Z(this,ms,new Map),Z(this,gs,new Map),Z(this,sa,0)}mount(){Rc(this,sa)._++,$(this,sa)===1&&(Z(this,ys,fx.subscribe(async e=>{e&&(await this.resumePausedMutations(),$(this,Ye).onFocus())})),Z(this,xs,ad.subscribe(async e=>{e&&(await this.resumePausedMutations(),$(this,Ye).onOnline())})))}unmount(){var e,t;Rc(this,sa)._--,$(this,sa)===0&&((e=$(this,ys))==null||e.call(this),Z(this,ys,void 0),(t=$(this,xs))==null||t.call(this),Z(this,xs,void 0))}isFetching(e){return $(this,Ye).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return $(this,aa).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=$(this,Ye).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=$(this,Ye).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(va(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return $(this,Ye).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=$(this,Ye).get(n.queryHash),s=a==null?void 0:a.state.data,o=zE(t,s);if(o!==void 0)return $(this,Ye).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return dt.batch(()=>$(this,Ye).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=$(this,Ye).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=$(this,Ye);dt.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=$(this,Ye);return dt.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=dt.batch(()=>$(this,Ye).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(Dt).catch(Dt)}invalidateQueries(e,t={}){return dt.batch(()=>($(this,Ye).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=dt.batch(()=>$(this,Ye).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let s=a.fetch(void 0,r);return r.throwOnError||(s=s.catch(Dt)),a.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(Dt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=$(this,Ye).build(this,t);return r.isStaleByTime(va(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Dt).catch(Dt)}fetchInfiniteQuery(e){return e.behavior=Zv(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Dt).catch(Dt)}ensureInfiniteQueryData(e){return e.behavior=Zv(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ad.isOnline()?$(this,aa).resumePausedMutations():Promise.resolve()}getQueryCache(){return $(this,Ye)}getMutationCache(){return $(this,aa)}getDefaultOptions(){return $(this,ia)}setDefaultOptions(e){Z(this,ia,e)}setQueryDefaults(e,t){$(this,ms).set(gi(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...$(this,ms).values()],r={};return t.forEach(n=>{Ol(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){$(this,gs).set(gi(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...$(this,gs).values()],r={};return t.forEach(n=>{Ol(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...$(this,ia).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=ux(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===dx&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...$(this,ia).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){$(this,Ye).clear(),$(this,aa).clear()}},Ye=new WeakMap,aa=new WeakMap,ia=new WeakMap,ms=new WeakMap,gs=new WeakMap,sa=new WeakMap,ys=new WeakMap,xs=new WeakMap,PN),Z_=O.createContext(void 0),Nc=e=>{const t=O.useContext(Z_);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},o$=({client:e,children:t})=>(O.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),i.jsx(Z_.Provider,{value:e,children:t})),J_=O.createContext(!1),l$=()=>O.useContext(J_);J_.Provider;function c$(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var u$=O.createContext(c$()),d$=()=>O.useContext(u$),f$=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},h$=e=>{O.useEffect(()=>{e.clearReset()},[e])},p$=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||V_(r,[e.error,n])),m$=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},g$=(e,t)=>e.isLoading&&e.isFetching&&!t,y$=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,eb=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function x$(e,t,r){var f,h,p,y,x;const n=l$(),a=d$(),s=Nc(),o=s.defaultQueryOptions(e);(h=(f=s.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,o),o._optimisticResults=n?"isRestoring":"optimistic",m$(o),f$(o,a),h$(a);const l=!s.getQueryCache().get(o.queryHash),[c]=O.useState(()=>new t(s,o)),u=c.getOptimisticResult(o),d=!n&&e.subscribed!==!1;if(O.useSyncExternalStore(O.useCallback(m=>{const g=d?c.subscribe(dt.batchCalls(m)):Dt;return c.updateResult(),g},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),O.useEffect(()=>{c.setOptions(o)},[o,c]),y$(o,u))throw eb(o,c,a);if(p$({result:u,errorResetBoundary:a,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((y=(p=s.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||y.call(p,o,u),o.experimental_prefetchInRender&&!mi&&g$(u,n)){const m=l?eb(o,c,a):(x=s.getQueryCache().get(o.queryHash))==null?void 0:x.promise;m==null||m.catch(Dt).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function be(e,t){return x$(e,ZE)}function v$(e,t){const r=Nc(),[n]=O.useState(()=>new a$(r,e));O.useEffect(()=>{n.setOptions(e)},[n,e]);const a=O.useSyncExternalStore(O.useCallback(o=>n.subscribe(dt.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=O.useCallback((o,l)=>{n.mutate(o,l).catch(Dt)},[n]);if(a.error&&V_(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:s,mutateAsync:a.mutate}}/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cl(){return Cl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cl.apply(this,arguments)}var ca;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ca||(ca={}));const tb="popstate";function b$(e){e===void 0&&(e={});function t(n,a){let{pathname:s,search:o,hash:l}=n.location;return Fm("",{pathname:s,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:id(a)}return w$(t,r,null,e)}function it(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function px(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function j$(){return Math.random().toString(36).substr(2,8)}function rb(e,t){return{usr:e.state,key:e.key,idx:t}}function Fm(e,t,r,n){return r===void 0&&(r=null),Cl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ro(t):t,{state:r,key:t&&t.key||n||j$()})}function id(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ro(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function w$(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:s=!1}=n,o=a.history,l=ca.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Cl({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=ca.Pop;let m=d(),g=m==null?null:m-u;u=m,c&&c({action:l,location:x.location,delta:g})}function h(m,g){l=ca.Push;let v=Fm(x.location,m,g);u=d()+1;let b=rb(v,u),w=x.createHref(v);try{o.pushState(b,"",w)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;a.location.assign(w)}s&&c&&c({action:l,location:x.location,delta:1})}function p(m,g){l=ca.Replace;let v=Fm(x.location,m,g);u=d();let b=rb(v,u),w=x.createHref(v);o.replaceState(b,"",w),s&&c&&c({action:l,location:x.location,delta:0})}function y(m){let g=a.location.origin!=="null"?a.location.origin:a.location.href,v=typeof m=="string"?m:id(m);return v=v.replace(/ $/,"%20"),it(g,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,g)}let x={get action(){return l},get location(){return e(a,o)},listen(m){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(tb,f),c=m,()=>{a.removeEventListener(tb,f),c=null}},createHref(m){return t(a,m)},createURL:y,encodeLocation(m){let g=y(m);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:p,go(m){return o.go(m)}};return x}var nb;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(nb||(nb={}));function N$(e,t,r){return r===void 0&&(r="/"),_$(e,t,r)}function _$(e,t,r,n){let a=typeof t=="string"?ro(t):t,s=mx(a.pathname||"/",r);if(s==null)return null;let o=eS(e);S$(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=D$(s);l=M$(o[c],u)}return l}function eS(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(it(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=ba([n,c.relativePath]),d=r.concat(c);s.children&&s.children.length>0&&(it(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),eS(s.children,t,d,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:$$(u,s.index),routesMeta:d})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))a(s,o);else for(let c of tS(s.path))a(s,o,c)}),t}function tS(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let o=tS(n.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function S$(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:T$(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const O$=/^:[\w-]+$/,C$=3,P$=2,A$=1,k$=10,E$=-2,ab=e=>e==="*";function $$(e,t){let r=e.split("/"),n=r.length;return r.some(ab)&&(n+=E$),t&&(n+=P$),r.filter(a=>!ab(a)).reduce((a,s)=>a+(O$.test(s)?C$:s===""?A$:k$),n)}function T$(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function M$(e,t,r){let{routesMeta:n}=e,a={},s="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=s==="/"?t:t.slice(s.length)||"/",f=I$({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:ba([s,f.pathname]),pathnameBase:U$(ba([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=ba([s,f.pathnameBase]))}return o}function I$(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=R$(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],o=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let x=l[f]||"";o=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const y=l[f];return p&&!y?u[h]=void 0:u[h]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function R$(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),px(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function D$(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return px(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function mx(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const L$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,F$=e=>L$.test(e);function B$(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?ro(e):e,s;if(r)if(F$(r))s=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),px(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?s=ib(r.substring(1),"/"):s=ib(r,t)}else s=t;return{pathname:s,search:W$(n),hash:H$(a)}}function ib(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Xh(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function z$(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function rS(e,t){let r=z$(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function nS(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=ro(e):(a=Cl({},e),it(!a.pathname||!a.pathname.includes("?"),Xh("?","pathname","search",a)),it(!a.pathname||!a.pathname.includes("#"),Xh("#","pathname","hash",a)),it(!a.search||!a.search.includes("#"),Xh("#","search","hash",a)));let s=e===""||a.pathname==="",o=s?"/":a.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=B$(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const ba=e=>e.join("/").replace(/\/\/+/g,"/"),U$=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),W$=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,H$=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function V$(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const aS=["post","put","patch","delete"];new Set(aS);const K$=["get",...aS];new Set(K$);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pl(){return Pl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pl.apply(this,arguments)}const gx=O.createContext(null),q$=O.createContext(null),Si=O.createContext(null),Of=O.createContext(null),Aa=O.createContext({outlet:null,matches:[],isDataRoute:!1}),iS=O.createContext(null);function G$(e,t){let{relative:r}=t===void 0?{}:t;_c()||it(!1);let{basename:n,navigator:a}=O.useContext(Si),{hash:s,pathname:o,search:l}=oS(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:ba([n,o])),a.createHref({pathname:c,search:l,hash:s})}function _c(){return O.useContext(Of)!=null}function Sc(){return _c()||it(!1),O.useContext(Of).location}function sS(e){O.useContext(Si).static||O.useLayoutEffect(e)}function X$(){let{isDataRoute:e}=O.useContext(Aa);return e?lT():Q$()}function Q$(){_c()||it(!1);let e=O.useContext(gx),{basename:t,future:r,navigator:n}=O.useContext(Si),{matches:a}=O.useContext(Aa),{pathname:s}=Sc(),o=JSON.stringify(rS(a,r.v7_relativeSplatPath)),l=O.useRef(!1);return sS(()=>{l.current=!0}),O.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=nS(u,JSON.parse(o),s,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:ba([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,s,e])}function yx(){let{matches:e}=O.useContext(Aa),t=e[e.length-1];return t?t.params:{}}function oS(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=O.useContext(Si),{matches:a}=O.useContext(Aa),{pathname:s}=Sc(),o=JSON.stringify(rS(a,n.v7_relativeSplatPath));return O.useMemo(()=>nS(e,JSON.parse(o),s,r==="path"),[e,o,s,r])}function Y$(e,t){return Z$(e,t)}function Z$(e,t,r,n){_c()||it(!1);let{navigator:a}=O.useContext(Si),{matches:s}=O.useContext(Aa),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Sc(),d;if(t){var f;let m=typeof t=="string"?ro(t):t;c==="/"||(f=m.pathname)!=null&&f.startsWith(c)||it(!1),d=m}else d=u;let h=d.pathname||"/",p=h;if(c!=="/"){let m=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(m.length).join("/")}let y=N$(e,{pathname:p}),x=nT(y&&y.map(m=>Object.assign({},m,{params:Object.assign({},l,m.params),pathname:ba([c,a.encodeLocation?a.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?c:ba([c,a.encodeLocation?a.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),s,r,n);return t&&x?O.createElement(Of.Provider,{value:{location:Pl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ca.Pop}},x):x}function J$(){let e=oT(),t=V$(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},t),r?O.createElement("pre",{style:a},r):null,null)}const eT=O.createElement(J$,null);class tT extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?O.createElement(Aa.Provider,{value:this.props.routeContext},O.createElement(iS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function rT(e){let{routeContext:t,match:r,children:n}=e,a=O.useContext(gx);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),O.createElement(Aa.Provider,{value:t},n)}function nT(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||it(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=r,y=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||y){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let p,y=!1,x=null,m=null;r&&(p=l&&f.route.id?l[f.route.id]:void 0,x=f.route.errorElement||eT,c&&(u<0&&h===0?(cT("route-fallback"),y=!0,m=null):u===h&&(y=!0,m=f.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,h+1)),v=()=>{let b;return p?b=x:y?b=m:f.route.Component?b=O.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,O.createElement(rT,{match:f,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:b})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?O.createElement(tT,{location:r.location,revalidation:r.revalidation,component:x,error:p,children:v(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):v()},null)}var lS=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(lS||{}),cS=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(cS||{});function aT(e){let t=O.useContext(gx);return t||it(!1),t}function iT(e){let t=O.useContext(q$);return t||it(!1),t}function sT(e){let t=O.useContext(Aa);return t||it(!1),t}function uS(e){let t=sT(),r=t.matches[t.matches.length-1];return r.route.id||it(!1),r.route.id}function oT(){var e;let t=O.useContext(iS),r=iT(),n=uS();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function lT(){let{router:e}=aT(lS.UseNavigateStable),t=uS(cS.UseNavigateStable),r=O.useRef(!1);return sS(()=>{r.current=!0}),O.useCallback(function(a,s){s===void 0&&(s={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Pl({fromRouteId:t},s)))},[e,t])}const sb={};function cT(e,t,r){sb[e]||(sb[e]=!0)}function uT(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Tt(e){it(!1)}function dT(e){let{basename:t="/",children:r=null,location:n,navigationType:a=ca.Pop,navigator:s,static:o=!1,future:l}=e;_c()&&it(!1);let c=t.replace(/^\/*/,"/"),u=O.useMemo(()=>({basename:c,navigator:s,static:o,future:Pl({v7_relativeSplatPath:!1},l)}),[c,l,s,o]);typeof n=="string"&&(n=ro(n));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:y="default"}=n,x=O.useMemo(()=>{let m=mx(d,c);return m==null?null:{location:{pathname:m,search:f,hash:h,state:p,key:y},navigationType:a}},[c,d,f,h,p,y,a]);return x==null?null:O.createElement(Si.Provider,{value:u},O.createElement(Of.Provider,{children:r,value:x}))}function fT(e){let{children:t,location:r}=e;return Y$(Bm(t),r)}new Promise(()=>{});function Bm(e,t){t===void 0&&(t=[]);let r=[];return O.Children.forEach(e,(n,a)=>{if(!O.isValidElement(n))return;let s=[...t,a];if(n.type===O.Fragment){r.push.apply(r,Bm(n.props.children,s));return}n.type!==Tt&&it(!1),!n.props.index||!n.props.children||it(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Bm(n.props.children,s)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zm(){return zm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zm.apply(this,arguments)}function hT(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function pT(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function mT(e,t){return e.button===0&&(!t||t==="_self")&&!pT(e)}const gT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],yT="6";try{window.__reactRouterVersion=yT}catch{}const xT="startTransition",ob=CA[xT];function vT(e){let{basename:t,children:r,future:n,window:a}=e,s=O.useRef();s.current==null&&(s.current=b$({window:a,v5Compat:!0}));let o=s.current,[l,c]=O.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=O.useCallback(f=>{u&&ob?ob(()=>c(f)):c(f)},[c,u]);return O.useLayoutEffect(()=>o.listen(d),[o,d]),O.useEffect(()=>uT(n),[n]),O.createElement(dT,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const bT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rt=O.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:s,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=hT(t,gT),{basename:p}=O.useContext(Si),y,x=!1;if(typeof u=="string"&&jT.test(u)&&(y=u,bT))try{let b=new URL(window.location.href),w=u.startsWith("//")?new URL(b.protocol+u):new URL(u),j=mx(w.pathname,p);w.origin===b.origin&&j!=null?u=j+w.search+w.hash:x=!0}catch{}let m=G$(u,{relative:a}),g=wT(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f});function v(b){n&&n(b),b.defaultPrevented||g(b)}return O.createElement("a",zm({},h,{href:y||m,onClick:x||s?n:v,ref:r,target:c}))});var lb;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(lb||(lb={}));var cb;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(cb||(cb={}));function wT(e,t){let{target:r,replace:n,state:a,preventScrollReset:s,relative:o,viewTransition:l}=t===void 0?{}:t,c=X$(),u=Sc(),d=oS(e,{relative:o});return O.useCallback(f=>{if(mT(f,r)){f.preventDefault();let h=n!==void 0?n:id(u)===id(d);c(e,{replace:h,state:a,preventScrollReset:s,relative:o,viewTransition:l})}},[u,c,d,n,a,r,e,s,o,l])}function dS(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=dS(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Se(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=dS(e))&&(n&&(n+=" "),n+=t);return n}const xx="-",NT=e=>{const t=ST(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(xx);return l[0]===""&&l.length!==1&&l.shift(),fS(l,t)||_T(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},fS=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?fS(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const s=e.join(xx);return(o=t.validators.find(({validator:l})=>l(s)))==null?void 0:o.classGroupId},ub=/^\[(.+)\]$/,_T=e=>{if(ub.test(e)){const t=ub.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},ST=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return CT(Object.entries(e.classGroups),r).forEach(([s,o])=>{Um(o,n,s,t)}),n},Um=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const s=a===""?t:db(t,a);s.classGroupId=r;return}if(typeof a=="function"){if(OT(a)){Um(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([s,o])=>{Um(o,db(t,s),r,n)})})},db=(e,t)=>{let r=e;return t.split(xx).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},OT=e=>e.isThemeGetter,CT=(e,t)=>t?e.map(([r,n])=>{const a=n.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[t+o,l])):s);return[r,a]}):e,PT=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(s,o)=>{r.set(s,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(s){let o=r.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return a(s,o),o},set(s,o){r.has(s)?r.set(s,o):a(s,o)}}},hS="!",AT=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],s=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let m=0;m<l.length;m++){let g=l[m];if(u===0){if(g===a&&(n||l.slice(m,m+s)===t)){c.push(l.slice(d,m)),d=m+s;continue}if(g==="/"){f=m;continue}}g==="["?u++:g==="]"&&u--}const h=c.length===0?l:l.substring(d),p=h.startsWith(hS),y=p?h.substring(1):h,x=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:y,maybePostfixModifierPosition:x}};return r?l=>r({className:l,parseClassName:o}):o},kT=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},ET=e=>({cache:PT(e.cacheSize),parseClassName:AT(e),...NT(e)}),$T=/\s+/,TT=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,s=[],o=e.trim().split($T);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(u);let y=!!p,x=n(y?h.substring(0,p):h);if(!x){if(!y){l=u+(l.length>0?" "+l:l);continue}if(x=n(h),!x){l=u+(l.length>0?" "+l:l);continue}y=!1}const m=kT(d).join(":"),g=f?m+hS:m,v=g+x;if(s.includes(v))continue;s.push(v);const b=a(x,y);for(let w=0;w<b.length;++w){const j=b[w];s.push(g+j)}l=u+(l.length>0?" "+l:l)}return l};function MT(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=pS(t))&&(n&&(n+=" "),n+=r);return n}const pS=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=pS(e[n]))&&(r&&(r+=" "),r+=t);return r};function IT(e,...t){let r,n,a,s=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=ET(u),n=r.cache.get,a=r.cache.set,s=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=TT(c,r);return a(c,d),d}return function(){return s(MT.apply(null,arguments))}}const Be=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},mS=/^\[(?:([a-z-]+):)?(.+)\]$/i,RT=/^\d+\/\d+$/,DT=new Set(["px","full","screen"]),LT=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,FT=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,BT=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,zT=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,UT=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,cn=e=>ns(e)||DT.has(e)||RT.test(e),Wn=e=>no(e,"length",QT),ns=e=>!!e&&!Number.isNaN(Number(e)),Qh=e=>no(e,"number",ns),Po=e=>!!e&&Number.isInteger(Number(e)),WT=e=>e.endsWith("%")&&ns(e.slice(0,-1)),de=e=>mS.test(e),Hn=e=>LT.test(e),HT=new Set(["length","size","percentage"]),VT=e=>no(e,HT,gS),KT=e=>no(e,"position",gS),qT=new Set(["image","url"]),GT=e=>no(e,qT,ZT),XT=e=>no(e,"",YT),Ao=()=>!0,no=(e,t,r)=>{const n=mS.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},QT=e=>FT.test(e)&&!BT.test(e),gS=()=>!1,YT=e=>zT.test(e),ZT=e=>UT.test(e),JT=()=>{const e=Be("colors"),t=Be("spacing"),r=Be("blur"),n=Be("brightness"),a=Be("borderColor"),s=Be("borderRadius"),o=Be("borderSpacing"),l=Be("borderWidth"),c=Be("contrast"),u=Be("grayscale"),d=Be("hueRotate"),f=Be("invert"),h=Be("gap"),p=Be("gradientColorStops"),y=Be("gradientColorStopPositions"),x=Be("inset"),m=Be("margin"),g=Be("opacity"),v=Be("padding"),b=Be("saturate"),w=Be("scale"),j=Be("sepia"),N=Be("skew"),_=Be("space"),S=Be("translate"),C=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto",de,t],T=()=>[de,t],W=()=>["",cn,Wn],z=()=>["auto",ns,de],L=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],M=()=>["solid","dashed","dotted","double","none"],U=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],P=()=>["start","end","center","between","around","evenly","stretch"],R=()=>["","0",de],k=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>[ns,de];return{cacheSize:500,separator:":",theme:{colors:[Ao],spacing:[cn,Wn],blur:["none","",Hn,de],brightness:B(),borderColor:[e],borderRadius:["none","","full",Hn,de],borderSpacing:T(),borderWidth:W(),contrast:B(),grayscale:R(),hueRotate:B(),invert:R(),gap:T(),gradientColorStops:[e],gradientColorStopPositions:[WT,Wn],inset:E(),margin:E(),opacity:B(),padding:T(),saturate:B(),scale:B(),sepia:R(),skew:B(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",de]}],container:["container"],columns:[{columns:[Hn]}],"break-after":[{"break-after":k()}],"break-before":[{"break-before":k()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...L(),de]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Po,de]}],basis:[{basis:E()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",de]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",Po,de]}],"grid-cols":[{"grid-cols":[Ao]}],"col-start-end":[{col:["auto",{span:["full",Po,de]},de]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[Ao]}],"row-start-end":[{row:["auto",{span:[Po,de]},de]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",de]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",de]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...P()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...P(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...P(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[m]}],mx:[{mx:[m]}],my:[{my:[m]}],ms:[{ms:[m]}],me:[{me:[m]}],mt:[{mt:[m]}],mr:[{mr:[m]}],mb:[{mb:[m]}],ml:[{ml:[m]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",de,t]}],"min-w":[{"min-w":[de,t,"min","max","fit"]}],"max-w":[{"max-w":[de,t,"none","full","min","max","fit","prose",{screen:[Hn]},Hn]}],h:[{h:[de,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[de,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[de,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[de,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Hn,Wn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Qh]}],"font-family":[{font:[Ao]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",de]}],"line-clamp":[{"line-clamp":["none",ns,Qh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",cn,de]}],"list-image":[{"list-image":["none",de]}],"list-style-type":[{list:["none","disc","decimal",de]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...M(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",cn,Wn]}],"underline-offset":[{"underline-offset":["auto",cn,de]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",de]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",de]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...L(),KT]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",VT]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},GT]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...M(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:M()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...M()]}],"outline-offset":[{"outline-offset":[cn,de]}],"outline-w":[{outline:[cn,Wn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[cn,Wn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Hn,XT]}],"shadow-color":[{shadow:[Ao]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...U(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":U()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Hn,de]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",de]}],duration:[{duration:B()}],ease:[{ease:["linear","in","out","in-out",de]}],delay:[{delay:B()}],animate:[{animate:["none","spin","ping","pulse","bounce",de]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[Po,de]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",de]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",de]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",de]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[cn,Wn,Qh]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},e5=IT(JT);function ce(...e){return e5(Se(e))}function X(e,t="EUR"){if(e==null)return"-";const r=Object.is(e,-0)||e>-.005&&e<0?0:e;return new Intl.NumberFormat("en-US",{style:"currency",currency:t,minimumFractionDigits:2,maximumFractionDigits:2}).format(r)}function ft(e,t=1){if(e==null)return"-";const r=e.toFixed(t);return`${r.startsWith("-0.")&&parseFloat(r)===0?r.slice(1):r}%`}function ye(e){return e==null?"-":e>=1e6?`${(e/1e6).toFixed(1)}M`:e>=1e3?`${(e/1e3).toFixed(1)}K`:e.toLocaleString()}function Cf(e){return e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"-"}function yS(e){return e?new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-"}/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var t5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r5=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ie=(e,t)=>{const r=O.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>O.createElement("svg",{ref:d,...t5,width:a,height:a,stroke:n,strokeWidth:o?Number(s)*24/Number(a):s,className:["lucide",`lucide-${r5(e)}`,l].join(" "),...u},[...t.map(([f,h])=>O.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sd=ie("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=ie("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=ie("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n5=ie("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a5=ie("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=ie("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i5=ie("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=ie("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pf=ie("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=ie("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=ie("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Al=ie("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=ie("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=ie("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=ie("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s5=ie("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o5=ie("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l5=ie("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=ie("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=ie("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c5=ie("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u5=ie("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=ie("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=ie("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d5=ie("FileWarning",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f5=ie("FileX",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m14.5 12.5-5 5",key:"b62r18"}],["path",{d:"m9.5 12.5 5 5",key:"1rk7el"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Af=ie("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=ie("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=ie("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=ie("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h5=ie("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p5=ie("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=ie("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m5=ie("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g5=ie("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y5=ie("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=ie("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=ie("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=ie("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=ie("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=ie("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=ie("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=ie("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x5=ie("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v5=ie("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b5=ie("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=ie("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j5=ie("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OS=ie("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=ie("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=ie("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w5=ie("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N5=ie("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _5=ie("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S5=ie("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O5=ie("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=ie("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=ie("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),C5={},pb=e=>{let t;const r=new Set,n=(d,f)=>{const h=typeof d=="function"?d(t):d;if(!Object.is(h,t)){const p=t;t=f??(typeof h!="object"||h===null)?h:Object.assign({},t,h),r.forEach(y=>y(t,p))}},a=()=>t,c={setState:n,getState:a,getInitialState:()=>u,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{(C5?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=t=e(n,a,c);return c},P5=e=>e?pb(e):pb;var CS={exports:{}},PS={},AS={exports:{}},kS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cs=O;function A5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var k5=typeof Object.is=="function"?Object.is:A5,E5=Cs.useState,$5=Cs.useEffect,T5=Cs.useLayoutEffect,M5=Cs.useDebugValue;function I5(e,t){var r=t(),n=E5({inst:{value:r,getSnapshot:t}}),a=n[0].inst,s=n[1];return T5(function(){a.value=r,a.getSnapshot=t,Yh(a)&&s({inst:a})},[e,r,t]),$5(function(){return Yh(a)&&s({inst:a}),e(function(){Yh(a)&&s({inst:a})})},[e]),M5(r),r}function Yh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!k5(e,r)}catch{return!0}}function R5(e,t){return t()}var D5=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?R5:I5;kS.useSyncExternalStore=Cs.useSyncExternalStore!==void 0?Cs.useSyncExternalStore:D5;AS.exports=kS;var L5=AS.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kf=O,F5=L5;function B5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var z5=typeof Object.is=="function"?Object.is:B5,U5=F5.useSyncExternalStore,W5=kf.useRef,H5=kf.useEffect,V5=kf.useMemo,K5=kf.useDebugValue;PS.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var s=W5(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=V5(function(){function c(p){if(!u){if(u=!0,d=p,p=n(p),a!==void 0&&o.hasValue){var y=o.value;if(a(y,p))return f=y}return f=p}if(y=f,z5(d,p))return y;var x=n(p);return a!==void 0&&a(y,x)?(d=p,y):(d=p,f=x)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,a]);var l=U5(e,s[0],s[1]);return H5(function(){o.hasValue=!0,o.value=l},[l]),K5(l),l};CS.exports=PS;var q5=CS.exports;const G5=Me(q5),ES={},{useDebugValue:X5}=I,{useSyncExternalStoreWithSelector:Q5}=G5;let mb=!1;const Y5=e=>e;function Z5(e,t=Y5,r){(ES?"production":void 0)!=="production"&&r&&!mb&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),mb=!0);const n=Q5(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return X5(n),n}const J5=e=>{(ES?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?P5(e):e,r=(n,a)=>Z5(t,n,a);return Object.assign(r,t),r},eM=e=>J5,tM={};function rM(e,t){let r;try{r=e()}catch{return}return{getItem:a=>{var s;const o=c=>c===null?null:JSON.parse(c,void 0),l=(s=r.getItem(a))!=null?s:null;return l instanceof Promise?l.then(o):o(l)},setItem:(a,s)=>r.setItem(a,JSON.stringify(s,void 0)),removeItem:a=>r.removeItem(a)}}const kl=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return kl(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return kl(n)(r)}}}},nM=(e,t)=>(r,n,a)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:m=>m,version:0,merge:(m,g)=>({...g,...m}),...t},o=!1;const l=new Set,c=new Set;let u;try{u=s.getStorage()}catch{}if(!u)return e((...m)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),r(...m)},n,a);const d=kl(s.serialize),f=()=>{const m=s.partialize({...n()});let g;const v=d({state:m,version:s.version}).then(b=>u.setItem(s.name,b)).catch(b=>{g=b});if(g)throw g;return v},h=a.setState;a.setState=(m,g)=>{h(m,g),f()};const p=e((...m)=>{r(...m),f()},n,a);let y;const x=()=>{var m;if(!u)return;o=!1,l.forEach(v=>v(n()));const g=((m=s.onRehydrateStorage)==null?void 0:m.call(s,n()))||void 0;return kl(u.getItem.bind(u))(s.name).then(v=>{if(v)return s.deserialize(v)}).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==s.version){if(s.migrate)return s.migrate(v.state,v.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return v.state}).then(v=>{var b;return y=s.merge(v,(b=n())!=null?b:p),r(y,!0),f()}).then(()=>{g==null||g(y,void 0),o=!0,c.forEach(v=>v(y))}).catch(v=>{g==null||g(void 0,v)})};return a.persist={setOptions:m=>{s={...s,...m},m.getStorage&&(u=m.getStorage())},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>x(),hasHydrated:()=>o,onHydrate:m=>(l.add(m),()=>{l.delete(m)}),onFinishHydration:m=>(c.add(m),()=>{c.delete(m)})},x(),y||p},aM=(e,t)=>(r,n,a)=>{let s={storage:rM(()=>localStorage),partialize:x=>x,version:0,merge:(x,m)=>({...m,...x}),...t},o=!1;const l=new Set,c=new Set;let u=s.storage;if(!u)return e((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),r(...x)},n,a);const d=()=>{const x=s.partialize({...n()});return u.setItem(s.name,{state:x,version:s.version})},f=a.setState;a.setState=(x,m)=>{f(x,m),d()};const h=e((...x)=>{r(...x),d()},n,a);a.getInitialState=()=>h;let p;const y=()=>{var x,m;if(!u)return;o=!1,l.forEach(v=>{var b;return v((b=n())!=null?b:h)});const g=((m=s.onRehydrateStorage)==null?void 0:m.call(s,(x=n())!=null?x:h))||void 0;return kl(u.getItem.bind(u))(s.name).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==s.version){if(s.migrate)return[!0,s.migrate(v.state,v.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,v.state];return[!1,void 0]}).then(v=>{var b;const[w,j]=v;if(p=s.merge(j,(b=n())!=null?b:h),r(p,!0),w)return d()}).then(()=>{g==null||g(p,void 0),p=n(),o=!0,c.forEach(v=>v(p))}).catch(v=>{g==null||g(void 0,v)})};return a.persist={setOptions:x=>{s={...s,...x},x.storage&&(u=x.storage)},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>y(),hasHydrated:()=>o,onHydrate:x=>(l.add(x),()=>{l.delete(x)}),onFinishHydration:x=>(c.add(x),()=>{c.delete(x)})},s.skipHydration||y(),p||h},iM=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((tM?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),nM(e,t)):aM(e,t),sM=iM,gb="",Ef=eM()(sM((e,t)=>({status:"disconnected",backendUrl:gb,lastChecked:null,error:null,setBackendUrl:r=>{e({backendUrl:r,status:"disconnected",error:null})},setStatus:r=>{e({status:r})},setError:r=>{e({error:r})},checkConnection:async()=>{const{backendUrl:r}=t();if(!r)return e({status:"disconnected",lastChecked:Date.now(),error:null}),!1;e({status:"checking",error:null});try{const n=new AbortController,a=setTimeout(()=>n.abort(),5e3),s=await fetch(`${r}/api/health`,{method:"GET",signal:n.signal});return clearTimeout(a),s.ok?(e({status:"connected",lastChecked:Date.now(),error:null}),!0):(e({status:"disconnected",lastChecked:Date.now(),error:`Backend returned status ${s.status}`}),!1)}catch(n){const a=n instanceof Error?n.message:"Connection failed";return e({status:"disconnected",lastChecked:Date.now(),error:a}),!1}},resetToDefault:()=>{e({backendUrl:gb,status:"disconnected",error:null})}}),{name:"finalyst-backend",partialize:e=>({backendUrl:e.backendUrl})}));function $f(){return Ef(t=>t.status)!=="connected"}function oM({isOpen:e,onClose:t}){const{backendUrl:r,status:n,error:a,setBackendUrl:s,checkConnection:o,resetToDefault:l}=Ef(),[c,u]=O.useState(r),[d,f]=O.useState(!1),[h,p]=O.useState(null);O.useEffect(()=>{e&&(u(r),p(null))},[e,r]);const y=async()=>{if(!c.trim()){p("error");return}f(!0),p(null);try{const g=new AbortController,v=setTimeout(()=>g.abort(),5e3),b=await fetch(`${c.trim()}/api/health`,{method:"GET",signal:g.signal});clearTimeout(v),p(b.ok?"success":"error")}catch{p("error")}finally{f(!1)}},x=async()=>{s(c.trim()),await o(),t()},m=()=>{l(),u(""),p(null)};return e?i.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[i.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:t}),i.jsxs("div",{className:"relative w-full max-w-lg bg-white rounded-xl shadow-2xl",children:[i.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:i.jsx(v5,{className:"w-5 h-5 text-blue-600"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Backend Connection"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Configure the backend API URL"})]})]}),i.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:i.jsx(Yt,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"px-6 py-4 space-y-4",children:[i.jsxs("div",{className:`p-3 rounded-lg ${n==="connected"?"bg-green-50 border border-green-200":"bg-gray-50 border border-gray-200"}`,children:[i.jsx("div",{className:"flex items-center gap-2",children:n==="connected"?i.jsxs(i.Fragment,{children:[i.jsx(Al,{className:"w-4 h-4 text-green-600"}),i.jsx("span",{className:"text-sm font-medium text-green-700",children:"Currently connected"})]}):n==="checking"?i.jsxs(i.Fragment,{children:[i.jsx(Fe,{className:"w-4 h-4 text-blue-600 animate-spin"}),i.jsx("span",{className:"text-sm font-medium text-blue-700",children:"Checking connection..."})]}):i.jsxs(i.Fragment,{children:[i.jsx(sd,{className:"w-4 h-4 text-gray-500"}),i.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Not connected - read-only mode"})]})}),a&&i.jsx("p",{className:"mt-1 text-xs text-red-600",children:a})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Backend API URL"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"text",value:c,onChange:g=>{u(g.target.value),p(null)},placeholder:"https://api.example.com",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),i.jsx("button",{onClick:y,disabled:d||!c.trim(),className:"px-4 py-2 text-sm font-medium text-blue-600 border border-blue-300 rounded-lg hover:bg-blue-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:d?i.jsx(Fe,{className:"w-4 h-4 animate-spin"}):"Test"})]}),i.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Enter the base URL of your backend API (without /api/health)"}),h&&i.jsx("div",{className:`mt-2 flex items-center gap-2 text-sm ${h==="success"?"text-green-600":"text-red-600"}`,children:h==="success"?i.jsxs(i.Fragment,{children:[i.jsx(Al,{className:"w-4 h-4"}),"Connection successful"]}):i.jsxs(i.Fragment,{children:[i.jsx(sd,{className:"w-4 h-4"}),"Connection failed - check URL and try again"]})})]}),i.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg text-xs text-gray-600",children:[i.jsx("p",{className:"font-medium mb-1",children:"When connected:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-0.5",children:[i.jsx("li",{children:"Full UI functionality is available"}),i.jsx("li",{children:"Settings can be modified and saved"}),i.jsx("li",{children:"Experiments can be created and run"}),i.jsx("li",{children:"Transaction search is enabled"})]})]})]}),i.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-gray-50 rounded-b-xl",children:[i.jsxs("button",{onClick:m,className:"flex items-center gap-2 px-3 py-2 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[i.jsx(bx,{className:"w-4 h-4"}),"Reset to Default"]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:t,className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),i.jsx("button",{onClick:x,className:"px-4 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Save & Connect"})]})]})]})]}):null}const lM=[{name:"Reports",href:"/",icon:ao},{name:"Merchants",href:"/merchants",icon:OS},{name:"Transactions",href:"/transactions",icon:NS},{name:"Experiments",href:"/experiments",icon:Af}];function cM({status:e,onClick:t}){const r={connected:{icon:S5,bg:"bg-green-50",iconColor:"text-green-600",textColor:"text-green-700",label:"Connected"},disconnected:{icon:_5,bg:"bg-gray-50",iconColor:"text-gray-400",textColor:"text-gray-500",label:"Offline"},checking:{icon:Fe,bg:"bg-blue-50",iconColor:"text-blue-600",textColor:"text-blue-700",label:"Checking..."}}[e],n=r.icon;return i.jsxs("button",{onClick:t,className:ce("w-full flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-colors",r.bg,"hover:opacity-80"),title:e==="connected"?"Click to configure":"Click to connect",children:[i.jsx(n,{className:ce("h-5 w-5",r.iconColor,e==="checking"&&"animate-spin")}),i.jsx("span",{className:r.textColor,children:r.label})]})}function uM({currentPath:e}){const[t,r]=O.useState(!1),{status:n,checkConnection:a}=Ef(),s=async()=>{n!=="checking"&&(n==="disconnected"&&await a()||r(!0))};return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-gray-200 space-y-2",children:[i.jsx(cM,{status:n,onClick:s}),i.jsxs(rt,{to:"/settings",className:ce("flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-colors",e==="/settings"?"bg-primary-50 text-primary-700":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"),children:[i.jsx(jx,{className:"h-5 w-5"}),"Settings"]})]}),i.jsx(oM,{isOpen:t,onClose:()=>r(!1)})]})}function dM({children:e}){const t=Sc(),[r,n]=O.useState([]),[a,s]=O.useState(""),[o,l]=O.useState(!1),[c,u]=O.useState(!0),[d,f]=O.useState(!1);O.useEffect(()=>{async function y(){try{const x=await fetch("/api/client/versions");if(x.ok){const m=await x.json();n(m.versions),s(m.current)}}catch(x){console.error("Failed to fetch versions:",x)}finally{u(!1)}}y()},[]);async function h(y){if(!(y===a||d)){f(!0);try{(await fetch("/api/version",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({version:y})})).ok&&window.location.reload()}catch(x){console.error("Failed to switch version:",x)}finally{f(!1),l(!1)}}}const p=r.find(y=>y.id===a);return i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsxs("aside",{className:"fixed inset-y-0 left-0 z-50 w-64 bg-white border-r border-gray-200",children:[i.jsx("div",{className:"flex h-16 items-center px-6 border-b border-gray-200",children:i.jsx("img",{src:"/logo.svg",alt:"Finalyst",className:"h-8"})}),i.jsx("div",{className:"p-4 border-b border-gray-100",children:i.jsxs("div",{className:"relative",children:[i.jsxs("button",{onClick:()=>l(!o),disabled:c||d||r.length<=1,className:ce("w-full flex items-center justify-between gap-2 px-3 py-2 bg-gray-50 rounded-lg transition-colors",r.length>1?"hover:bg-gray-100 cursor-pointer":"cursor-default",(c||d)&&"opacity-50"),children:[i.jsxs("div",{className:"flex items-center gap-2",children:[d?i.jsx(Fe,{className:"h-4 w-4 text-gray-500 animate-spin"}):i.jsx(vx,{className:"h-4 w-4 text-gray-500"}),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:c?"Loading...":(p==null?void 0:p.name)||a||"Mainline"})]}),r.length>1&&i.jsx(Xe,{className:ce("h-4 w-4 text-gray-400 transition-transform",o&&"rotate-180")})]}),o&&r.length>1&&i.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-10 py-1",children:r.map(y=>i.jsxs("button",{onClick:()=>h(y.id),disabled:d,className:ce("w-full text-left px-3 py-2 hover:bg-gray-50",a===y.id&&"bg-blue-50"),children:[i.jsx("div",{className:"text-sm font-medium text-gray-700",children:y.name}),y.description&&i.jsx("div",{className:"text-xs text-gray-500",children:y.description})]},y.id))})]})}),i.jsx("nav",{className:"flex flex-col gap-1 p-4",children:lM.map(y=>{const x=t.pathname===y.href;return i.jsxs(rt,{to:y.href,className:ce("flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-colors",x?"bg-primary-50 text-primary-700":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"),children:[i.jsx(y.icon,{className:"h-5 w-5"}),y.name]},y.name)})}),i.jsx(uM,{currentPath:t.pathname})]}),i.jsx("main",{className:"pl-64",children:i.jsx("div",{className:"p-8",children:e})})]})}const $S="/api";async function Pe(e,t){const r=await fetch(`${$S}${e}`,{...t,headers:{"Content-Type":"application/json",...t==null?void 0:t.headers}});if(!r.ok){const n=await r.json().catch(()=>({detail:"Request failed"}));throw new Error(n.detail||"Request failed")}return r.json()}const ue={health:()=>Pe("/health"),searchTransactions:e=>Pe(`/transactions/search?q=${encodeURIComponent(e)}`),getTransaction:e=>Pe(`/transactions/${e}`),getTransactionWhy:e=>Pe(`/transactions/${e}/why`),refreshTransaction:e=>Pe(`/transactions/${e}/refresh`,{method:"POST"}),getMerchants:()=>Pe("/merchants"),getMerchant:e=>Pe(`/merchants/${e}`),getMerchantMonthly:e=>Pe(`/merchants/${e}/monthly`),getMerchantDynamics:e=>Pe(`/merchants/${e}/dynamics`),getPlanDailyData:(e,t,r)=>Pe(`/merchants/${e}/plan-daily?plan_id=${encodeURIComponent(t)}&month=${r}`),getPlanDynamics:(e,t)=>Pe(`/merchants/${e}/plan-dynamics/${encodeURIComponent(t)}`),getMerchantRatePlanAnalysis:(e,t,r)=>{const n=new URLSearchParams;r&&n.append("contract_id",r),t&&(t.rate_precision!==void 0&&n.append("rate_precision",String(t.rate_precision)),t.fixed_tolerance!==void 0&&n.append("fixed_tolerance",String(t.fixed_tolerance)),t.match_tolerance!==void 0&&n.append("match_tolerance",String(t.match_tolerance)),t.min_confidence!==void 0&&n.append("min_confidence",String(t.min_confidence)),t.max_variants!==void 0&&n.append("max_variants",String(t.max_variants)),t.min_period_days!==void 0&&n.append("min_period_days",String(t.min_period_days)),t.min_transactions!==void 0&&n.append("min_transactions",String(t.min_transactions)),t.prefer_lower_rate!==void 0&&n.append("prefer_lower_rate",String(t.prefer_lower_rate)));const a=n.toString();return Pe(`/merchants/${e}/rate-plan-analysis${a?"?"+a:""}`)},refreshMerchant:e=>Pe(`/merchants/${e}/refresh`,{method:"POST"}),recreateRatePlans:e=>Pe(`/merchants/${e}/recreate-rate-plans`,{method:"POST"}),applyContractRates:e=>Pe(`/merchants/${e}/apply-contract-rates`,{method:"POST"}),getMerchantAnalysisConfig:e=>Pe(`/merchants/${e}/analysis-config`),saveMerchantAnalysisConfig:(e,t)=>Pe(`/merchants/${e}/analysis-config`,{method:"PUT",body:JSON.stringify(t)}),getContracts:e=>Pe(`/contracts/${e}`),getContract:(e,t)=>Pe(`/contracts/${e}/${encodeURIComponent(t)}`),uploadContract:async(e,t)=>{const r=new FormData;r.append("file",t);const n=await fetch(`${$S}/contracts/convert?merchant_id=${e}`,{method:"POST",body:r});if(!n.ok){const a=await n.json().catch(()=>({detail:"Upload failed"}));throw new Error(a.detail||"Upload failed")}return n.json()},deleteContract:(e,t)=>Pe(`/contracts/${e}/${encodeURIComponent(t)}`,{method:"DELETE"}),getPlanStats:(e,t)=>Pe(`/merchants/${e}/plan-stats/${encodeURIComponent(t)}`),getContractPlans:e=>Pe(`/merchants/${e}/contract-plans`),getContractMapping:(e,t,r,n=!1)=>Pe(`/contracts/${e}/${encodeURIComponent(t)}/mapping`,{method:"POST",body:JSON.stringify({fees:r,force_recalculate:n})}),testFormula:(e,t,r,n,a=.05)=>Pe(`/merchants/${e}/test-formula/${encodeURIComponent(t)}?rate=${r}&fixed=${n}&tolerance=${a}`),getReportsList:()=>Pe("/reports/list"),getDeviationReport:()=>Pe("/reports/deviation"),getUnderpaymentReport:()=>Pe("/reports/deviation/underpay"),getContractMismatchReport:()=>Pe("/reports/contract-mismatch"),getAnomaliesReport:()=>Pe("/reports/anomalies"),getReconciliationDeviationReport:()=>Pe("/reports/reconciliation-deviation"),getCommissionComplianceReport:()=>Pe("/reports/underpayment-v2")};function oe({children:e,title:t,className:r,actions:n}){return i.jsxs("div",{className:ce("bg-white rounded-xl border border-gray-200 shadow-sm",r),children:[(t||n)&&i.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[t&&i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t}),n&&i.jsx("div",{children:n})]}),i.jsx("div",{className:"p-6",children:e})]})}const fM={TrendingDown:Nx,FileWarning:d5,AlertTriangle:Qt,FileCheck:bS,CheckCircle:Sa};function hM(){const{data:e,isLoading:t}=be({queryKey:["reports","list"],queryFn:ue.getReportsList}),{data:r,isLoading:n}=be({queryKey:["reports","deviation"],queryFn:ue.getDeviationReport}),{data:a,isLoading:s}=be({queryKey:["reports","contract-mismatch"],queryFn:ue.getContractMismatchReport}),{data:o,isLoading:l}=be({queryKey:["reports","anomalies"],queryFn:ue.getAnomaliesReport}),c=t||n||s||l,u=r?{totalLoss:-Object.values(r.merchant_summary).reduce((m,g)=>m+g.underpay_volume,0),transactions:Object.values(r.merchant_summary).reduce((m,g)=>m+g.underpay_count,0)}:null,d=a?{totalDeviation:a.match_quality.total_deviation,transactions:a.match_quality.total,criticalCount:a.match_quality.critical.count}:null,f=o?{zeroCommission:o.zero_commission.total_count,totalAnomalies:o.zero_commission.total_count+o.fixed_fee_mismatch.total_count+o.manual_transactions.total_count}:null,h={"underpayment-analysis":{bg:"bg-red-100",color:"text-red-600"},"contract-mismatch":{bg:"bg-amber-100",color:"text-amber-600"},anomalies:{bg:"bg-purple-100",color:"text-purple-600"},"reconciliation-deviation":{bg:"bg-blue-100",color:"text-blue-600"},"commission-compliance":{bg:"bg-green-100",color:"text-green-600"}},p=m=>{switch(m){case"underpayment-analysis":return u?{totalLoss:u.totalLoss,transactions:u.transactions,criticalIssues:u.totalLoss<-1e3?1:0}:null;case"contract-mismatch":return d?{totalLoss:d.totalDeviation,transactions:d.transactions,criticalIssues:d.criticalCount>1e5?1:0}:null;case"anomalies":return f?{totalLoss:null,transactions:f.totalAnomalies,criticalIssues:f.zeroCommission}:null;default:return null}},y=m=>{switch(m){case"underpayment-analysis":return u&&u.totalLoss<-1e3?"critical":"ok";case"contract-mismatch":return d&&d.criticalCount>1e5?"critical":"ok";case"anomalies":return f&&f.totalAnomalies>1e3?"warning":"ok";default:return"ok"}},x=((e==null?void 0:e.reports)||[]).filter(m=>m.available).map(m=>{var g,v,b;return{id:m.id,title:m.title,description:m.description,icon:fM[m.icon]||Qt,iconBg:((g=h[m.id])==null?void 0:g.bg)||"bg-gray-100",iconColor:((v=h[m.id])==null?void 0:v.color)||"text-gray-600",href:m.href,stats:p(m.id),status:y(m.id),lastUpdated:((b=m.generated_at)==null?void 0:b.split("T")[0])||"-"}});return c?i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(Fe,{className:"h-8 w-8 text-gray-400 animate-spin"})}):i.jsxs("div",{children:[i.jsx("div",{className:"flex items-center justify-between mb-6",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Reports"}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Commission analysis and deviation reports"})]})}),i.jsx("div",{className:"grid grid-cols-1 gap-6",children:x.map(m=>{const g=m.icon;return i.jsx(rt,{to:m.href,className:"block",children:i.jsxs(oe,{className:"hover:shadow-md transition-shadow cursor-pointer",children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:ce("p-3 rounded-lg",m.iconBg),children:i.jsx(g,{className:ce("h-6 w-6",m.iconColor)})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900",children:m.title}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:m.description}),m.stats&&i.jsxs("div",{className:"flex items-center gap-6 mt-4",children:[m.stats.totalLoss!=null&&i.jsxs("div",{children:[i.jsx("div",{className:ce("text-lg font-semibold",m.id==="underpayment-analysis"?"text-red-600":"text-orange-600"),children:X(Math.abs(m.stats.totalLoss))}),i.jsx("div",{className:"text-xs text-gray-500",children:m.id==="underpayment-analysis"?"Revenue Loss":"Total Deviation"})]}),m.stats.transactions>0&&i.jsxs("div",{children:[i.jsx("div",{className:"text-lg font-semibold text-gray-900",children:m.stats.transactions.toLocaleString()}),i.jsx("div",{className:"text-xs text-gray-500",children:"Transactions"})]}),m.stats.criticalIssues>0&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Qt,{className:"h-4 w-4 text-amber-500"}),i.jsxs("span",{className:"text-sm font-medium text-amber-600",children:[m.stats.criticalIssues," ",m.id==="anomalies"?"anomalies":"critical issues"]})]})]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[m.status==="critical"&&i.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-red-100 text-red-700",children:"Needs Attention"}),m.status==="warning"&&i.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-amber-100 text-amber-700",children:"Review Required"}),i.jsx(n5,{className:"h-5 w-5 text-gray-400"})]})]}),i.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 text-xs text-gray-400",children:["Last updated: ",m.lastUpdated]})]})},m.id)})})]})}function pM({title:e,fields:t,isOpen:r,onToggle:n}){return i.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[i.jsxs("button",{onClick:n,className:"w-full px-4 py-2 flex items-center justify-between bg-gray-50 hover:bg-gray-100 transition-colors",children:[i.jsx("span",{className:"font-medium text-gray-700",children:e}),r?i.jsx(Xe,{className:"h-4 w-4 text-gray-400"}):i.jsx(an,{className:"h-4 w-4 text-gray-400"})]}),r&&i.jsx("div",{className:"px-4 py-3 bg-white",children:i.jsx("div",{className:"grid grid-cols-2 gap-x-8 gap-y-2 text-sm",children:t.map(a=>i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:a.label}),i.jsx("span",{className:"font-medium text-gray-900",children:a.value??"-"})]},a.label))})})]})}function mM(){return i.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:i.jsx("div",{className:"px-4 py-2 bg-gray-50",children:i.jsx("div",{className:"h-5 w-32 bg-gray-200 rounded animate-pulse"})})})}function hn({title:e,fields:t,defaultOpen:r=!1,isLoading:n=!1,className:a}){const[s,o]=O.useState(r);return n?i.jsx(mM,{}):i.jsx("div",{className:a,children:i.jsx(pM,{title:e,fields:t,isOpen:s,onToggle:()=>o(!s)})})}const gM={success:"bg-green-100 text-green-700",error:"bg-red-100 text-red-700",warning:"bg-orange-100 text-orange-700",info:"bg-blue-100 text-blue-700",default:"bg-gray-100 text-gray-700"};function TS({children:e,variant:t="default",className:r}){return i.jsx("span",{className:ce("px-2 py-0.5 text-xs font-medium rounded",gM[t],r),children:e})}function yM({status:e}){const t=e==="approved"?"success":e==="declined"?"error":"default";return i.jsx(TS,{variant:t,children:e})}function xM({type:e}){return i.jsx(TS,{variant:"info",children:e})}const Ps=O.forwardRef(({className:e,variant:t="primary",size:r="md",disabled:n,children:a,...s},o)=>i.jsx("button",{ref:o,disabled:n,className:ce("inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2",{"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500":t==="primary","bg-gray-100 text-gray-700 hover:bg-gray-200 focus:ring-gray-500":t==="secondary","text-gray-600 hover:bg-gray-100 hover:text-gray-900 focus:ring-gray-500":t==="ghost","bg-red-600 text-white hover:bg-red-700 focus:ring-red-500":t==="danger","px-3 py-1.5 text-sm":r==="sm","px-4 py-2 text-sm":r==="md","px-6 py-3 text-base":r==="lg","opacity-50 cursor-not-allowed":n},e),...s,children:a}));Ps.displayName="Button";function fe({className:e}){return i.jsx("div",{className:ce("animate-pulse rounded bg-gray-200",e)})}function ru({label:e,value:t,subValue:r,className:n}){return i.jsxs("div",{className:ce("bg-gray-50 rounded-lg p-4",n),children:[i.jsx("div",{className:"text-2xl font-semibold",children:t}),i.jsx("div",{className:"text-sm text-gray-500",children:e}),r&&i.jsx("div",{className:"text-xs text-gray-400 mt-1",children:r})]})}function MS({children:e,columns:t=4,className:r}){const n={2:"grid-cols-2",3:"grid-cols-3",4:"grid-cols-4"};return i.jsx("div",{className:ce("grid gap-4",n[t],r),children:e})}function vM({value:e,onChange:t,onSubmit:r,placeholder:n="Enter transaction_id or order_id...",helpText:a="Enter a transaction UUID or numeric order ID to search",disabled:s=!1}){const o=l=>{l.preventDefault(),s||r()};return i.jsx(oe,{className:"mb-6",children:i.jsxs("form",{onSubmit:o,children:[i.jsxs("div",{className:"relative",children:[i.jsx(x5,{className:`absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 ${s?"text-gray-300":"text-gray-400"}`}),i.jsx("input",{type:"text",value:e,onChange:l=>t(l.target.value),placeholder:s?"Connect to backend to search":n,disabled:s,className:`w-full pl-10 pr-4 py-3 border rounded-lg outline-none ${s?"border-gray-200 bg-gray-50 text-gray-400 cursor-not-allowed":"border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}`})]}),i.jsx("p",{className:"mt-2 text-sm text-gray-500",children:s?"Connect to backend to enable transaction search":a})]})})}function bM({results:e,title:t,count:r}){return i.jsxs("div",{children:[i.jsxs("h2",{className:"text-sm font-medium text-gray-700 mb-3",children:[t,i.jsxs("span",{className:"ml-2 text-gray-400",children:["(",r," found)"]})]}),i.jsx("div",{className:"space-y-2",children:e.map(n=>i.jsx(jM,{transaction:n},n.transaction_id))})]})}function jM({transaction:e}){return i.jsx(rt,{to:`/transaction/${e.transaction_id}`,className:"block",children:i.jsx(oe,{className:"hover:border-gray-300 hover:shadow-md transition-all cursor-pointer",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[i.jsx("span",{className:"font-mono text-sm text-gray-700",children:e.transaction_id}),i.jsx(yM,{status:e.status||"unknown"}),e.transaction_type&&i.jsx(xM,{type:e.transaction_type})]}),i.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[i.jsx("span",{children:X(e.amount_eur)}),e.currency&&e.currency!=="EUR"&&i.jsx("span",{className:"text-orange-600",children:e.currency}),e.card_brand&&i.jsx("span",{children:e.card_brand}),i.jsx("span",{children:yS(e.created_date)}),e.merchant_name&&i.jsx("span",{className:"text-gray-400",children:e.merchant_name})]})]}),i.jsx(an,{className:"h-5 w-5 text-gray-400"})]})})})}function wM({query:e}){return i.jsxs("div",{className:"text-gray-500 text-center py-8",children:['No transactions found for "',e,'"']})}function NM({error:e}){return i.jsxs("div",{className:"text-red-500 text-center py-8",children:["Error: ",e]})}function _M(){return i.jsx("div",{className:"text-gray-500 text-center py-8",children:"Searching..."})}function SM({className:e}){const t=$f(),[r,n]=O.useState(""),[a,s]=O.useState(""),{data:o,isLoading:l,error:c}=be({queryKey:["transactions-search",a],queryFn:()=>ue.searchTransactions(a),enabled:a.length>0}),u=()=>{r.trim()&&s(r.trim())},d=a&&/^\d+$/.test(a),f=()=>d?`Transactions for Order #${a}`:`Results for "${a}"`;return i.jsxs("div",{className:e,children:[i.jsx(vM,{value:r,onChange:n,onSubmit:u,disabled:t}),a&&i.jsx(OM,{isLoading:l,error:c,results:o,query:a,title:f()})]})}function OM({isLoading:e,error:t,results:r,query:n,title:a}){return e?i.jsx(_M,{}):t?i.jsx(NM,{error:t.message}):!r||r.length===0?i.jsx(wM,{query:n}):i.jsx(bM,{results:r,title:a,count:r.length})}function CM({transactionId:e,orderId:t,merchantName:r,backUrl:n="/transactions"}){return i.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[i.jsx(rt,{to:n,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:i.jsx(Ln,{className:"h-5 w-5 text-gray-600"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h1",{className:"text-lg font-semibold text-gray-900 font-mono",children:e}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[i.jsxs("span",{children:["Order #",t]}),i.jsx("span",{children:"-"}),i.jsx("span",{children:r})]})]})]})}function PM(){return i.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[i.jsx(fe,{className:"h-9 w-9 rounded-lg"}),i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsx(fe,{className:"h-6 w-80"}),i.jsx(fe,{className:"h-4 w-48"})]})]})}function AM({appliedPlan:e,transactionId:t,ratePlanId:r,merchantId:n,currency:a,transactionType:s,onSelectPlan:o}){var p;const[l,c]=O.useState(!1),{data:u}=be({queryKey:["contract-plans",n],queryFn:()=>ue.getContractPlans(n),enabled:!!n&&!e&&!!r}),d=u==null?void 0:u.find(y=>y.plan_key===r),f=()=>{if(!e||e.volume_min==null&&e.volume_max==null)return null;const y=g=>g>=1e6?`${(g/1e6).toFixed(0)}M`:g>=1e3?`${(g/1e3).toFixed(0)}K`:g.toFixed(0),x=e.volume_min||0,m=e.volume_max;return m?`${y(x)}-${y(m)}`:`${y(x)}+`},h=(e==null?void 0:e.plan_rate)!=null;return i.jsxs(oe,{title:"Applied Plan",className:"mb-6",children:[e?i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"font-medium text-gray-900",children:e.plan_key}),h&&i.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-0.5 rounded",children:"from contract"})]}),i.jsx("div",{className:"text-sm text-gray-500 mt-1",children:[e.operation_type,e.payment_type,e.currency||e.currency_type,e.region,f()].filter(Boolean).join(" / ")})]}),i.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-1 px-3 py-1.5 text-sm font-medium text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:[i.jsx(io,{className:"h-4 w-4"}),"Why?"]})]}),i.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:"Operation"}),i.jsx("div",{className:"font-medium",children:e.operation_type||"-"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:"Payment Type"}),i.jsx("div",{className:"font-medium",children:e.payment_type||"-"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:"Currency"}),i.jsx("div",{className:"font-medium",children:e.currency||e.currency_type||"-"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:"Region"}),i.jsx("div",{className:"font-medium",children:e.region||"*"})]}),e.apm_type&&i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:"APM Type"}),i.jsx("div",{className:"font-medium",children:e.apm_type})]}),f()&&i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:"Volume Tier"}),i.jsx("div",{className:"font-medium",children:f()})]}),e.traffic_type&&i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:"Traffic Type"}),i.jsx("div",{className:"font-medium",children:e.traffic_type})]}),e.card_brand&&i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:"Card Brand"}),i.jsx("div",{className:"font-medium",children:e.card_brand})]})]}),h&&i.jsx("div",{className:"border-t border-gray-200 mt-4 pt-4",children:i.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm",children:[s==="reversal"||s==="refund"?i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:"Refund Fee"}),i.jsx("div",{className:"font-medium text-green-600",children:e.refund_fee!=null?X(e.refund_fee):"-"})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:"Contract Rate"}),i.jsx("div",{className:"font-medium text-green-600",children:ft(e.plan_rate,2)})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:"Contract Fixed"}),i.jsx("div",{className:"font-medium text-green-600",children:e.plan_fixed!=null?X(e.plan_fixed):"-"})]})]}),e.fx_rate!=null&&e.fx_rate!==1&&i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:"FX Rate"}),i.jsx("div",{className:"font-medium",children:(p=e.fx_rate)==null?void 0:p.toFixed(6)})]})]})})]}):d?i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium text-gray-900",children:d.plan_key}),i.jsx("span",{className:"ml-2 text-xs bg-yellow-100 text-yellow-700 px-2 py-0.5 rounded",children:"From Contract"}),i.jsx("div",{className:"text-sm text-gray-500 mt-1",children:[d.operation_type,d.payment_type,d.currency,d.region].filter(Boolean).join(" / ")})]}),i.jsx(Ps,{variant:"primary",size:"sm",onClick:o,children:"Select Plan"})]}),i.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm mb-4",children:[d.operation_type==="outgoing"?i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:"Payout Rate"}),i.jsx("div",{className:"font-medium",children:ft(d.payout_percent)})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:"Payout Fixed"}),i.jsx("div",{className:"font-medium",children:d.payout_fixed!=null?`${d.payout_fixed} ${a||d.currency||""}`:"-"})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:"WL Rate"}),i.jsx("div",{className:"font-medium",children:ft(d.wl_percent)})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:"Fixed Fee"}),i.jsx("div",{className:"font-medium",children:d.fixed_fee!=null?`${d.fixed_fee} ${a||d.currency||""}`:"-"})]})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:"Exchange Fee"}),i.jsx("div",{className:"font-medium",children:ft(d.exchange_fee_percent)})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:"APM Type"}),i.jsx("div",{className:"font-medium",children:d.apm_type||"-"})]})]}),i.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:"Region"}),i.jsx("div",{className:"font-medium",children:d.region||"-"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:"Currency"}),i.jsx("div",{className:"font-medium",children:d.currency||"-"})]}),d.refund_fee!=null&&i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:"Refund Fee"}),i.jsxs("div",{className:"font-medium",children:[d.refund_fee," ",a||d.currency||""]})]})]})]}):i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-gray-500",children:r?`Plan ID: ${r} (not found in contracts)`:"No plan applied to this transaction"}),i.jsx(Ps,{variant:"primary",size:"sm",onClick:o,children:"Select Plan"})]}),l&&i.jsx(kM,{transactionId:t,onClose:()=>c(!1)})]})}function kM({transactionId:e,onClose:t}){const{data:r,isLoading:n}=be({queryKey:["transaction-why",e],queryFn:()=>ue.getTransactionWhy(e)});return i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-lg w-full mx-4",children:[i.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Why This Plan Was Selected"}),i.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:i.jsx(Yt,{className:"h-5 w-5 text-gray-500"})})]}),i.jsx("div",{className:"p-6",children:n?i.jsx("div",{className:"text-gray-500 text-center py-4",children:"Loading..."}):r&&r.length>0?i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-gray-200",children:[i.jsx("th",{className:"text-left py-2 font-medium text-gray-600",children:"Transaction Field"}),i.jsx("th",{className:"text-left py-2 font-medium text-gray-600",children:"Plan Condition"}),i.jsx("th",{className:"text-center py-2 font-medium text-gray-600",children:"Match"})]})}),i.jsx("tbody",{children:r.map(a=>i.jsxs("tr",{className:"border-b border-gray-100",children:[i.jsxs("td",{className:"py-2",children:[i.jsxs("span",{className:"text-gray-500",children:[a.field,":"]})," ",i.jsx("span",{className:"font-medium",children:a.transaction_value||"-"})]}),i.jsx("td",{className:"py-2",children:a.plan_condition}),i.jsx("td",{className:"py-2 text-center",children:a.match?i.jsx(Al,{className:"h-5 w-5 text-green-500 inline"}):i.jsx(Yt,{className:"h-5 w-5 text-red-500 inline"})})]},a.field))})]}):i.jsx("div",{className:"text-gray-500 text-center py-4",children:"No plan matching explanation available"})})]})})}function EM(){return i.jsxs(oe,{title:"Applied Plan",className:"mb-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{className:"h-5 w-48"}),i.jsx(fe,{className:"h-4 w-32"})]}),i.jsx(fe,{className:"h-8 w-16"})]}),i.jsx("div",{className:"grid grid-cols-4 gap-4",children:[1,2,3,4].map(e=>i.jsxs("div",{children:[i.jsx(fe,{className:"h-4 w-16 mb-1"}),i.jsx(fe,{className:"h-5 w-20"})]},e))})]})}function $M({commissionFields:e,deviation:t,calculation:r,currency:n,isNonEur:a,planFixed:s}){const o=(e==null?void 0:e.comission_eur)!=null,l=[{label:"Commission EUR",value:e==null?void 0:e.comission_eur},{label:`Transaction Commission (${n||"EUR"})`,value:e==null?void 0:e.transaction_comission},{label:"Fixed EUR",value:e==null?void 0:e.fixed_eur},{label:"FX Rate",value:e==null?void 0:e.fx_rate},{label:"FX Date",value:e==null?void 0:e.fx_date}],c=(e==null?void 0:e.fx_rate)||1;let u;const d=t&&t.calculated!=null,h=!((r==null?void 0:r.type)==="refund")&&(t==null?void 0:t.effective_rate)!=null&&(t==null?void 0:t.plan_rate)!=null?t.effective_rate-t.plan_rate:null,p=s!=null&&(e==null?void 0:e.fixed_eur)!=null?e.fixed_eur-s:null,x=t&&Math.abs(t.difference)<.01;if(d)if(a){const m=e==null?void 0:e.transaction_comission,g=t.expected_local??t.calculated*c,v=t.deviation_local??t.difference*c;u=[{label:"Actual",value:`${m==null?void 0:m.toFixed(2)} ${n}`,subLabel:`(${X(e==null?void 0:e.comission_eur)})`},{label:"Calculated",value:`${g==null?void 0:g.toFixed(2)} ${n}`,subLabel:`(${X(t.calculated)})`},{label:"Difference",value:x?`0.00 ${n} (0%)`:`${v>0?"+":""}${v==null?void 0:v.toFixed(2)} ${n} (${t.percent!=null?(t.percent>0?"+":"")+ft(t.percent):""})`,subLabel:x?void 0:`(${t.difference>0?"+":""}${X(t.difference)})`,colorClass:x?"text-gray-500":t.difference<0?"text-red-600":"text-green-600"}]}else u=[{label:"Actual",value:X(e==null?void 0:e.comission_eur)},{label:"Calculated",value:X(t.calculated)},{label:"Difference",value:x?"0.00 (0%)":`${t.difference>0?"+":""}${X(t.difference)} (${t.percent!=null?(t.percent>0?"+":"")+ft(t.percent):""})`,colorClass:x?"text-gray-500":t.difference<0?"text-red-600":"text-green-600"}];else if(a){const m=e==null?void 0:e.transaction_comission,g=(e==null?void 0:e.fixed_eur)!=null?e.fixed_eur*c:null;u=[{label:"Commission",value:`${m==null?void 0:m.toFixed(2)} ${n}`,subLabel:`(${X(e==null?void 0:e.comission_eur)})`},{label:"Fixed Fee",value:g!=null?`${g.toFixed(2)} ${n}`:"-",subLabel:(e==null?void 0:e.fixed_eur)!=null?`(${X(e.fixed_eur)})`:void 0},{label:"Effective Rate",value:(r==null?void 0:r.effective_rate)!=null?ft(r.effective_rate):"-"}]}else u=[{label:"Commission",value:X(e==null?void 0:e.comission_eur)},{label:"Fixed Fee",value:X(e==null?void 0:e.fixed_eur)},{label:"Effective Rate",value:(r==null?void 0:r.effective_rate)!=null?ft(r.effective_rate):"-"}];return i.jsx(oe,{title:"Commission",className:"mb-6",children:o?i.jsxs("div",{children:[i.jsx("div",{className:"grid grid-cols-3 gap-6 mb-4",children:u.map((m,g)=>i.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[i.jsx("div",{className:"text-sm text-gray-500 mb-1",children:m.label}),i.jsx("div",{className:`text-2xl font-semibold ${m.colorClass||"text-gray-900"}`,children:m.value}),m.subLabel&&i.jsx("div",{className:"text-sm text-gray-500 mt-1",children:m.subLabel})]},g))}),d&&!a&&(p!=null||h!=null)&&i.jsxs("div",{className:"space-y-2 mb-4",children:[p!=null&&Math.abs(p)>.001&&i.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-amber-50 rounded-lg text-sm",children:[i.jsx("span",{className:"text-amber-700",children:"Fixed Fee Difference"}),i.jsxs("span",{className:`font-medium ${p<0?"text-red-600":"text-green-600"}`,children:[p>0?"+":"",X(p)]})]}),h!=null&&Math.abs(h)>.001&&i.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-amber-50 rounded-lg text-sm",children:[i.jsx("span",{className:"text-amber-700",children:"Rate Difference"}),i.jsxs("span",{className:`font-medium ${h<0?"text-red-600":"text-green-600"}`,children:[h>0?"+":"",ft(h)]})]})]}),d&&a&&p!=null&&Math.abs(p)>.001&&i.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-amber-50 rounded-lg mb-4 text-sm",children:[i.jsx("span",{className:"text-amber-700",children:"Fixed Fee Difference"}),i.jsxs("span",{className:`font-medium ${p<0?"text-red-600":"text-green-600"}`,children:[p>0?"+":"",X(p),c!==1&&` (${p>0?"+":""}${(p*c).toFixed(2)} ${n})`]})]}),i.jsx(hn,{title:"Commission Fields",fields:l}),r&&i.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm font-medium text-gray-700",children:r.description}),i.jsx("span",{className:"text-xs text-gray-400 bg-gray-100 px-1.5 py-0.5 rounded",children:r.type})]}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[i.jsx("div",{className:"text-sm text-gray-600 font-mono mb-3",children:r.formula}),i.jsx("div",{className:"space-y-2 text-sm font-mono",children:r.steps.map((m,g)=>{const v=r.currency||"EUR",b=r.value_local,w=r.value,j=b&&w?b/w:null,N=a&&j!=null&&m.value!=null,_=N?m.value*j:null;return i.jsxs("div",{className:`flex justify-between ${m.label==="Total"?"border-t border-gray-300 pt-2 font-medium":""}`,children:[i.jsxs("span",{className:"text-gray-600",children:[m.label,":"]}),i.jsx("span",{children:N&&_!=null?i.jsxs(i.Fragment,{children:[_.toFixed(2)," ",v,i.jsxs("span",{className:"text-gray-400 ml-1",children:["(",m.formatted,")"]})]}):m.formatted})]},g)})})]})]})})]}):i.jsx("div",{className:"text-gray-500",children:"No commission data available"})})}function TM(){return i.jsxs(oe,{title:"Commission",className:"mb-6",children:[i.jsx("div",{className:"grid grid-cols-3 gap-6 mb-4",children:[1,2,3].map(e=>i.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[i.jsx(fe,{className:"h-4 w-16 mx-auto mb-2"}),i.jsx(fe,{className:"h-8 w-24 mx-auto"})]},e))}),i.jsx(fe,{className:"h-10 w-full rounded-lg"})]})}function MM({costFields:e}){const t=e?[{label:"Base EUR",value:e.base_eur},{label:"MDR",value:e.mdr},{label:"MDR EUR",value:e.mdr_eur},{label:"Agent EUR",value:e.agent_eur},{label:"Agent",value:e.agent},{label:"Tax Reserved EUR",value:e.tax_reserved_eur},{label:"Tax Reserve Cost",value:e.tax_reserve_cost},{label:"Settle EUR",value:e.settle_eur},{label:"Settlement",value:e.settlement},{label:"TRX (Exchange)",value:e.trx}]:[];return i.jsx(oe,{title:"Cost Analysis",className:"mb-6",children:e?i.jsx(hn,{title:"Cost Fields",fields:t}):i.jsx("div",{className:"text-gray-500",children:"No cost data available"})})}function IM(){return i.jsx(oe,{title:"Cost Analysis",className:"mb-6",children:i.jsx(fe,{className:"h-10 w-full rounded-lg"})})}function RM({transactionId:e}){const[t,r]=O.useState(!1),{data:n,isLoading:a,error:s}=be({queryKey:["transaction",e],queryFn:()=>ue.getTransaction(e),enabled:!!e});if(a)return i.jsx(DM,{});if(s||!n)return i.jsx(LM,{message:s?s.message:"Transaction not found"});const{transaction:o,order_details:l,payment_method:c,processing:u,merchant:d,commission_fields:f,cost_fields:h,other:p,applied_plan:y,deviation:x,calculation:m}=n,g=(o==null?void 0:o.transaction_status)==="declined",v=!!(o!=null&&o.error_code&&o.error_code!==0&&(o!=null&&o.error_message)&&o.error_message!=="0"),b=!!(l!=null&&l.currency&&l.currency!=="EUR"),w=[o==null?void 0:o.transaction_type,o==null?void 0:o.type].filter(Boolean).join(" / ");return i.jsxs("div",{children:[i.jsx(CM,{transactionId:o==null?void 0:o.transaction_id,orderId:l==null?void 0:l.order_id,merchantName:d==null?void 0:d.merchant_name}),i.jsxs(oe,{title:"General",className:"mb-6",children:[i.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-sm text-gray-500 block",children:"Status"}),i.jsx("span",{className:`mt-1 inline-block px-2 py-1 text-sm font-medium rounded ${(o==null?void 0:o.transaction_status)==="approved"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:o==null?void 0:o.transaction_status})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-sm text-gray-500",children:"Type"}),i.jsx("div",{className:"mt-1 font-medium",children:w||"-"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-sm text-gray-500",children:"Date"}),i.jsx("div",{className:"mt-1 font-medium",children:yS(o==null?void 0:o.created_date)})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-sm text-gray-500",children:"Amount"}),i.jsx("div",{className:"mt-1 font-medium",children:b?i.jsxs(i.Fragment,{children:[i.jsxs("span",{children:[l==null?void 0:l.amount," ",l==null?void 0:l.currency]}),i.jsxs("span",{className:"ml-1 text-gray-500",children:["(",X(l==null?void 0:l.amount_eur),")"]})]}):X(l==null?void 0:l.amount_eur)})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(hn,{title:"Transaction Details",defaultOpen:!0,fields:[{label:"Transaction ID",value:o==null?void 0:o.transaction_id},{label:"Status",value:o==null?void 0:o.status},{label:"Transaction Status",value:o==null?void 0:o.transaction_status},{label:"Type",value:o==null?void 0:o.type},{label:"Transaction Type",value:o==null?void 0:o.transaction_type},{label:"Created Date",value:o==null?void 0:o.created_date},{label:"Created Date (no time)",value:o==null?void 0:o.created_date_no_time}]}),(g||v)&&i.jsx(hn,{title:"Error",defaultOpen:g,fields:[{label:"Error Code",value:o==null?void 0:o.error_code},{label:"Error Message",value:o==null?void 0:o.error_message},{label:"External Error Code",value:o==null?void 0:o.external_error_code},{label:"External Error Message",value:o==null?void 0:o.external_error_message}]}),i.jsx(hn,{title:"Order Details",fields:[{label:"Order ID",value:l==null?void 0:l.order_id},{label:"User ID",value:l==null?void 0:l.user_id},{label:"Item ID",value:l==null?void 0:l.item_id},{label:"Amount",value:l==null?void 0:l.amount},{label:"Amount EUR",value:l==null?void 0:l.amount_eur},{label:"Currency",value:l==null?void 0:l.currency},{label:"Country",value:l==null?void 0:l.country},{label:"European Union",value:l==null?void 0:l.european_union},{label:"EEA",value:l==null?void 0:l.eea},{label:"Requisites Country",value:l==null?void 0:l.requisites_country}]}),i.jsx(hn,{title:"Payment Method",fields:[{label:"Card Brand Group",value:c==null?void 0:c.card_brand_group},{label:"Card Type",value:c==null?void 0:c.card_type},{label:"Traffic Type Group",value:c==null?void 0:c.traffic_type_group},{label:"Gate Name",value:c==null?void 0:c.gate_name},{label:"Gate ID",value:c==null?void 0:c.gate_id},{label:"Gate Descriptor",value:c==null?void 0:c.gate_descriptor},{label:"Main Requisite",value:c==null?void 0:c.main_requisite}]}),i.jsx(hn,{title:"Processing",fields:[{label:"Processor Name",value:u==null?void 0:u.processor_name},{label:"Processor ID",value:u==null?void 0:u.processor_id},{label:"Proc Group",value:u==null?void 0:u.proc_group},{label:"Acquirer",value:u==null?void 0:u.acquirer_name},{label:"Endpoint ID",value:u==null?void 0:u.endpoint_id},{label:"Descr Group",value:u==null?void 0:u.descr_group},{label:"Source",value:u==null?void 0:u.source}]}),i.jsx(hn,{title:"Merchant",fields:[{label:"Merchant ID",value:d==null?void 0:d.merchant_id},{label:"Merchant Name",value:d==null?void 0:d.merchant_name},{label:"Merchant",value:d==null?void 0:d.merchant},{label:"Merchant Group",value:d==null?void 0:d.merchant_group},{label:"Company ID",value:d==null?void 0:d.company_id},{label:"Company Name",value:d==null?void 0:d.company_name},{label:"Legal Entity Abb",value:d==null?void 0:d.legal_entity_abb},{label:"White Label ID",value:d==null?void 0:d.white_label_id},{label:"KAM",value:d==null?void 0:d.kam}]}),i.jsx(hn,{title:"Other",fields:[{label:"Rate Plan ID",value:p==null?void 0:p.rate_plan_id},{label:"Running Sum",value:p==null?void 0:p.running_sum},{label:"Balance Mapping",value:p==null?void 0:p.balance_mapping},{label:"Mapping",value:p==null?void 0:p.mapping}]})]})]}),i.jsx(AM,{appliedPlan:y,transactionId:o==null?void 0:o.transaction_id,ratePlanId:p==null?void 0:p.rate_plan_id,merchantId:d==null?void 0:d.merchant_id,currency:l==null?void 0:l.currency,transactionType:o==null?void 0:o.transaction_type,onSelectPlan:()=>r(!0)}),i.jsx($M,{commissionFields:f,deviation:x,calculation:m,currency:l==null?void 0:l.currency,isNonEur:b,planFixed:x==null?void 0:x.plan_fixed}),i.jsx(MM,{costFields:h}),t&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-lg w-full mx-4 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Select Plan"}),i.jsx("p",{className:"text-gray-500 mb-4",children:"Plan selection modal will be implemented here."}),i.jsx("button",{onClick:()=>r(!1),className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Close"})]})})]})}function DM(){return i.jsxs("div",{children:[i.jsx(PM,{}),i.jsxs(oe,{title:"General",className:"mb-6",children:[i.jsx("div",{className:"grid grid-cols-4 gap-4 mb-4",children:[1,2,3,4].map(e=>i.jsxs("div",{children:[i.jsx(fe,{className:"h-4 w-16 mb-2"}),i.jsx(fe,{className:"h-6 w-24"})]},e))}),i.jsx("div",{className:"space-y-2",children:[1,2,3,4,5,6,7].map(e=>i.jsx(fe,{className:"h-10 w-full rounded-lg"},e))})]}),i.jsx(EM,{}),i.jsx(TM,{}),i.jsx(IM,{})]})}function LM({message:e}){return i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"text-red-500",children:e})})}var FM=Array.isArray,Zt=FM,BM=typeof Dc=="object"&&Dc&&Dc.Object===Object&&Dc,IS=BM,zM=IS,UM=typeof self=="object"&&self&&self.Object===Object&&self,WM=zM||UM||Function("return this")(),on=WM,HM=on,VM=HM.Symbol,Oc=VM,yb=Oc,RS=Object.prototype,KM=RS.hasOwnProperty,qM=RS.toString,ko=yb?yb.toStringTag:void 0;function GM(e){var t=KM.call(e,ko),r=e[ko];try{e[ko]=void 0;var n=!0}catch{}var a=qM.call(e);return n&&(t?e[ko]=r:delete e[ko]),a}var XM=GM,QM=Object.prototype,YM=QM.toString;function ZM(e){return YM.call(e)}var JM=ZM,xb=Oc,e4=XM,t4=JM,r4="[object Null]",n4="[object Undefined]",vb=xb?xb.toStringTag:void 0;function a4(e){return e==null?e===void 0?n4:r4:vb&&vb in Object(e)?e4(e):t4(e)}var Fn=a4;function i4(e){return e!=null&&typeof e=="object"}var Bn=i4,s4=Fn,o4=Bn,l4="[object Symbol]";function c4(e){return typeof e=="symbol"||o4(e)&&s4(e)==l4}var so=c4,u4=Zt,d4=so,f4=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,h4=/^\w*$/;function p4(e,t){if(u4(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||d4(e)?!0:h4.test(e)||!f4.test(e)||t!=null&&e in Object(t)}var Sx=p4;function m4(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var ka=m4;const oo=Me(ka);var g4=Fn,y4=ka,x4="[object AsyncFunction]",v4="[object Function]",b4="[object GeneratorFunction]",j4="[object Proxy]";function w4(e){if(!y4(e))return!1;var t=g4(e);return t==v4||t==b4||t==x4||t==j4}var Ox=w4;const pe=Me(Ox);var N4=on,_4=N4["__core-js_shared__"],S4=_4,Zh=S4,bb=function(){var e=/[^.]+$/.exec(Zh&&Zh.keys&&Zh.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function O4(e){return!!bb&&bb in e}var C4=O4,P4=Function.prototype,A4=P4.toString;function k4(e){if(e!=null){try{return A4.call(e)}catch{}try{return e+""}catch{}}return""}var DS=k4,E4=Ox,$4=C4,T4=ka,M4=DS,I4=/[\\^$.*+?()[\]{}|]/g,R4=/^\[object .+?Constructor\]$/,D4=Function.prototype,L4=Object.prototype,F4=D4.toString,B4=L4.hasOwnProperty,z4=RegExp("^"+F4.call(B4).replace(I4,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function U4(e){if(!T4(e)||$4(e))return!1;var t=E4(e)?z4:R4;return t.test(M4(e))}var W4=U4;function H4(e,t){return e==null?void 0:e[t]}var V4=H4,K4=W4,q4=V4;function G4(e,t){var r=q4(e,t);return K4(r)?r:void 0}var Oi=G4,X4=Oi,Q4=X4(Object,"create"),Tf=Q4,jb=Tf;function Y4(){this.__data__=jb?jb(null):{},this.size=0}var Z4=Y4;function J4(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var e3=J4,t3=Tf,r3="__lodash_hash_undefined__",n3=Object.prototype,a3=n3.hasOwnProperty;function i3(e){var t=this.__data__;if(t3){var r=t[e];return r===r3?void 0:r}return a3.call(t,e)?t[e]:void 0}var s3=i3,o3=Tf,l3=Object.prototype,c3=l3.hasOwnProperty;function u3(e){var t=this.__data__;return o3?t[e]!==void 0:c3.call(t,e)}var d3=u3,f3=Tf,h3="__lodash_hash_undefined__";function p3(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=f3&&t===void 0?h3:t,this}var m3=p3,g3=Z4,y3=e3,x3=s3,v3=d3,b3=m3;function lo(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}lo.prototype.clear=g3;lo.prototype.delete=y3;lo.prototype.get=x3;lo.prototype.has=v3;lo.prototype.set=b3;var j3=lo;function w3(){this.__data__=[],this.size=0}var N3=w3;function _3(e,t){return e===t||e!==e&&t!==t}var Cx=_3,S3=Cx;function O3(e,t){for(var r=e.length;r--;)if(S3(e[r][0],t))return r;return-1}var Mf=O3,C3=Mf,P3=Array.prototype,A3=P3.splice;function k3(e){var t=this.__data__,r=C3(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():A3.call(t,r,1),--this.size,!0}var E3=k3,$3=Mf;function T3(e){var t=this.__data__,r=$3(t,e);return r<0?void 0:t[r][1]}var M3=T3,I3=Mf;function R3(e){return I3(this.__data__,e)>-1}var D3=R3,L3=Mf;function F3(e,t){var r=this.__data__,n=L3(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var B3=F3,z3=N3,U3=E3,W3=M3,H3=D3,V3=B3;function co(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}co.prototype.clear=z3;co.prototype.delete=U3;co.prototype.get=W3;co.prototype.has=H3;co.prototype.set=V3;var If=co,K3=Oi,q3=on,G3=K3(q3,"Map"),Px=G3,wb=j3,X3=If,Q3=Px;function Y3(){this.size=0,this.__data__={hash:new wb,map:new(Q3||X3),string:new wb}}var Z3=Y3;function J3(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var eI=J3,tI=eI;function rI(e,t){var r=e.__data__;return tI(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Rf=rI,nI=Rf;function aI(e){var t=nI(this,e).delete(e);return this.size-=t?1:0,t}var iI=aI,sI=Rf;function oI(e){return sI(this,e).get(e)}var lI=oI,cI=Rf;function uI(e){return cI(this,e).has(e)}var dI=uI,fI=Rf;function hI(e,t){var r=fI(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var pI=hI,mI=Z3,gI=iI,yI=lI,xI=dI,vI=pI;function uo(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}uo.prototype.clear=mI;uo.prototype.delete=gI;uo.prototype.get=yI;uo.prototype.has=xI;uo.prototype.set=vI;var Ax=uo,LS=Ax,bI="Expected a function";function kx(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(bI);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],s=r.cache;if(s.has(a))return s.get(a);var o=e.apply(this,n);return r.cache=s.set(a,o)||s,o};return r.cache=new(kx.Cache||LS),r}kx.Cache=LS;var FS=kx;const jI=Me(FS);var wI=FS,NI=500;function _I(e){var t=wI(e,function(n){return r.size===NI&&r.clear(),n}),r=t.cache;return t}var SI=_I,OI=SI,CI=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,PI=/\\(\\)?/g,AI=OI(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(CI,function(r,n,a,s){t.push(a?s.replace(PI,"$1"):n||r)}),t}),kI=AI;function EI(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var Ex=EI,Nb=Oc,$I=Ex,TI=Zt,MI=so,_b=Nb?Nb.prototype:void 0,Sb=_b?_b.toString:void 0;function BS(e){if(typeof e=="string")return e;if(TI(e))return $I(e,BS)+"";if(MI(e))return Sb?Sb.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var II=BS,RI=II;function DI(e){return e==null?"":RI(e)}var zS=DI,LI=Zt,FI=Sx,BI=kI,zI=zS;function UI(e,t){return LI(e)?e:FI(e,t)?[e]:BI(zI(e))}var US=UI,WI=so;function HI(e){if(typeof e=="string"||WI(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Df=HI,VI=US,KI=Df;function qI(e,t){t=VI(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[KI(t[r++])];return r&&r==n?e:void 0}var $x=qI,GI=$x;function XI(e,t,r){var n=e==null?void 0:GI(e,t);return n===void 0?r:n}var WS=XI;const jr=Me(WS);function QI(e){return e==null}var YI=QI;const me=Me(YI);var ZI=Fn,JI=Zt,eR=Bn,tR="[object String]";function rR(e){return typeof e=="string"||!JI(e)&&eR(e)&&ZI(e)==tR}var nR=rR;const xi=Me(nR);var HS={exports:{}},$e={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tx=Symbol.for("react.element"),Mx=Symbol.for("react.portal"),Lf=Symbol.for("react.fragment"),Ff=Symbol.for("react.strict_mode"),Bf=Symbol.for("react.profiler"),zf=Symbol.for("react.provider"),Uf=Symbol.for("react.context"),aR=Symbol.for("react.server_context"),Wf=Symbol.for("react.forward_ref"),Hf=Symbol.for("react.suspense"),Vf=Symbol.for("react.suspense_list"),Kf=Symbol.for("react.memo"),qf=Symbol.for("react.lazy"),iR=Symbol.for("react.offscreen"),VS;VS=Symbol.for("react.module.reference");function Or(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Tx:switch(e=e.type,e){case Lf:case Bf:case Ff:case Hf:case Vf:return e;default:switch(e=e&&e.$$typeof,e){case aR:case Uf:case Wf:case qf:case Kf:case zf:return e;default:return t}}case Mx:return t}}}$e.ContextConsumer=Uf;$e.ContextProvider=zf;$e.Element=Tx;$e.ForwardRef=Wf;$e.Fragment=Lf;$e.Lazy=qf;$e.Memo=Kf;$e.Portal=Mx;$e.Profiler=Bf;$e.StrictMode=Ff;$e.Suspense=Hf;$e.SuspenseList=Vf;$e.isAsyncMode=function(){return!1};$e.isConcurrentMode=function(){return!1};$e.isContextConsumer=function(e){return Or(e)===Uf};$e.isContextProvider=function(e){return Or(e)===zf};$e.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Tx};$e.isForwardRef=function(e){return Or(e)===Wf};$e.isFragment=function(e){return Or(e)===Lf};$e.isLazy=function(e){return Or(e)===qf};$e.isMemo=function(e){return Or(e)===Kf};$e.isPortal=function(e){return Or(e)===Mx};$e.isProfiler=function(e){return Or(e)===Bf};$e.isStrictMode=function(e){return Or(e)===Ff};$e.isSuspense=function(e){return Or(e)===Hf};$e.isSuspenseList=function(e){return Or(e)===Vf};$e.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Lf||e===Bf||e===Ff||e===Hf||e===Vf||e===iR||typeof e=="object"&&e!==null&&(e.$$typeof===qf||e.$$typeof===Kf||e.$$typeof===zf||e.$$typeof===Uf||e.$$typeof===Wf||e.$$typeof===VS||e.getModuleId!==void 0)};$e.typeOf=Or;HS.exports=$e;var sR=HS.exports,oR=Fn,lR=Bn,cR="[object Number]";function uR(e){return typeof e=="number"||lR(e)&&oR(e)==cR}var KS=uR;const dR=Me(KS);var fR=KS;function hR(e){return fR(e)&&e!=+e}var pR=hR;const Cc=Me(pR);var zr=function(t){return t===0?0:t>0?1:-1},Ka=function(t){return xi(t)&&t.indexOf("%")===t.length-1},Q=function(t){return dR(t)&&!Cc(t)},mR=function(t){return me(t)},pt=function(t){return Q(t)||xi(t)},gR=0,Pc=function(t){var r=++gR;return"".concat(t||"").concat(r)},vi=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Q(t)&&!xi(t))return n;var s;if(Ka(t)){var o=t.indexOf("%");s=r*parseFloat(t.slice(0,o))/100}else s=+t;return Cc(s)&&(s=n),a&&s>r&&(s=r),s},Yn=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},yR=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},Fr=function(t,r){return Q(t)&&Q(r)?function(n){return t+n*(r-t)}:function(){return r}};function ld(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):jr(n,t))===r})}var xR=function(t,r){return Q(t)&&Q(r)?t-r:xi(t)&&xi(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function as(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Wm(e){"@babel/helpers - typeof";return Wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wm(e)}var vR=["viewBox","children"],bR=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Ob=["points","pathLength"],Jh={svg:vR,polygon:Ob,polyline:Ob},Ix=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],cd=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(O.isValidElement(t)&&(n=t.props),!oo(n))return null;var a={};return Object.keys(n).forEach(function(s){Ix.includes(s)&&(a[s]=r||function(o){return n[s](n,o)})}),a},jR=function(t,r,n){return function(a){return t(r,n,a),null}},ud=function(t,r,n){if(!oo(t)||Wm(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(s){var o=t[s];Ix.includes(s)&&typeof o=="function"&&(a||(a={}),a[s]=jR(o,r,n))}),a},wR=["children"],NR=["children"];function Cb(e,t){if(e==null)return{};var r=_R(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _R(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Hm(e){"@babel/helpers - typeof";return Hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hm(e)}var Pb={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Sn=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},Ab=null,ep=null,Rx=function e(t){if(t===Ab&&Array.isArray(ep))return ep;var r=[];return O.Children.forEach(t,function(n){me(n)||(sR.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),ep=r,Ab=t,r};function wr(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Sn(a)}):n=[Sn(t)],Rx(e).forEach(function(a){var s=jr(a,"type.displayName")||jr(a,"type.name");n.indexOf(s)!==-1&&r.push(a)}),r}function rr(e,t){var r=wr(e,t);return r&&r[0]}var kb=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!Q(n)||n<=0||!Q(a)||a<=0)},SR=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],OR=function(t){return t&&t.type&&xi(t.type)&&SR.indexOf(t.type)>=0},CR=function(t){return t&&Hm(t)==="object"&&"clipDot"in t},PR=function(t,r,n,a){var s,o=(s=Jh==null?void 0:Jh[a])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!pe(t)&&(a&&o.includes(r)||bR.includes(r))||n&&Ix.includes(r)},je=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(O.isValidElement(t)&&(a=t.props),!oo(a))return null;var s={};return Object.keys(a).forEach(function(o){var l;PR((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(s[o]=a[o])}),s},Vm=function e(t,r){if(t===r)return!0;var n=O.Children.count(t);if(n!==O.Children.count(r))return!1;if(n===0)return!0;if(n===1)return Eb(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var s=t[a],o=r[a];if(Array.isArray(s)||Array.isArray(o)){if(!e(s,o))return!1}else if(!Eb(s,o))return!1}return!0},Eb=function(t,r){if(me(t)&&me(r))return!0;if(!me(t)&&!me(r)){var n=t.props||{},a=n.children,s=Cb(n,wR),o=r.props||{},l=o.children,c=Cb(o,NR);return a&&l?as(s,c)&&Vm(a,l):!a&&!l?as(s,c):!1}return!1},$b=function(t,r){var n=[],a={};return Rx(t).forEach(function(s,o){if(OR(s))n.push(s);else if(s){var l=Sn(s.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(s,l,o);n.push(f),a[l]=!0}}}),n},AR=function(t){var r=t&&t.type;return r&&Pb[r]?Pb[r]:null},kR=function(t,r){return Rx(r).indexOf(t)},ER=["children","width","height","viewBox","className","style","title","desc"];function Km(){return Km=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Km.apply(this,arguments)}function $R(e,t){if(e==null)return{};var r=TR(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function TR(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function qm(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,s=e.className,o=e.style,l=e.title,c=e.desc,u=$R(e,ER),d=a||{width:r,height:n,x:0,y:0},f=Se("recharts-surface",s);return I.createElement("svg",Km({},je(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),I.createElement("title",null,l),I.createElement("desc",null,c),t)}var MR=["children","className"];function Gm(){return Gm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gm.apply(this,arguments)}function IR(e,t){if(e==null)return{};var r=RR(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function RR(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var tt=I.forwardRef(function(e,t){var r=e.children,n=e.className,a=IR(e,MR),s=Se("recharts-layer",n);return I.createElement("g",Gm({className:s},je(a,!0),{ref:t}),r)}),On=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s]};function DR(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(a);++n<a;)s[n]=e[n+t];return s}var LR=DR,FR=LR;function BR(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:FR(e,t,r)}var zR=BR,UR="\\ud800-\\udfff",WR="\\u0300-\\u036f",HR="\\ufe20-\\ufe2f",VR="\\u20d0-\\u20ff",KR=WR+HR+VR,qR="\\ufe0e\\ufe0f",GR="\\u200d",XR=RegExp("["+GR+UR+KR+qR+"]");function QR(e){return XR.test(e)}var qS=QR;function YR(e){return e.split("")}var ZR=YR,GS="\\ud800-\\udfff",JR="\\u0300-\\u036f",e6="\\ufe20-\\ufe2f",t6="\\u20d0-\\u20ff",r6=JR+e6+t6,n6="\\ufe0e\\ufe0f",a6="["+GS+"]",Xm="["+r6+"]",Qm="\\ud83c[\\udffb-\\udfff]",i6="(?:"+Xm+"|"+Qm+")",XS="[^"+GS+"]",QS="(?:\\ud83c[\\udde6-\\uddff]){2}",YS="[\\ud800-\\udbff][\\udc00-\\udfff]",s6="\\u200d",ZS=i6+"?",JS="["+n6+"]?",o6="(?:"+s6+"(?:"+[XS,QS,YS].join("|")+")"+JS+ZS+")*",l6=JS+ZS+o6,c6="(?:"+[XS+Xm+"?",Xm,QS,YS,a6].join("|")+")",u6=RegExp(Qm+"(?="+Qm+")|"+c6+l6,"g");function d6(e){return e.match(u6)||[]}var f6=d6,h6=ZR,p6=qS,m6=f6;function g6(e){return p6(e)?m6(e):h6(e)}var y6=g6,x6=zR,v6=qS,b6=y6,j6=zS;function w6(e){return function(t){t=j6(t);var r=v6(t)?b6(t):void 0,n=r?r[0]:t.charAt(0),a=r?x6(r,1).join(""):t.slice(1);return n[e]()+a}}var N6=w6,_6=N6,S6=_6("toUpperCase"),O6=S6;const Gf=Me(O6);function De(e){return function(){return e}}const eO=Math.cos,dd=Math.sin,Vr=Math.sqrt,fd=Math.PI,Xf=2*fd,Ym=Math.PI,Zm=2*Ym,Fa=1e-6,C6=Zm-Fa;function tO(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function P6(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return tO;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class A6{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?tO:P6(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+o}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Fa)if(!(Math.abs(f*c-u*d)>Fa)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,y=a-l,x=c*c+u*u,m=p*p+y*y,g=Math.sqrt(x),v=Math.sqrt(h),b=s*Math.tan((Ym-Math.acos((x+h-m)/(2*g*v)))/2),w=b/v,j=b/g;Math.abs(w-1)>Fa&&this._append`L${t+w*d},${r+w*f}`,this._append`A${s},${s},0,0,${+(f*p>d*y)},${this._x1=t+j*c},${this._y1=r+j*u}`}}arc(t,r,n,a,s,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^o,h=o?a-s:s-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Fa||Math.abs(this._y1-d)>Fa)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%Zm+Zm),h>C6?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Fa&&this._append`A${n},${n},0,${+(h>=Ym)},${f},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Dx(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new A6(t)}function Lx(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function rO(e){this._context=e}rO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Qf(e){return new rO(e)}function nO(e){return e[0]}function aO(e){return e[1]}function iO(e,t){var r=De(!0),n=null,a=Qf,s=null,o=Dx(l);e=typeof e=="function"?e:e===void 0?nO:De(e),t=typeof t=="function"?t:t===void 0?aO:De(t);function l(c){var u,d=(c=Lx(c)).length,f,h=!1,p;for(n==null&&(s=a(p=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(f,u,c),+t(f,u,c));if(p)return s=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:De(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:De(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:De(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(s=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=s=null:s=a(n=c),l):n},l}function nu(e,t,r){var n=null,a=De(!0),s=null,o=Qf,l=null,c=Dx(u);e=typeof e=="function"?e:e===void 0?nO:De(+e),t=typeof t=="function"?t:De(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?aO:De(+r);function u(f){var h,p,y,x=(f=Lx(f)).length,m,g=!1,v,b=new Array(x),w=new Array(x);for(s==null&&(l=o(v=c())),h=0;h<=x;++h){if(!(h<x&&a(m=f[h],h,f))===g)if(g=!g)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=h-1;y>=p;--y)l.point(b[y],w[y]);l.lineEnd(),l.areaEnd()}g&&(b[h]=+e(m,h,f),w[h]=+t(m,h,f),l.point(n?+n(m,h,f):b[h],r?+r(m,h,f):w[h]))}if(v)return l=null,v+""||null}function d(){return iO().defined(a).curve(o).context(s)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:De(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:De(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:De(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:De(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:De(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:De(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:De(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,s!=null&&(l=o(s)),u):o},u.context=function(f){return arguments.length?(f==null?s=l=null:l=o(s=f),u):s},u}class sO{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function k6(e){return new sO(e,!0)}function E6(e){return new sO(e,!1)}const Fx={draw(e,t){const r=Vr(t/fd);e.moveTo(r,0),e.arc(0,0,r,0,Xf)}},$6={draw(e,t){const r=Vr(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},oO=Vr(1/3),T6=oO*2,M6={draw(e,t){const r=Vr(t/T6),n=r*oO;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},I6={draw(e,t){const r=Vr(t),n=-r/2;e.rect(n,n,r,r)}},R6=.8908130915292852,lO=dd(fd/10)/dd(7*fd/10),D6=dd(Xf/10)*lO,L6=-eO(Xf/10)*lO,F6={draw(e,t){const r=Vr(t*R6),n=D6*r,a=L6*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const o=Xf*s/5,l=eO(o),c=dd(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},tp=Vr(3),B6={draw(e,t){const r=-Vr(t/(tp*3));e.moveTo(0,r*2),e.lineTo(-tp*r,-r),e.lineTo(tp*r,-r),e.closePath()}},ur=-.5,dr=Vr(3)/2,Jm=1/Vr(12),z6=(Jm/2+1)*3,U6={draw(e,t){const r=Vr(t/z6),n=r/2,a=r*Jm,s=n,o=r*Jm+r,l=-s,c=o;e.moveTo(n,a),e.lineTo(s,o),e.lineTo(l,c),e.lineTo(ur*n-dr*a,dr*n+ur*a),e.lineTo(ur*s-dr*o,dr*s+ur*o),e.lineTo(ur*l-dr*c,dr*l+ur*c),e.lineTo(ur*n+dr*a,ur*a-dr*n),e.lineTo(ur*s+dr*o,ur*o-dr*s),e.lineTo(ur*l+dr*c,ur*c-dr*l),e.closePath()}};function W6(e,t){let r=null,n=Dx(a);e=typeof e=="function"?e:De(e||Fx),t=typeof t=="function"?t:De(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:De(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:De(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function hd(){}function pd(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function cO(e){this._context=e}cO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:pd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:pd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function H6(e){return new cO(e)}function uO(e){this._context=e}uO.prototype={areaStart:hd,areaEnd:hd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:pd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function V6(e){return new uO(e)}function dO(e){this._context=e}dO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:pd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function K6(e){return new dO(e)}function fO(e){this._context=e}fO.prototype={areaStart:hd,areaEnd:hd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function q6(e){return new fO(e)}function Tb(e){return e<0?-1:1}function Mb(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(s*a+o*n)/(n+a);return(Tb(s)+Tb(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function Ib(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function rp(e,t,r){var n=e._x0,a=e._y0,s=e._x1,o=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,a+l*t,s-l,o-l*r,s,o)}function md(e){this._context=e}md.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:rp(this,this._t0,Ib(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,rp(this,Ib(this,r=Mb(this,e,t)),r);break;default:rp(this,this._t0,r=Mb(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function hO(e){this._context=new pO(e)}(hO.prototype=Object.create(md.prototype)).point=function(e,t){md.prototype.point.call(this,t,e)};function pO(e){this._context=e}pO.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function G6(e){return new md(e)}function X6(e){return new hO(e)}function mO(e){this._context=e}mO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Rb(e),a=Rb(t),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Rb(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),o=new Array(r);for(a[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function Q6(e){return new mO(e)}function Yf(e,t){this._context=e,this._t=t}Yf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Y6(e){return new Yf(e,.5)}function Z6(e){return new Yf(e,0)}function J6(e){return new Yf(e,1)}function As(e,t){if((o=e.length)>1)for(var r=1,n,a,s=e[t[0]],o,l=s.length;r<o;++r)for(a=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function eg(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function eD(e,t){return e[t]}function tD(e){const t=[];return t.key=e,t}function rD(){var e=De([]),t=eg,r=As,n=eD;function a(s){var o=Array.from(e.apply(this,arguments),tD),l,c=o.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,s)]).data=f;for(l=0,d=Lx(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:De(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:De(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?eg:typeof s=="function"?s:De(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??As,a):r},a}function nD(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,o;a<s;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}As(e,t)}}function aD(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}As(e,t)}}function iD(e,t){if(!(!((o=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,o;n<s;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,y=0;y<l;++y){var x=e[t[y]],m=x[n][1]||0,g=x[n-1][1]||0;p+=m-g}c+=f,u+=p*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,As(e,t)}}function El(e){"@babel/helpers - typeof";return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},El(e)}var sD=["type","size","sizeType"];function tg(){return tg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tg.apply(this,arguments)}function Db(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Db(Object(r),!0).forEach(function(n){oD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Db(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oD(e,t,r){return t=lD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lD(e){var t=cD(e,"string");return El(t)=="symbol"?t:t+""}function cD(e,t){if(El(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(El(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uD(e,t){if(e==null)return{};var r=dD(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dD(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var gO={symbolCircle:Fx,symbolCross:$6,symbolDiamond:M6,symbolSquare:I6,symbolStar:F6,symbolTriangle:B6,symbolWye:U6},fD=Math.PI/180,hD=function(t){var r="symbol".concat(Gf(t));return gO[r]||Fx},pD=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*fD;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},mD=function(t,r){gO["symbol".concat(Gf(t))]=r},Bx=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,s=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=uD(t,sD),u=Lb(Lb({},c),{},{type:n,size:s,sizeType:l}),d=function(){var m=hD(n),g=W6().type(m).size(pD(s,l,n));return g()},f=u.className,h=u.cx,p=u.cy,y=je(u,!0);return h===+h&&p===+p&&s===+s?I.createElement("path",tg({},y,{className:Se("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};Bx.registerSymbol=mD;function ks(e){"@babel/helpers - typeof";return ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ks(e)}function rg(){return rg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rg.apply(this,arguments)}function Fb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fb(Object(r),!0).forEach(function(n){$l(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xO(n.key),n)}}function vD(e,t,r){return t&&xD(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bD(e,t,r){return t=gd(t),jD(e,yO()?Reflect.construct(t,r||[],gd(e).constructor):t.apply(e,r))}function jD(e,t){if(t&&(ks(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wD(e)}function wD(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yO=function(){return!!e})()}function gd(e){return gd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gd(e)}function ND(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ng(e,t)}function ng(e,t){return ng=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ng(e,t)}function $l(e,t,r){return t=xO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xO(e){var t=_D(e,"string");return ks(t)=="symbol"?t:t+""}function _D(e,t){if(ks(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ks(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var fr=32,zx=function(e){function t(){return yD(this,t),bD(this,t,arguments)}return ND(t,e),vD(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,s=fr/2,o=fr/6,l=fr/3,c=n.inactive?a:n.color;if(n.type==="plainline")return I.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:fr,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return I.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(fr,"M").concat(2*l,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return I.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(fr/8,"h").concat(fr,"v").concat(fr*3/4,"h").concat(-fr,"z"),className:"recharts-legend-icon"});if(I.isValidElement(n.legendIcon)){var u=gD({},n);return delete u.legendIcon,I.cloneElement(n.legendIcon,u)}return I.createElement(Bx,{fill:c,cx:s,cy:s,size:fr,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,s=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:fr,height:fr},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(p,y){var x=p.formatter||c,m=Se($l($l({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",p.inactive));if(p.type==="none")return null;var g=pe(p.value)?null:p.value;On(!pe(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var v=p.inactive?u:p.color;return I.createElement("li",rg({className:m,style:f,key:"legend-item-".concat(y)},ud(n.props,p,y)),I.createElement(qm,{width:o,height:o,viewBox:d,style:h},n.renderIcon(p)),I.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},x?x(g,p,y):g))})}},{key:"render",value:function(){var n=this.props,a=n.payload,s=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return I.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(O.PureComponent);$l(zx,"displayName","Legend");$l(zx,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var SD=If;function OD(){this.__data__=new SD,this.size=0}var CD=OD;function PD(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var AD=PD;function kD(e){return this.__data__.get(e)}var ED=kD;function $D(e){return this.__data__.has(e)}var TD=$D,MD=If,ID=Px,RD=Ax,DD=200;function LD(e,t){var r=this.__data__;if(r instanceof MD){var n=r.__data__;if(!ID||n.length<DD-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new RD(n)}return r.set(e,t),this.size=r.size,this}var FD=LD,BD=If,zD=CD,UD=AD,WD=ED,HD=TD,VD=FD;function fo(e){var t=this.__data__=new BD(e);this.size=t.size}fo.prototype.clear=zD;fo.prototype.delete=UD;fo.prototype.get=WD;fo.prototype.has=HD;fo.prototype.set=VD;var vO=fo,KD="__lodash_hash_undefined__";function qD(e){return this.__data__.set(e,KD),this}var GD=qD;function XD(e){return this.__data__.has(e)}var QD=XD,YD=Ax,ZD=GD,JD=QD;function yd(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new YD;++t<r;)this.add(e[t])}yd.prototype.add=yd.prototype.push=ZD;yd.prototype.has=JD;var bO=yd;function eL(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var jO=eL;function tL(e,t){return e.has(t)}var wO=tL,rL=bO,nL=jO,aL=wO,iL=1,sL=2;function oL(e,t,r,n,a,s){var o=r&iL,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=s.get(e),d=s.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=r&sL?new rL:void 0;for(s.set(e,t),s.set(t,e);++f<l;){var y=e[f],x=t[f];if(n)var m=o?n(x,y,f,t,e,s):n(y,x,f,e,t,s);if(m!==void 0){if(m)continue;h=!1;break}if(p){if(!nL(t,function(g,v){if(!aL(p,v)&&(y===g||a(y,g,r,n,s)))return p.push(v)})){h=!1;break}}else if(!(y===x||a(y,x,r,n,s))){h=!1;break}}return s.delete(e),s.delete(t),h}var NO=oL,lL=on,cL=lL.Uint8Array,uL=cL;function dL(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var fL=dL;function hL(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Ux=hL,Bb=Oc,zb=uL,pL=Cx,mL=NO,gL=fL,yL=Ux,xL=1,vL=2,bL="[object Boolean]",jL="[object Date]",wL="[object Error]",NL="[object Map]",_L="[object Number]",SL="[object RegExp]",OL="[object Set]",CL="[object String]",PL="[object Symbol]",AL="[object ArrayBuffer]",kL="[object DataView]",Ub=Bb?Bb.prototype:void 0,np=Ub?Ub.valueOf:void 0;function EL(e,t,r,n,a,s,o){switch(r){case kL:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case AL:return!(e.byteLength!=t.byteLength||!s(new zb(e),new zb(t)));case bL:case jL:case _L:return pL(+e,+t);case wL:return e.name==t.name&&e.message==t.message;case SL:case CL:return e==t+"";case NL:var l=gL;case OL:var c=n&xL;if(l||(l=yL),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=vL,o.set(e,t);var d=mL(l(e),l(t),n,a,s,o);return o.delete(e),d;case PL:if(np)return np.call(e)==np.call(t)}return!1}var $L=EL;function TL(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var _O=TL,ML=_O,IL=Zt;function RL(e,t,r){var n=t(e);return IL(e)?n:ML(n,r(e))}var DL=RL;function LL(e,t){for(var r=-1,n=e==null?0:e.length,a=0,s=[];++r<n;){var o=e[r];t(o,r,e)&&(s[a++]=o)}return s}var FL=LL;function BL(){return[]}var zL=BL,UL=FL,WL=zL,HL=Object.prototype,VL=HL.propertyIsEnumerable,Wb=Object.getOwnPropertySymbols,KL=Wb?function(e){return e==null?[]:(e=Object(e),UL(Wb(e),function(t){return VL.call(e,t)}))}:WL,qL=KL;function GL(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var XL=GL,QL=Fn,YL=Bn,ZL="[object Arguments]";function JL(e){return YL(e)&&QL(e)==ZL}var eF=JL,Hb=eF,tF=Bn,SO=Object.prototype,rF=SO.hasOwnProperty,nF=SO.propertyIsEnumerable,aF=Hb(function(){return arguments}())?Hb:function(e){return tF(e)&&rF.call(e,"callee")&&!nF.call(e,"callee")},Wx=aF,xd={exports:{}};function iF(){return!1}var sF=iF;xd.exports;(function(e,t){var r=on,n=sF,a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(xd,xd.exports);var OO=xd.exports,oF=9007199254740991,lF=/^(?:0|[1-9]\d*)$/;function cF(e,t){var r=typeof e;return t=t??oF,!!t&&(r=="number"||r!="symbol"&&lF.test(e))&&e>-1&&e%1==0&&e<t}var Hx=cF,uF=9007199254740991;function dF(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=uF}var Vx=dF,fF=Fn,hF=Vx,pF=Bn,mF="[object Arguments]",gF="[object Array]",yF="[object Boolean]",xF="[object Date]",vF="[object Error]",bF="[object Function]",jF="[object Map]",wF="[object Number]",NF="[object Object]",_F="[object RegExp]",SF="[object Set]",OF="[object String]",CF="[object WeakMap]",PF="[object ArrayBuffer]",AF="[object DataView]",kF="[object Float32Array]",EF="[object Float64Array]",$F="[object Int8Array]",TF="[object Int16Array]",MF="[object Int32Array]",IF="[object Uint8Array]",RF="[object Uint8ClampedArray]",DF="[object Uint16Array]",LF="[object Uint32Array]",Ue={};Ue[kF]=Ue[EF]=Ue[$F]=Ue[TF]=Ue[MF]=Ue[IF]=Ue[RF]=Ue[DF]=Ue[LF]=!0;Ue[mF]=Ue[gF]=Ue[PF]=Ue[yF]=Ue[AF]=Ue[xF]=Ue[vF]=Ue[bF]=Ue[jF]=Ue[wF]=Ue[NF]=Ue[_F]=Ue[SF]=Ue[OF]=Ue[CF]=!1;function FF(e){return pF(e)&&hF(e.length)&&!!Ue[fF(e)]}var BF=FF;function zF(e){return function(t){return e(t)}}var CO=zF,vd={exports:{}};vd.exports;(function(e,t){var r=IS,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===n,o=s&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(vd,vd.exports);var UF=vd.exports,WF=BF,HF=CO,Vb=UF,Kb=Vb&&Vb.isTypedArray,VF=Kb?HF(Kb):WF,PO=VF,KF=XL,qF=Wx,GF=Zt,XF=OO,QF=Hx,YF=PO,ZF=Object.prototype,JF=ZF.hasOwnProperty;function e8(e,t){var r=GF(e),n=!r&&qF(e),a=!r&&!n&&XF(e),s=!r&&!n&&!a&&YF(e),o=r||n||a||s,l=o?KF(e.length,String):[],c=l.length;for(var u in e)(t||JF.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||QF(u,c)))&&l.push(u);return l}var t8=e8,r8=Object.prototype;function n8(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||r8;return e===r}var a8=n8;function i8(e,t){return function(r){return e(t(r))}}var AO=i8,s8=AO,o8=s8(Object.keys,Object),l8=o8,c8=a8,u8=l8,d8=Object.prototype,f8=d8.hasOwnProperty;function h8(e){if(!c8(e))return u8(e);var t=[];for(var r in Object(e))f8.call(e,r)&&r!="constructor"&&t.push(r);return t}var p8=h8,m8=Ox,g8=Vx;function y8(e){return e!=null&&g8(e.length)&&!m8(e)}var Ac=y8,x8=t8,v8=p8,b8=Ac;function j8(e){return b8(e)?x8(e):v8(e)}var Zf=j8,w8=DL,N8=qL,_8=Zf;function S8(e){return w8(e,_8,N8)}var O8=S8,qb=O8,C8=1,P8=Object.prototype,A8=P8.hasOwnProperty;function k8(e,t,r,n,a,s){var o=r&C8,l=qb(e),c=l.length,u=qb(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:A8.call(t,h)))return!1}var p=s.get(e),y=s.get(t);if(p&&y)return p==t&&y==e;var x=!0;s.set(e,t),s.set(t,e);for(var m=o;++f<c;){h=l[f];var g=e[h],v=t[h];if(n)var b=o?n(v,g,h,t,e,s):n(g,v,h,e,t,s);if(!(b===void 0?g===v||a(g,v,r,n,s):b)){x=!1;break}m||(m=h=="constructor")}if(x&&!m){var w=e.constructor,j=t.constructor;w!=j&&"constructor"in e&&"constructor"in t&&!(typeof w=="function"&&w instanceof w&&typeof j=="function"&&j instanceof j)&&(x=!1)}return s.delete(e),s.delete(t),x}var E8=k8,$8=Oi,T8=on,M8=$8(T8,"DataView"),I8=M8,R8=Oi,D8=on,L8=R8(D8,"Promise"),F8=L8,B8=Oi,z8=on,U8=B8(z8,"Set"),kO=U8,W8=Oi,H8=on,V8=W8(H8,"WeakMap"),K8=V8,ag=I8,ig=Px,sg=F8,og=kO,lg=K8,EO=Fn,ho=DS,Gb="[object Map]",q8="[object Object]",Xb="[object Promise]",Qb="[object Set]",Yb="[object WeakMap]",Zb="[object DataView]",G8=ho(ag),X8=ho(ig),Q8=ho(sg),Y8=ho(og),Z8=ho(lg),Ba=EO;(ag&&Ba(new ag(new ArrayBuffer(1)))!=Zb||ig&&Ba(new ig)!=Gb||sg&&Ba(sg.resolve())!=Xb||og&&Ba(new og)!=Qb||lg&&Ba(new lg)!=Yb)&&(Ba=function(e){var t=EO(e),r=t==q8?e.constructor:void 0,n=r?ho(r):"";if(n)switch(n){case G8:return Zb;case X8:return Gb;case Q8:return Xb;case Y8:return Qb;case Z8:return Yb}return t});var J8=Ba,ap=vO,eB=NO,tB=$L,rB=E8,Jb=J8,ej=Zt,tj=OO,nB=PO,aB=1,rj="[object Arguments]",nj="[object Array]",au="[object Object]",iB=Object.prototype,aj=iB.hasOwnProperty;function sB(e,t,r,n,a,s){var o=ej(e),l=ej(t),c=o?nj:Jb(e),u=l?nj:Jb(t);c=c==rj?au:c,u=u==rj?au:u;var d=c==au,f=u==au,h=c==u;if(h&&tj(e)){if(!tj(t))return!1;o=!0,d=!1}if(h&&!d)return s||(s=new ap),o||nB(e)?eB(e,t,r,n,a,s):tB(e,t,c,r,n,a,s);if(!(r&aB)){var p=d&&aj.call(e,"__wrapped__"),y=f&&aj.call(t,"__wrapped__");if(p||y){var x=p?e.value():e,m=y?t.value():t;return s||(s=new ap),a(x,m,r,n,s)}}return h?(s||(s=new ap),rB(e,t,r,n,a,s)):!1}var oB=sB,lB=oB,ij=Bn;function $O(e,t,r,n,a){return e===t?!0:e==null||t==null||!ij(e)&&!ij(t)?e!==e&&t!==t:lB(e,t,r,n,$O,a)}var Kx=$O,cB=vO,uB=Kx,dB=1,fB=2;function hB(e,t,r,n){var a=r.length,s=a,o=!n;if(e==null)return!s;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<s;){l=r[a];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new cB;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?uB(d,u,dB|fB,n,f):h))return!1}}return!0}var pB=hB,mB=ka;function gB(e){return e===e&&!mB(e)}var TO=gB,yB=TO,xB=Zf;function vB(e){for(var t=xB(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,yB(a)]}return t}var bB=vB;function jB(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var MO=jB,wB=pB,NB=bB,_B=MO;function SB(e){var t=NB(e);return t.length==1&&t[0][2]?_B(t[0][0],t[0][1]):function(r){return r===e||wB(r,e,t)}}var OB=SB;function CB(e,t){return e!=null&&t in Object(e)}var PB=CB,AB=US,kB=Wx,EB=Zt,$B=Hx,TB=Vx,MB=Df;function IB(e,t,r){t=AB(t,e);for(var n=-1,a=t.length,s=!1;++n<a;){var o=MB(t[n]);if(!(s=e!=null&&r(e,o)))break;e=e[o]}return s||++n!=a?s:(a=e==null?0:e.length,!!a&&TB(a)&&$B(o,a)&&(EB(e)||kB(e)))}var RB=IB,DB=PB,LB=RB;function FB(e,t){return e!=null&&LB(e,t,DB)}var BB=FB,zB=Kx,UB=WS,WB=BB,HB=Sx,VB=TO,KB=MO,qB=Df,GB=1,XB=2;function QB(e,t){return HB(e)&&VB(t)?KB(qB(e),t):function(r){var n=UB(r,e);return n===void 0&&n===t?WB(r,e):zB(t,n,GB|XB)}}var YB=QB;function ZB(e){return e}var po=ZB;function JB(e){return function(t){return t==null?void 0:t[e]}}var e7=JB,t7=$x;function r7(e){return function(t){return t7(t,e)}}var n7=r7,a7=e7,i7=n7,s7=Sx,o7=Df;function l7(e){return s7(e)?a7(o7(e)):i7(e)}var c7=l7,u7=OB,d7=YB,f7=po,h7=Zt,p7=c7;function m7(e){return typeof e=="function"?e:e==null?f7:typeof e=="object"?h7(e)?d7(e[0],e[1]):u7(e):p7(e)}var Ea=m7;function g7(e,t,r,n){for(var a=e.length,s=r+(n?1:-1);n?s--:++s<a;)if(t(e[s],s,e))return s;return-1}var IO=g7;function y7(e){return e!==e}var x7=y7;function v7(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var b7=v7,j7=IO,w7=x7,N7=b7;function _7(e,t,r){return t===t?N7(e,t,r):j7(e,w7,r)}var S7=_7,O7=S7;function C7(e,t){var r=e==null?0:e.length;return!!r&&O7(e,t,0)>-1}var P7=C7;function A7(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var k7=A7;function E7(){}var $7=E7,ip=kO,T7=$7,M7=Ux,I7=1/0,R7=ip&&1/M7(new ip([,-0]))[1]==I7?function(e){return new ip(e)}:T7,D7=R7,L7=bO,F7=P7,B7=k7,z7=wO,U7=D7,W7=Ux,H7=200;function V7(e,t,r){var n=-1,a=F7,s=e.length,o=!0,l=[],c=l;if(r)o=!1,a=B7;else if(s>=H7){var u=t?null:U7(e);if(u)return W7(u);o=!1,a=z7,c=new L7}else c=t?[]:l;e:for(;++n<s;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var K7=V7,q7=Ea,G7=K7;function X7(e,t){return e&&e.length?G7(e,q7(t)):[]}var Q7=X7;const sj=Me(Q7);function RO(e,t,r){return t===!0?sj(e,r):pe(t)?sj(e,t):e}function Es(e){"@babel/helpers - typeof";return Es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Es(e)}var Y7=["ref"];function oj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function un(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oj(Object(r),!0).forEach(function(n){Jf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Z7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LO(n.key),n)}}function J7(e,t,r){return t&&lj(e.prototype,t),r&&lj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ez(e,t,r){return t=bd(t),tz(e,DO()?Reflect.construct(t,r||[],bd(e).constructor):t.apply(e,r))}function tz(e,t){if(t&&(Es(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rz(e)}function rz(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DO=function(){return!!e})()}function bd(e){return bd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bd(e)}function nz(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cg(e,t)}function cg(e,t){return cg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},cg(e,t)}function Jf(e,t,r){return t=LO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LO(e){var t=az(e,"string");return Es(t)=="symbol"?t:t+""}function az(e,t){if(Es(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Es(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function iz(e,t){if(e==null)return{};var r=sz(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sz(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function oz(e){return e.value}function lz(e,t){if(I.isValidElement(e))return I.cloneElement(e,t);if(typeof e=="function")return I.createElement(e,t);t.ref;var r=iz(t,Y7);return I.createElement(zx,r)}var cj=1,oi=function(e){function t(){var r;Z7(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=ez(this,t,[].concat(a)),Jf(r,"lastBoundingBox",{width:-1,height:-1}),r}return nz(t,e),J7(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>cj||Math.abs(a.height-this.lastBoundingBox.height)>cj)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?un({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,s=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&s==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var y=this.getBBoxSnapshot();h={top:((d||0)-y.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return un(un({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,s=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=un(un({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return I.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},lz(s,un(un({},this.props),{},{payload:RO(d,u,oz)})))}}],[{key:"getWithHeight",value:function(n,a){var s=un(un({},this.defaultProps),n.props),o=s.layout;return o==="vertical"&&Q(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(O.PureComponent);Jf(oi,"displayName","Legend");Jf(oi,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var uj=Oc,cz=Wx,uz=Zt,dj=uj?uj.isConcatSpreadable:void 0;function dz(e){return uz(e)||cz(e)||!!(dj&&e&&e[dj])}var fz=dz,hz=_O,pz=fz;function FO(e,t,r,n,a){var s=-1,o=e.length;for(r||(r=pz),a||(a=[]);++s<o;){var l=e[s];t>0&&r(l)?t>1?FO(l,t-1,r,n,a):hz(a,l):n||(a[a.length]=l)}return a}var BO=FO;function mz(e){return function(t,r,n){for(var a=-1,s=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++a];if(r(s[c],c,s)===!1)break}return t}}var gz=mz,yz=gz,xz=yz(),vz=xz,bz=vz,jz=Zf;function wz(e,t){return e&&bz(e,t,jz)}var zO=wz,Nz=Ac;function _z(e,t){return function(r,n){if(r==null)return r;if(!Nz(r))return e(r,n);for(var a=r.length,s=t?a:-1,o=Object(r);(t?s--:++s<a)&&n(o[s],s,o)!==!1;);return r}}var Sz=_z,Oz=zO,Cz=Sz,Pz=Cz(Oz),qx=Pz,Az=qx,kz=Ac;function Ez(e,t){var r=-1,n=kz(e)?Array(e.length):[];return Az(e,function(a,s,o){n[++r]=t(a,s,o)}),n}var UO=Ez;function $z(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var Tz=$z,fj=so;function Mz(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,s=fj(e),o=t!==void 0,l=t===null,c=t===t,u=fj(t);if(!l&&!u&&!s&&e>t||s&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!a)return 1;if(!n&&!s&&!u&&e<t||u&&r&&a&&!n&&!s||l&&r&&a||!o&&a||!c)return-1}return 0}var Iz=Mz,Rz=Iz;function Dz(e,t,r){for(var n=-1,a=e.criteria,s=t.criteria,o=a.length,l=r.length;++n<o;){var c=Rz(a[n],s[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var Lz=Dz,sp=Ex,Fz=$x,Bz=Ea,zz=UO,Uz=Tz,Wz=CO,Hz=Lz,Vz=po,Kz=Zt;function qz(e,t,r){t.length?t=sp(t,function(s){return Kz(s)?function(o){return Fz(o,s.length===1?s[0]:s)}:s}):t=[Vz];var n=-1;t=sp(t,Wz(Bz));var a=zz(e,function(s,o,l){var c=sp(t,function(u){return u(s)});return{criteria:c,index:++n,value:s}});return Uz(a,function(s,o){return Hz(s,o,r)})}var Gz=qz;function Xz(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Qz=Xz,Yz=Qz,hj=Math.max;function Zz(e,t,r){return t=hj(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,s=hj(n.length-t,0),o=Array(s);++a<s;)o[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(o),Yz(e,this,l)}}var Jz=Zz;function eU(e){return function(){return e}}var tU=eU,rU=Oi,nU=function(){try{var e=rU(Object,"defineProperty");return e({},"",{}),e}catch{}}(),WO=nU,aU=tU,pj=WO,iU=po,sU=pj?function(e,t){return pj(e,"toString",{configurable:!0,enumerable:!1,value:aU(t),writable:!0})}:iU,oU=sU,lU=800,cU=16,uU=Date.now;function dU(e){var t=0,r=0;return function(){var n=uU(),a=cU-(n-r);if(r=n,a>0){if(++t>=lU)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var fU=dU,hU=oU,pU=fU,mU=pU(hU),gU=mU,yU=po,xU=Jz,vU=gU;function bU(e,t){return vU(xU(e,t,yU),e+"")}var jU=bU,wU=Cx,NU=Ac,_U=Hx,SU=ka;function OU(e,t,r){if(!SU(r))return!1;var n=typeof t;return(n=="number"?NU(r)&&_U(t,r.length):n=="string"&&t in r)?wU(r[t],e):!1}var eh=OU,CU=BO,PU=Gz,AU=jU,mj=eh,kU=AU(function(e,t){if(e==null)return[];var r=t.length;return r>1&&mj(e,t[0],t[1])?t=[]:r>2&&mj(t[0],t[1],t[2])&&(t=[t[0]]),PU(e,CU(t,1),[])}),EU=kU;const Gx=Me(EU);function Tl(e){"@babel/helpers - typeof";return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tl(e)}function ug(){return ug=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ug.apply(this,arguments)}function $U(e,t){return RU(e)||IU(e,t)||MU(e,t)||TU()}function TU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MU(e,t){if(e){if(typeof e=="string")return gj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gj(e,t)}}function gj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function IU(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function RU(e){if(Array.isArray(e))return e}function yj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function op(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yj(Object(r),!0).forEach(function(n){DU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DU(e,t,r){return t=LU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LU(e){var t=FU(e,"string");return Tl(t)=="symbol"?t:t+""}function FU(e,t){if(Tl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BU(e){return Array.isArray(e)&&pt(e[0])&&pt(e[1])?e.join(" ~ "):e}var zU=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,s=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,y=t.labelClassName,x=t.label,m=t.labelFormatter,g=t.accessibilityLayer,v=g===void 0?!1:g,b=function(){if(d&&d.length){var T={padding:0,margin:0},W=(h?Gx(d,h):d).map(function(z,L){if(z.type==="none")return null;var M=op({display:"block",paddingTop:4,paddingBottom:4,color:z.color||"#000"},l),U=z.formatter||f||BU,P=z.value,R=z.name,k=P,B=R;if(U&&k!=null&&B!=null){var F=U(P,R,z,L,d);if(Array.isArray(F)){var K=$U(F,2);k=K[0],B=K[1]}else k=F}return I.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(L),style:M},pt(B)?I.createElement("span",{className:"recharts-tooltip-item-name"},B):null,pt(B)?I.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,I.createElement("span",{className:"recharts-tooltip-item-value"},k),I.createElement("span",{className:"recharts-tooltip-item-unit"},z.unit||""))});return I.createElement("ul",{className:"recharts-tooltip-item-list",style:T},W)}return null},w=op({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),j=op({margin:0},u),N=!me(x),_=N?x:"",S=Se("recharts-default-tooltip",p),C=Se("recharts-tooltip-label",y);N&&m&&d!==void 0&&d!==null&&(_=m(x,d));var A=v?{role:"status","aria-live":"assertive"}:{};return I.createElement("div",ug({className:S,style:w},A),I.createElement("p",{className:C,style:j},I.isValidElement(_)?_:"".concat(_)),b())};function Ml(e){"@babel/helpers - typeof";return Ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ml(e)}function iu(e,t,r){return t=UU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UU(e){var t=WU(e,"string");return Ml(t)=="symbol"?t:t+""}function WU(e,t){if(Ml(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ml(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Eo="recharts-tooltip-wrapper",HU={visibility:"hidden"};function VU(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Se(Eo,iu(iu(iu(iu({},"".concat(Eo,"-right"),Q(r)&&t&&Q(t.x)&&r>=t.x),"".concat(Eo,"-left"),Q(r)&&t&&Q(t.x)&&r<t.x),"".concat(Eo,"-bottom"),Q(n)&&t&&Q(t.y)&&n>=t.y),"".concat(Eo,"-top"),Q(n)&&t&&Q(t.y)&&n<t.y))}function xj(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,s=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(s&&Q(s[n]))return s[n];var d=r[n]-l-a,f=r[n]+a;if(t[n])return o[n]?d:f;if(o[n]){var h=d,p=c[n];return h<p?Math.max(f,c[n]):Math.max(d,c[n])}var y=f+l,x=c[n]+u;return y>x?Math.max(d,c[n]):Math.max(f,c[n])}function KU(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function qU(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,s=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=xj({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=xj({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=KU({translateX:d,translateY:f,useTranslate3d:l})):u=HU,{cssProperties:u,cssClasses:VU({translateX:d,translateY:f,coordinate:r})}}function $s(e){"@babel/helpers - typeof";return $s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$s(e)}function vj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vj(Object(r),!0).forEach(function(n){fg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XU(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VO(n.key),n)}}function QU(e,t,r){return t&&XU(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function YU(e,t,r){return t=jd(t),ZU(e,HO()?Reflect.construct(t,r||[],jd(e).constructor):t.apply(e,r))}function ZU(e,t){if(t&&($s(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JU(e)}function JU(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HO=function(){return!!e})()}function jd(e){return jd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jd(e)}function e9(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dg(e,t)}function dg(e,t){return dg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},dg(e,t)}function fg(e,t,r){return t=VO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VO(e){var t=t9(e,"string");return $s(t)=="symbol"?t:t+""}function t9(e,t){if($s(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($s(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var jj=1,r9=function(e){function t(){var r;GU(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=YU(this,t,[].concat(a)),fg(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),fg(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return e9(t,e),QU(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>jj||Math.abs(n.height-this.state.lastBoundingBox.height)>jj)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,s=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,p=a.offset,y=a.position,x=a.reverseDirection,m=a.useTranslate3d,g=a.viewBox,v=a.wrapperStyle,b=qU({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:y,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:m,viewBox:g}),w=b.cssClasses,j=b.cssProperties,N=bj(bj({transition:h&&s?"transform ".concat(l,"ms ").concat(c):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},v);return I.createElement("div",{tabIndex:-1,className:w,style:N,ref:function(S){n.wrapperNode=S}},u)}}])}(O.PureComponent),n9=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},mo={isSsr:n9()};function Ts(e){"@babel/helpers - typeof";return Ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ts(e)}function wj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wj(Object(r),!0).forEach(function(n){Xx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function a9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i9(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qO(n.key),n)}}function s9(e,t,r){return t&&i9(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function o9(e,t,r){return t=wd(t),l9(e,KO()?Reflect.construct(t,r||[],wd(e).constructor):t.apply(e,r))}function l9(e,t){if(t&&(Ts(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c9(e)}function c9(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KO=function(){return!!e})()}function wd(e){return wd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wd(e)}function u9(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hg(e,t)}function hg(e,t){return hg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},hg(e,t)}function Xx(e,t,r){return t=qO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qO(e){var t=d9(e,"string");return Ts(t)=="symbol"?t:t+""}function d9(e,t){if(Ts(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ts(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function f9(e){return e.dataKey}function h9(e,t){return I.isValidElement(e)?I.cloneElement(e,t):typeof e=="function"?I.createElement(e,t):I.createElement(zU,t)}var Gr=function(e){function t(){return a9(this,t),o9(this,t,arguments)}return u9(t,e),s9(t,[{key:"render",value:function(){var n=this,a=this.props,s=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,p=a.offset,y=a.payload,x=a.payloadUniqBy,m=a.position,g=a.reverseDirection,v=a.useTranslate3d,b=a.viewBox,w=a.wrapperStyle,j=y??[];f&&j.length&&(j=RO(y.filter(function(_){return _.value!=null&&(_.hide!==!0||n.props.includeHidden)}),x,f9));var N=j.length>0;return I.createElement(r9,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:s,coordinate:d,hasPayload:N,offset:p,position:m,reverseDirection:g,useTranslate3d:v,viewBox:b,wrapperStyle:w},h9(u,Nj(Nj({},this.props),{},{payload:j})))}}])}(O.PureComponent);Xx(Gr,"displayName","Tooltip");Xx(Gr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!mo.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var p9=on,m9=function(){return p9.Date.now()},g9=m9,y9=/\s/;function x9(e){for(var t=e.length;t--&&y9.test(e.charAt(t)););return t}var v9=x9,b9=v9,j9=/^\s+/;function w9(e){return e&&e.slice(0,b9(e)+1).replace(j9,"")}var N9=w9,_9=N9,_j=ka,S9=so,Sj=NaN,O9=/^[-+]0x[0-9a-f]+$/i,C9=/^0b[01]+$/i,P9=/^0o[0-7]+$/i,A9=parseInt;function k9(e){if(typeof e=="number")return e;if(S9(e))return Sj;if(_j(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=_j(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=_9(e);var r=C9.test(e);return r||P9.test(e)?A9(e.slice(2),r?2:8):O9.test(e)?Sj:+e}var GO=k9,E9=ka,lp=g9,Oj=GO,$9="Expected a function",T9=Math.max,M9=Math.min;function I9(e,t,r){var n,a,s,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError($9);t=Oj(t)||0,E9(r)&&(d=!!r.leading,f="maxWait"in r,s=f?T9(Oj(r.maxWait)||0,t):s,h="trailing"in r?!!r.trailing:h);function p(N){var _=n,S=a;return n=a=void 0,u=N,o=e.apply(S,_),o}function y(N){return u=N,l=setTimeout(g,t),d?p(N):o}function x(N){var _=N-c,S=N-u,C=t-_;return f?M9(C,s-S):C}function m(N){var _=N-c,S=N-u;return c===void 0||_>=t||_<0||f&&S>=s}function g(){var N=lp();if(m(N))return v(N);l=setTimeout(g,x(N))}function v(N){return l=void 0,h&&n?p(N):(n=a=void 0,o)}function b(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function w(){return l===void 0?o:v(lp())}function j(){var N=lp(),_=m(N);if(n=arguments,a=this,c=N,_){if(l===void 0)return y(c);if(f)return clearTimeout(l),l=setTimeout(g,t),p(c)}return l===void 0&&(l=setTimeout(g,t)),o}return j.cancel=b,j.flush=w,j}var R9=I9,D9=R9,L9=ka,F9="Expected a function";function B9(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(F9);return L9(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),D9(e,t,{leading:n,maxWait:t,trailing:a})}var z9=B9;const XO=Me(z9);function Il(e){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Il(e)}function Cj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function su(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cj(Object(r),!0).forEach(function(n){U9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function U9(e,t,r){return t=W9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W9(e){var t=H9(e,"string");return Il(t)=="symbol"?t:t+""}function H9(e,t){if(Il(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Il(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function V9(e,t){return X9(e)||G9(e,t)||q9(e,t)||K9()}function K9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q9(e,t){if(e){if(typeof e=="string")return Pj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pj(e,t)}}function Pj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function G9(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function X9(e){if(Array.isArray(e))return e}var Q9=O.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,s=e.width,o=s===void 0?"100%":s,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,p=e.children,y=e.debounce,x=y===void 0?0:y,m=e.id,g=e.className,v=e.onResize,b=e.style,w=b===void 0?{}:b,j=O.useRef(null),N=O.useRef();N.current=v,O.useImperativeHandle(t,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var _=O.useState({containerWidth:a.width,containerHeight:a.height}),S=V9(_,2),C=S[0],A=S[1],E=O.useCallback(function(W,z){A(function(L){var M=Math.round(W),U=Math.round(z);return L.containerWidth===M&&L.containerHeight===U?L:{containerWidth:M,containerHeight:U}})},[]);O.useEffect(function(){var W=function(R){var k,B=R[0].contentRect,F=B.width,K=B.height;E(F,K),(k=N.current)===null||k===void 0||k.call(N,F,K)};x>0&&(W=XO(W,x,{trailing:!0,leading:!1}));var z=new ResizeObserver(W),L=j.current.getBoundingClientRect(),M=L.width,U=L.height;return E(M,U),z.observe(j.current),function(){z.disconnect()}},[E,x]);var T=O.useMemo(function(){var W=C.containerWidth,z=C.containerHeight;if(W<0||z<0)return null;On(Ka(o)||Ka(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),On(!r||r>0,"The aspect(%s) must be greater than zero.",r);var L=Ka(o)?W:o,M=Ka(c)?z:c;r&&r>0&&(L?M=L/r:M&&(L=M*r),h&&M>h&&(M=h)),On(L>0||M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,M,o,c,d,f,r);var U=!Array.isArray(p)&&Sn(p.type).endsWith("Chart");return I.Children.map(p,function(P){return I.isValidElement(P)?O.cloneElement(P,su({width:L,height:M},U?{style:su({height:"100%",width:"100%",maxHeight:M,maxWidth:L},P.props.style)}:{})):P})},[r,p,c,h,f,d,C,o]);return I.createElement("div",{id:m?"".concat(m):void 0,className:Se("recharts-responsive-container",g),style:su(su({},w),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:j},T)}),QO=function(t){return null};QO.displayName="Cell";function Rl(e){"@babel/helpers - typeof";return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rl(e)}function Aj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Aj(Object(r),!0).forEach(function(n){Y9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Aj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Y9(e,t,r){return t=Z9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z9(e){var t=J9(e,"string");return Rl(t)=="symbol"?t:t+""}function J9(e,t){if(Rl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $i={widthCache:{},cacheCount:0},eW=2e3,tW={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},kj="recharts_measurement_span";function rW(e){var t=pg({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var al=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||mo.isSsr)return{width:0,height:0};var n=rW(r),a=JSON.stringify({text:t,copyStyle:n});if($i.widthCache[a])return $i.widthCache[a];try{var s=document.getElementById(kj);s||(s=document.createElement("span"),s.setAttribute("id",kj),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=pg(pg({},tW),n);Object.assign(s.style,o),s.textContent="".concat(t);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return $i.widthCache[a]=c,++$i.cacheCount>eW&&($i.cacheCount=0,$i.widthCache={}),c}catch{return{width:0,height:0}}},nW=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Dl(e){"@babel/helpers - typeof";return Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dl(e)}function Nd(e,t){return oW(e)||sW(e,t)||iW(e,t)||aW()}function aW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iW(e,t){if(e){if(typeof e=="string")return Ej(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ej(e,t)}}function Ej(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sW(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function oW(e){if(Array.isArray(e))return e}function lW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $j(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uW(n.key),n)}}function cW(e,t,r){return t&&$j(e.prototype,t),r&&$j(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function uW(e){var t=dW(e,"string");return Dl(t)=="symbol"?t:t+""}function dW(e,t){if(Dl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Tj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Mj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,fW=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,hW=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,YO={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},pW=Object.keys(YO),Gi="NaN";function mW(e,t){return e*YO[t]}var ou=function(){function e(t,r){lW(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!fW.test(r)&&(this.num=NaN,this.unit=""),pW.includes(r)&&(this.num=mW(t,r),this.unit="px")}return cW(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=hW.exec(r))!==null&&n!==void 0?n:[],s=Nd(a,3),o=s[1],l=s[2];return new e(parseFloat(o),l??"")}}])}();function ZO(e){if(e.includes(Gi))return Gi;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=Tj.exec(t))!==null&&r!==void 0?r:[],a=Nd(n,4),s=a[1],o=a[2],l=a[3],c=ou.parse(s??""),u=ou.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Gi;t=t.replace(Tj,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=Mj.exec(t))!==null&&f!==void 0?f:[],p=Nd(h,4),y=p[1],x=p[2],m=p[3],g=ou.parse(y??""),v=ou.parse(m??""),b=x==="+"?g.add(v):g.subtract(v);if(b.isNaN())return Gi;t=t.replace(Mj,b.toString())}return t}var Ij=/\(([^()]*)\)/;function gW(e){for(var t=e;t.includes("(");){var r=Ij.exec(t),n=Nd(r,2),a=n[1];t=t.replace(Ij,ZO(a))}return t}function yW(e){var t=e.replace(/\s+/g,"");return t=gW(t),t=ZO(t),t}function xW(e){try{return yW(e)}catch{return Gi}}function cp(e){var t=xW(e.slice(5,-1));return t===Gi?"":t}var vW=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],bW=["dx","dy","angle","className","breakAll"];function mg(){return mg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mg.apply(this,arguments)}function Rj(e,t){if(e==null)return{};var r=jW(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jW(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Dj(e,t){return SW(e)||_W(e,t)||NW(e,t)||wW()}function wW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NW(e,t){if(e){if(typeof e=="string")return Lj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lj(e,t)}}function Lj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _W(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function SW(e){if(Array.isArray(e))return e}var JO=/[ \f\n\r\t\v\u2028\u2029]+/,eC=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var s=[];me(r)||(n?s=r.toString().split(""):s=r.toString().split(JO));var o=s.map(function(c){return{word:c,width:al(c,a).width}}),l=n?0:al("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},OW=function(t,r,n,a,s){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=Q(o),f=l,h=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return L.reduce(function(M,U){var P=U.word,R=U.width,k=M[M.length-1];if(k&&(a==null||s||k.width+R+n<Number(a)))k.words.push(P),k.width+=R+n;else{var B={words:[P],width:R};M.push(B)}return M},[])},p=h(r),y=function(L){return L.reduce(function(M,U){return M.width>U.width?M:U})};if(!d)return p;for(var x="",m=function(L){var M=f.slice(0,L),U=eC({breakAll:u,style:c,children:M+x}).wordsWithComputedWidth,P=h(U),R=P.length>o||y(P).width>Number(a);return[R,P]},g=0,v=f.length-1,b=0,w;g<=v&&b<=f.length-1;){var j=Math.floor((g+v)/2),N=j-1,_=m(N),S=Dj(_,2),C=S[0],A=S[1],E=m(j),T=Dj(E,1),W=T[0];if(!C&&!W&&(g=j+1),C&&W&&(v=j-1),!C&&W){w=A;break}b++}return w||p},Fj=function(t){var r=me(t)?[]:t.toString().split(JO);return[{words:r}]},CW=function(t){var r=t.width,n=t.scaleToFit,a=t.children,s=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!mo.isSsr){var c,u,d=eC({breakAll:o,children:a,style:s});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return Fj(a);return OW({breakAll:o,children:a,maxLines:l,style:s},c,u,r,n)}return Fj(a)},Bj="#808080",_d=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,p=h===void 0?"start":h,y=t.verticalAnchor,x=y===void 0?"end":y,m=t.fill,g=m===void 0?Bj:m,v=Rj(t,vW),b=O.useMemo(function(){return CW({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:f,style:v.style,width:v.width})},[v.breakAll,v.children,v.maxLines,f,v.style,v.width]),w=v.dx,j=v.dy,N=v.angle,_=v.className,S=v.breakAll,C=Rj(v,bW);if(!pt(n)||!pt(s))return null;var A=n+(Q(w)?w:0),E=s+(Q(j)?j:0),T;switch(x){case"start":T=cp("calc(".concat(u,")"));break;case"middle":T=cp("calc(".concat((b.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:T=cp("calc(".concat(b.length-1," * -").concat(l,")"));break}var W=[];if(f){var z=b[0].width,L=v.width;W.push("scale(".concat((Q(L)?L/z:1)/z,")"))}return N&&W.push("rotate(".concat(N,", ").concat(A,", ").concat(E,")")),W.length&&(C.transform=W.join(" ")),I.createElement("text",mg({},je(C,!0),{x:A,y:E,className:Se("recharts-text",_),textAnchor:p,fill:g.includes("url")?Bj:g}),b.map(function(M,U){var P=M.words.join(S?"":" ");return I.createElement("tspan",{x:A,dy:U===0?T:l,key:"".concat(P,"-").concat(U)},P)}))};function ja(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function PW(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Qx(e){let t,r,n;e.length!==2?(t=ja,r=(l,c)=>ja(e(l),c),n=(l,c)=>e(l)-c):(t=e===ja||e===PW?e:AW,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:s}}function AW(){return 0}function tC(e){return e===null?NaN:+e}function*kW(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const EW=Qx(ja),kc=EW.right;Qx(tC).center;class zj extends Map{constructor(t,r=MW){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(Uj(this,t))}has(t){return super.has(Uj(this,t))}set(t,r){return super.set($W(this,t),r)}delete(t){return super.delete(TW(this,t))}}function Uj({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function $W({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function TW({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function MW(e){return e!==null&&typeof e=="object"?e.valueOf():e}function IW(e=ja){if(e===ja)return rC;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function rC(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const RW=Math.sqrt(50),DW=Math.sqrt(10),LW=Math.sqrt(2);function Sd(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),o=s>=RW?10:s>=DW?5:s>=LW?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?Sd(e,t,r*2):[l,c,u]}function gg(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,o]=n?Sd(t,e,r):Sd(e,t,r);if(!(s>=a))return[];const l=s-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(s-u)/-o;else for(let u=0;u<l;++u)c[u]=(s-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function yg(e,t,r){return t=+t,e=+e,r=+r,Sd(e,t,r)[2]}function xg(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?yg(t,e,r):yg(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function Wj(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Hj(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function nC(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?rC:IW(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/c+h)),y=Math.min(n,Math.floor(t+(c-u)*f/c+h));nC(e,t,p,y,a)}const s=e[t];let o=r,l=n;for($o(e,r,t),a(e[n],s)>0&&$o(e,r,n);o<l;){for($o(e,o,l),++o,--l;a(e[o],s)<0;)++o;for(;a(e[l],s)>0;)--l}a(e[r],s)===0?$o(e,r,l):(++l,$o(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function $o(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function FW(e,t,r){if(e=Float64Array.from(kW(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Hj(e);if(t>=1)return Wj(e);var n,a=(n-1)*t,s=Math.floor(a),o=Wj(nC(e,s).subarray(0,s+1)),l=Hj(e.subarray(s+1));return o+(l-o)*(a-s)}}function BW(e,t,r=tC){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),o=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return o+(l-o)*(a-s)}}function zW(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function Cr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function zn(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const vg=Symbol("implicit");function Yx(){var e=new zj,t=[],r=[],n=vg;function a(s){let o=e.get(s);if(o===void 0){if(n!==vg)return n;e.set(s,o=t.push(s)-1)}return r[o%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new zj;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return Yx(t,r).unknown(n)},Cr.apply(a,arguments),a}function Ll(){var e=Yx().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=a<n,y=p?a:n,x=p?n:a;s=(x-y)/Math.max(1,h-c+u*2),l&&(s=Math.floor(s)),y+=(x-y-s*(h-c))*d,o=s*(1-c),l&&(y=Math.round(y),o=Math.round(o));var m=zW(h).map(function(g){return y+s*g});return r(p?m.reverse():m)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Ll(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},Cr.apply(f(),arguments)}function aC(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return aC(t())},e}function il(){return aC(Ll.apply(null,arguments).paddingInner(1))}function Zx(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function iC(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Ec(){}var Fl=.7,Od=1/Fl,is="\\s*([+-]?\\d+)\\s*",Bl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",rn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",UW=/^#([0-9a-f]{3,8})$/,WW=new RegExp(`^rgb\\(${is},${is},${is}\\)$`),HW=new RegExp(`^rgb\\(${rn},${rn},${rn}\\)$`),VW=new RegExp(`^rgba\\(${is},${is},${is},${Bl}\\)$`),KW=new RegExp(`^rgba\\(${rn},${rn},${rn},${Bl}\\)$`),qW=new RegExp(`^hsl\\(${Bl},${rn},${rn}\\)$`),GW=new RegExp(`^hsla\\(${Bl},${rn},${rn},${Bl}\\)$`),Vj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Zx(Ec,zl,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Kj,formatHex:Kj,formatHex8:XW,formatHsl:QW,formatRgb:qj,toString:qj});function Kj(){return this.rgb().formatHex()}function XW(){return this.rgb().formatHex8()}function QW(){return sC(this).formatHsl()}function qj(){return this.rgb().formatRgb()}function zl(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=UW.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Gj(t):r===3?new Kt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?lu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?lu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=WW.exec(e))?new Kt(t[1],t[2],t[3],1):(t=HW.exec(e))?new Kt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=VW.exec(e))?lu(t[1],t[2],t[3],t[4]):(t=KW.exec(e))?lu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=qW.exec(e))?Yj(t[1],t[2]/100,t[3]/100,1):(t=GW.exec(e))?Yj(t[1],t[2]/100,t[3]/100,t[4]):Vj.hasOwnProperty(e)?Gj(Vj[e]):e==="transparent"?new Kt(NaN,NaN,NaN,0):null}function Gj(e){return new Kt(e>>16&255,e>>8&255,e&255,1)}function lu(e,t,r,n){return n<=0&&(e=t=r=NaN),new Kt(e,t,r,n)}function YW(e){return e instanceof Ec||(e=zl(e)),e?(e=e.rgb(),new Kt(e.r,e.g,e.b,e.opacity)):new Kt}function bg(e,t,r,n){return arguments.length===1?YW(e):new Kt(e,t,r,n??1)}function Kt(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Zx(Kt,bg,iC(Ec,{brighter(e){return e=e==null?Od:Math.pow(Od,e),new Kt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Fl:Math.pow(Fl,e),new Kt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Kt(li(this.r),li(this.g),li(this.b),Cd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Xj,formatHex:Xj,formatHex8:ZW,formatRgb:Qj,toString:Qj}));function Xj(){return`#${qa(this.r)}${qa(this.g)}${qa(this.b)}`}function ZW(){return`#${qa(this.r)}${qa(this.g)}${qa(this.b)}${qa((isNaN(this.opacity)?1:this.opacity)*255)}`}function Qj(){const e=Cd(this.opacity);return`${e===1?"rgb(":"rgba("}${li(this.r)}, ${li(this.g)}, ${li(this.b)}${e===1?")":`, ${e})`}`}function Cd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function li(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function qa(e){return e=li(e),(e<16?"0":"")+e.toString(16)}function Yj(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Br(e,t,r,n)}function sC(e){if(e instanceof Br)return new Br(e.h,e.s,e.l,e.opacity);if(e instanceof Ec||(e=zl(e)),!e)return new Br;if(e instanceof Br)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,l=s-a,c=(s+a)/2;return l?(t===s?o=(r-n)/l+(r<n)*6:r===s?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?s+a:2-s-a,o*=60):l=c>0&&c<1?0:o,new Br(o,l,c,e.opacity)}function JW(e,t,r,n){return arguments.length===1?sC(e):new Br(e,t,r,n??1)}function Br(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Zx(Br,JW,iC(Ec,{brighter(e){return e=e==null?Od:Math.pow(Od,e),new Br(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Fl:Math.pow(Fl,e),new Br(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Kt(up(e>=240?e-240:e+120,a,n),up(e,a,n),up(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Br(Zj(this.h),cu(this.s),cu(this.l),Cd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Cd(this.opacity);return`${e===1?"hsl(":"hsla("}${Zj(this.h)}, ${cu(this.s)*100}%, ${cu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Zj(e){return e=(e||0)%360,e<0?e+360:e}function cu(e){return Math.max(0,Math.min(1,e||0))}function up(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Jx=e=>()=>e;function eH(e,t){return function(r){return e+r*t}}function tH(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function rH(e){return(e=+e)==1?oC:function(t,r){return r-t?tH(t,r,e):Jx(isNaN(t)?r:t)}}function oC(e,t){var r=t-e;return r?eH(e,r):Jx(isNaN(e)?t:e)}const Jj=function e(t){var r=rH(t);function n(a,s){var o=r((a=bg(a)).r,(s=bg(s)).r),l=r(a.g,s.g),c=r(a.b,s.b),u=oC(a.opacity,s.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function nH(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function aH(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function iH(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)a[o]=go(e[o],t[o]);for(;o<r;++o)s[o]=t[o];return function(l){for(o=0;o<n;++o)s[o]=a[o](l);return s}}function sH(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Pd(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function oH(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=go(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var jg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,dp=new RegExp(jg.source,"g");function lH(e){return function(){return e}}function cH(e){return function(t){return e(t)+""}}function uH(e,t){var r=jg.lastIndex=dp.lastIndex=0,n,a,s,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=jg.exec(e))&&(a=dp.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),l[o]?l[o]+=s:l[++o]=s),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:Pd(n,a)})),r=dp.lastIndex;return r<t.length&&(s=t.slice(r),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?cH(c[0].x):lH(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function go(e,t){var r=typeof t,n;return t==null||r==="boolean"?Jx(t):(r==="number"?Pd:r==="string"?(n=zl(t))?(t=n,Jj):uH:t instanceof zl?Jj:t instanceof Date?sH:aH(t)?nH:Array.isArray(t)?iH:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?oH:Pd)(e,t)}function e0(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function dH(e,t){t===void 0&&(t=e,e=go);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[l](o-l)}}function fH(e){return function(){return e}}function Ad(e){return+e}var e1=[0,1];function Lt(e){return e}function wg(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:fH(isNaN(t)?NaN:.5)}function hH(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function pH(e,t,r){var n=e[0],a=e[1],s=t[0],o=t[1];return a<n?(n=wg(a,n),s=r(o,s)):(n=wg(n,a),s=r(s,o)),function(l){return s(n(l))}}function mH(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=wg(e[o],e[o+1]),s[o]=r(t[o],t[o+1]);return function(l){var c=kc(e,l,1,n)-1;return s[c](a[c](l))}}function $c(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function th(){var e=e1,t=e1,r=go,n,a,s,o=Lt,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==Lt&&(o=hH(e[0],e[h-1])),l=h>2?mH:pH,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?s:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((u||(u=l(t,e.map(n),Pd)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Ad),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=e0,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Lt,d()):o!==Lt},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,p){return n=h,a=p,d()}}function t0(){return th()(Lt,Lt)}function gH(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function kd(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Ms(e){return e=kd(Math.abs(e)),e?e[1]:NaN}function yH(e,t){return function(r,n){for(var a=r.length,s=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return s.reverse().join(t)}}function xH(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var vH=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ul(e){if(!(t=vH.exec(e)))throw new Error("invalid format: "+e);var t;return new r0({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ul.prototype=r0.prototype;function r0(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}r0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function bH(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var lC;function jH(e,t){var r=kd(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(lC=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+kd(e,Math.max(0,t+s-1))[0]}function t1(e,t){var r=kd(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const r1={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:gH,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>t1(e*100,t),r:t1,s:jH,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function n1(e){return e}var a1=Array.prototype.map,i1=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function wH(e){var t=e.grouping===void 0||e.thousands===void 0?n1:yH(a1.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?n1:xH(a1.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Ul(f);var h=f.fill,p=f.align,y=f.sign,x=f.symbol,m=f.zero,g=f.width,v=f.comma,b=f.precision,w=f.trim,j=f.type;j==="n"?(v=!0,j="g"):r1[j]||(b===void 0&&(b=12),w=!0,j="g"),(m||h==="0"&&p==="=")&&(m=!0,h="0",p="=");var N=x==="$"?r:x==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",_=x==="$"?n:/[%p]/.test(j)?o:"",S=r1[j],C=/[defgprs%]/.test(j);b=b===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function A(E){var T=N,W=_,z,L,M;if(j==="c")W=S(E)+W,E="";else{E=+E;var U=E<0||1/E<0;if(E=isNaN(E)?c:S(Math.abs(E),b),w&&(E=bH(E)),U&&+E==0&&y!=="+"&&(U=!1),T=(U?y==="("?y:l:y==="-"||y==="("?"":y)+T,W=(j==="s"?i1[8+lC/3]:"")+W+(U&&y==="("?")":""),C){for(z=-1,L=E.length;++z<L;)if(M=E.charCodeAt(z),48>M||M>57){W=(M===46?a+E.slice(z+1):E.slice(z))+W,E=E.slice(0,z);break}}}v&&!m&&(E=t(E,1/0));var P=T.length+E.length+W.length,R=P<g?new Array(g-P+1).join(h):"";switch(v&&m&&(E=t(R+E,R.length?g-W.length:1/0),R=""),p){case"<":E=T+E+W+R;break;case"=":E=T+R+E+W;break;case"^":E=R.slice(0,P=R.length>>1)+T+E+W+R.slice(P);break;default:E=R+T+E+W;break}return s(E)}return A.toString=function(){return f+""},A}function d(f,h){var p=u((f=Ul(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(Ms(h)/3)))*3,x=Math.pow(10,-y),m=i1[8+y/3];return function(g){return p(x*g)+m}}return{format:u,formatPrefix:d}}var uu,n0,cC;NH({thousands:",",grouping:[3],currency:["$",""]});function NH(e){return uu=wH(e),n0=uu.format,cC=uu.formatPrefix,uu}function _H(e){return Math.max(0,-Ms(Math.abs(e)))}function SH(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ms(t)/3)))*3-Ms(Math.abs(e)))}function OH(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ms(t)-Ms(e))+1}function uC(e,t,r,n){var a=xg(e,t,r),s;switch(n=Ul(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=SH(a,o))&&(n.precision=s),cC(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=OH(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=_H(a))&&(n.precision=s-(n.type==="%")*2);break}}return n0(n)}function $a(e){var t=e.domain;return e.ticks=function(r){var n=t();return gg(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return uC(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,o=n[a],l=n[s],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=s,s=u);d-- >0;){if(u=yg(o,l,r),u===c)return n[a]=o,n[s]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function Ed(){var e=t0();return e.copy=function(){return $c(e,Ed())},Cr.apply(e,arguments),$a(e)}function dC(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Ad),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return dC(e).unknown(t)},e=arguments.length?Array.from(e,Ad):[0,1],$a(r)}function fC(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],o;return s<a&&(o=r,r=n,n=o,o=a,a=s,s=o),e[r]=t.floor(a),e[n]=t.ceil(s),e}function s1(e){return Math.log(e)}function o1(e){return Math.exp(e)}function CH(e){return-Math.log(-e)}function PH(e){return-Math.exp(-e)}function AH(e){return isFinite(e)?+("1e"+e):e<0?0:e}function kH(e){return e===10?AH:e===Math.E?Math.exp:t=>Math.pow(e,t)}function EH(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function l1(e){return(t,r)=>-e(-t,r)}function a0(e){const t=e(s1,o1),r=t.domain;let n=10,a,s;function o(){return a=EH(n),s=kH(n),r()[0]<0?(a=l1(a),s=l1(s),e(CH,PH)):e(s1,o1),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),p=a(d),y,x;const m=l==null?10:+l;let g=[];if(!(n%1)&&p-h<m){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(y=1;y<n;++y)if(x=h<0?y/s(-h):y*s(h),!(x<u)){if(x>d)break;g.push(x)}}else for(;h<=p;++h)for(y=n-1;y>=1;--y)if(x=h>0?y/s(-h):y*s(h),!(x<u)){if(x>d)break;g.push(x)}g.length*2<m&&(g=gg(u,d,m))}else g=gg(h,p,Math.min(p-h,m)).map(s);return f?g.reverse():g},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Ul(c)).precision==null&&(c.trim=!0),c=n0(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/s(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(fC(r(),{floor:l=>s(Math.floor(a(l))),ceil:l=>s(Math.ceil(a(l)))})),t}function hC(){const e=a0(th()).domain([1,10]);return e.copy=()=>$c(e,hC()).base(e.base()),Cr.apply(e,arguments),e}function c1(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function u1(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function i0(e){var t=1,r=e(c1(t),u1(t));return r.constant=function(n){return arguments.length?e(c1(t=+n),u1(t)):t},$a(r)}function pC(){var e=i0(th());return e.copy=function(){return $c(e,pC()).constant(e.constant())},Cr.apply(e,arguments)}function d1(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function $H(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function TH(e){return e<0?-e*e:e*e}function s0(e){var t=e(Lt,Lt),r=1;function n(){return r===1?e(Lt,Lt):r===.5?e($H,TH):e(d1(r),d1(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},$a(t)}function o0(){var e=s0(th());return e.copy=function(){return $c(e,o0()).exponent(e.exponent())},Cr.apply(e,arguments),e}function MH(){return o0.apply(null,arguments).exponent(.5)}function f1(e){return Math.sign(e)*e*e}function IH(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function mC(){var e=t0(),t=[0,1],r=!1,n;function a(s){var o=IH(e(s));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(s){return e.invert(f1(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,Ad)).map(f1)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return mC(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Cr.apply(a,arguments),$a(a)}function gC(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=BW(e,o/l);return s}function s(o){return o==null||isNaN(o=+o)?n:t[kc(r,o)]}return s.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(ja),a()},s.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return gC().domain(e).range(t).unknown(n)},Cr.apply(s,arguments)}function yC(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function o(c){return c!=null&&c<=c?a[kc(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return yC().domain([e,t]).range(a).unknown(s)},Cr.apply($a(o),arguments)}function xC(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[kc(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return xC().domain(e).range(t).unknown(r)},Cr.apply(a,arguments)}const fp=new Date,hp=new Date;function mt(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const o=a(s),l=a.ceil(s);return s-o<l-s?o:l},a.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),a.range=(s,o,l)=>{const c=[];if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return c;let u;do c.push(u=new Date(+s)),t(s,l),e(s);while(u<s&&s<o);return c},a.filter=s=>mt(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!s(o););else for(;--l>=0;)for(;t(o,1),!s(o););}),r&&(a.count=(s,o)=>(fp.setTime(+s),hp.setTime(+o),e(fp),e(hp),Math.floor(r(fp,hp))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?o=>n(o)%s===0:o=>a.count(0,o)%s===0):a)),a}const $d=mt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);$d.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?mt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):$d);$d.range;const jn=1e3,xr=jn*60,wn=xr*60,Tn=wn*24,l0=Tn*7,h1=Tn*30,pp=Tn*365,Ga=mt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*jn)},(e,t)=>(t-e)/jn,e=>e.getUTCSeconds());Ga.range;const c0=mt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*jn)},(e,t)=>{e.setTime(+e+t*xr)},(e,t)=>(t-e)/xr,e=>e.getMinutes());c0.range;const u0=mt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*xr)},(e,t)=>(t-e)/xr,e=>e.getUTCMinutes());u0.range;const d0=mt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*jn-e.getMinutes()*xr)},(e,t)=>{e.setTime(+e+t*wn)},(e,t)=>(t-e)/wn,e=>e.getHours());d0.range;const f0=mt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*wn)},(e,t)=>(t-e)/wn,e=>e.getUTCHours());f0.range;const Tc=mt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*xr)/Tn,e=>e.getDate()-1);Tc.range;const rh=mt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Tn,e=>e.getUTCDate()-1);rh.range;const vC=mt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Tn,e=>Math.floor(e/Tn));vC.range;function Ci(e){return mt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*xr)/l0)}const nh=Ci(0),Td=Ci(1),RH=Ci(2),DH=Ci(3),Is=Ci(4),LH=Ci(5),FH=Ci(6);nh.range;Td.range;RH.range;DH.range;Is.range;LH.range;FH.range;function Pi(e){return mt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/l0)}const ah=Pi(0),Md=Pi(1),BH=Pi(2),zH=Pi(3),Rs=Pi(4),UH=Pi(5),WH=Pi(6);ah.range;Md.range;BH.range;zH.range;Rs.range;UH.range;WH.range;const h0=mt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());h0.range;const p0=mt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());p0.range;const Mn=mt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Mn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:mt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Mn.range;const In=mt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());In.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:mt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});In.range;function bC(e,t,r,n,a,s){const o=[[Ga,1,jn],[Ga,5,5*jn],[Ga,15,15*jn],[Ga,30,30*jn],[s,1,xr],[s,5,5*xr],[s,15,15*xr],[s,30,30*xr],[a,1,wn],[a,3,3*wn],[a,6,6*wn],[a,12,12*wn],[n,1,Tn],[n,2,2*Tn],[r,1,l0],[t,1,h1],[t,3,3*h1],[e,1,pp]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),y=p?p.range(u,+d+1):[];return h?y.reverse():y}function c(u,d,f){const h=Math.abs(d-u)/f,p=Qx(([,,m])=>m).right(o,h);if(p===o.length)return e.every(xg(u/pp,d/pp,f));if(p===0)return $d.every(Math.max(xg(u,d,f),1));const[y,x]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return y.every(x)}return[l,c]}const[HH,VH]=bC(In,p0,ah,vC,f0,u0),[KH,qH]=bC(Mn,h0,nh,Tc,d0,c0);function mp(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function gp(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function To(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function GH(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Mo(a),d=Io(a),f=Mo(s),h=Io(s),p=Mo(o),y=Io(o),x=Mo(l),m=Io(l),g=Mo(c),v=Io(c),b={a:U,A:P,b:R,B:k,c:null,d:v1,e:v1,f:yV,g:CV,G:AV,H:pV,I:mV,j:gV,L:jC,m:xV,M:vV,p:B,q:F,Q:w1,s:N1,S:bV,u:jV,U:wV,V:NV,w:_V,W:SV,x:null,X:null,y:OV,Y:PV,Z:kV,"%":j1},w={a:K,A:Y,b:J,B:ae,c:null,d:b1,e:b1,f:MV,g:HV,G:KV,H:EV,I:$V,j:TV,L:NC,m:IV,M:RV,p:we,q:Ne,Q:w1,s:N1,S:DV,u:LV,U:FV,V:BV,w:zV,W:UV,x:null,X:null,y:WV,Y:VV,Z:qV,"%":j1},j={a:A,A:E,b:T,B:W,c:z,d:y1,e:y1,f:uV,g:g1,G:m1,H:x1,I:x1,j:sV,L:cV,m:iV,M:oV,p:C,q:aV,Q:fV,s:hV,S:lV,u:JH,U:eV,V:tV,w:ZH,W:rV,x:L,X:M,y:g1,Y:m1,Z:nV,"%":dV};b.x=N(r,b),b.X=N(n,b),b.c=N(t,b),w.x=N(r,w),w.X=N(n,w),w.c=N(t,w);function N(D,G){return function(ee){var V=[],xe=-1,ne=0,_e=D.length,Ie,ot,Pr;for(ee instanceof Date||(ee=new Date(+ee));++xe<_e;)D.charCodeAt(xe)===37&&(V.push(D.slice(ne,xe)),(ot=p1[Ie=D.charAt(++xe)])!=null?Ie=D.charAt(++xe):ot=Ie==="e"?" ":"0",(Pr=G[Ie])&&(Ie=Pr(ee,ot)),V.push(Ie),ne=xe+1);return V.push(D.slice(ne,xe)),V.join("")}}function _(D,G){return function(ee){var V=To(1900,void 0,1),xe=S(V,D,ee+="",0),ne,_e;if(xe!=ee.length)return null;if("Q"in V)return new Date(V.Q);if("s"in V)return new Date(V.s*1e3+("L"in V?V.L:0));if(G&&!("Z"in V)&&(V.Z=0),"p"in V&&(V.H=V.H%12+V.p*12),V.m===void 0&&(V.m="q"in V?V.q:0),"V"in V){if(V.V<1||V.V>53)return null;"w"in V||(V.w=1),"Z"in V?(ne=gp(To(V.y,0,1)),_e=ne.getUTCDay(),ne=_e>4||_e===0?Md.ceil(ne):Md(ne),ne=rh.offset(ne,(V.V-1)*7),V.y=ne.getUTCFullYear(),V.m=ne.getUTCMonth(),V.d=ne.getUTCDate()+(V.w+6)%7):(ne=mp(To(V.y,0,1)),_e=ne.getDay(),ne=_e>4||_e===0?Td.ceil(ne):Td(ne),ne=Tc.offset(ne,(V.V-1)*7),V.y=ne.getFullYear(),V.m=ne.getMonth(),V.d=ne.getDate()+(V.w+6)%7)}else("W"in V||"U"in V)&&("w"in V||(V.w="u"in V?V.u%7:"W"in V?1:0),_e="Z"in V?gp(To(V.y,0,1)).getUTCDay():mp(To(V.y,0,1)).getDay(),V.m=0,V.d="W"in V?(V.w+6)%7+V.W*7-(_e+5)%7:V.w+V.U*7-(_e+6)%7);return"Z"in V?(V.H+=V.Z/100|0,V.M+=V.Z%100,gp(V)):mp(V)}}function S(D,G,ee,V){for(var xe=0,ne=G.length,_e=ee.length,Ie,ot;xe<ne;){if(V>=_e)return-1;if(Ie=G.charCodeAt(xe++),Ie===37){if(Ie=G.charAt(xe++),ot=j[Ie in p1?G.charAt(xe++):Ie],!ot||(V=ot(D,ee,V))<0)return-1}else if(Ie!=ee.charCodeAt(V++))return-1}return V}function C(D,G,ee){var V=u.exec(G.slice(ee));return V?(D.p=d.get(V[0].toLowerCase()),ee+V[0].length):-1}function A(D,G,ee){var V=p.exec(G.slice(ee));return V?(D.w=y.get(V[0].toLowerCase()),ee+V[0].length):-1}function E(D,G,ee){var V=f.exec(G.slice(ee));return V?(D.w=h.get(V[0].toLowerCase()),ee+V[0].length):-1}function T(D,G,ee){var V=g.exec(G.slice(ee));return V?(D.m=v.get(V[0].toLowerCase()),ee+V[0].length):-1}function W(D,G,ee){var V=x.exec(G.slice(ee));return V?(D.m=m.get(V[0].toLowerCase()),ee+V[0].length):-1}function z(D,G,ee){return S(D,t,G,ee)}function L(D,G,ee){return S(D,r,G,ee)}function M(D,G,ee){return S(D,n,G,ee)}function U(D){return o[D.getDay()]}function P(D){return s[D.getDay()]}function R(D){return c[D.getMonth()]}function k(D){return l[D.getMonth()]}function B(D){return a[+(D.getHours()>=12)]}function F(D){return 1+~~(D.getMonth()/3)}function K(D){return o[D.getUTCDay()]}function Y(D){return s[D.getUTCDay()]}function J(D){return c[D.getUTCMonth()]}function ae(D){return l[D.getUTCMonth()]}function we(D){return a[+(D.getUTCHours()>=12)]}function Ne(D){return 1+~~(D.getUTCMonth()/3)}return{format:function(D){var G=N(D+="",b);return G.toString=function(){return D},G},parse:function(D){var G=_(D+="",!1);return G.toString=function(){return D},G},utcFormat:function(D){var G=N(D+="",w);return G.toString=function(){return D},G},utcParse:function(D){var G=_(D+="",!0);return G.toString=function(){return D},G}}}var p1={"-":"",_:" ",0:"0"},bt=/^\s*\d+/,XH=/^%/,QH=/[\\^$*+?|[\]().{}]/g;function Ce(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function YH(e){return e.replace(QH,"\\$&")}function Mo(e){return new RegExp("^(?:"+e.map(YH).join("|")+")","i")}function Io(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function ZH(e,t,r){var n=bt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function JH(e,t,r){var n=bt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function eV(e,t,r){var n=bt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function tV(e,t,r){var n=bt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function rV(e,t,r){var n=bt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function m1(e,t,r){var n=bt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function g1(e,t,r){var n=bt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function nV(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function aV(e,t,r){var n=bt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function iV(e,t,r){var n=bt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function y1(e,t,r){var n=bt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function sV(e,t,r){var n=bt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function x1(e,t,r){var n=bt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function oV(e,t,r){var n=bt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function lV(e,t,r){var n=bt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function cV(e,t,r){var n=bt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function uV(e,t,r){var n=bt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function dV(e,t,r){var n=XH.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function fV(e,t,r){var n=bt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function hV(e,t,r){var n=bt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function v1(e,t){return Ce(e.getDate(),t,2)}function pV(e,t){return Ce(e.getHours(),t,2)}function mV(e,t){return Ce(e.getHours()%12||12,t,2)}function gV(e,t){return Ce(1+Tc.count(Mn(e),e),t,3)}function jC(e,t){return Ce(e.getMilliseconds(),t,3)}function yV(e,t){return jC(e,t)+"000"}function xV(e,t){return Ce(e.getMonth()+1,t,2)}function vV(e,t){return Ce(e.getMinutes(),t,2)}function bV(e,t){return Ce(e.getSeconds(),t,2)}function jV(e){var t=e.getDay();return t===0?7:t}function wV(e,t){return Ce(nh.count(Mn(e)-1,e),t,2)}function wC(e){var t=e.getDay();return t>=4||t===0?Is(e):Is.ceil(e)}function NV(e,t){return e=wC(e),Ce(Is.count(Mn(e),e)+(Mn(e).getDay()===4),t,2)}function _V(e){return e.getDay()}function SV(e,t){return Ce(Td.count(Mn(e)-1,e),t,2)}function OV(e,t){return Ce(e.getFullYear()%100,t,2)}function CV(e,t){return e=wC(e),Ce(e.getFullYear()%100,t,2)}function PV(e,t){return Ce(e.getFullYear()%1e4,t,4)}function AV(e,t){var r=e.getDay();return e=r>=4||r===0?Is(e):Is.ceil(e),Ce(e.getFullYear()%1e4,t,4)}function kV(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ce(t/60|0,"0",2)+Ce(t%60,"0",2)}function b1(e,t){return Ce(e.getUTCDate(),t,2)}function EV(e,t){return Ce(e.getUTCHours(),t,2)}function $V(e,t){return Ce(e.getUTCHours()%12||12,t,2)}function TV(e,t){return Ce(1+rh.count(In(e),e),t,3)}function NC(e,t){return Ce(e.getUTCMilliseconds(),t,3)}function MV(e,t){return NC(e,t)+"000"}function IV(e,t){return Ce(e.getUTCMonth()+1,t,2)}function RV(e,t){return Ce(e.getUTCMinutes(),t,2)}function DV(e,t){return Ce(e.getUTCSeconds(),t,2)}function LV(e){var t=e.getUTCDay();return t===0?7:t}function FV(e,t){return Ce(ah.count(In(e)-1,e),t,2)}function _C(e){var t=e.getUTCDay();return t>=4||t===0?Rs(e):Rs.ceil(e)}function BV(e,t){return e=_C(e),Ce(Rs.count(In(e),e)+(In(e).getUTCDay()===4),t,2)}function zV(e){return e.getUTCDay()}function UV(e,t){return Ce(Md.count(In(e)-1,e),t,2)}function WV(e,t){return Ce(e.getUTCFullYear()%100,t,2)}function HV(e,t){return e=_C(e),Ce(e.getUTCFullYear()%100,t,2)}function VV(e,t){return Ce(e.getUTCFullYear()%1e4,t,4)}function KV(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Rs(e):Rs.ceil(e),Ce(e.getUTCFullYear()%1e4,t,4)}function qV(){return"+0000"}function j1(){return"%"}function w1(e){return+e}function N1(e){return Math.floor(+e/1e3)}var Ti,SC,OC;GV({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function GV(e){return Ti=GH(e),SC=Ti.format,Ti.parse,OC=Ti.utcFormat,Ti.utcParse,Ti}function XV(e){return new Date(e)}function QV(e){return e instanceof Date?+e:+new Date(+e)}function m0(e,t,r,n,a,s,o,l,c,u){var d=t0(),f=d.invert,h=d.domain,p=u(".%L"),y=u(":%S"),x=u("%I:%M"),m=u("%I %p"),g=u("%a %d"),v=u("%b %d"),b=u("%B"),w=u("%Y");function j(N){return(c(N)<N?p:l(N)<N?y:o(N)<N?x:s(N)<N?m:n(N)<N?a(N)<N?g:v:r(N)<N?b:w)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?h(Array.from(N,QV)):h().map(XV)},d.ticks=function(N){var _=h();return e(_[0],_[_.length-1],N??10)},d.tickFormat=function(N,_){return _==null?j:u(_)},d.nice=function(N){var _=h();return(!N||typeof N.range!="function")&&(N=t(_[0],_[_.length-1],N??10)),N?h(fC(_,N)):d},d.copy=function(){return $c(d,m0(e,t,r,n,a,s,o,l,c,u))},d}function YV(){return Cr.apply(m0(KH,qH,Mn,h0,nh,Tc,d0,c0,Ga,SC).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ZV(){return Cr.apply(m0(HH,VH,In,p0,ah,rh,f0,u0,Ga,OC).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ih(){var e=0,t=1,r,n,a,s,o=Lt,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(s(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var p,y;return arguments.length?([p,y]=h,o=f(p,y),u):[o(0),o(1)]}}return u.range=d(go),u.rangeRound=d(e0),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function Ta(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function CC(){var e=$a(ih()(Lt));return e.copy=function(){return Ta(e,CC())},zn.apply(e,arguments)}function PC(){var e=a0(ih()).domain([1,10]);return e.copy=function(){return Ta(e,PC()).base(e.base())},zn.apply(e,arguments)}function AC(){var e=i0(ih());return e.copy=function(){return Ta(e,AC()).constant(e.constant())},zn.apply(e,arguments)}function g0(){var e=s0(ih());return e.copy=function(){return Ta(e,g0()).exponent(e.exponent())},zn.apply(e,arguments)}function JV(){return g0.apply(null,arguments).exponent(.5)}function kC(){var e=[],t=Lt;function r(n){if(n!=null&&!isNaN(n=+n))return t((kc(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(ja),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>FW(e,s/n))},r.copy=function(){return kC(t).domain(e)},zn.apply(r,arguments)}function sh(){var e=0,t=.5,r=1,n=1,a,s,o,l,c,u=Lt,d,f=!1,h;function p(x){return isNaN(x=+x)?h:(x=.5+((x=+d(x))-s)*(n*x<n*s?l:c),u(f?Math.max(0,Math.min(1,x)):x))}p.domain=function(x){return arguments.length?([e,t,r]=x,a=d(e=+e),s=d(t=+t),o=d(r=+r),l=a===s?0:.5/(s-a),c=s===o?0:.5/(o-s),n=s<a?-1:1,p):[e,t,r]},p.clamp=function(x){return arguments.length?(f=!!x,p):f},p.interpolator=function(x){return arguments.length?(u=x,p):u};function y(x){return function(m){var g,v,b;return arguments.length?([g,v,b]=m,u=dH(x,[g,v,b]),p):[u(0),u(.5),u(1)]}}return p.range=y(go),p.rangeRound=y(e0),p.unknown=function(x){return arguments.length?(h=x,p):h},function(x){return d=x,a=x(e),s=x(t),o=x(r),l=a===s?0:.5/(s-a),c=s===o?0:.5/(o-s),n=s<a?-1:1,p}}function EC(){var e=$a(sh()(Lt));return e.copy=function(){return Ta(e,EC())},zn.apply(e,arguments)}function $C(){var e=a0(sh()).domain([.1,1,10]);return e.copy=function(){return Ta(e,$C()).base(e.base())},zn.apply(e,arguments)}function TC(){var e=i0(sh());return e.copy=function(){return Ta(e,TC()).constant(e.constant())},zn.apply(e,arguments)}function y0(){var e=s0(sh());return e.copy=function(){return Ta(e,y0()).exponent(e.exponent())},zn.apply(e,arguments)}function eK(){return y0.apply(null,arguments).exponent(.5)}const _1=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ll,scaleDiverging:EC,scaleDivergingLog:$C,scaleDivergingPow:y0,scaleDivergingSqrt:eK,scaleDivergingSymlog:TC,scaleIdentity:dC,scaleImplicit:vg,scaleLinear:Ed,scaleLog:hC,scaleOrdinal:Yx,scalePoint:il,scalePow:o0,scaleQuantile:gC,scaleQuantize:yC,scaleRadial:mC,scaleSequential:CC,scaleSequentialLog:PC,scaleSequentialPow:g0,scaleSequentialQuantile:kC,scaleSequentialSqrt:JV,scaleSequentialSymlog:AC,scaleSqrt:MH,scaleSymlog:pC,scaleThreshold:xC,scaleTime:YV,scaleUtc:ZV,tickFormat:uC},Symbol.toStringTag,{value:"Module"}));var tK=so;function rK(e,t,r){for(var n=-1,a=e.length;++n<a;){var s=e[n],o=t(s);if(o!=null&&(l===void 0?o===o&&!tK(o):r(o,l)))var l=o,c=s}return c}var MC=rK;function nK(e,t){return e>t}var aK=nK,iK=MC,sK=aK,oK=po;function lK(e){return e&&e.length?iK(e,oK,sK):void 0}var cK=lK;const oh=Me(cK);function uK(e,t){return e<t}var dK=uK,fK=MC,hK=dK,pK=po;function mK(e){return e&&e.length?fK(e,pK,hK):void 0}var gK=mK;const lh=Me(gK);var yK=Ex,xK=Ea,vK=UO,bK=Zt;function jK(e,t){var r=bK(e)?yK:vK;return r(e,xK(t))}var wK=jK,NK=BO,_K=wK;function SK(e,t){return NK(_K(e,t),1)}var OK=SK;const CK=Me(OK);var PK=Kx;function AK(e,t){return PK(e,t)}var kK=AK;const ch=Me(kK);var yo=1e9,EK={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},v0,Ke=!0,Sr="[DecimalError] ",ci=Sr+"Invalid argument: ",x0=Sr+"Exponent out of range: ",xo=Math.floor,za=Math.pow,$K=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,nr,yt=1e7,We=7,IC=9007199254740991,Id=xo(IC/We),re={};re.absoluteValue=re.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};re.comparedTo=re.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};re.decimalPlaces=re.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*We;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};re.dividedBy=re.div=function(e){return Cn(this,new this.constructor(e))};re.dividedToIntegerBy=re.idiv=function(e){var t=this,r=t.constructor;return Re(Cn(t,new r(e),0,1),r.precision)};re.equals=re.eq=function(e){return!this.cmp(e)};re.exponent=function(){return st(this)};re.greaterThan=re.gt=function(e){return this.cmp(e)>0};re.greaterThanOrEqualTo=re.gte=function(e){return this.cmp(e)>=0};re.isInteger=re.isint=function(){return this.e>this.d.length-2};re.isNegative=re.isneg=function(){return this.s<0};re.isPositive=re.ispos=function(){return this.s>0};re.isZero=function(){return this.s===0};re.lessThan=re.lt=function(e){return this.cmp(e)<0};re.lessThanOrEqualTo=re.lte=function(e){return this.cmp(e)<1};re.logarithm=re.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(nr))throw Error(Sr+"NaN");if(r.s<1)throw Error(Sr+(r.s?"NaN":"-Infinity"));return r.eq(nr)?new n(0):(Ke=!1,t=Cn(Wl(r,s),Wl(e,s),s),Ke=!0,Re(t,a))};re.minus=re.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?LC(t,e):RC(t,(e.s=-e.s,e))};re.modulo=re.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Sr+"NaN");return r.s?(Ke=!1,t=Cn(r,e,0,1).times(e),Ke=!0,r.minus(t)):Re(new n(r),a)};re.naturalExponential=re.exp=function(){return DC(this)};re.naturalLogarithm=re.ln=function(){return Wl(this)};re.negated=re.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};re.plus=re.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?RC(t,e):LC(t,(e.s=-e.s,e))};re.precision=re.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ci+e);if(t=st(a)+1,n=a.d.length-1,r=n*We+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};re.squareRoot=re.sqrt=function(){var e,t,r,n,a,s,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Sr+"NaN")}for(e=st(l),Ke=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=Jr(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=xo((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(s=n,n=s.plus(Cn(l,s,o+2)).times(.5),Jr(s.d).slice(0,o)===(t=Jr(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Re(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;o+=4}return Ke=!0,Re(n,r)};re.times=re.mul=function(e){var t,r,n,a,s,o,l,c,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=p.length,c<u&&(s=h,h=p,p=s,o=c,c=u,u=o),s=[],o=c+u,n=o;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=s[a]+p[n]*h[a-n-1]+t,s[a--]=l%yt|0,t=l/yt|0;s[a]=(s[a]+t)%yt|0}for(;!s[--o];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Ke?Re(e,f.precision):e};re.toDecimalPlaces=re.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(sn(e,0,yo),t===void 0?t=n.rounding:sn(t,0,8),Re(r,e+st(r)+1,t))};re.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=bi(n,!0):(sn(e,0,yo),t===void 0?t=a.rounding:sn(t,0,8),n=Re(new a(n),e+1,t),r=bi(n,!0,e+1)),r};re.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?bi(a):(sn(e,0,yo),t===void 0?t=s.rounding:sn(t,0,8),n=Re(new s(a),e+st(a)+1,t),r=bi(n.abs(),!1,e+st(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};re.toInteger=re.toint=function(){var e=this,t=e.constructor;return Re(new t(e),st(e)+1,t.rounding)};re.toNumber=function(){return+this};re.toPower=re.pow=function(e){var t,r,n,a,s,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(nr);if(l=new c(l),!l.s){if(e.s<1)throw Error(Sr+"Infinity");return l}if(l.eq(nr))return l;if(n=c.precision,e.eq(nr))return Re(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,s=l.s,o){if((r=d<0?-d:d)<=IC){for(a=new c(nr),t=Math.ceil(n/We+4),Ke=!1;r%2&&(a=a.times(l),O1(a.d,t)),r=xo(r/2),r!==0;)l=l.times(l),O1(l.d,t);return Ke=!0,e.s<0?new c(nr).div(a):Re(a,n)}}else if(s<0)throw Error(Sr+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Ke=!1,a=e.times(Wl(l,n+u)),Ke=!0,a=DC(a),a.s=s,a};re.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=st(a),n=bi(a,r<=s.toExpNeg||r>=s.toExpPos)):(sn(e,1,yo),t===void 0?t=s.rounding:sn(t,0,8),a=Re(new s(a),e,t),r=st(a),n=bi(a,e<=r||r<=s.toExpNeg,e)),n};re.toSignificantDigits=re.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(sn(e,1,yo),t===void 0?t=n.rounding:sn(t,0,8)),Re(new n(r),e,t)};re.toString=re.valueOf=re.val=re.toJSON=re[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=st(e),r=e.constructor;return bi(e,t<=r.toExpNeg||t>=r.toExpPos)};function RC(e,t){var r,n,a,s,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Ke?Re(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),s=o-a,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(f/We),l=o>l?o+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/yt|0,c[s]%=yt;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,Ke?Re(t,f):t}function sn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(ci+e)}function Jr(e){var t,r,n,a=e.length-1,s="",o=e[0];if(a>0){for(s+=o,t=1;t<a;t++)n=e[t]+"",r=We-n.length,r&&(s+=Gn(r)),s+=n;o=e[t],n=o+"",r=We-n.length,r&&(s+=Gn(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var Cn=function(){function e(n,a){var s,o=0,l=n.length;for(n=n.slice();l--;)s=n[l]*a+o,n[l]=s%yt|0,o=s/yt|0;return o&&n.unshift(o),n}function t(n,a,s,o){var l,c;if(s!=o)c=s>o?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,s){for(var o=0;s--;)n[s]-=o,o=n[s]<a[s]?1:0,n[s]=o*yt+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,o){var l,c,u,d,f,h,p,y,x,m,g,v,b,w,j,N,_,S,C=n.constructor,A=n.s==a.s?1:-1,E=n.d,T=a.d;if(!n.s)return new C(n);if(!a.s)throw Error(Sr+"Division by zero");for(c=n.e-a.e,_=T.length,j=E.length,p=new C(A),y=p.d=[],u=0;T[u]==(E[u]||0);)++u;if(T[u]>(E[u]||0)&&--c,s==null?v=s=C.precision:o?v=s+(st(n)-st(a))+1:v=s,v<0)return new C(0);if(v=v/We+2|0,u=0,_==1)for(d=0,T=T[0],v++;(u<j||d)&&v--;u++)b=d*yt+(E[u]||0),y[u]=b/T|0,d=b%T|0;else{for(d=yt/(T[0]+1)|0,d>1&&(T=e(T,d),E=e(E,d),_=T.length,j=E.length),w=_,x=E.slice(0,_),m=x.length;m<_;)x[m++]=0;S=T.slice(),S.unshift(0),N=T[0],T[1]>=yt/2&&++N;do d=0,l=t(T,x,_,m),l<0?(g=x[0],_!=m&&(g=g*yt+(x[1]||0)),d=g/N|0,d>1?(d>=yt&&(d=yt-1),f=e(T,d),h=f.length,m=x.length,l=t(f,x,h,m),l==1&&(d--,r(f,_<h?S:T,h))):(d==0&&(l=d=1),f=T.slice()),h=f.length,h<m&&f.unshift(0),r(x,f,m),l==-1&&(m=x.length,l=t(T,x,_,m),l<1&&(d++,r(x,_<m?S:T,m))),m=x.length):l===0&&(d++,x=[0]),y[u++]=d,l&&x[0]?x[m++]=E[w]||0:(x=[E[w]],m=1);while((w++<j||x[0]!==void 0)&&v--)}return y[0]||y.shift(),p.e=c,Re(p,o?s+st(p)+1:s)}}();function DC(e,t){var r,n,a,s,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(st(e)>16)throw Error(x0+st(e));if(!e.s)return new d(nr);for(Ke=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(za(2,u))/Math.LN10*2+5|0,l+=n,r=a=s=new d(nr),d.precision=l;;){if(a=Re(a.times(e),l),r=r.times(++c),o=s.plus(Cn(a,r,l)),Jr(o.d).slice(0,l)===Jr(s.d).slice(0,l)){for(;u--;)s=Re(s.times(s),l);return d.precision=f,t==null?(Ke=!0,Re(s,f)):s}s=o}}function st(e){for(var t=e.e*We,r=e.d[0];r>=10;r/=10)t++;return t}function yp(e,t,r){if(t>e.LN10.sd())throw Ke=!0,r&&(e.precision=r),Error(Sr+"LN10 precision limit exceeded");return Re(new e(e.LN10),t)}function Gn(e){for(var t="";e--;)t+="0";return t}function Wl(e,t){var r,n,a,s,o,l,c,u,d,f=1,h=10,p=e,y=p.d,x=p.constructor,m=x.precision;if(p.s<1)throw Error(Sr+(p.s?"NaN":"-Infinity"));if(p.eq(nr))return new x(0);if(t==null?(Ke=!1,u=m):u=t,p.eq(10))return t==null&&(Ke=!0),yp(x,u);if(u+=h,x.precision=u,r=Jr(y),n=r.charAt(0),s=st(p),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Jr(p.d),n=r.charAt(0),f++;s=st(p),n>1?(p=new x("0."+r),s++):p=new x(n+"."+r.slice(1))}else return c=yp(x,u+2,m).times(s+""),p=Wl(new x(n+"."+r.slice(1)),u-h).plus(c),x.precision=m,t==null?(Ke=!0,Re(p,m)):p;for(l=o=p=Cn(p.minus(nr),p.plus(nr),u),d=Re(p.times(p),u),a=3;;){if(o=Re(o.times(d),u),c=l.plus(Cn(o,new x(a),u)),Jr(c.d).slice(0,u)===Jr(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(yp(x,u+2,m).times(s+""))),l=Cn(l,new x(f),u),x.precision=m,t==null?(Ke=!0,Re(l,m)):l;l=c,a+=2}}function S1(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=xo(r/We),e.d=[],n=(r+1)%We,r<0&&(n+=We),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=We;n<a;)e.d.push(+t.slice(n,n+=We));t=t.slice(n),n=We-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Ke&&(e.e>Id||e.e<-Id))throw Error(x0+r)}else e.s=0,e.e=0,e.d=[0];return e}function Re(e,t,r){var n,a,s,o,l,c,u,d,f=e.d;for(o=1,s=f[0];s>=10;s/=10)o++;if(n=t-o,n<0)n+=We,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/We),s=f.length,d>=s)return e;for(u=s=f[d],o=1;s>=10;s/=10)o++;n%=We,a=n-We+o}if(r!==void 0&&(s=za(10,o-a-1),l=u/s%10|0,c=t<0||f[d+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/za(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(s=st(e),f.length=1,t=t-s-1,f[0]=za(10,(We-t%We)%We),e.e=xo(-t/We)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=za(10,We-n),f[d]=a>0?(u/za(10,o-a)%za(10,a)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==yt&&(f[0]=1,++e.e);break}else{if(f[d]+=s,f[d]!=yt)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(Ke&&(e.e>Id||e.e<-Id))throw Error(x0+st(e));return e}function LC(e,t){var r,n,a,s,o,l,c,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Ke?Re(t,p):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(p/We),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(s=a;s&&c[--s]===0;)c[s]=yt-1;--c[s],c[a]+=yt}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Ke?Re(t,p):t):new h(0)}function bi(e,t,r){var n,a=st(e),s=Jr(e.d),o=s.length;return t?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+Gn(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+Gn(-a-1)+s,r&&(n=r-o)>0&&(s+=Gn(n))):a>=o?(s+=Gn(a+1-o),r&&(n=r-a-1)>0&&(s=s+"."+Gn(n))):((n=a+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(s+="."),s+=Gn(n))),e.s<0?"-"+s:s}function O1(e,t){if(e.length>t)return e.length=t,!0}function FC(e){var t,r,n;function a(s){var o=this;if(!(o instanceof a))return new a(s);if(o.constructor=a,s instanceof a){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(ci+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return S1(o,s.toString())}else if(typeof s!="string")throw Error(ci+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,$K.test(s))S1(o,s);else throw Error(ci+s)}if(a.prototype=re,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=FC,a.config=a.set=TK,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function TK(e){if(!e||typeof e!="object")throw Error(Sr+"Object expected");var t,r,n,a=["precision",1,yo,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(xo(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(ci+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ci+r+": "+n);return this}var v0=FC(EK);nr=new v0(1);const Te=v0;function MK(e){return LK(e)||DK(e)||RK(e)||IK()}function IK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RK(e,t){if(e){if(typeof e=="string")return Ng(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ng(e,t)}}function DK(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function LK(e){if(Array.isArray(e))return Ng(e)}function Ng(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var FK=function(t){return t},BC={},zC=function(t){return t===BC},C1=function(t){return function r(){return arguments.length===0||arguments.length===1&&zC(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},BK=function e(t,r){return t===1?r:C1(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var o=a.filter(function(l){return l!==BC}).length;return o>=t?r.apply(void 0,a):e(t-o,C1(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return zC(f)?c.shift():f});return r.apply(void 0,MK(d).concat(c))}))})},uh=function(t){return BK(t.length,t)},_g=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},zK=uh(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),UK=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return FK;var a=r.reverse(),s=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},Sg=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},UC=function(t){var r=null,n=null;return function(){for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return r&&s.every(function(l,c){return l===r[c]})||(r=s,n=t.apply(void 0,s)),n}};function WK(e){var t;return e===0?t=1:t=Math.floor(new Te(e).abs().log(10).toNumber())+1,t}function HK(e,t,r){for(var n=new Te(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var VK=uh(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),KK=uh(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),qK=uh(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const dh={rangeStep:HK,getDigitCount:WK,interpolateNumber:VK,uninterpolateNumber:KK,uninterpolateTruncation:qK};function Og(e){return QK(e)||XK(e)||WC(e)||GK()}function GK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XK(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function QK(e){if(Array.isArray(e))return Cg(e)}function Hl(e,t){return JK(e)||ZK(e,t)||WC(e,t)||YK()}function YK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WC(e,t){if(e){if(typeof e=="string")return Cg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cg(e,t)}}function Cg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ZK(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,s=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,s=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw s}}return r}}function JK(e){if(Array.isArray(e))return e}function HC(e){var t=Hl(e,2),r=t[0],n=t[1],a=r,s=n;return r>n&&(a=n,s=r),[a,s]}function VC(e,t,r){if(e.lte(0))return new Te(0);var n=dh.getDigitCount(e.toNumber()),a=new Te(10).pow(n),s=e.div(a),o=n!==1?.05:.1,l=new Te(Math.ceil(s.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new Te(Math.ceil(c))}function eq(e,t,r){var n=1,a=new Te(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new Te(10).pow(dh.getDigitCount(e)-1),a=new Te(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new Te(Math.floor(e)))}else e===0?a=new Te(Math.floor((t-1)/2)):r||(a=new Te(Math.floor(e)));var o=Math.floor((t-1)/2),l=UK(zK(function(c){return a.add(new Te(c-o).mul(n)).toNumber()}),_g);return l(0,t)}function KC(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Te(0),tickMin:new Te(0),tickMax:new Te(0)};var s=VC(new Te(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new Te(0):(o=new Te(e).add(t).div(2),o=o.sub(new Te(o).mod(s)));var l=Math.ceil(o.sub(e).div(s).toNumber()),c=Math.ceil(new Te(t).sub(o).div(s).toNumber()),u=l+c+1;return u>r?KC(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:s,tickMin:o.sub(new Te(l).mul(s)),tickMax:o.add(new Te(c).mul(s))})}function tq(e){var t=Hl(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=HC([r,n]),c=Hl(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(Og(_g(0,a-1).map(function(){return 1/0}))):[].concat(Og(_g(0,a-1).map(function(){return-1/0})),[d]);return r>n?Sg(f):f}if(u===d)return eq(u,a,s);var h=KC(u,d,o,s),p=h.step,y=h.tickMin,x=h.tickMax,m=dh.rangeStep(y,x.add(new Te(.1).mul(p)),p);return r>n?Sg(m):m}function rq(e,t){var r=Hl(e,2),n=r[0],a=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=HC([n,a]),l=Hl(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=VC(new Te(u).sub(c).div(d-1),s,0),h=[].concat(Og(dh.rangeStep(new Te(c),new Te(u).sub(new Te(.99).mul(f)),f)),[u]);return n>a?Sg(h):h}var nq=UC(tq),aq=UC(rq),iq="Invariant failed";function ji(e,t){throw new Error(iq)}var sq=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ds(e){"@babel/helpers - typeof";return Ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ds(e)}function Rd(){return Rd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rd.apply(this,arguments)}function oq(e,t){return dq(e)||uq(e,t)||cq(e,t)||lq()}function lq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cq(e,t){if(e){if(typeof e=="string")return P1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P1(e,t)}}function P1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function uq(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function dq(e){if(Array.isArray(e))return e}function fq(e,t){if(e==null)return{};var r=hq(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function pq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XC(n.key),n)}}function gq(e,t,r){return t&&mq(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yq(e,t,r){return t=Dd(t),xq(e,qC()?Reflect.construct(t,r||[],Dd(e).constructor):t.apply(e,r))}function xq(e,t){if(t&&(Ds(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vq(e)}function vq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qC=function(){return!!e})()}function Dd(e){return Dd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dd(e)}function bq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pg(e,t)}function Pg(e,t){return Pg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Pg(e,t)}function GC(e,t,r){return t=XC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XC(e){var t=jq(e,"string");return Ds(t)=="symbol"?t:t+""}function jq(e,t){if(Ds(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ds(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Mc=function(e){function t(){return pq(this,t),yq(this,t,arguments)}return bq(t,e),gq(t,[{key:"render",value:function(){var n=this.props,a=n.offset,s=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=fq(n,sq),p=je(h,!1);this.props.direction==="x"&&d.type!=="number"&&ji();var y=c.map(function(x){var m=u(x,l),g=m.x,v=m.y,b=m.value,w=m.errorVal;if(!w)return null;var j=[],N,_;if(Array.isArray(w)){var S=oq(w,2);N=S[0],_=S[1]}else N=_=w;if(s==="vertical"){var C=d.scale,A=v+a,E=A+o,T=A-o,W=C(b-N),z=C(b+_);j.push({x1:z,y1:E,x2:z,y2:T}),j.push({x1:W,y1:A,x2:z,y2:A}),j.push({x1:W,y1:E,x2:W,y2:T})}else if(s==="horizontal"){var L=f.scale,M=g+a,U=M-o,P=M+o,R=L(b-N),k=L(b+_);j.push({x1:U,y1:k,x2:P,y2:k}),j.push({x1:M,y1:R,x2:M,y2:k}),j.push({x1:U,y1:R,x2:P,y2:R})}return I.createElement(tt,Rd({className:"recharts-errorBar",key:"bar-".concat(j.map(function(B){return"".concat(B.x1,"-").concat(B.x2,"-").concat(B.y1,"-").concat(B.y2)}))},p),j.map(function(B){return I.createElement("line",Rd({},B,{key:"line-".concat(B.x1,"-").concat(B.x2,"-").concat(B.y1,"-").concat(B.y2)}))}))});return I.createElement(tt,{className:"recharts-errorBars"},y)}}])}(I.Component);GC(Mc,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});GC(Mc,"displayName","ErrorBar");function Vl(e){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vl(e)}function A1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ra(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A1(Object(r),!0).forEach(function(n){wq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wq(e,t,r){return t=Nq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nq(e){var t=_q(e,"string");return Vl(t)=="symbol"?t:t+""}function _q(e,t){if(Vl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QC=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,s=t.legendContent,o=rr(r,oi);if(!o)return null;var l=oi.defaultProps,c=l!==void 0?Ra(Ra({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:s==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,y=p.sectors||p.data||[];return d.concat(y.map(function(x){return{type:o.props.iconType||h.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?Ra(Ra({},h),f.props):{},y=p.dataKey,x=p.name,m=p.legendType,g=p.hide;return{inactive:g,dataKey:y,type:c.iconType||m||"square",color:b0(f),value:x||y,payload:p}}),Ra(Ra(Ra({},c),oi.getWithHeight(o,a)),{},{payload:u,item:o})};function Kl(e){"@babel/helpers - typeof";return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kl(e)}function k1(e){return Pq(e)||Cq(e)||Oq(e)||Sq()}function Sq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oq(e,t){if(e){if(typeof e=="string")return Ag(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ag(e,t)}}function Cq(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Pq(e){if(Array.isArray(e))return Ag(e)}function Ag(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function E1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Je(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E1(Object(r),!0).forEach(function(n){ss(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ss(e,t,r){return t=Aq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Aq(e){var t=kq(e,"string");return Kl(t)=="symbol"?t:t+""}function kq(e,t){if(Kl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function or(e,t,r){return me(e)||me(t)?r:pt(t)?jr(e,t,r):pe(t)?t(e):r}function sl(e,t,r,n){var a=CK(e,function(l){return or(l,t)});if(r==="number"){var s=a.filter(function(l){return Q(l)||parseFloat(l)});return s.length?[lh(s),oh(s)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!me(l)}):a;return o.map(function(l){return pt(l)||l instanceof Date?l:""})}var Eq=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,p=void 0;if(zr(f-d)!==zr(h-f)){var y=[];if(zr(h-f)===zr(c[1]-c[0])){p=h;var x=f+c[1]-c[0];y[0]=Math.min(x,(x+d)/2),y[1]=Math.max(x,(x+d)/2)}else{p=d;var m=h+c[1]-c[0];y[0]=Math.min(f,(m+f)/2),y[1]=Math.max(f,(m+f)/2)}var g=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>g[0]&&t<=g[1]||t>=y[0]&&t<=y[1]){o=a[u].index;break}}else{var v=Math.min(d,h),b=Math.max(d,h);if(t>(v+f)/2&&t<=(b+f)/2){o=a[u].index;break}}}else for(var w=0;w<l;w++)if(w===0&&t<=(n[w].coordinate+n[w+1].coordinate)/2||w>0&&w<l-1&&t>(n[w].coordinate+n[w-1].coordinate)/2&&t<=(n[w].coordinate+n[w+1].coordinate)/2||w===l-1&&t>(n[w].coordinate+n[w-1].coordinate)/2){o=n[w].index;break}return o},b0=function(t){var r,n=t,a=n.type.displayName,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Je(Je({},t.type.defaultProps),t.props):t.props,o=s.stroke,l=s.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},$q=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,s=a===void 0?{}:a;if(!s)return{};for(var o={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var d=s[l[c]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var y=d[f[h]],x=y.items,m=y.cateAxisId,g=x.filter(function(_){return Sn(_.type).indexOf("Bar")>=0});if(g&&g.length){var v=g[0].type.defaultProps,b=v!==void 0?Je(Je({},v),g[0].props):g[0].props,w=b.barSize,j=b[m];o[j]||(o[j]=[]);var N=me(w)?r:w;o[j].push({item:g[0],stackList:g.slice(1),barSize:me(N)?void 0:vi(N,n,0)})}}return o},Tq=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,s=t.sizeList,o=s===void 0?[]:s,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=vi(r,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=a/c,y=o.reduce(function(w,j){return w+j.barSize||0},0);y+=(c-1)*u,y>=a&&(y-=(c-1)*u,u=0),y>=a&&p>0&&(h=!0,p*=.9,y=c*p);var x=(a-y)/2>>0,m={offset:x-u,size:0};d=o.reduce(function(w,j){var N={item:j.item,position:{offset:m.offset+m.size+u,size:h?p:j.barSize}},_=[].concat(k1(w),[N]);return m=_[_.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(S){_.push({item:S,position:m})}),_},f)}else{var g=vi(n,a,0,!0);a-2*g-(c-1)*u<=0&&(u=0);var v=(a-2*g-(c-1)*u)/c;v>1&&(v>>=0);var b=l===+l?Math.min(v,l):v;d=o.reduce(function(w,j,N){var _=[].concat(k1(w),[{item:j.item,position:{offset:g+(v+u)*N+(v-b)/2,size:b}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(S){_.push({item:S,position:_[_.length-1].position})}),_},f)}return d},Mq=function(t,r,n,a){var s=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=QC({children:s,legendWidth:c});if(u){var d=a||{},f=d.width,h=d.height,p=u.align,y=u.verticalAlign,x=u.layout;if((x==="vertical"||x==="horizontal"&&y==="middle")&&p!=="center"&&Q(t[p]))return Je(Je({},t),{},ss({},p,t[p]+(f||0)));if((x==="horizontal"||x==="vertical"&&p==="center")&&y!=="middle"&&Q(t[y]))return Je(Je({},t),{},ss({},y,t[y]+(h||0)))}return t},Iq=function(t,r,n){return me(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},YC=function(t,r,n,a,s){var o=r.props.children,l=wr(o,Mc).filter(function(u){return Iq(a,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=or(d,n);if(me(f))return u;var h=Array.isArray(f)?[lh(f),oh(f)]:[f,f],p=c.reduce(function(y,x){var m=or(d,x,0),g=h[0]-Math.abs(Array.isArray(m)?m[0]:m),v=h[1]+Math.abs(Array.isArray(m)?m[1]:m);return[Math.min(g,y[0]),Math.max(v,y[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},Rq=function(t,r,n,a,s){var o=r.map(function(l){return YC(t,l,n,s,a)}).filter(function(l){return!me(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},ZC=function(t,r,n,a,s){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&YC(t,c,u,a)||sl(t,u,n,s)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},JC=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},eP=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var s,o,l=t.map(function(c){return c.coordinate===r&&(s=!0),c.coordinate===n&&(o=!0),c.coordinate});return s||l.push(r),o||l.push(n),l},Nn=function(t,r,n){if(!t)return null;var a=t.scale,s=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?zr(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=s?s.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!Cc(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:s?s[f]:f,index:h,offset:u}})},xp=new WeakMap,du=function(t,r){if(typeof r!="function")return t;xp.has(t)||xp.set(t,new WeakMap);var n=xp.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},Dq=function(t,r,n){var a=t.scale,s=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Ll(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Ed(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:il(),realScaleType:"point"}:s==="category"?{scale:Ll(),realScaleType:"band"}:{scale:Ed(),realScaleType:"linear"};if(xi(a)){var c="scale".concat(Gf(a));return{scale:(_1[c]||il)(),realScaleType:_1[c]?c:"point"}}return pe(a)?{scale:a}:{scale:il(),realScaleType:"point"}},$1=1e-4,Lq=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),s=Math.min(a[0],a[1])-$1,o=Math.max(a[0],a[1])+$1,l=t(r[0]),c=t(r[n-1]);(l<s||l>o||c<s||c>o)&&t.domain([r[0],r[n-1]])}},Fq=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},Bq=function(t,r){if(!r||r.length!==2||!Q(r[0])||!Q(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),s=[t[0],t[1]];return(!Q(t[0])||t[0]<n)&&(s[0]=n),(!Q(t[1])||t[1]>a)&&(s[1]=a),s[0]>a&&(s[0]=a),s[1]<n&&(s[1]=n),s},zq=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,o=0,l=0;l<r;++l){var c=Cc(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=s,t[l][n][1]=s+c,s=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},Uq=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,o=0;o<r;++o){var l=Cc(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=s,t[o][n][1]=s+l,s=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},Wq={sign:zq,expand:nD,none:As,silhouette:aD,wiggle:iD,positive:Uq},Hq=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),s=Wq[n],o=rD().keys(a).value(function(l,c){return+or(l,c,0)}).order(eg).offset(s);return o(t)},Vq=function(t,r,n,a,s,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var p,y=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Je(Je({},h.type.defaultProps),h.props):h.props,x=y.stackId,m=y.hide;if(m)return f;var g=y[n],v=f[g]||{hasStack:!1,stackGroups:{}};if(pt(x)){var b=v.stackGroups[x]||{numericAxisId:n,cateAxisId:a,items:[]};b.items.push(h),v.hasStack=!0,v.stackGroups[x]=b}else v.stackGroups[Pc("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return Je(Je({},f),{},ss({},g,v))},c),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var y={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(x,m){var g=p.stackGroups[m];return Je(Je({},x),{},ss({},m,{numericAxisId:n,cateAxisId:a,items:g.items,stackedData:Hq(t,g.items,s)}))},y)}return Je(Je({},f),{},ss({},h,p))},d)},Kq=function(t,r){var n=r.realScaleType,a=r.type,s=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=nq(u,s,l);return t.domain([lh(d),oh(d)]),{niceTicks:d}}if(s&&a==="number"){var f=t.domain(),h=aq(f,s,l);return{niceTicks:h}}return null};function T1(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,s=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!me(a[t.dataKey])){var l=ld(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var c=or(a,me(o)?t.dataKey:o);return me(c)?null:t.scale(c)}var M1=function(t){var r=t.axis,n=t.ticks,a=t.offset,s=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=or(o,r.dataKey,r.domain[l]);return me(c)?null:r.scale(c)-s/2+a},qq=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return a<=0&&s>=0?0:s<0?s:a}return n[0]},Gq=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Je(Je({},t.type.defaultProps),t.props):t.props,s=a.stackId;if(pt(s)){var o=r[s];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},Xq=function(t){return t.reduce(function(r,n){return[lh(n.concat([r[0]]).filter(Q)),oh(n.concat([r[1]]).filter(Q))]},[1/0,-1/0])},tP=function(t,r,n){return Object.keys(t).reduce(function(a,s){var o=t[s],l=o.stackedData,c=l.reduce(function(u,d){var f=Xq(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},I1=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,R1=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,kg=function(t,r,n){if(pe(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(Q(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(I1.test(t[0])){var s=+I1.exec(t[0])[1];a[0]=r[0]-s}else pe(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(Q(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(R1.test(t[1])){var o=+R1.exec(t[1])[1];a[1]=r[1]+o}else pe(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},Ld=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var s=Gx(r,function(f){return f.coordinate}),o=1/0,l=1,c=s.length;l<c;l++){var u=s[l],d=s[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},D1=function(t,r,n){return!t||!t.length||ch(t,jr(n,"type.defaultProps.domain"))?r:t},rP=function(t,r){var n=t.type.defaultProps?Je(Je({},t.type.defaultProps),t.props):t.props,a=n.dataKey,s=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Je(Je({},je(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:s||a,color:b0(t),value:or(r,a),type:c,payload:r,chartType:u,hide:d})};function ql(e){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ql(e)}function L1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function F1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L1(Object(r),!0).forEach(function(n){Qq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qq(e,t,r){return t=Yq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yq(e){var t=Zq(e,"string");return ql(t)=="symbol"?t:t+""}function Zq(e,t){if(ql(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ql(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fd=Math.PI/180,Jq=function(t){return t*180/Math.PI},Nt=function(t,r,n,a){return{x:t+Math.cos(-Fd*a)*n,y:r+Math.sin(-Fd*a)*n}},eG=function(t,r){var n=t.x,a=t.y,s=r.x,o=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(a-o,2))},tG=function(t,r){var n=t.x,a=t.y,s=r.cx,o=r.cy,l=eG({x:n,y:a},{x:s,y:o});if(l<=0)return{radius:l};var c=(n-s)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:Jq(u),angleInRadian:u}},rG=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(a,s);return{startAngle:r-o*360,endAngle:n-o*360}},nG=function(t,r){var n=r.startAngle,a=r.endAngle,s=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(s,o);return t+l*360},B1=function(t,r){var n=t.x,a=t.y,s=tG({x:n,y:a},r),o=s.radius,l=s.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=rG(r),f=d.startAngle,h=d.endAngle,p=l,y;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;y=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;y=p>=h&&p<=f}return y?F1(F1({},r),{},{radius:o,angle:nG(p,r)}):null};function Gl(e){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gl(e)}var aG=["offset"];function iG(e){return cG(e)||lG(e)||oG(e)||sG()}function sG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oG(e,t){if(e){if(typeof e=="string")return Eg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Eg(e,t)}}function lG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cG(e){if(Array.isArray(e))return Eg(e)}function Eg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function uG(e,t){if(e==null)return{};var r=dG(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dG(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function z1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ct(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z1(Object(r),!0).forEach(function(n){fG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fG(e,t,r){return t=hG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hG(e){var t=pG(e,"string");return Gl(t)=="symbol"?t:t+""}function pG(e,t){if(Gl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xl(){return Xl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xl.apply(this,arguments)}var mG=function(t){var r=t.value,n=t.formatter,a=me(t.children)?r:t.children;return pe(n)?n(a):a},gG=function(t,r){var n=zr(r-t),a=Math.min(Math.abs(r-t),360);return n*a},yG=function(t,r,n){var a=t.position,s=t.viewBox,o=t.offset,l=t.className,c=s,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,p=c.startAngle,y=c.endAngle,x=c.clockWise,m=(f+h)/2,g=gG(p,y),v=g>=0?1:-1,b,w;a==="insideStart"?(b=p+v*o,w=x):a==="insideEnd"?(b=y-v*o,w=!x):a==="end"&&(b=y+v*o,w=x),w=g<=0?w:!w;var j=Nt(u,d,m,b),N=Nt(u,d,m,b+(w?1:-1)*359),_="M".concat(j.x,",").concat(j.y,`
    A`).concat(m,",").concat(m,",0,1,").concat(w?0:1,`,
    `).concat(N.x,",").concat(N.y),S=me(t.id)?Pc("recharts-radial-line-"):t.id;return I.createElement("text",Xl({},n,{dominantBaseline:"central",className:Se("recharts-radial-bar-label",l)}),I.createElement("defs",null,I.createElement("path",{id:S,d:_})),I.createElement("textPath",{xlinkHref:"#".concat(S)},r))},xG=function(t){var r=t.viewBox,n=t.offset,a=t.position,s=r,o=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,d=s.startAngle,f=s.endAngle,h=(d+f)/2;if(a==="outside"){var p=Nt(o,l,u+n,h),y=p.x,x=p.y;return{x:y,y:x,textAnchor:y>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var m=(c+u)/2,g=Nt(o,l,m,h),v=g.x,b=g.y;return{x:v,y:b,textAnchor:"middle",verticalAnchor:"middle"}},vG=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,s=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*a,p=f>0?"end":"start",y=f>0?"start":"end",x=u>=0?1:-1,m=x*a,g=x>0?"end":"start",v=x>0?"start":"end";if(s==="top"){var b={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:p};return ct(ct({},b),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var w={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:y};return ct(ct({},w),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(s==="left"){var j={x:l-m,y:c+d/2,textAnchor:g,verticalAnchor:"middle"};return ct(ct({},j),n?{width:Math.max(j.x-n.x,0),height:d}:{})}if(s==="right"){var N={x:l+u+m,y:c+d/2,textAnchor:v,verticalAnchor:"middle"};return ct(ct({},N),n?{width:Math.max(n.x+n.width-N.x,0),height:d}:{})}var _=n?{width:u,height:d}:{};return s==="insideLeft"?ct({x:l+m,y:c+d/2,textAnchor:v,verticalAnchor:"middle"},_):s==="insideRight"?ct({x:l+u-m,y:c+d/2,textAnchor:g,verticalAnchor:"middle"},_):s==="insideTop"?ct({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:y},_):s==="insideBottom"?ct({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:p},_):s==="insideTopLeft"?ct({x:l+m,y:c+h,textAnchor:v,verticalAnchor:y},_):s==="insideTopRight"?ct({x:l+u-m,y:c+h,textAnchor:g,verticalAnchor:y},_):s==="insideBottomLeft"?ct({x:l+m,y:c+d-h,textAnchor:v,verticalAnchor:p},_):s==="insideBottomRight"?ct({x:l+u-m,y:c+d-h,textAnchor:g,verticalAnchor:p},_):oo(s)&&(Q(s.x)||Ka(s.x))&&(Q(s.y)||Ka(s.y))?ct({x:l+vi(s.x,u),y:c+vi(s.y,d),textAnchor:"end",verticalAnchor:"end"},_):ct({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},_)},bG=function(t){return"cx"in t&&Q(t.cx)};function kt(e){var t=e.offset,r=t===void 0?5:t,n=uG(e,aG),a=ct({offset:r},n),s=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!s||me(l)&&me(c)&&!O.isValidElement(u)&&!pe(u))return null;if(O.isValidElement(u))return O.cloneElement(u,a);var p;if(pe(u)){if(p=O.createElement(u,a),O.isValidElement(p))return p}else p=mG(a);var y=bG(s),x=je(a,!0);if(y&&(o==="insideStart"||o==="insideEnd"||o==="end"))return yG(a,p,x);var m=y?xG(a):vG(a);return I.createElement(_d,Xl({className:Se("recharts-label",f)},x,m,{breakAll:h}),p)}kt.displayName="Label";var nP=function(t){var r=t.cx,n=t.cy,a=t.angle,s=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,p=t.top,y=t.left,x=t.width,m=t.height,g=t.clockWise,v=t.labelViewBox;if(v)return v;if(Q(x)&&Q(m)){if(Q(f)&&Q(h))return{x:f,y:h,width:x,height:m};if(Q(p)&&Q(y))return{x:p,y,width:x,height:m}}return Q(f)&&Q(h)?{x:f,y:h,width:0,height:0}:Q(r)&&Q(n)?{cx:r,cy:n,startAngle:s||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:g}:t.viewBox?t.viewBox:{}},jG=function(t,r){return t?t===!0?I.createElement(kt,{key:"label-implicit",viewBox:r}):pt(t)?I.createElement(kt,{key:"label-implicit",viewBox:r,value:t}):O.isValidElement(t)?t.type===kt?O.cloneElement(t,{key:"label-implicit",viewBox:r}):I.createElement(kt,{key:"label-implicit",content:t,viewBox:r}):pe(t)?I.createElement(kt,{key:"label-implicit",content:t,viewBox:r}):oo(t)?I.createElement(kt,Xl({viewBox:r},t,{key:"label-implicit"})):null:null},wG=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,s=nP(t),o=wr(a,kt).map(function(c,u){return O.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return o;var l=jG(t.label,r||s);return[l].concat(iG(o))};kt.parseViewBox=nP;kt.renderCallByParent=wG;function NG(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var _G=NG;const SG=Me(_G);function Ql(e){"@babel/helpers - typeof";return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ql(e)}var OG=["valueAccessor"],CG=["data","dataKey","clockWise","id","textBreakAll"];function PG(e){return $G(e)||EG(e)||kG(e)||AG()}function AG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kG(e,t){if(e){if(typeof e=="string")return $g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $g(e,t)}}function EG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $G(e){if(Array.isArray(e))return $g(e)}function $g(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Bd(){return Bd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bd.apply(this,arguments)}function U1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function W1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U1(Object(r),!0).forEach(function(n){TG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TG(e,t,r){return t=MG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MG(e){var t=IG(e,"string");return Ql(t)=="symbol"?t:t+""}function IG(e,t){if(Ql(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ql(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function H1(e,t){if(e==null)return{};var r=RG(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function RG(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var DG=function(t){return Array.isArray(t.value)?SG(t.value):t.value};function wa(e){var t=e.valueAccessor,r=t===void 0?DG:t,n=H1(e,OG),a=n.data,s=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=H1(n,CG);return!a||!a.length?null:I.createElement(tt,{className:"recharts-label-list"},a.map(function(d,f){var h=me(s)?r(d,f):or(d&&d.payload,s),p=me(l)?{}:{id:"".concat(l,"-").concat(f)};return I.createElement(kt,Bd({},je(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:kt.parseViewBox(me(o)?d:W1(W1({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}wa.displayName="LabelList";function LG(e,t){return e?e===!0?I.createElement(wa,{key:"labelList-implicit",data:t}):I.isValidElement(e)||pe(e)?I.createElement(wa,{key:"labelList-implicit",data:t,content:e}):oo(e)?I.createElement(wa,Bd({data:t},e,{key:"labelList-implicit"})):null:null}function FG(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=wr(n,wa).map(function(o,l){return O.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var s=LG(e.label,t);return[s].concat(PG(a))}wa.renderCallByParent=FG;function Yl(e){"@babel/helpers - typeof";return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yl(e)}function Tg(){return Tg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tg.apply(this,arguments)}function V1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function K1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V1(Object(r),!0).forEach(function(n){BG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BG(e,t,r){return t=zG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zG(e){var t=UG(e,"string");return Yl(t)=="symbol"?t:t+""}function UG(e,t){if(Yl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WG=function(t,r){var n=zr(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},fu=function(t){var r=t.cx,n=t.cy,a=t.radius,s=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/Fd,h=u?s:s+o*f,p=Nt(r,n,d,h),y=Nt(r,n,a,h),x=u?s-o*f:s,m=Nt(r,n,d*Math.cos(f*Fd),x);return{center:p,circleTangency:y,lineTangency:m,theta:f}},aP=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,o=t.startAngle,l=t.endAngle,c=WG(o,l),u=o+c,d=Nt(r,n,s,o),f=Nt(r,n,s,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var p=Nt(r,n,a,o),y=Nt(r,n,a,u);h+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},HG=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=zr(d-u),h=fu({cx:r,cy:n,radius:s,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),p=h.circleTangency,y=h.lineTangency,x=h.theta,m=fu({cx:r,cy:n,radius:s,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),g=m.circleTangency,v=m.lineTangency,b=m.theta,w=c?Math.abs(u-d):Math.abs(u-d)-x-b;if(w<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):aP({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d});var j="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(w>180),",").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
  `);if(a>0){var N=fu({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),_=N.circleTangency,S=N.lineTangency,C=N.theta,A=fu({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),E=A.circleTangency,T=A.lineTangency,W=A.theta,z=c?Math.abs(u-d):Math.abs(u-d)-C-W;if(z<0&&o===0)return"".concat(j,"L").concat(r,",").concat(n,"Z");j+="L".concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(z>180),",").concat(+(f>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(S.x,",").concat(S.y,"Z")}else j+="L".concat(r,",").concat(n,"Z");return j},VG={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},iP=function(t){var r=K1(K1({},VG),t),n=r.cx,a=r.cy,s=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<s||d===f)return null;var p=Se("recharts-sector",h),y=o-s,x=vi(l,y,0,!0),m;return x>0&&Math.abs(d-f)<360?m=HG({cx:n,cy:a,innerRadius:s,outerRadius:o,cornerRadius:Math.min(x,y/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):m=aP({cx:n,cy:a,innerRadius:s,outerRadius:o,startAngle:d,endAngle:f}),I.createElement("path",Tg({},je(r,!0),{className:p,d:m,role:"img"}))};function Zl(e){"@babel/helpers - typeof";return Zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zl(e)}function Mg(){return Mg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mg.apply(this,arguments)}function q1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function G1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q1(Object(r),!0).forEach(function(n){KG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KG(e,t,r){return t=qG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qG(e){var t=GG(e,"string");return Zl(t)=="symbol"?t:t+""}function GG(e,t){if(Zl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var X1={curveBasisClosed:V6,curveBasisOpen:K6,curveBasis:H6,curveBumpX:k6,curveBumpY:E6,curveLinearClosed:q6,curveLinear:Qf,curveMonotoneX:G6,curveMonotoneY:X6,curveNatural:Q6,curveStep:Y6,curveStepAfter:J6,curveStepBefore:Z6},hu=function(t){return t.x===+t.x&&t.y===+t.y},Ro=function(t){return t.x},Do=function(t){return t.y},XG=function(t,r){if(pe(t))return t;var n="curve".concat(Gf(t));return(n==="curveMonotone"||n==="curveBump")&&r?X1["".concat(n).concat(r==="vertical"?"Y":"X")]:X1[n]||Qf},QG=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,s=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=XG(n,l),f=u?s.filter(function(x){return hu(x)}):s,h;if(Array.isArray(o)){var p=u?o.filter(function(x){return hu(x)}):o,y=f.map(function(x,m){return G1(G1({},x),{},{base:p[m]})});return l==="vertical"?h=nu().y(Do).x1(Ro).x0(function(x){return x.base.x}):h=nu().x(Ro).y1(Do).y0(function(x){return x.base.y}),h.defined(hu).curve(d),h(y)}return l==="vertical"&&Q(o)?h=nu().y(Do).x1(Ro).x0(o):Q(o)?h=nu().x(Ro).y1(Do).y0(o):h=iO().x(Ro).y(Do),h.defined(hu).curve(d),h(f)},Ig=function(t){var r=t.className,n=t.points,a=t.path,s=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?QG(t):a;return O.createElement("path",Mg({},je(t,!1),cd(t),{className:Se("recharts-curve",r),d:o,ref:s}))},sP={exports:{}},YG="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ZG=YG,JG=ZG;function oP(){}function lP(){}lP.resetWarningCache=oP;var eX=function(){function e(n,a,s,o,l,c){if(c!==JG){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:lP,resetWarningCache:oP};return r.PropTypes=r,r};sP.exports=eX();var tX=sP.exports;const Ae=Me(tX),{getOwnPropertyNames:rX,getOwnPropertySymbols:nX}=Object,{hasOwnProperty:aX}=Object.prototype;function vp(e,t){return function(n,a,s){return e(n,a,s)&&t(n,a,s)}}function pu(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);const{cache:s}=a,o=s.get(r),l=s.get(n);if(o&&l)return o===n&&l===r;s.set(r,n),s.set(n,r);const c=e(r,n,a);return s.delete(r),s.delete(n),c}}function iX(e){return e!=null?e[Symbol.toStringTag]:void 0}function Q1(e){return rX(e).concat(nX(e))}const sX=Object.hasOwn||((e,t)=>aX.call(e,t));function Ai(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const oX="__v",lX="__o",cX="_owner",{getOwnPropertyDescriptor:Y1,keys:Z1}=Object;function uX(e,t){return e.byteLength===t.byteLength&&zd(new Uint8Array(e),new Uint8Array(t))}function dX(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function fX(e,t){return e.byteLength===t.byteLength&&zd(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function hX(e,t){return Ai(e.getTime(),t.getTime())}function pX(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function mX(e,t){return e===t}function J1(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),s=e.entries();let o,l,c=0;for(;(o=s.next())&&!o.done;){const u=t.entries();let d=!1,f=0;for(;(l=u.next())&&!l.done;){if(a[f]){f++;continue}const h=o.value,p=l.value;if(r.equals(h[0],p[0],c,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}const gX=Ai;function yX(e,t,r){const n=Z1(e);let a=n.length;if(Z1(t).length!==a)return!1;for(;a-- >0;)if(!cP(e,t,r,n[a]))return!1;return!0}function Lo(e,t,r){const n=Q1(e);let a=n.length;if(Q1(t).length!==a)return!1;let s,o,l;for(;a-- >0;)if(s=n[a],!cP(e,t,r,s)||(o=Y1(e,s),l=Y1(t,s),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function xX(e,t){return Ai(e.valueOf(),t.valueOf())}function vX(e,t){return e.source===t.source&&e.flags===t.flags}function ew(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),s=e.values();let o,l;for(;(o=s.next())&&!o.done;){const c=t.values();let u=!1,d=0;for(;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function zd(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function bX(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function cP(e,t,r,n){return(n===cX||n===lX||n===oX)&&(e.$$typeof||t.$$typeof)?!0:sX(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const jX="[object ArrayBuffer]",wX="[object Arguments]",NX="[object Boolean]",_X="[object DataView]",SX="[object Date]",OX="[object Error]",CX="[object Map]",PX="[object Number]",AX="[object Object]",kX="[object RegExp]",EX="[object Set]",$X="[object String]",TX={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},MX="[object URL]",IX=Object.prototype.toString;function RX({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:a,areFunctionsEqual:s,areMapsEqual:o,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:u,areRegExpsEqual:d,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:p,unknownTagComparators:y}){return function(m,g,v){if(m===g)return!0;if(m==null||g==null)return!1;const b=typeof m;if(b!==typeof g)return!1;if(b!=="object")return b==="number"?l(m,g,v):b==="function"?s(m,g,v):!1;const w=m.constructor;if(w!==g.constructor)return!1;if(w===Object)return c(m,g,v);if(Array.isArray(m))return t(m,g,v);if(w===Date)return n(m,g,v);if(w===RegExp)return d(m,g,v);if(w===Map)return o(m,g,v);if(w===Set)return f(m,g,v);const j=IX.call(m);if(j===SX)return n(m,g,v);if(j===kX)return d(m,g,v);if(j===CX)return o(m,g,v);if(j===EX)return f(m,g,v);if(j===AX)return typeof m.then!="function"&&typeof g.then!="function"&&c(m,g,v);if(j===MX)return p(m,g,v);if(j===OX)return a(m,g,v);if(j===wX)return c(m,g,v);if(TX[j])return h(m,g,v);if(j===jX)return e(m,g,v);if(j===_X)return r(m,g,v);if(j===NX||j===PX||j===$X)return u(m,g,v);if(y){let N=y[j];if(!N){const _=iX(m);_&&(N=y[_])}if(N)return N(m,g,v)}return!1}}function DX({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:uX,areArraysEqual:r?Lo:dX,areDataViewsEqual:fX,areDatesEqual:hX,areErrorsEqual:pX,areFunctionsEqual:mX,areMapsEqual:r?vp(J1,Lo):J1,areNumbersEqual:gX,areObjectsEqual:r?Lo:yX,arePrimitiveWrappersEqual:xX,areRegExpsEqual:vX,areSetsEqual:r?vp(ew,Lo):ew,areTypedArraysEqual:r?vp(zd,Lo):zd,areUrlsEqual:bX,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const a=pu(n.areArraysEqual),s=pu(n.areMapsEqual),o=pu(n.areObjectsEqual),l=pu(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:a,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return n}function LX(e){return function(t,r,n,a,s,o,l){return e(t,r,l)}}function FX({circular:e,comparator:t,createState:r,equals:n,strict:a}){if(r)return function(l,c){const{cache:u=e?new WeakMap:void 0,meta:d}=r();return t(l,c,{cache:u,equals:n,meta:d,strict:a})};if(e)return function(l,c){return t(l,c,{cache:new WeakMap,equals:n,meta:void 0,strict:a})};const s={cache:void 0,equals:n,meta:void 0,strict:a};return function(l,c){return t(l,c,s)}}const BX=Ma();Ma({strict:!0});Ma({circular:!0});Ma({circular:!0,strict:!0});Ma({createInternalComparator:()=>Ai});Ma({strict:!0,createInternalComparator:()=>Ai});Ma({circular:!0,createInternalComparator:()=>Ai});Ma({circular:!0,createInternalComparator:()=>Ai,strict:!0});function Ma(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:a=!1}=e,s=DX(e),o=RX(s),l=r?r(o):LX(o);return FX({circular:t,comparator:o,createState:n,equals:l,strict:a})}function zX(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function tw(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(s){r<0&&(r=s),s-r>t?(e(s),r=-1):zX(a)};requestAnimationFrame(n)}function Rg(e){"@babel/helpers - typeof";return Rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rg(e)}function UX(e){return KX(e)||VX(e)||HX(e)||WX()}function WX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HX(e,t){if(e){if(typeof e=="string")return rw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rw(e,t)}}function rw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function VX(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function KX(e){if(Array.isArray(e))return e}function qX(){var e={},t=function(){return null},r=!1,n=function a(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,l=UX(o),c=l[0],u=l.slice(1);if(typeof c=="number"){tw(a.bind(null,u),c);return}a(c),tw(a.bind(null,u));return}Rg(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function Jl(e){"@babel/helpers - typeof";return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jl(e)}function nw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nw(Object(r),!0).forEach(function(n){uP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uP(e,t,r){return t=GX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GX(e){var t=XX(e,"string");return Jl(t)==="symbol"?t:String(t)}function XX(e,t){if(Jl(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QX=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(s){return a.includes(s)})})},YX=function(t){return t},ZX=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},ol=function(t,r){return Object.keys(r).reduce(function(n,a){return aw(aw({},n),{},uP({},a,t(a,r[a])))},{})},iw=function(t,r,n){return t.map(function(a){return"".concat(ZX(a)," ").concat(r,"ms ").concat(n)}).join(",")};function JX(e,t){return rQ(e)||tQ(e,t)||dP(e,t)||eQ()}function eQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tQ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function rQ(e){if(Array.isArray(e))return e}function nQ(e){return sQ(e)||iQ(e)||dP(e)||aQ()}function aQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dP(e,t){if(e){if(typeof e=="string")return Dg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dg(e,t)}}function iQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sQ(e){if(Array.isArray(e))return Dg(e)}function Dg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ud=1e-4,fP=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},hP=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},sw=function(t,r){return function(n){var a=fP(t,r);return hP(a,n)}},oQ=function(t,r){return function(n){var a=fP(t,r),s=[].concat(nQ(a.map(function(o,l){return o*l}).slice(1)),[0]);return hP(s,n)}},ow=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],s=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,s=0,o=1,l=1;break;case"ease":a=.25,s=.1,o=.25,l=1;break;case"ease-in":a=.42,s=0,o=1,l=1;break;case"ease-out":a=.42,s=0,o=.58,l=1;break;case"ease-in-out":a=0,s=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(m){return parseFloat(m)}),d=JX(u,4);a=d[0],s=d[1],o=d[2],l=d[3]}}}var f=sw(a,o),h=sw(s,l),p=oQ(a,o),y=function(g){return g>1?1:g<0?0:g},x=function(g){for(var v=g>1?1:g,b=v,w=0;w<8;++w){var j=f(b)-v,N=p(b);if(Math.abs(j-v)<Ud||N<Ud)return h(b);b=y(b-j/N)}return h(b)};return x.isStepper=!1,x},lQ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,s=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var p=-(d-f)*n,y=h*s,x=h+(p-y)*l/1e3,m=h*l/1e3+d;return Math.abs(m-f)<Ud&&Math.abs(x)<Ud?[f,0]:[m,x]};return c.isStepper=!0,c.dt=l,c},cQ=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return ow(a);case"spring":return lQ();default:if(a.split("(")[0]==="cubic-bezier")return ow(a)}return typeof a=="function"?a:null};function ec(e){"@babel/helpers - typeof";return ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ec(e)}function lw(e){return fQ(e)||dQ(e)||pP(e)||uQ()}function uQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function fQ(e){if(Array.isArray(e))return Fg(e)}function cw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cw(Object(r),!0).forEach(function(n){Lg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lg(e,t,r){return t=hQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hQ(e){var t=pQ(e,"string");return ec(t)==="symbol"?t:String(t)}function pQ(e,t){if(ec(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ec(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mQ(e,t){return xQ(e)||yQ(e,t)||pP(e,t)||gQ()}function gQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pP(e,t){if(e){if(typeof e=="string")return Fg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fg(e,t)}}function Fg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yQ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function xQ(e){if(Array.isArray(e))return e}var Wd=function(t,r,n){return t+(r-t)*n},Bg=function(t){var r=t.from,n=t.to;return r!==n},vQ=function e(t,r,n){var a=ol(function(s,o){if(Bg(o)){var l=t(o.from,o.to,o.velocity),c=mQ(l,2),u=c[0],d=c[1];return jt(jt({},o),{},{from:u,velocity:d})}return o},r);return n<1?ol(function(s,o){return Bg(o)?jt(jt({},o),{},{velocity:Wd(o.velocity,a[s].velocity,n),from:Wd(o.from,a[s].from,n)}):o},r):e(t,a,n-1)};const bQ=function(e,t,r,n,a){var s=QX(e,t),o=s.reduce(function(m,g){return jt(jt({},m),{},Lg({},g,[e[g],t[g]]))},{}),l=s.reduce(function(m,g){return jt(jt({},m),{},Lg({},g,{from:e[g],velocity:0,to:t[g]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return ol(function(g,v){return v.from},l)},p=function(){return!Object.values(l).filter(Bg).length},y=function(g){u||(u=g);var v=g-u,b=v/r.dt;l=vQ(r,l,b),a(jt(jt(jt({},e),t),h())),u=g,p()||(c=requestAnimationFrame(f))},x=function(g){d||(d=g);var v=(g-d)/n,b=ol(function(j,N){return Wd.apply(void 0,lw(N).concat([r(v)]))},o);if(a(jt(jt(jt({},e),t),b)),v<1)c=requestAnimationFrame(f);else{var w=ol(function(j,N){return Wd.apply(void 0,lw(N).concat([r(1)]))},o);a(jt(jt(jt({},e),t),w))}};return f=r.isStepper?y:x,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Ls(e){"@babel/helpers - typeof";return Ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ls(e)}var jQ=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function wQ(e,t){if(e==null)return{};var r=NQ(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function NQ(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function bp(e){return CQ(e)||OQ(e)||SQ(e)||_Q()}function _Q(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SQ(e,t){if(e){if(typeof e=="string")return zg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zg(e,t)}}function OQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function CQ(e){if(Array.isArray(e))return zg(e)}function zg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function uw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Er(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uw(Object(r),!0).forEach(function(n){qo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qo(e,t,r){return t=mP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mP(n.key),n)}}function kQ(e,t,r){return t&&AQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function mP(e){var t=EQ(e,"string");return Ls(t)==="symbol"?t:String(t)}function EQ(e,t){if(Ls(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ls(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $Q(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ug(e,t)}function Ug(e,t){return Ug=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ug(e,t)}function TQ(e){var t=MQ();return function(){var n=Hd(e),a;if(t){var s=Hd(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return Wg(this,a)}}function Wg(e,t){if(t&&(Ls(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hg(e)}function Hg(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MQ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Hd(e){return Hd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hd(e)}var Rn=function(e){$Q(r,e);var t=TQ(r);function r(n,a){var s;PQ(this,r),s=t.call(this,n,a);var o=s.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,p=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(Hg(s)),s.changeStyle=s.changeStyle.bind(Hg(s)),!l||p<=0)return s.state={style:{}},typeof h=="function"&&(s.state={style:d}),Wg(s);if(f&&f.length)s.state={style:f[0].style};else if(u){if(typeof h=="function")return s.state={style:u},Wg(s);s.state={style:c?qo({},c,u):u}}else s.state={style:{}};return s}return kQ(r,[{key:"componentDidMount",value:function(){var a=this.props,s=a.isActive,o=a.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var s=this.props,o=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,d=s.to,f=s.from,h=this.state.style;if(l){if(!o){var p={style:c?qo({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(p);return}if(!(BX(a.to,d)&&a.canBegin&&a.isActive)){var y=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=y||u?f:a.to;if(this.state&&h){var m={style:c?qo({},c,x):x};(c&&h[c]!==x||!c&&h!==x)&&this.setState(m)}this.runAnimation(Er(Er({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var s=this,o=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,p=bQ(o,l,cQ(u),c,this.changeStyle),y=function(){s.stopJSAnimation=p()};this.manager.start([h,d,y,c,f])}},{key:"runStepAnimation",value:function(a){var s=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(x,m,g){if(g===0)return x;var v=m.duration,b=m.easing,w=b===void 0?"ease":b,j=m.style,N=m.properties,_=m.onAnimationEnd,S=g>0?o[g-1]:m,C=N||Object.keys(j);if(typeof w=="function"||w==="spring")return[].concat(bp(x),[s.runJSAnimation.bind(s,{from:S.style,to:j,duration:v,easing:w}),v]);var A=iw(C,v,w),E=Er(Er(Er({},S.style),j),{},{transition:A});return[].concat(bp(x),[E,v,_]).filter(YX)};return this.manager.start([c].concat(bp(o.reduce(p,[d,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=qX());var s=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,p=a.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var x=l?qo({},l,c):c,m=iw(Object.keys(x),o,u);y.start([d,s,Er(Er({},x),{},{transition:m}),o,f])}},{key:"render",value:function(){var a=this.props,s=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=wQ(a,jQ),u=O.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!l||u===0||o<=0)return s;var f=function(p){var y=p.props,x=y.style,m=x===void 0?{}:x,g=y.className,v=O.cloneElement(p,Er(Er({},c),{},{style:Er(Er({},m),d),className:g}));return v};return u===1?f(O.Children.only(s)):I.createElement("div",null,O.Children.map(s,function(h){return f(h)}))}}]),r}(O.PureComponent);Rn.displayName="Animate";Rn.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Rn.propTypes={from:Ae.oneOfType([Ae.object,Ae.string]),to:Ae.oneOfType([Ae.object,Ae.string]),attributeName:Ae.string,duration:Ae.number,begin:Ae.number,easing:Ae.oneOfType([Ae.string,Ae.func]),steps:Ae.arrayOf(Ae.shape({duration:Ae.number.isRequired,style:Ae.object.isRequired,easing:Ae.oneOfType([Ae.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ae.func]),properties:Ae.arrayOf("string"),onAnimationEnd:Ae.func})),children:Ae.oneOfType([Ae.node,Ae.func]),isActive:Ae.bool,canBegin:Ae.bool,onAnimationEnd:Ae.func,shouldReAnimate:Ae.bool,onAnimationStart:Ae.func,onAnimationReStart:Ae.func};function tc(e){"@babel/helpers - typeof";return tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tc(e)}function Vd(){return Vd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vd.apply(this,arguments)}function IQ(e,t){return FQ(e)||LQ(e,t)||DQ(e,t)||RQ()}function RQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DQ(e,t){if(e){if(typeof e=="string")return dw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dw(e,t)}}function dw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function LQ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function FQ(e){if(Array.isArray(e))return e}function fw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fw(Object(r),!0).forEach(function(n){BQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BQ(e,t,r){return t=zQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zQ(e){var t=UQ(e,"string");return tc(t)=="symbol"?t:t+""}function UQ(e,t){if(tc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pw=function(t,r,n,a,s){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&s instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=s[h]>o?o:s[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*f[3])),d+="Z"}else if(o>0&&s===+s&&s>0){var y=Math.min(o,s);d="M ".concat(t,",").concat(r+l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+c*y,",").concat(r,`
            L `).concat(t+n-c*y,",").concat(r,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*y,`
            L `).concat(t+n,",").concat(r+a-l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n-c*y,",").concat(r+a,`
            L `).concat(t+c*y,",").concat(r+a,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*y," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},WQ=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,s=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),d=Math.max(s,s+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&a>=f&&a<=h}return!1},HQ={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},j0=function(t){var r=hw(hw({},HQ),t),n=O.useRef(),a=O.useState(-1),s=IQ(a,2),o=s[0],l=s[1];O.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,y=r.animationEasing,x=r.animationDuration,m=r.animationBegin,g=r.isAnimationActive,v=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var b=Se("recharts-rectangle",p);return v?I.createElement(Rn,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:x,animationEasing:y,isActive:v},function(w){var j=w.width,N=w.height,_=w.x,S=w.y;return I.createElement(Rn,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:x,isActive:g,easing:y},I.createElement("path",Vd({},je(r,!0),{className:b,d:pw(_,S,j,N,h),ref:n})))}):I.createElement("path",Vd({},je(r,!0),{className:b,d:pw(c,u,d,f,h)}))};function Vg(){return Vg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vg.apply(this,arguments)}var w0=function(t){var r=t.cx,n=t.cy,a=t.r,s=t.className,o=Se("recharts-dot",s);return r===+r&&n===+n&&a===+a?O.createElement("circle",Vg({},je(t,!1),cd(t),{className:o,cx:r,cy:n,r:a})):null};function rc(e){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rc(e)}var VQ=["x","y","top","left","width","height","className"];function Kg(){return Kg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kg.apply(this,arguments)}function mw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function KQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mw(Object(r),!0).forEach(function(n){qQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qQ(e,t,r){return t=GQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GQ(e){var t=XQ(e,"string");return rc(t)=="symbol"?t:t+""}function XQ(e,t){if(rc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QQ(e,t){if(e==null)return{};var r=YQ(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function YQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var ZQ=function(t,r,n,a,s,o){return"M".concat(t,",").concat(s,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},JQ=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,p=h===void 0?0:h,y=t.className,x=QQ(t,VQ),m=KQ({x:n,y:s,top:l,left:u,width:f,height:p},x);return!Q(n)||!Q(s)||!Q(f)||!Q(p)||!Q(l)||!Q(u)?null:I.createElement("path",Kg({},je(m,!0),{className:Se("recharts-cross",y),d:ZQ(n,s,f,p,l,u)}))},eY=AO,tY=eY(Object.getPrototypeOf,Object),rY=tY,nY=Fn,aY=rY,iY=Bn,sY="[object Object]",oY=Function.prototype,lY=Object.prototype,gP=oY.toString,cY=lY.hasOwnProperty,uY=gP.call(Object);function dY(e){if(!iY(e)||nY(e)!=sY)return!1;var t=aY(e);if(t===null)return!0;var r=cY.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&gP.call(r)==uY}var fY=dY;const hY=Me(fY);var pY=Fn,mY=Bn,gY="[object Boolean]";function yY(e){return e===!0||e===!1||mY(e)&&pY(e)==gY}var xY=yY;const vY=Me(xY);function nc(e){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nc(e)}function Kd(){return Kd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kd.apply(this,arguments)}function bY(e,t){return _Y(e)||NY(e,t)||wY(e,t)||jY()}function jY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wY(e,t){if(e){if(typeof e=="string")return gw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gw(e,t)}}function gw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function NY(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function _Y(e){if(Array.isArray(e))return e}function yw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yw(Object(r),!0).forEach(function(n){SY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SY(e,t,r){return t=OY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OY(e){var t=CY(e,"string");return nc(t)=="symbol"?t:t+""}function CY(e,t){if(nc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vw=function(t,r,n,a,s){var o=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+s),l+="L ".concat(t+n-o/2-a,",").concat(r+s),l+="L ".concat(t,",").concat(r," Z"),l},PY={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},AY=function(t){var r=xw(xw({},PY),t),n=O.useRef(),a=O.useState(-1),s=bY(a,2),o=s[0],l=s[1];O.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&l(b)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,y=r.animationEasing,x=r.animationDuration,m=r.animationBegin,g=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var v=Se("recharts-trapezoid",p);return g?I.createElement(Rn,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:x,animationEasing:y,isActive:g},function(b){var w=b.upperWidth,j=b.lowerWidth,N=b.height,_=b.x,S=b.y;return I.createElement(Rn,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:x,easing:y},I.createElement("path",Kd({},je(r,!0),{className:v,d:vw(_,S,w,j,N),ref:n})))}):I.createElement("g",null,I.createElement("path",Kd({},je(r,!0),{className:v,d:vw(c,u,d,f,h)})))},kY=["option","shapeType","propTransformer","activeClassName","isActive"];function ac(e){"@babel/helpers - typeof";return ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ac(e)}function EY(e,t){if(e==null)return{};var r=$Y(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $Y(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function bw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bw(Object(r),!0).forEach(function(n){TY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TY(e,t,r){return t=MY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MY(e){var t=IY(e,"string");return ac(t)=="symbol"?t:t+""}function IY(e,t){if(ac(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RY(e,t){return qd(qd({},t),e)}function DY(e,t){return e==="symbols"}function jw(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return I.createElement(j0,r);case"trapezoid":return I.createElement(AY,r);case"sector":return I.createElement(iP,r);case"symbols":if(DY(t))return I.createElement(Bx,r);break;default:return null}}function LY(e){return O.isValidElement(e)?e.props:e}function FY(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?RY:n,s=e.activeClassName,o=s===void 0?"recharts-active-shape":s,l=e.isActive,c=EY(e,kY),u;if(O.isValidElement(t))u=O.cloneElement(t,qd(qd({},c),LY(t)));else if(pe(t))u=t(c);else if(hY(t)&&!vY(t)){var d=a(t,c);u=I.createElement(jw,{shapeType:r,elementProps:d})}else{var f=c;u=I.createElement(jw,{shapeType:r,elementProps:f})}return l?I.createElement(tt,{className:o},u):u}function fh(e,t){return t!=null&&"trapezoids"in e.props}function hh(e,t){return t!=null&&"sectors"in e.props}function ic(e,t){return t!=null&&"points"in e.props}function BY(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,s=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&s}function zY(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function UY(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function WY(e,t){var r;return fh(e,t)?r=BY:hh(e,t)?r=zY:ic(e,t)&&(r=UY),r}function HY(e,t){var r;return fh(e,t)?r="trapezoids":hh(e,t)?r="sectors":ic(e,t)&&(r="points"),r}function VY(e,t){if(fh(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(hh(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return ic(e,t)?t.payload:{}}function KY(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=HY(r,t),s=VY(r,t),o=n.filter(function(c,u){var d=ch(s,c),f=r.props[a].filter(function(y){var x=WY(r,t);return x(y,t)}),h=r.props[a].indexOf(f[f.length-1]),p=u===h;return d&&p}),l=n.indexOf(o[o.length-1]);return l}var qY=Math.ceil,GY=Math.max;function XY(e,t,r,n){for(var a=-1,s=GY(qY((t-e)/(r||1)),0),o=Array(s);s--;)o[n?s:++a]=e,e+=r;return o}var QY=XY,YY=GO,ww=1/0,ZY=17976931348623157e292;function JY(e){if(!e)return e===0?e:0;if(e=YY(e),e===ww||e===-ww){var t=e<0?-1:1;return t*ZY}return e===e?e:0}var yP=JY,eZ=QY,tZ=eh,jp=yP;function rZ(e){return function(t,r,n){return n&&typeof n!="number"&&tZ(t,r,n)&&(r=n=void 0),t=jp(t),r===void 0?(r=t,t=0):r=jp(r),n=n===void 0?t<r?1:-1:jp(n),eZ(t,r,n,e)}}var nZ=rZ,aZ=nZ,iZ=aZ(),sZ=iZ;const Gd=Me(sZ);function sc(e){"@babel/helpers - typeof";return sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sc(e)}function Nw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _w(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nw(Object(r),!0).forEach(function(n){xP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xP(e,t,r){return t=oZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oZ(e){var t=lZ(e,"string");return sc(t)=="symbol"?t:t+""}function lZ(e,t){if(sc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cZ=["Webkit","Moz","O","ms"],uZ=function(t,r){var n=t.replace(/(\w)/,function(s){return s.toUpperCase()}),a=cZ.reduce(function(s,o){return _w(_w({},s),{},xP({},o+n,r))},{});return a[t]=r,a};function Fs(e){"@babel/helpers - typeof";return Fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fs(e)}function Xd(){return Xd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xd.apply(this,arguments)}function Sw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sw(Object(r),!0).forEach(function(n){er(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ow(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bP(n.key),n)}}function fZ(e,t,r){return t&&Ow(e.prototype,t),r&&Ow(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function hZ(e,t,r){return t=Qd(t),pZ(e,vP()?Reflect.construct(t,r||[],Qd(e).constructor):t.apply(e,r))}function pZ(e,t){if(t&&(Fs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mZ(e)}function mZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vP=function(){return!!e})()}function Qd(e){return Qd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qd(e)}function gZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qg(e,t)}function qg(e,t){return qg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},qg(e,t)}function er(e,t,r){return t=bP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bP(e){var t=yZ(e,"string");return Fs(t)=="symbol"?t:t+""}function yZ(e,t){if(Fs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var xZ=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,s=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=il().domain(Gd(0,c)).range([s,s+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},Cw=function(t){return t.changedTouches&&!!t.changedTouches.length},Bs=function(e){function t(r){var n;return dZ(this,t),n=hZ(this,t,[r]),er(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),er(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),er(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,s=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),er(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),er(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),er(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),er(n,"handleSlideDragStart",function(a){var s=Cw(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return gZ(t,e),fZ(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,s=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,s),h=Math.max(a,s),p=t.getIndexInRange(o,f),y=t.getIndexInRange(o,h);return{startIndex:p-p%c,endIndex:y===d?d:y-y%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,s=a.data,o=a.tickFormatter,l=a.dataKey,c=or(s[n],l,n);return pe(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,s=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,p=c.endIndex,y=c.onChange,x=n.pageX-s;x>0?x=Math.min(x,u+d-f-l,u+d-f-o):x<0&&(x=Math.max(x,u-o,u-l));var m=this.getIndex({startX:o+x,endX:l+x});(m.startIndex!==h||m.endIndex!==p)&&y&&y(m),this.setState({startX:o+x,endX:l+x,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var s=Cw(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,s=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,y=d.onChange,x=d.gap,m=d.data,g={startX:this.state.startX,endX:this.state.endX},v=n.pageX-s;v>0?v=Math.min(v,f+h-p-u):v<0&&(v=Math.max(v,f-u)),g[o]=u+v;var b=this.getIndex(g),w=b.startIndex,j=b.endIndex,N=function(){var S=m.length-1;return o==="startX"&&(l>c?w%x===0:j%x===0)||l<c&&j===S||o==="endX"&&(l>c?j%x===0:w%x===0)||l>c&&j===S};this.setState(er(er({},o,u+v),"brushMoveStartX",n.pageX),function(){y&&N()&&y(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var s=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var p=l[h];a==="startX"&&p>=u||a==="endX"&&p<=c||this.setState(er({},a,p),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return I.createElement("rect",{stroke:u,fill:c,x:a,y:s,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=O.Children.only(u);return f?I.cloneElement(f,{x:a,y:s,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var s,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,p=c.ariaLabel,y=c.data,x=c.startIndex,m=c.endIndex,g=Math.max(n,this.props.x),v=wp(wp({},je(this.props,!1)),{},{x:g,y:u,width:d,height:f}),b=p||"Min value: ".concat((s=y[x])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=y[m])===null||o===void 0?void 0:o.name);return I.createElement(tt,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),l.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,v))}},{key:"renderSlide",value:function(n,a){var s=this.props,o=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return I.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,s=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,y={pointerEvents:"none",fill:u};return I.createElement(tt,{className:"recharts-brush-texts"},I.createElement(_d,Xd({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+l/2},y),this.getTextOfTick(a)),I.createElement(_d,Xd({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+p,y:o+l/2},y),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,a=n.data,s=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,y=h.endX,x=h.isTextActive,m=h.isSlideMoving,g=h.isTravellerMoving,v=h.isTravellerFocused;if(!a||!a.length||!Q(l)||!Q(c)||!Q(u)||!Q(d)||u<=0||d<=0)return null;var b=Se("recharts-brush",s),w=I.Children.count(o)===1,j=uZ("userSelect","none");return I.createElement(tt,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),w&&this.renderPanorama(),this.renderSlide(p,y),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(y,"endX"),(x||m||g||v||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,s=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(s+l/2)-1;return I.createElement(I.Fragment,null,I.createElement("rect",{x:a,y:s,width:o,height:l,fill:c,stroke:"none"}),I.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),I.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var s;return I.isValidElement(n)?s=I.cloneElement(n,a):pe(n)?s=n(a):s=t.renderDefaultTraveller(a),s}},{key:"getDerivedStateFromProps",value:function(n,a){var s=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(s!==a.prevData||u!==a.prevUpdateId)return wp({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},s&&s.length?xZ({data:s,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var s=n.length,o=0,l=s-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])}(O.PureComponent);er(Bs,"displayName","Brush");er(Bs,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var vZ=qx;function bZ(e,t){var r;return vZ(e,function(n,a,s){return r=t(n,a,s),!r}),!!r}var jZ=bZ,wZ=jO,NZ=Ea,_Z=jZ,SZ=Zt,OZ=eh;function CZ(e,t,r){var n=SZ(e)?wZ:_Z;return r&&OZ(e,t,r)&&(t=void 0),n(e,NZ(t))}var PZ=CZ;const AZ=Me(PZ);var nn=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},Pw=WO;function kZ(e,t,r){t=="__proto__"&&Pw?Pw(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var EZ=kZ,$Z=EZ,TZ=zO,MZ=Ea;function IZ(e,t){var r={};return t=MZ(t),TZ(e,function(n,a,s){$Z(r,a,t(n,a,s))}),r}var RZ=IZ;const DZ=Me(RZ);function LZ(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var FZ=LZ,BZ=qx;function zZ(e,t){var r=!0;return BZ(e,function(n,a,s){return r=!!t(n,a,s),r}),r}var UZ=zZ,WZ=FZ,HZ=UZ,VZ=Ea,KZ=Zt,qZ=eh;function GZ(e,t,r){var n=KZ(e)?WZ:HZ;return r&&qZ(e,t,r)&&(t=void 0),n(e,VZ(t))}var XZ=GZ;const jP=Me(XZ);var QZ=["x","y"];function oc(e){"@babel/helpers - typeof";return oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oc(e)}function Gg(){return Gg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gg.apply(this,arguments)}function Aw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Aw(Object(r),!0).forEach(function(n){YZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Aw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YZ(e,t,r){return t=ZZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZZ(e){var t=JZ(e,"string");return oc(t)=="symbol"?t:t+""}function JZ(e,t){if(oc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(oc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eJ(e,t){if(e==null)return{};var r=tJ(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function rJ(e,t){var r=e.x,n=e.y,a=eJ(e,QZ),s="".concat(r),o=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return Fo(Fo(Fo(Fo(Fo({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function kw(e){return I.createElement(FY,Gg({shapeType:"rectangle",propTransformer:rJ,activeClassName:"recharts-active-bar"},e))}var nJ=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var s=Q(n)||mR(n);return s?t(n,a):(s||ji(),r)}},aJ=["value","background"],wP;function zs(e){"@babel/helpers - typeof";return zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zs(e)}function iJ(e,t){if(e==null)return{};var r=sJ(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Yd(){return Yd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yd.apply(this,arguments)}function Ew(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ew(Object(r),!0).forEach(function(n){ua(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ew(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $w(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_P(n.key),n)}}function lJ(e,t,r){return t&&$w(e.prototype,t),r&&$w(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function cJ(e,t,r){return t=Zd(t),uJ(e,NP()?Reflect.construct(t,r||[],Zd(e).constructor):t.apply(e,r))}function uJ(e,t){if(t&&(zs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dJ(e)}function dJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NP=function(){return!!e})()}function Zd(e){return Zd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zd(e)}function fJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xg(e,t)}function Xg(e,t){return Xg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Xg(e,t)}function ua(e,t,r){return t=_P(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _P(e){var t=hJ(e,"string");return zs(t)=="symbol"?t:t+""}function hJ(e,t){if(zs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ic=function(e){function t(){var r;oJ(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=cJ(this,t,[].concat(a)),ua(r,"state",{isAnimationFinished:!1}),ua(r,"id",Pc("recharts-bar-")),ua(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),ua(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return fJ(t,e),lJ(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,s=this.props,o=s.shape,l=s.dataKey,c=s.activeIndex,u=s.activeBar,d=je(this.props,!1);return n&&n.map(function(f,h){var p=h===c,y=p?u:o,x=nt(nt(nt({},d),f),{},{isActive:p,option:y,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return I.createElement(tt,Yd({className:"recharts-bar-rectangle"},ud(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),I.createElement(kw,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,s=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return I.createElement(Rn,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var y=p.t,x=s.map(function(m,g){var v=h&&h[g];if(v){var b=Fr(v.x,m.x),w=Fr(v.y,m.y),j=Fr(v.width,m.width),N=Fr(v.height,m.height);return nt(nt({},m),{},{x:b(y),y:w(y),width:j(y),height:N(y)})}if(o==="horizontal"){var _=Fr(0,m.height),S=_(y);return nt(nt({},m),{},{y:m.y+m.height-S,height:S})}var C=Fr(0,m.width),A=C(y);return nt(nt({},m),{},{width:A})});return I.createElement(tt,null,n.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,s=n.isAnimationActive,o=this.state.prevData;return s&&a&&a.length&&(!o||!ch(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,s=a.data,o=a.dataKey,l=a.activeIndex,c=je(this.props.background,!1);return s.map(function(u,d){u.value;var f=u.background,h=iJ(u,aJ);if(!f)return null;var p=nt(nt(nt(nt(nt({},h),{},{fill:"#eee"},f),c),ud(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return I.createElement(kw,Yd({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=wr(d,Mc);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,p=function(m,g){var v=Array.isArray(m.value)?m.value[1]:m.value;return{x:m.x,y:m.y,value:v,errorVal:or(m,g)}},y={clipPath:n?"url(#clipPath-".concat(a,")"):null};return I.createElement(tt,y,f.map(function(x){return I.cloneElement(x,{key:"error-bar-".concat(a,"-").concat(x.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,s=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,y=n.background,x=n.id;if(a||!s||!s.length)return null;var m=this.state.isAnimationFinished,g=Se("recharts-bar",o),v=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,w=v||b,j=me(x)?this.id:x;return I.createElement(tt,{className:g},v||b?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(j)},I.createElement("rect",{x:v?u:u-f/2,y:b?d:d-h/2,width:v?f:f*2,height:b?h:h*2}))):null,I.createElement(tt,{className:"recharts-bar-rectangles",clipPath:w?"url(#clipPath-".concat(j,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(w,j),(!p||m)&&wa.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(O.PureComponent);wP=Ic;ua(Ic,"displayName","Bar");ua(Ic,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!mo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ua(Ic,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,s=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=Fq(n,r);if(!p)return null;var y=t.layout,x=r.type.defaultProps,m=x!==void 0?nt(nt({},x),r.props):r.props,g=m.dataKey,v=m.children,b=m.minPointSize,w=y==="horizontal"?o:s,j=u?w.scale.domain():null,N=qq({numericAxis:w}),_=wr(v,QO),S=f.map(function(C,A){var E,T,W,z,L,M;u?E=Bq(u[d+A],j):(E=or(C,g),Array.isArray(E)||(E=[N,E]));var U=nJ(b,wP.defaultProps.minPointSize)(E[1],A);if(y==="horizontal"){var P,R=[o.scale(E[0]),o.scale(E[1])],k=R[0],B=R[1];T=M1({axis:s,ticks:l,bandSize:a,offset:p.offset,entry:C,index:A}),W=(P=B??k)!==null&&P!==void 0?P:void 0,z=p.size;var F=k-B;if(L=Number.isNaN(F)?0:F,M={x:T,y:o.y,width:z,height:o.height},Math.abs(U)>0&&Math.abs(L)<Math.abs(U)){var K=zr(L||U)*(Math.abs(U)-Math.abs(L));W-=K,L+=K}}else{var Y=[s.scale(E[0]),s.scale(E[1])],J=Y[0],ae=Y[1];if(T=J,W=M1({axis:o,ticks:c,bandSize:a,offset:p.offset,entry:C,index:A}),z=ae-J,L=p.size,M={x:s.x,y:W,width:s.width,height:L},Math.abs(U)>0&&Math.abs(z)<Math.abs(U)){var we=zr(z||U)*(Math.abs(U)-Math.abs(z));z+=we}}return nt(nt(nt({},C),{},{x:T,y:W,width:z,height:L,value:u?E:E[1],payload:C,background:M},_&&_[A]&&_[A].props),{},{tooltipPayload:[rP(r,C)],tooltipPosition:{x:T+z/2,y:W+L/2}})});return nt({data:S,layout:y},h)});function lc(e){"@babel/helpers - typeof";return lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lc(e)}function pJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SP(n.key),n)}}function mJ(e,t,r){return t&&Tw(e.prototype,t),r&&Tw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mw(Object(r),!0).forEach(function(n){ph(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ph(e,t,r){return t=SP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SP(e){var t=gJ(e,"string");return lc(t)=="symbol"?t:t+""}function gJ(e,t){if(lc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yJ=function(t,r,n,a,s){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!rr(u,Ic);return d.reduce(function(p,y){var x=r[y],m=x.orientation,g=x.domain,v=x.padding,b=v===void 0?{}:v,w=x.mirror,j=x.reversed,N="".concat(m).concat(w?"Mirror":""),_,S,C,A,E;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var T=g[1]-g[0],W=1/0,z=x.categoricalDomain.sort(xR);if(z.forEach(function(Y,J){J>0&&(W=Math.min((Y||0)-(z[J-1]||0),W))}),Number.isFinite(W)){var L=W/T,M=x.layout==="vertical"?n.height:n.width;if(x.padding==="gap"&&(_=L*M/2),x.padding==="no-gap"){var U=vi(t.barCategoryGap,L*M),P=L*M/2;_=P-U-(P-U)/M*U}}}a==="xAxis"?S=[n.left+(b.left||0)+(_||0),n.left+n.width-(b.right||0)-(_||0)]:a==="yAxis"?S=c==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(_||0),n.top+n.height-(b.bottom||0)-(_||0)]:S=x.range,j&&(S=[S[1],S[0]]);var R=Dq(x,s,h),k=R.scale,B=R.realScaleType;k.domain(g).range(S),Lq(k);var F=Kq(k,Rr(Rr({},x),{},{realScaleType:B}));a==="xAxis"?(E=m==="top"&&!w||m==="bottom"&&w,C=n.left,A=f[N]-E*x.height):a==="yAxis"&&(E=m==="left"&&!w||m==="right"&&w,C=f[N]-E*x.width,A=n.top);var K=Rr(Rr(Rr({},x),F),{},{realScaleType:B,x:C,y:A,scale:k,width:a==="xAxis"?n.width:x.width,height:a==="yAxis"?n.height:x.height});return K.bandSize=Ld(K,F),!x.hide&&a==="xAxis"?f[N]+=(E?-1:1)*K.height:x.hide||(f[N]+=(E?-1:1)*K.width),Rr(Rr({},p),{},ph({},y,K))},{})},OP=function(t,r){var n=t.x,a=t.y,s=r.x,o=r.y;return{x:Math.min(n,s),y:Math.min(a,o),width:Math.abs(s-n),height:Math.abs(o-a)}},xJ=function(t){var r=t.x1,n=t.y1,a=t.x2,s=t.y2;return OP({x:r,y:n},{x:a,y:s})},CP=function(){function e(t){pJ(this,e),this.scale=t}return mJ(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],s=n[n.length-1];return a<=s?r>=a&&r<=s:r>=s&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();ph(CP,"EPS",1e-4);var N0=function(t){var r=Object.keys(t).reduce(function(n,a){return Rr(Rr({},n),{},ph({},a,CP.create(t[a])))},{});return Rr(Rr({},r),{},{apply:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,l=s.position;return DZ(a,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return jP(a,function(s,o){return r[o].isInRange(s)})}})};function vJ(e){return(e%180+180)%180}var bJ=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=vJ(a),o=s*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},jJ=Ea,wJ=Ac,NJ=Zf;function _J(e){return function(t,r,n){var a=Object(t);if(!wJ(t)){var s=jJ(r);t=NJ(t),r=function(l){return s(a[l],l,a)}}var o=e(t,r,n);return o>-1?a[s?t[o]:o]:void 0}}var SJ=_J,OJ=yP;function CJ(e){var t=OJ(e),r=t%1;return t===t?r?t-r:t:0}var PJ=CJ,AJ=IO,kJ=Ea,EJ=PJ,$J=Math.max;function TJ(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:EJ(r);return a<0&&(a=$J(n+a,0)),AJ(e,kJ(t),a)}var MJ=TJ,IJ=SJ,RJ=MJ,DJ=IJ(RJ),LJ=DJ;const FJ=Me(LJ);var BJ=jI(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),_0=O.createContext(void 0),S0=O.createContext(void 0),PP=O.createContext(void 0),AP=O.createContext({}),kP=O.createContext(void 0),EP=O.createContext(0),$P=O.createContext(0),Iw=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,s=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=BJ(s);return I.createElement(_0.Provider,{value:n},I.createElement(S0.Provider,{value:a},I.createElement(AP.Provider,{value:s},I.createElement(PP.Provider,{value:d},I.createElement(kP.Provider,{value:o},I.createElement(EP.Provider,{value:u},I.createElement($P.Provider,{value:c},l)))))))},zJ=function(){return O.useContext(kP)},TP=function(t){var r=O.useContext(_0);r==null&&ji();var n=r[t];return n==null&&ji(),n},UJ=function(){var t=O.useContext(_0);return Yn(t)},WJ=function(){var t=O.useContext(S0),r=FJ(t,function(n){return jP(n.domain,Number.isFinite)});return r||Yn(t)},MP=function(t){var r=O.useContext(S0);r==null&&ji();var n=r[t];return n==null&&ji(),n},HJ=function(){var t=O.useContext(PP);return t},VJ=function(){return O.useContext(AP)},O0=function(){return O.useContext($P)},C0=function(){return O.useContext(EP)};function Us(e){"@babel/helpers - typeof";return Us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Us(e)}function KJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qJ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RP(n.key),n)}}function GJ(e,t,r){return t&&qJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function XJ(e,t,r){return t=Jd(t),QJ(e,IP()?Reflect.construct(t,r||[],Jd(e).constructor):t.apply(e,r))}function QJ(e,t){if(t&&(Us(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YJ(e)}function YJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IP=function(){return!!e})()}function Jd(e){return Jd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jd(e)}function ZJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qg(e,t)}function Qg(e,t){return Qg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Qg(e,t)}function Rw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rw(Object(r),!0).forEach(function(n){P0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P0(e,t,r){return t=RP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RP(e){var t=JJ(e,"string");return Us(t)=="symbol"?t:t+""}function JJ(e,t){if(Us(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Us(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function eee(e,t){return aee(e)||nee(e,t)||ree(e,t)||tee()}function tee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ree(e,t){if(e){if(typeof e=="string")return Lw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lw(e,t)}}function Lw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nee(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function aee(e){if(Array.isArray(e))return e}function Yg(){return Yg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yg.apply(this,arguments)}var iee=function(t,r){var n;return I.isValidElement(t)?n=I.cloneElement(t,r):pe(t)?n=t(r):n=I.createElement("line",Yg({},r,{className:"recharts-reference-line-line"})),n},see=function(t,r,n,a,s,o,l,c,u){var d=s.x,f=s.y,h=s.width,p=s.height;if(n){var y=u.y,x=t.y.apply(y,{position:o});if(nn(u,"discard")&&!t.y.isInRange(x))return null;var m=[{x:d+h,y:x},{x:d,y:x}];return c==="left"?m.reverse():m}if(r){var g=u.x,v=t.x.apply(g,{position:o});if(nn(u,"discard")&&!t.x.isInRange(v))return null;var b=[{x:v,y:f+p},{x:v,y:f}];return l==="top"?b.reverse():b}if(a){var w=u.segment,j=w.map(function(N){return t.apply(N,{position:o})});return nn(u,"discard")&&AZ(j,function(N){return!t.isInRange(N)})?null:j}return null};function oee(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,s=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=zJ(),d=TP(a),f=MP(s),h=HJ();if(!u||!h)return null;On(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=N0({x:d.scale,y:f.scale}),y=pt(t),x=pt(r),m=n&&n.length===2,g=see(p,y,x,m,h,e.position,d.orientation,f.orientation,e);if(!g)return null;var v=eee(g,2),b=v[0],w=b.x,j=b.y,N=v[1],_=N.x,S=N.y,C=nn(e,"hidden")?"url(#".concat(u,")"):void 0,A=Dw(Dw({clipPath:C},je(e,!0)),{},{x1:w,y1:j,x2:_,y2:S});return I.createElement(tt,{className:Se("recharts-reference-line",l)},iee(o,A),kt.renderCallByParent(e,xJ({x1:w,y1:j,x2:_,y2:S})))}var A0=function(e){function t(){return KJ(this,t),XJ(this,t,arguments)}return ZJ(t,e),GJ(t,[{key:"render",value:function(){return I.createElement(oee,this.props)}}])}(I.Component);P0(A0,"displayName","ReferenceLine");P0(A0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Zg(){return Zg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zg.apply(this,arguments)}function Ws(e){"@babel/helpers - typeof";return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ws(e)}function Fw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fw(Object(r),!0).forEach(function(n){mh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cee(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LP(n.key),n)}}function uee(e,t,r){return t&&cee(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function dee(e,t,r){return t=ef(t),fee(e,DP()?Reflect.construct(t,r||[],ef(e).constructor):t.apply(e,r))}function fee(e,t){if(t&&(Ws(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hee(e)}function hee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DP=function(){return!!e})()}function ef(e){return ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ef(e)}function pee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jg(e,t)}function Jg(e,t){return Jg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Jg(e,t)}function mh(e,t,r){return t=LP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LP(e){var t=mee(e,"string");return Ws(t)=="symbol"?t:t+""}function mee(e,t){if(Ws(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ws(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var gee=function(t){var r=t.x,n=t.y,a=t.xAxis,s=t.yAxis,o=N0({x:a.scale,y:s.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return nn(t,"discard")&&!o.isInRange(l)?null:l},gh=function(e){function t(){return lee(this,t),dee(this,t,arguments)}return pee(t,e),uee(t,[{key:"render",value:function(){var n=this.props,a=n.x,s=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=pt(a),d=pt(s);if(On(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=gee(this.props);if(!f)return null;var h=f.x,p=f.y,y=this.props,x=y.shape,m=y.className,g=nn(this.props,"hidden")?"url(#".concat(c,")"):void 0,v=Bw(Bw({clipPath:g},je(this.props,!0)),{},{cx:h,cy:p});return I.createElement(tt,{className:Se("recharts-reference-dot",m)},t.renderDot(x,v),kt.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(I.Component);mh(gh,"displayName","ReferenceDot");mh(gh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});mh(gh,"renderDot",function(e,t){var r;return I.isValidElement(e)?r=I.cloneElement(e,t):pe(e)?r=e(t):r=I.createElement(w0,Zg({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function ey(){return ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ey.apply(this,arguments)}function Hs(e){"@babel/helpers - typeof";return Hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hs(e)}function zw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Uw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zw(Object(r),!0).forEach(function(n){yh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xee(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,BP(n.key),n)}}function vee(e,t,r){return t&&xee(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bee(e,t,r){return t=tf(t),jee(e,FP()?Reflect.construct(t,r||[],tf(e).constructor):t.apply(e,r))}function jee(e,t){if(t&&(Hs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wee(e)}function wee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FP=function(){return!!e})()}function tf(e){return tf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tf(e)}function Nee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ty(e,t)}function ty(e,t){return ty=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ty(e,t)}function yh(e,t,r){return t=BP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BP(e){var t=_ee(e,"string");return Hs(t)=="symbol"?t:t+""}function _ee(e,t){if(Hs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var See=function(t,r,n,a,s){var o=s.x1,l=s.x2,c=s.y1,u=s.y2,d=s.xAxis,f=s.yAxis;if(!d||!f)return null;var h=N0({x:d.scale,y:f.scale}),p={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},y={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return nn(s,"discard")&&(!h.isInRange(p)||!h.isInRange(y))?null:OP(p,y)},xh=function(e){function t(){return yee(this,t),bee(this,t,arguments)}return Nee(t,e),vee(t,[{key:"render",value:function(){var n=this.props,a=n.x1,s=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;On(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=pt(a),h=pt(s),p=pt(o),y=pt(l),x=this.props.shape;if(!f&&!h&&!p&&!y&&!x)return null;var m=See(f,h,p,y,this.props);if(!m&&!x)return null;var g=nn(this.props,"hidden")?"url(#".concat(d,")"):void 0;return I.createElement(tt,{className:Se("recharts-reference-area",c)},t.renderRect(x,Uw(Uw({clipPath:g},je(this.props,!0)),m)),kt.renderCallByParent(this.props,m))}}])}(I.Component);yh(xh,"displayName","ReferenceArea");yh(xh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});yh(xh,"renderRect",function(e,t){var r;return I.isValidElement(e)?r=I.cloneElement(e,t):pe(e)?r=e(t):r=I.createElement(j0,ey({},t,{className:"recharts-reference-area-rect"})),r});function zP(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function Oee(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return bJ(n,r)}function Cee(e,t,r){var n=r==="width",a=e.x,s=e.y,o=e.width,l=e.height;return t===1?{start:n?a:s,end:n?a+o:s+l}:{start:n?a+o:s+l,end:n?a:s}}function rf(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function Pee(e,t){return zP(e,t+1)}function Aee(e,t,r,n,a){for(var s=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var y=n==null?void 0:n[c];if(y===void 0)return{v:zP(n,u)};var x=c,m,g=function(){return m===void 0&&(m=r(y,x)),m},v=y.coordinate,b=c===0||rf(e,v,g,d,l);b||(c=0,d=o,u+=1),b&&(d=v+e*(g()/2+a),c+=u)},h;u<=s.length;)if(h=f(),h)return h.v;return[]}function cc(e){"@babel/helpers - typeof";return cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cc(e)}function Ww(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ww(Object(r),!0).forEach(function(n){kee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ww(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kee(e,t,r){return t=Eee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eee(e){var t=$ee(e,"string");return cc(t)=="symbol"?t:t+""}function $ee(e,t){if(cc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tee(e,t,r,n,a){for(var s=(n||[]).slice(),o=s.length,l=t.start,c=t.end,u=function(h){var p=s[h],y,x=function(){return y===void 0&&(y=r(p,h)),y};if(h===o-1){var m=e*(p.coordinate+e*x()/2-c);s[h]=p=Pt(Pt({},p),{},{tickCoord:m>0?p.coordinate-m*e:p.coordinate})}else s[h]=p=Pt(Pt({},p),{},{tickCoord:p.coordinate});var g=rf(e,p.tickCoord,x,l,c);g&&(c=p.tickCoord-e*(x()/2+a),s[h]=Pt(Pt({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return s}function Mee(e,t,r,n,a,s){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(s){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=Pt(Pt({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=rf(e,d.tickCoord,function(){return f},c,u);p&&(u=d.tickCoord-e*(f/2+a),o[l-1]=Pt(Pt({},d),{},{isShow:!0}))}for(var y=s?l-1:l,x=function(v){var b=o[v],w,j=function(){return w===void 0&&(w=r(b,v)),w};if(v===0){var N=e*(b.coordinate-e*j()/2-c);o[v]=b=Pt(Pt({},b),{},{tickCoord:N<0?b.coordinate-N*e:b.coordinate})}else o[v]=b=Pt(Pt({},b),{},{tickCoord:b.coordinate});var _=rf(e,b.tickCoord,j,c,u);_&&(c=b.tickCoord+e*(j()/2+a),o[v]=Pt(Pt({},b),{},{isShow:!0}))},m=0;m<y;m++)x(m);return o}function k0(e,t,r){var n=e.tick,a=e.ticks,s=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(Q(c)||mo.isSsr)return Pee(a,typeof c=="number"&&Q(c)?c:0);var h=[],p=l==="top"||l==="bottom"?"width":"height",y=d&&p==="width"?al(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},x=function(b,w){var j=pe(u)?u(b.value,w):b.value;return p==="width"?Oee(al(j,{fontSize:t,letterSpacing:r}),y,f):al(j,{fontSize:t,letterSpacing:r})[p]},m=a.length>=2?zr(a[1].coordinate-a[0].coordinate):1,g=Cee(s,m,p);return c==="equidistantPreserveStart"?Aee(m,g,x,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=Mee(m,g,x,a,o,c==="preserveStartEnd"):h=Tee(m,g,x,a,o),h.filter(function(v){return v.isShow}))}var Iee=["viewBox"],Ree=["viewBox"],Dee=["ticks"];function Vs(e){"@babel/helpers - typeof";return Vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vs(e)}function Xi(){return Xi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xi.apply(this,arguments)}function Hw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hw(Object(r),!0).forEach(function(n){E0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Np(e,t){if(e==null)return{};var r=Lee(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Lee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Fee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WP(n.key),n)}}function Bee(e,t,r){return t&&Vw(e.prototype,t),r&&Vw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function zee(e,t,r){return t=nf(t),Uee(e,UP()?Reflect.construct(t,r||[],nf(e).constructor):t.apply(e,r))}function Uee(e,t){if(t&&(Vs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wee(e)}function Wee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UP=function(){return!!e})()}function nf(e){return nf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nf(e)}function Hee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ry(e,t)}function ry(e,t){return ry=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ry(e,t)}function E0(e,t,r){return t=WP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WP(e){var t=Vee(e,"string");return Vs(t)=="symbol"?t:t+""}function Vee(e,t){if(Vs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var vo=function(e){function t(r){var n;return Fee(this,t),n=zee(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return Hee(t,e),Bee(t,[{key:"shouldComponentUpdate",value:function(n,a){var s=n.viewBox,o=Np(n,Iee),l=this.props,c=l.viewBox,u=Np(l,Ree);return!as(s,c)||!as(o,u)||!as(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,p,y,x,m,g,v,b=f?-1:1,w=n.tickSize||d,j=Q(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=y=n.coordinate,m=o+ +!f*c,x=m-b*w,v=x-b*h,g=j;break;case"left":x=m=n.coordinate,y=s+ +!f*l,p=y-b*w,g=p-b*h,v=j;break;case"right":x=m=n.coordinate,y=s+ +f*l,p=y+b*w,g=p+b*h,v=j;break;default:p=y=n.coordinate,m=o+ +f*c,x=m+b*w,v=x+b*h,g=j;break}return{line:{x1:p,y1:x,x2:y,y2:m},tick:{x:g,y:v}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,o;switch(a){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=lt(lt(lt({},je(this.props,!1)),je(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=lt(lt({},f),{},{x1:a,y1:s+h*l,x2:a+o,y2:s+h*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);f=lt(lt({},f),{},{x1:a+p*o,y1:s,x2:a+p*o,y2:s+l})}return I.createElement("line",Xi({},f,{className:Se("recharts-cartesian-axis-line",jr(d,"className"))}))}},{key:"renderTicks",value:function(n,a,s){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,p=k0(lt(lt({},this.props),{},{ticks:n}),a,s),y=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),m=je(this.props,!1),g=je(d,!1),v=lt(lt({},m),{},{fill:"none"},je(c,!1)),b=p.map(function(w,j){var N=o.getTickLineCoord(w),_=N.line,S=N.tick,C=lt(lt(lt(lt({textAnchor:y,verticalAnchor:x},m),{},{stroke:"none",fill:u},g),S),{},{index:j,payload:w,visibleTicksCount:p.length,tickFormatter:f});return I.createElement(tt,Xi({className:"recharts-cartesian-axis-tick",key:"tick-".concat(w.value,"-").concat(w.coordinate,"-").concat(w.tickCoord)},ud(o.props,w,j)),c&&I.createElement("line",Xi({},v,_,{className:Se("recharts-cartesian-axis-tick-line",jr(c,"className"))})),d&&t.renderTickItem(d,C,"".concat(pe(f)?f(w.value,j):w.value).concat(h||"")))});return I.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,a=this.props,s=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,p=Np(f,Dee),y=h;return pe(c)&&(y=h&&h.length>0?c(this.props):c(p)),o<=0||l<=0||!y||!y.length?null:I.createElement(tt,{className:Se("recharts-cartesian-axis",u),ref:function(m){n.layerReference=m}},s&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),kt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,s){var o,l=Se(a.className,"recharts-cartesian-axis-tick-value");return I.isValidElement(n)?o=I.cloneElement(n,lt(lt({},a),{},{className:l})):pe(n)?o=n(lt(lt({},a),{},{className:l})):o=I.createElement(_d,Xi({},a,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])}(O.Component);E0(vo,"displayName","CartesianAxis");E0(vo,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Kee=["x1","y1","x2","y2","key"],qee=["offset"];function wi(e){"@babel/helpers - typeof";return wi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wi(e)}function Kw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Et(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kw(Object(r),!0).forEach(function(n){Gee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gee(e,t,r){return t=Xee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xee(e){var t=Qee(e,"string");return wi(t)=="symbol"?t:t+""}function Qee(e,t){if(wi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xa(){return Xa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xa.apply(this,arguments)}function qw(e,t){if(e==null)return{};var r=Yee(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Yee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Zee=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,s=t.y,o=t.width,l=t.height,c=t.ry;return I.createElement("rect",{x:a,y:s,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function HP(e,t){var r;if(I.isValidElement(e))r=I.cloneElement(e,t);else if(pe(e))r=e(t);else{var n=t.x1,a=t.y1,s=t.x2,o=t.y2,l=t.key,c=qw(t,Kee),u=je(c,!1);u.offset;var d=qw(u,qee);r=I.createElement("line",Xa({},d,{x1:n,y1:a,x2:s,y2:o,fill:"none",key:l}))}return r}function Jee(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,s=e.horizontalPoints;if(!a||!s||!s.length)return null;var o=s.map(function(l,c){var u=Et(Et({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return HP(a,u)});return I.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function ete(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,s=e.verticalPoints;if(!a||!s||!s.length)return null;var o=s.map(function(l,c){var u=Et(Et({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return HP(a,u)});return I.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function tte(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,s=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var y=!d[p+1],x=y?a+o-h:d[p+1]-h;if(x<=0)return null;var m=p%t.length;return I.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:x,width:s,stroke:"none",fill:t[m],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return I.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function rte(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,s=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+s-s)}).sort(function(h,p){return h-p});s!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var y=!d[p+1],x=y?s+l-h:d[p+1]-h;if(x<=0)return null;var m=p%n.length;return I.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:x,height:c,stroke:"none",fill:n[m],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return I.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var nte=function(t,r){var n=t.xAxis,a=t.width,s=t.height,o=t.offset;return eP(k0(Et(Et(Et({},vo.defaultProps),n),{},{ticks:Nn(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),o.left,o.left+o.width,r)},ate=function(t,r){var n=t.yAxis,a=t.width,s=t.height,o=t.offset;return eP(k0(Et(Et(Et({},vo.defaultProps),n),{},{ticks:Nn(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),o.top,o.top+o.height,r)},Mi={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function VP(e){var t,r,n,a,s,o,l=O0(),c=C0(),u=VJ(),d=Et(Et({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Mi.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Mi.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Mi.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Mi.horizontalFill,vertical:(s=e.vertical)!==null&&s!==void 0?s:Mi.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Mi.verticalFill,x:Q(e.x)?e.x:u.left,y:Q(e.y)?e.y:u.top,width:Q(e.width)?e.width:u.width,height:Q(e.height)?e.height:u.height}),f=d.x,h=d.y,p=d.width,y=d.height,x=d.syncWithTicks,m=d.horizontalValues,g=d.verticalValues,v=UJ(),b=WJ();if(!Q(p)||p<=0||!Q(y)||y<=0||!Q(f)||f!==+f||!Q(h)||h!==+h)return null;var w=d.verticalCoordinatesGenerator||nte,j=d.horizontalCoordinatesGenerator||ate,N=d.horizontalPoints,_=d.verticalPoints;if((!N||!N.length)&&pe(j)){var S=m&&m.length,C=j({yAxis:b?Et(Et({},b),{},{ticks:S?m:b.ticks}):void 0,width:l,height:c,offset:u},S?!0:x);On(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(wi(C),"]")),Array.isArray(C)&&(N=C)}if((!_||!_.length)&&pe(w)){var A=g&&g.length,E=w({xAxis:v?Et(Et({},v),{},{ticks:A?g:v.ticks}):void 0,width:l,height:c,offset:u},A?!0:x);On(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(wi(E),"]")),Array.isArray(E)&&(_=E)}return I.createElement("g",{className:"recharts-cartesian-grid"},I.createElement(Zee,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),I.createElement(Jee,Xa({},d,{offset:u,horizontalPoints:N,xAxis:v,yAxis:b})),I.createElement(ete,Xa({},d,{offset:u,verticalPoints:_,xAxis:v,yAxis:b})),I.createElement(tte,Xa({},d,{horizontalPoints:N})),I.createElement(rte,Xa({},d,{verticalPoints:_})))}VP.displayName="CartesianGrid";var ite=["type","layout","connectNulls","ref"],ste=["key"];function Ks(e){"@babel/helpers - typeof";return Ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ks(e)}function Gw(e,t){if(e==null)return{};var r=ote(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ote(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ll(){return ll=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ll.apply(this,arguments)}function Xw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xw(Object(r),!0).forEach(function(n){Dr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ii(e){return dte(e)||ute(e)||cte(e)||lte()}function lte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cte(e,t){if(e){if(typeof e=="string")return ny(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ny(e,t)}}function ute(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dte(e){if(Array.isArray(e))return ny(e)}function ny(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qP(n.key),n)}}function hte(e,t,r){return t&&Qw(e.prototype,t),r&&Qw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function pte(e,t,r){return t=af(t),mte(e,KP()?Reflect.construct(t,r||[],af(e).constructor):t.apply(e,r))}function mte(e,t){if(t&&(Ks(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gte(e)}function gte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KP=function(){return!!e})()}function af(e){return af=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},af(e)}function yte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ay(e,t)}function ay(e,t){return ay=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ay(e,t)}function Dr(e,t,r){return t=qP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qP(e){var t=xte(e,"string");return Ks(t)=="symbol"?t:t+""}function xte(e,t){if(Ks(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ks(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qs=function(e){function t(){var r;fte(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=pte(this,t,[].concat(a)),Dr(r,"state",{isAnimationFinished:!0,totalLength:0}),Dr(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Dr(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(g,v){return g+v});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,h=l-o,p=[],y=0,x=0;y<c.length;x+=c[y],++y)if(x+c[y]>f){p=[].concat(Ii(c.slice(0,y)),[f-x]);break}var m=p.length%2===0?[0,h]:[h];return[].concat(Ii(t.repeat(c,d)),Ii(p),m).map(function(g){return"".concat(g,"px")}).join(", ")}),Dr(r,"id",Pc("recharts-line-")),Dr(r,"pathRef",function(o){r.mainCurve=o}),Dr(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Dr(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return yte(t,e),hte(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=wr(d,Mc);if(!f)return null;var h=function(x,m){return{x:x.x,y:x.y,value:x.value,errorVal:or(x.payload,m)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return I.createElement(tt,p,f.map(function(y){return I.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=je(this.props,!1),h=je(c,!0),p=u.map(function(x,m){var g=Jt(Jt(Jt({key:"dot-".concat(m),r:3},f),h),{},{index:m,cx:x.x,cy:x.y,value:x.value,dataKey:d,payload:x.payload,points:u});return t.renderDotItem(c,g)}),y={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(s,")"):null};return I.createElement(tt,ll({className:"recharts-line-dots",key:"dots"},y),p)}},{key:"renderCurveStatically",value:function(n,a,s,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=Gw(l,ite),h=Jt(Jt(Jt({},je(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(s,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return I.createElement(Ig,ll({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var s=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,p=o.animationId,y=o.animateNewValues,x=o.width,m=o.height,g=this.state,v=g.prevPoints,b=g.totalLength;return I.createElement(Rn,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var j=w.t;if(v){var N=v.length/l.length,_=l.map(function(T,W){var z=Math.floor(W*N);if(v[z]){var L=v[z],M=Fr(L.x,T.x),U=Fr(L.y,T.y);return Jt(Jt({},T),{},{x:M(j),y:U(j)})}if(y){var P=Fr(x*2,T.x),R=Fr(m/2,T.y);return Jt(Jt({},T),{},{x:P(j),y:R(j)})}return Jt(Jt({},T),{},{x:T.x,y:T.y})});return s.renderCurveStatically(_,n,a)}var S=Fr(0,b),C=S(j),A;if(c){var E="".concat(c).split(/[,\s]+/gim).map(function(T){return parseFloat(T)});A=s.getStrokeDasharray(C,b,E)}else A=s.generateSimpleStrokeDasharray(b,C);return s.renderCurveStatically(l,n,a,{strokeDasharray:A})})}},{key:"renderCurve",value:function(n,a){var s=this.props,o=s.points,l=s.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!ch(u,o))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(o,n,a)}},{key:"render",value:function(){var n,a=this.props,s=a.hide,o=a.dot,l=a.points,c=a.className,u=a.xAxis,d=a.yAxis,f=a.top,h=a.left,p=a.width,y=a.height,x=a.isAnimationActive,m=a.id;if(s||!l||!l.length)return null;var g=this.state.isAnimationFinished,v=l.length===1,b=Se("recharts-line",c),w=u&&u.allowDataOverflow,j=d&&d.allowDataOverflow,N=w||j,_=me(m)?this.id:m,S=(n=je(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},C=S.r,A=C===void 0?3:C,E=S.strokeWidth,T=E===void 0?2:E,W=CR(o)?o:{},z=W.clipDot,L=z===void 0?!0:z,M=A*2+T;return I.createElement(tt,{className:b},w||j?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(_)},I.createElement("rect",{x:w?h:h-p/2,y:j?f:f-y/2,width:w?p:p*2,height:j?y:y*2})),!L&&I.createElement("clipPath",{id:"clipPath-dots-".concat(_)},I.createElement("rect",{x:h-M/2,y:f-M/2,width:p+M,height:y+M}))):null,!v&&this.renderCurve(N,_),this.renderErrorBar(N,_),(v||o)&&this.renderDots(N,L,_),(!x||g)&&wa.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var s=n.length%2!==0?[].concat(Ii(n),[0]):n,o=[],l=0;l<a;++l)o=[].concat(Ii(o),Ii(s));return o}},{key:"renderDotItem",value:function(n,a){var s;if(I.isValidElement(n))s=I.cloneElement(n,a);else if(pe(n))s=n(a);else{var o=a.key,l=Gw(a,ste),c=Se("recharts-line-dot",typeof n!="boolean"?n.className:"");s=I.createElement(w0,ll({key:o},l,{className:c}))}return s}}])}(O.PureComponent);Dr(qs,"displayName","Line");Dr(qs,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!mo.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Dr(qs,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,s=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,p){var y=or(h,o);return d==="horizontal"?{x:T1({axis:r,ticks:a,bandSize:l,entry:h,index:p}),y:me(y)?null:n.scale(y),value:y,payload:h}:{x:me(y)?null:r.scale(y),y:T1({axis:n,ticks:s,bandSize:l,entry:h,index:p}),value:y,payload:h}});return Jt({points:f,layout:d},u)});function Gs(e){"@babel/helpers - typeof";return Gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gs(e)}function vte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bte(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,QP(n.key),n)}}function jte(e,t,r){return t&&bte(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wte(e,t,r){return t=sf(t),Nte(e,GP()?Reflect.construct(t,r||[],sf(e).constructor):t.apply(e,r))}function Nte(e,t){if(t&&(Gs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _te(e)}function _te(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GP=function(){return!!e})()}function sf(e){return sf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sf(e)}function Ste(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iy(e,t)}function iy(e,t){return iy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},iy(e,t)}function XP(e,t,r){return t=QP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QP(e){var t=Ote(e,"string");return Gs(t)=="symbol"?t:t+""}function Ote(e,t){if(Gs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function sy(){return sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sy.apply(this,arguments)}function Cte(e){var t=e.xAxisId,r=O0(),n=C0(),a=TP(t);return a==null?null:O.createElement(vo,sy({},a,{className:Se("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Nn(o,!0)}}))}var vh=function(e){function t(){return vte(this,t),wte(this,t,arguments)}return Ste(t,e),jte(t,[{key:"render",value:function(){return O.createElement(Cte,this.props)}}])}(O.Component);XP(vh,"displayName","XAxis");XP(vh,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Xs(e){"@babel/helpers - typeof";return Xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xs(e)}function Pte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ate(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JP(n.key),n)}}function kte(e,t,r){return t&&Ate(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ete(e,t,r){return t=of(t),$te(e,YP()?Reflect.construct(t,r||[],of(e).constructor):t.apply(e,r))}function $te(e,t){if(t&&(Xs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tte(e)}function Tte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YP=function(){return!!e})()}function of(e){return of=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},of(e)}function Mte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oy(e,t)}function oy(e,t){return oy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},oy(e,t)}function ZP(e,t,r){return t=JP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JP(e){var t=Ite(e,"string");return Xs(t)=="symbol"?t:t+""}function Ite(e,t){if(Xs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function ly(){return ly=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ly.apply(this,arguments)}var Rte=function(t){var r=t.yAxisId,n=O0(),a=C0(),s=MP(r);return s==null?null:O.createElement(vo,ly({},s,{className:Se("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return Nn(l,!0)}}))},uc=function(e){function t(){return Pte(this,t),Ete(this,t,arguments)}return Mte(t,e),kte(t,[{key:"render",value:function(){return O.createElement(Rte,this.props)}}])}(O.Component);ZP(uc,"displayName","YAxis");ZP(uc,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function Yw(e){return Bte(e)||Fte(e)||Lte(e)||Dte()}function Dte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lte(e,t){if(e){if(typeof e=="string")return cy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cy(e,t)}}function Fte(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Bte(e){if(Array.isArray(e))return cy(e)}function cy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var uy=function(t,r,n,a,s){var o=wr(t,A0),l=wr(t,gh),c=[].concat(Yw(o),Yw(l)),u=wr(t,xh),d="".concat(a,"Id"),f=a[0],h=r;if(c.length&&(h=c.reduce(function(x,m){if(m.props[d]===n&&nn(m.props,"extendDomain")&&Q(m.props[f])){var g=m.props[f];return[Math.min(x[0],g),Math.max(x[1],g)]}return x},h)),u.length){var p="".concat(f,"1"),y="".concat(f,"2");h=u.reduce(function(x,m){if(m.props[d]===n&&nn(m.props,"extendDomain")&&Q(m.props[p])&&Q(m.props[y])){var g=m.props[p],v=m.props[y];return[Math.min(x[0],g,v),Math.max(x[1],g,v)]}return x},h)}return s&&s.length&&(h=s.reduce(function(x,m){return Q(m)?[Math.min(x[0],m),Math.max(x[1],m)]:x},h)),h},eA={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new a(d,f||c,h),y=r?r+u:u;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],p]:c._events[y].push(p):(c._events[y]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,y=new Array(p);h<p;h++)y[h]=f[h].fn;return y},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,p,y){var x=r?r+u:u;if(!this._events[x])return!1;var m=this._events[x],g=arguments.length,v,b;if(m.fn){switch(m.once&&this.removeListener(u,m.fn,void 0,!0),g){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,d),!0;case 3:return m.fn.call(m.context,d,f),!0;case 4:return m.fn.call(m.context,d,f,h),!0;case 5:return m.fn.call(m.context,d,f,h,p),!0;case 6:return m.fn.call(m.context,d,f,h,p,y),!0}for(b=1,v=new Array(g-1);b<g;b++)v[b-1]=arguments[b];m.fn.apply(m.context,v)}else{var w=m.length,j;for(b=0;b<w;b++)switch(m[b].once&&this.removeListener(u,m[b].fn,void 0,!0),g){case 1:m[b].fn.call(m[b].context);break;case 2:m[b].fn.call(m[b].context,d);break;case 3:m[b].fn.call(m[b].context,d,f);break;case 4:m[b].fn.call(m[b].context,d,f,h);break;default:if(!v)for(j=1,v=new Array(g-1);j<g;j++)v[j-1]=arguments[j];m[b].fn.apply(m[b].context,v)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var y=this._events[p];if(y.fn)y.fn===d&&(!h||y.once)&&(!f||y.context===f)&&o(this,p);else{for(var x=0,m=[],g=y.length;x<g;x++)(y[x].fn!==d||h&&!y[x].once||f&&y[x].context!==f)&&m.push(y[x]);m.length?this._events[p]=m.length===1?m[0]:m:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(eA);var zte=eA.exports;const Ute=Me(zte);var _p=new Ute,Sp="recharts.syncMouseEvents";function dc(e){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dc(e)}function Wte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hte(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tA(n.key),n)}}function Vte(e,t,r){return t&&Hte(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Op(e,t,r){return t=tA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tA(e){var t=Kte(e,"string");return dc(t)=="symbol"?t:t+""}function Kte(e,t){if(dc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qte=function(){function e(){Wte(this,e),Op(this,"activeIndex",0),Op(this,"coordinateList",[]),Op(this,"layout","horizontal")}return Vte(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,s=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),s=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=s+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Gte(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&Q(n)&&Q(a))return!0}return!1}function Xte(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function rA(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,s=e.endAngle,o=Nt(t,r,n,a),l=Nt(t,r,n,s);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}function Qte(e,t,r){var n,a,s,o;if(e==="horizontal")n=t.x,s=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=Nt(l,c,u,f),p=Nt(l,c,d,f);n=h.x,a=h.y,s=p.x,o=p.y}else return rA(t);return[{x:n,y:a},{x:s,y:o}]}function fc(e){"@babel/helpers - typeof";return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fc(e)}function Zw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zw(Object(r),!0).forEach(function(n){Yte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yte(e,t,r){return t=Zte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zte(e){var t=Jte(e,"string");return fc(t)=="symbol"?t:t+""}function Jte(e,t){if(fc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ere(e){var t,r,n=e.element,a=e.tooltipEventType,s=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!s||!o||h!=="ScatterChart"&&a!=="axis")return null;var y,x=Ig;if(h==="ScatterChart")y=o,x=JQ;else if(h==="BarChart")y=Xte(f,o,c,d),x=j0;else if(f==="radial"){var m=rA(o),g=m.cx,v=m.cy,b=m.radius,w=m.startAngle,j=m.endAngle;y={cx:g,cy:v,startAngle:w,endAngle:j,innerRadius:b,outerRadius:b},x=iP}else y={points:Qte(f,o,c)},x=Ig;var N=mu(mu(mu(mu({stroke:"#ccc",pointerEvents:"none"},c),y),je(p,!1)),{},{payload:l,payloadIndex:u,className:Se("recharts-tooltip-cursor",p.className)});return O.isValidElement(p)?O.cloneElement(p,N):O.createElement(x,N)}var tre=["item"],rre=["children","className","width","height","style","compact","title","desc"];function Qs(e){"@babel/helpers - typeof";return Qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qs(e)}function Qi(){return Qi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qi.apply(this,arguments)}function Jw(e,t){return ire(e)||are(e,t)||aA(e,t)||nre()}function nre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function are(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function ire(e){if(Array.isArray(e))return e}function eN(e,t){if(e==null)return{};var r=sre(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sre(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ore(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lre(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iA(n.key),n)}}function cre(e,t,r){return t&&lre(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ure(e,t,r){return t=lf(t),dre(e,nA()?Reflect.construct(t,r||[],lf(e).constructor):t.apply(e,r))}function dre(e,t){if(t&&(Qs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fre(e)}function fre(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nA=function(){return!!e})()}function lf(e){return lf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lf(e)}function hre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dy(e,t)}function dy(e,t){return dy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},dy(e,t)}function Ys(e){return gre(e)||mre(e)||aA(e)||pre()}function pre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aA(e,t){if(e){if(typeof e=="string")return fy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fy(e,t)}}function mre(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gre(e){if(Array.isArray(e))return fy(e)}function fy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function H(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tN(Object(r),!0).forEach(function(n){le(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function le(e,t,r){return t=iA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iA(e){var t=yre(e,"string");return Qs(t)=="symbol"?t:t+""}function yre(e,t){if(Qs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xre={xAxis:["bottom","top"],yAxis:["left","right"]},vre={width:"100%",height:"100%"},sA={x:0,y:0};function gu(e){return e}var bre=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},jre=function(t,r,n,a){var s=r.find(function(d){return d&&d.index===n});if(s){if(t==="horizontal")return{x:s.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:s.coordinate};if(t==="centric"){var o=s.coordinate,l=a.radius;return H(H(H({},a),Nt(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=s.coordinate,u=a.angle;return H(H(H({},a),Nt(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return sA},bh=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,s=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Ys(l),Ys(u)):l},[]);return o.length>0?o:t&&t.length&&Q(a)&&Q(s)?t.slice(a,s+1):[]};function oA(e){return e==="number"?[0,"auto"]:void 0}var hy=function(t,r,n,a){var s=t.graphicalItems,o=t.tooltipAxis,l=bh(r,t);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?l:f;h=ld(p,o.dataKey,a)}else h=f&&f[n]||l[n];return h?[].concat(Ys(c),[rP(u,h)]):c},[])},rN=function(t,r,n,a){var s=a||{x:t.chartX,y:t.chartY},o=bre(s,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=Eq(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=hy(t,r,d,f),p=jre(n,l,d,s);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},wre=function(t,r){var n=r.axes,a=r.graphicalItems,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,p=JC(d,s);return n.reduce(function(y,x){var m,g=x.type.defaultProps!==void 0?H(H({},x.type.defaultProps),x.props):x.props,v=g.type,b=g.dataKey,w=g.allowDataOverflow,j=g.allowDuplicatedCategory,N=g.scale,_=g.ticks,S=g.includeHidden,C=g[o];if(y[C])return y;var A=bh(t.data,{graphicalItems:a.filter(function(F){var K,Y=o in F.props?F.props[o]:(K=F.type.defaultProps)===null||K===void 0?void 0:K[o];return Y===C}),dataStartIndex:c,dataEndIndex:u}),E=A.length,T,W,z;Gte(g.domain,w,v)&&(T=kg(g.domain,null,w),p&&(v==="number"||N!=="auto")&&(z=sl(A,b,"category")));var L=oA(v);if(!T||T.length===0){var M,U=(M=g.domain)!==null&&M!==void 0?M:L;if(b){if(T=sl(A,b,v),v==="category"&&p){var P=yR(T);j&&P?(W=T,T=Gd(0,E)):j||(T=D1(U,T,x).reduce(function(F,K){return F.indexOf(K)>=0?F:[].concat(Ys(F),[K])},[]))}else if(v==="category")j?T=T.filter(function(F){return F!==""&&!me(F)}):T=D1(U,T,x).reduce(function(F,K){return F.indexOf(K)>=0||K===""||me(K)?F:[].concat(Ys(F),[K])},[]);else if(v==="number"){var R=Rq(A,a.filter(function(F){var K,Y,J=o in F.props?F.props[o]:(K=F.type.defaultProps)===null||K===void 0?void 0:K[o],ae="hide"in F.props?F.props.hide:(Y=F.type.defaultProps)===null||Y===void 0?void 0:Y.hide;return J===C&&(S||!ae)}),b,s,d);R&&(T=R)}p&&(v==="number"||N!=="auto")&&(z=sl(A,b,"category"))}else p?T=Gd(0,E):l&&l[C]&&l[C].hasStack&&v==="number"?T=h==="expand"?[0,1]:tP(l[C].stackGroups,c,u):T=ZC(A,a.filter(function(F){var K=o in F.props?F.props[o]:F.type.defaultProps[o],Y="hide"in F.props?F.props.hide:F.type.defaultProps.hide;return K===C&&(S||!Y)}),v,d,!0);if(v==="number")T=uy(f,T,C,s,_),U&&(T=kg(U,T,w));else if(v==="category"&&U){var k=U,B=T.every(function(F){return k.indexOf(F)>=0});B&&(T=k)}}return H(H({},y),{},le({},C,H(H({},g),{},{axisType:s,domain:T,categoricalDomain:z,duplicateDomain:W,originalDomain:(m=g.domain)!==null&&m!==void 0?m:L,isCategorical:p,layout:d})))},{})},Nre=function(t,r){var n=r.graphicalItems,a=r.Axis,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=bh(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=h.length,y=JC(d,s),x=-1;return n.reduce(function(m,g){var v=g.type.defaultProps!==void 0?H(H({},g.type.defaultProps),g.props):g.props,b=v[o],w=oA("number");if(!m[b]){x++;var j;return y?j=Gd(0,p):l&&l[b]&&l[b].hasStack?(j=tP(l[b].stackGroups,c,u),j=uy(f,j,b,s)):(j=kg(w,ZC(h,n.filter(function(N){var _,S,C=o in N.props?N.props[o]:(_=N.type.defaultProps)===null||_===void 0?void 0:_[o],A="hide"in N.props?N.props.hide:(S=N.type.defaultProps)===null||S===void 0?void 0:S.hide;return C===b&&!A}),"number",d),a.defaultProps.allowDataOverflow),j=uy(f,j,b,s)),H(H({},m),{},le({},b,H(H({axisType:s},a.defaultProps),{},{hide:!0,orientation:jr(xre,"".concat(s,".").concat(x%2),null),domain:j,originalDomain:w,isCategorical:y,layout:d})))}return m},{})},_re=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,s=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=wr(d,s),p={};return h&&h.length?p=wre(t,{axes:h,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(p=Nre(t,{Axis:s,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},Sre=function(t){var r=Yn(t),n=Nn(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Gx(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Ld(r,n)}},nN=function(t){var r=t.children,n=t.defaultShowTooltip,a=rr(r,Bs),s=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(s=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},Ore=function(t){return!t||!t.length?!1:t.some(function(r){var n=Sn(r&&r.type);return n&&n.indexOf("Bar")>=0})},aN=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Cre=function(t,r){var n=t.props,a=t.graphicalItems,s=t.xAxisMap,o=s===void 0?{}:s,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},p=rr(f,Bs),y=rr(f,oi),x=Object.keys(c).reduce(function(j,N){var _=c[N],S=_.orientation;return!_.mirror&&!_.hide?H(H({},j),{},le({},S,j[S]+_.width)):j},{left:h.left||0,right:h.right||0}),m=Object.keys(o).reduce(function(j,N){var _=o[N],S=_.orientation;return!_.mirror&&!_.hide?H(H({},j),{},le({},S,jr(j,"".concat(S))+_.height)):j},{top:h.top||0,bottom:h.bottom||0}),g=H(H({},m),x),v=g.bottom;p&&(g.bottom+=p.props.height||Bs.defaultProps.height),y&&r&&(g=Mq(g,a,n,r));var b=u-g.left-g.right,w=d-g.top-g.bottom;return H(H({brushBottom:v},g),{},{width:Math.max(b,0),height:Math.max(w,0)})},Pre=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},Are=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,s=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(g,v){var b=v.graphicalItems,w=v.stackGroups,j=v.offset,N=v.updateId,_=v.dataStartIndex,S=v.dataEndIndex,C=g.barSize,A=g.layout,E=g.barGap,T=g.barCategoryGap,W=g.maxBarSize,z=aN(A),L=z.numericAxisName,M=z.cateAxisName,U=Ore(b),P=[];return b.forEach(function(R,k){var B=bh(g.data,{graphicalItems:[R],dataStartIndex:_,dataEndIndex:S}),F=R.type.defaultProps!==void 0?H(H({},R.type.defaultProps),R.props):R.props,K=F.dataKey,Y=F.maxBarSize,J=F["".concat(L,"Id")],ae=F["".concat(M,"Id")],we={},Ne=c.reduce(function(ln,Ia){var jh=v["".concat(Ia.axisType,"Map")],$0=F["".concat(Ia.axisType,"Id")];jh&&jh[$0]||Ia.axisType==="zAxis"||ji();var T0=jh[$0];return H(H({},ln),{},le(le({},Ia.axisType,T0),"".concat(Ia.axisType,"Ticks"),Nn(T0)))},we),D=Ne[M],G=Ne["".concat(M,"Ticks")],ee=w&&w[J]&&w[J].hasStack&&Gq(R,w[J].stackGroups),V=Sn(R.type).indexOf("Bar")>=0,xe=Ld(D,G),ne=[],_e=U&&$q({barSize:C,stackGroups:w,totalSize:Pre(Ne,M)});if(V){var Ie,ot,Pr=me(Y)?W:Y,Ar=(Ie=(ot=Ld(D,G,!0))!==null&&ot!==void 0?ot:Pr)!==null&&Ie!==void 0?Ie:0;ne=Tq({barGap:E,barCategoryGap:T,bandSize:Ar!==xe?Ar:xe,sizeList:_e[ae],maxBarSize:Pr}),Ar!==xe&&(ne=ne.map(function(ln){return H(H({},ln),{},{position:H(H({},ln.position),{},{offset:ln.position.offset-Ar/2})})}))}var ki=R&&R.type&&R.type.getComposedData;ki&&P.push({props:H(H({},ki(H(H({},Ne),{},{displayedData:B,props:g,dataKey:K,item:R,bandSize:xe,barPosition:ne,offset:j,stackedData:ee,layout:A,dataStartIndex:_,dataEndIndex:S}))),{},le(le(le({key:R.key||"item-".concat(k)},L,Ne[L]),M,Ne[M]),"animationId",N)),childIndex:kR(R,g.children),item:R})}),P},p=function(g,v){var b=g.props,w=g.dataStartIndex,j=g.dataEndIndex,N=g.updateId;if(!kb({props:b}))return null;var _=b.children,S=b.layout,C=b.stackOffset,A=b.data,E=b.reverseStackOrder,T=aN(S),W=T.numericAxisName,z=T.cateAxisName,L=wr(_,n),M=Vq(A,L,"".concat(W,"Id"),"".concat(z,"Id"),C,E),U=c.reduce(function(F,K){var Y="".concat(K.axisType,"Map");return H(H({},F),{},le({},Y,_re(b,H(H({},K),{},{graphicalItems:L,stackGroups:K.axisType===W&&M,dataStartIndex:w,dataEndIndex:j}))))},{}),P=Cre(H(H({},U),{},{props:b,graphicalItems:L}),v==null?void 0:v.legendBBox);Object.keys(U).forEach(function(F){U[F]=d(b,U[F],P,F.replace("Map",""),r)});var R=U["".concat(z,"Map")],k=Sre(R),B=h(b,H(H({},U),{},{dataStartIndex:w,dataEndIndex:j,updateId:N,graphicalItems:L,stackGroups:M,offset:P}));return H(H({formattedGraphicalItems:B,graphicalItems:L,offset:P,stackGroups:M},k),U)},y=function(m){function g(v){var b,w,j;return ore(this,g),j=ure(this,g,[v]),le(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),le(j,"accessibilityManager",new qte),le(j,"handleLegendBBoxUpdate",function(N){if(N){var _=j.state,S=_.dataStartIndex,C=_.dataEndIndex,A=_.updateId;j.setState(H({legendBBox:N},p({props:j.props,dataStartIndex:S,dataEndIndex:C,updateId:A},H(H({},j.state),{},{legendBBox:N}))))}}),le(j,"handleReceiveSyncEvent",function(N,_,S){if(j.props.syncId===N){if(S===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(_)}}),le(j,"handleBrushChange",function(N){var _=N.startIndex,S=N.endIndex;if(_!==j.state.dataStartIndex||S!==j.state.dataEndIndex){var C=j.state.updateId;j.setState(function(){return H({dataStartIndex:_,dataEndIndex:S},p({props:j.props,dataStartIndex:_,dataEndIndex:S,updateId:C},j.state))}),j.triggerSyncEvent({dataStartIndex:_,dataEndIndex:S})}}),le(j,"handleMouseEnter",function(N){var _=j.getMouseInfo(N);if(_){var S=H(H({},_),{},{isTooltipActive:!0});j.setState(S),j.triggerSyncEvent(S);var C=j.props.onMouseEnter;pe(C)&&C(S,N)}}),le(j,"triggeredAfterMouseMove",function(N){var _=j.getMouseInfo(N),S=_?H(H({},_),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(S),j.triggerSyncEvent(S);var C=j.props.onMouseMove;pe(C)&&C(S,N)}),le(j,"handleItemMouseEnter",function(N){j.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),le(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),le(j,"handleMouseMove",function(N){N.persist(),j.throttleTriggeredAfterMouseMove(N)}),le(j,"handleMouseLeave",function(N){j.throttleTriggeredAfterMouseMove.cancel();var _={isTooltipActive:!1};j.setState(_),j.triggerSyncEvent(_);var S=j.props.onMouseLeave;pe(S)&&S(_,N)}),le(j,"handleOuterEvent",function(N){var _=AR(N),S=jr(j.props,"".concat(_));if(_&&pe(S)){var C,A;/.*touch.*/i.test(_)?A=j.getMouseInfo(N.changedTouches[0]):A=j.getMouseInfo(N),S((C=A)!==null&&C!==void 0?C:{},N)}}),le(j,"handleClick",function(N){var _=j.getMouseInfo(N);if(_){var S=H(H({},_),{},{isTooltipActive:!0});j.setState(S),j.triggerSyncEvent(S);var C=j.props.onClick;pe(C)&&C(S,N)}}),le(j,"handleMouseDown",function(N){var _=j.props.onMouseDown;if(pe(_)){var S=j.getMouseInfo(N);_(S,N)}}),le(j,"handleMouseUp",function(N){var _=j.props.onMouseUp;if(pe(_)){var S=j.getMouseInfo(N);_(S,N)}}),le(j,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),le(j,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&j.handleMouseDown(N.changedTouches[0])}),le(j,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&j.handleMouseUp(N.changedTouches[0])}),le(j,"handleDoubleClick",function(N){var _=j.props.onDoubleClick;if(pe(_)){var S=j.getMouseInfo(N);_(S,N)}}),le(j,"handleContextMenu",function(N){var _=j.props.onContextMenu;if(pe(_)){var S=j.getMouseInfo(N);_(S,N)}}),le(j,"triggerSyncEvent",function(N){j.props.syncId!==void 0&&_p.emit(Sp,j.props.syncId,N,j.eventEmitterSymbol)}),le(j,"applySyncEvent",function(N){var _=j.props,S=_.layout,C=_.syncMethod,A=j.state.updateId,E=N.dataStartIndex,T=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)j.setState(H({dataStartIndex:E,dataEndIndex:T},p({props:j.props,dataStartIndex:E,dataEndIndex:T,updateId:A},j.state)));else if(N.activeTooltipIndex!==void 0){var W=N.chartX,z=N.chartY,L=N.activeTooltipIndex,M=j.state,U=M.offset,P=M.tooltipTicks;if(!U)return;if(typeof C=="function")L=C(P,N);else if(C==="value"){L=-1;for(var R=0;R<P.length;R++)if(P[R].value===N.activeLabel){L=R;break}}var k=H(H({},U),{},{x:U.left,y:U.top}),B=Math.min(W,k.x+k.width),F=Math.min(z,k.y+k.height),K=P[L]&&P[L].value,Y=hy(j.state,j.props.data,L),J=P[L]?{x:S==="horizontal"?P[L].coordinate:B,y:S==="horizontal"?F:P[L].coordinate}:sA;j.setState(H(H({},N),{},{activeLabel:K,activeCoordinate:J,activePayload:Y,activeTooltipIndex:L}))}else j.setState(N)}),le(j,"renderCursor",function(N){var _,S=j.state,C=S.isTooltipActive,A=S.activeCoordinate,E=S.activePayload,T=S.offset,W=S.activeTooltipIndex,z=S.tooltipAxisBandSize,L=j.getTooltipEventType(),M=(_=N.props.active)!==null&&_!==void 0?_:C,U=j.props.layout,P=N.key||"_recharts-cursor";return I.createElement(ere,{key:P,activeCoordinate:A,activePayload:E,activeTooltipIndex:W,chartName:r,element:N,isActive:M,layout:U,offset:T,tooltipAxisBandSize:z,tooltipEventType:L})}),le(j,"renderPolarAxis",function(N,_,S){var C=jr(N,"type.axisType"),A=jr(j.state,"".concat(C,"Map")),E=N.type.defaultProps,T=E!==void 0?H(H({},E),N.props):N.props,W=A&&A[T["".concat(C,"Id")]];return O.cloneElement(N,H(H({},W),{},{className:Se(C,W.className),key:N.key||"".concat(_,"-").concat(S),ticks:Nn(W,!0)}))}),le(j,"renderPolarGrid",function(N){var _=N.props,S=_.radialLines,C=_.polarAngles,A=_.polarRadius,E=j.state,T=E.radiusAxisMap,W=E.angleAxisMap,z=Yn(T),L=Yn(W),M=L.cx,U=L.cy,P=L.innerRadius,R=L.outerRadius;return O.cloneElement(N,{polarAngles:Array.isArray(C)?C:Nn(L,!0).map(function(k){return k.coordinate}),polarRadius:Array.isArray(A)?A:Nn(z,!0).map(function(k){return k.coordinate}),cx:M,cy:U,innerRadius:P,outerRadius:R,key:N.key||"polar-grid",radialLines:S})}),le(j,"renderLegend",function(){var N=j.state.formattedGraphicalItems,_=j.props,S=_.children,C=_.width,A=_.height,E=j.props.margin||{},T=C-(E.left||0)-(E.right||0),W=QC({children:S,formattedGraphicalItems:N,legendWidth:T,legendContent:u});if(!W)return null;var z=W.item,L=eN(W,tre);return O.cloneElement(z,H(H({},L),{},{chartWidth:C,chartHeight:A,margin:E,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),le(j,"renderTooltip",function(){var N,_=j.props,S=_.children,C=_.accessibilityLayer,A=rr(S,Gr);if(!A)return null;var E=j.state,T=E.isTooltipActive,W=E.activeCoordinate,z=E.activePayload,L=E.activeLabel,M=E.offset,U=(N=A.props.active)!==null&&N!==void 0?N:T;return O.cloneElement(A,{viewBox:H(H({},M),{},{x:M.left,y:M.top}),active:U,label:L,payload:U?z:[],coordinate:W,accessibilityLayer:C})}),le(j,"renderBrush",function(N){var _=j.props,S=_.margin,C=_.data,A=j.state,E=A.offset,T=A.dataStartIndex,W=A.dataEndIndex,z=A.updateId;return O.cloneElement(N,{key:N.key||"_recharts-brush",onChange:du(j.handleBrushChange,N.props.onChange),data:C,x:Q(N.props.x)?N.props.x:E.left,y:Q(N.props.y)?N.props.y:E.top+E.height+E.brushBottom-(S.bottom||0),width:Q(N.props.width)?N.props.width:E.width,startIndex:T,endIndex:W,updateId:"brush-".concat(z)})}),le(j,"renderReferenceElement",function(N,_,S){if(!N)return null;var C=j,A=C.clipPathId,E=j.state,T=E.xAxisMap,W=E.yAxisMap,z=E.offset,L=N.type.defaultProps||{},M=N.props,U=M.xAxisId,P=U===void 0?L.xAxisId:U,R=M.yAxisId,k=R===void 0?L.yAxisId:R;return O.cloneElement(N,{key:N.key||"".concat(_,"-").concat(S),xAxis:T[P],yAxis:W[k],viewBox:{x:z.left,y:z.top,width:z.width,height:z.height},clipPathId:A})}),le(j,"renderActivePoints",function(N){var _=N.item,S=N.activePoint,C=N.basePoint,A=N.childIndex,E=N.isRange,T=[],W=_.props.key,z=_.item.type.defaultProps!==void 0?H(H({},_.item.type.defaultProps),_.item.props):_.item.props,L=z.activeDot,M=z.dataKey,U=H(H({index:A,dataKey:M,cx:S.x,cy:S.y,r:4,fill:b0(_.item),strokeWidth:2,stroke:"#fff",payload:S.payload,value:S.value},je(L,!1)),cd(L));return T.push(g.renderActiveDot(L,U,"".concat(W,"-activePoint-").concat(A))),C?T.push(g.renderActiveDot(L,H(H({},U),{},{cx:C.x,cy:C.y}),"".concat(W,"-basePoint-").concat(A))):E&&T.push(null),T}),le(j,"renderGraphicChild",function(N,_,S){var C=j.filterFormatItem(N,_,S);if(!C)return null;var A=j.getTooltipEventType(),E=j.state,T=E.isTooltipActive,W=E.tooltipAxis,z=E.activeTooltipIndex,L=E.activeLabel,M=j.props.children,U=rr(M,Gr),P=C.props,R=P.points,k=P.isRange,B=P.baseLine,F=C.item.type.defaultProps!==void 0?H(H({},C.item.type.defaultProps),C.item.props):C.item.props,K=F.activeDot,Y=F.hide,J=F.activeBar,ae=F.activeShape,we=!!(!Y&&T&&U&&(K||J||ae)),Ne={};A!=="axis"&&U&&U.props.trigger==="click"?Ne={onClick:du(j.handleItemMouseEnter,N.props.onClick)}:A!=="axis"&&(Ne={onMouseLeave:du(j.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:du(j.handleItemMouseEnter,N.props.onMouseEnter)});var D=O.cloneElement(N,H(H({},C.props),Ne));function G(Ia){return typeof W.dataKey=="function"?W.dataKey(Ia.payload):null}if(we)if(z>=0){var ee,V;if(W.dataKey&&!W.allowDuplicatedCategory){var xe=typeof W.dataKey=="function"?G:"payload.".concat(W.dataKey.toString());ee=ld(R,xe,L),V=k&&B&&ld(B,xe,L)}else ee=R==null?void 0:R[z],V=k&&B&&B[z];if(ae||J){var ne=N.props.activeIndex!==void 0?N.props.activeIndex:z;return[O.cloneElement(N,H(H(H({},C.props),Ne),{},{activeIndex:ne})),null,null]}if(!me(ee))return[D].concat(Ys(j.renderActivePoints({item:C,activePoint:ee,basePoint:V,childIndex:z,isRange:k})))}else{var _e,Ie=(_e=j.getItemByXY(j.state.activeCoordinate))!==null&&_e!==void 0?_e:{graphicalItem:D},ot=Ie.graphicalItem,Pr=ot.item,Ar=Pr===void 0?N:Pr,ki=ot.childIndex,ln=H(H(H({},C.props),Ne),{},{activeIndex:ki});return[O.cloneElement(Ar,ln),null,null]}return k?[D,null,null]:[D,null]}),le(j,"renderCustomized",function(N,_,S){return O.cloneElement(N,H(H({key:"recharts-customized-".concat(S)},j.props),j.state))}),le(j,"renderMap",{CartesianGrid:{handler:gu,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:gu},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:gu},YAxis:{handler:gu},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((b=v.id)!==null&&b!==void 0?b:Pc("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=XO(j.triggeredAfterMouseMove,(w=v.throttleDelay)!==null&&w!==void 0?w:1e3/60),j.state={},j}return hre(g,m),cre(g,[{key:"componentDidMount",value:function(){var b,w;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,w=b.children,j=b.data,N=b.height,_=b.layout,S=rr(w,Gr);if(S){var C=S.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var A=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,E=hy(this.state,j,C,A),T=this.state.tooltipTicks[C].coordinate,W=(this.state.offset.top+N)/2,z=_==="horizontal",L=z?{x:T,y:W}:{y:T,x:W},M=this.state.formattedGraphicalItems.find(function(P){var R=P.item;return R.type.name==="Scatter"});M&&(L=H(H({},L),M.props.points[C].tooltipPosition),E=M.props.points[C].tooltipPayload);var U={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:A,activePayload:E,activeCoordinate:L};this.setState(U),this.renderCursor(S),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,w){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==w.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var j,N;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(b){Vm([rr(b.children,Gr)],[rr(this.props.children,Gr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=rr(this.props.children,Gr);if(b&&typeof b.props.shared=="boolean"){var w=b.props.shared?"axis":"item";return l.indexOf(w)>=0?w:s}return s}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var w=this.container,j=w.getBoundingClientRect(),N=nW(j),_={chartX:Math.round(b.pageX-N.left),chartY:Math.round(b.pageY-N.top)},S=j.width/w.offsetWidth||1,C=this.inRange(_.chartX,_.chartY,S);if(!C)return null;var A=this.state,E=A.xAxisMap,T=A.yAxisMap,W=this.getTooltipEventType(),z=rN(this.state,this.props.data,this.props.layout,C);if(W!=="axis"&&E&&T){var L=Yn(E).scale,M=Yn(T).scale,U=L&&L.invert?L.invert(_.chartX):null,P=M&&M.invert?M.invert(_.chartY):null;return H(H({},_),{},{xValue:U,yValue:P},z)}return z?H(H({},_),z):null}},{key:"inRange",value:function(b,w){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,_=b/j,S=w/j;if(N==="horizontal"||N==="vertical"){var C=this.state.offset,A=_>=C.left&&_<=C.left+C.width&&S>=C.top&&S<=C.top+C.height;return A?{x:_,y:S}:null}var E=this.state,T=E.angleAxisMap,W=E.radiusAxisMap;if(T&&W){var z=Yn(T);return B1({x:_,y:S},z)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,w=this.getTooltipEventType(),j=rr(b,Gr),N={};j&&w==="axis"&&(j.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var _=cd(this.props,this.handleOuterEvent);return H(H({},_),N)}},{key:"addListener",value:function(){_p.on(Sp,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){_p.removeListener(Sp,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,w,j){for(var N=this.state.formattedGraphicalItems,_=0,S=N.length;_<S;_++){var C=N[_];if(C.item===b||C.props.key===b.key||w===Sn(C.item.type)&&j===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,w=this.state.offset,j=w.left,N=w.top,_=w.height,S=w.width;return I.createElement("defs",null,I.createElement("clipPath",{id:b},I.createElement("rect",{x:j,y:N,height:_,width:S})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(w,j){var N=Jw(j,2),_=N[0],S=N[1];return H(H({},w),{},le({},_,S.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(w,j){var N=Jw(j,2),_=N[0],S=N[1];return H(H({},w),{},le({},_,S.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var w;return(w=this.state.xAxisMap)===null||w===void 0||(w=w[b])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(b){var w;return(w=this.state.yAxisMap)===null||w===void 0||(w=w[b])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(b){var w=this.state,j=w.formattedGraphicalItems,N=w.activeItem;if(j&&j.length)for(var _=0,S=j.length;_<S;_++){var C=j[_],A=C.props,E=C.item,T=E.type.defaultProps!==void 0?H(H({},E.type.defaultProps),E.props):E.props,W=Sn(E.type);if(W==="Bar"){var z=(A.data||[]).find(function(P){return WQ(b,P)});if(z)return{graphicalItem:C,payload:z}}else if(W==="RadialBar"){var L=(A.data||[]).find(function(P){return B1(b,P)});if(L)return{graphicalItem:C,payload:L}}else if(fh(C,N)||hh(C,N)||ic(C,N)){var M=KY({graphicalItem:C,activeTooltipItem:N,itemData:T.data}),U=T.activeIndex===void 0?M:T.activeIndex;return{graphicalItem:H(H({},C),{},{childIndex:U}),payload:ic(C,N)?T.data[M]:C.props.data[M]}}}return null}},{key:"render",value:function(){var b=this;if(!kb(this))return null;var w=this.props,j=w.children,N=w.className,_=w.width,S=w.height,C=w.style,A=w.compact,E=w.title,T=w.desc,W=eN(w,rre),z=je(W,!1);if(A)return I.createElement(Iw,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},I.createElement(qm,Qi({},z,{width:_,height:S,title:E,desc:T}),this.renderClipPath(),$b(j,this.renderMap)));if(this.props.accessibilityLayer){var L,M;z.tabIndex=(L=this.props.tabIndex)!==null&&L!==void 0?L:0,z.role=(M=this.props.role)!==null&&M!==void 0?M:"application",z.onKeyDown=function(P){b.accessibilityManager.keyboardEvent(P)},z.onFocus=function(){b.accessibilityManager.focus()}}var U=this.parseEventsOfWrapper();return I.createElement(Iw,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},I.createElement("div",Qi({className:Se("recharts-wrapper",N),style:H({position:"relative",cursor:"default",width:_,height:S},C)},U,{ref:function(R){b.container=R}}),I.createElement(qm,Qi({},z,{width:_,height:S,title:E,desc:T,style:vre}),this.renderClipPath(),$b(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(O.Component);le(y,"displayName",r),le(y,"defaultProps",H({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),le(y,"getDerivedStateFromProps",function(m,g){var v=m.dataKey,b=m.data,w=m.children,j=m.width,N=m.height,_=m.layout,S=m.stackOffset,C=m.margin,A=g.dataStartIndex,E=g.dataEndIndex;if(g.updateId===void 0){var T=nN(m);return H(H(H({},T),{},{updateId:0},p(H(H({props:m},T),{},{updateId:0}),g)),{},{prevDataKey:v,prevData:b,prevWidth:j,prevHeight:N,prevLayout:_,prevStackOffset:S,prevMargin:C,prevChildren:w})}if(v!==g.prevDataKey||b!==g.prevData||j!==g.prevWidth||N!==g.prevHeight||_!==g.prevLayout||S!==g.prevStackOffset||!as(C,g.prevMargin)){var W=nN(m),z={chartX:g.chartX,chartY:g.chartY,isTooltipActive:g.isTooltipActive},L=H(H({},rN(g,b,_)),{},{updateId:g.updateId+1}),M=H(H(H({},W),z),L);return H(H(H({},M),p(H({props:m},M),g)),{},{prevDataKey:v,prevData:b,prevWidth:j,prevHeight:N,prevLayout:_,prevStackOffset:S,prevMargin:C,prevChildren:w})}if(!Vm(w,g.prevChildren)){var U,P,R,k,B=rr(w,Bs),F=B&&(U=(P=B.props)===null||P===void 0?void 0:P.startIndex)!==null&&U!==void 0?U:A,K=B&&(R=(k=B.props)===null||k===void 0?void 0:k.endIndex)!==null&&R!==void 0?R:E,Y=F!==A||K!==E,J=!me(b),ae=J&&!Y?g.updateId:g.updateId+1;return H(H({updateId:ae},p(H(H({props:m},g),{},{updateId:ae,dataStartIndex:F,dataEndIndex:K}),g)),{},{prevChildren:w,dataStartIndex:F,dataEndIndex:K})}return null}),le(y,"renderActiveDot",function(m,g,v){var b;return O.isValidElement(m)?b=O.cloneElement(m,g):pe(m)?b=m(g):b=I.createElement(w0,g),I.createElement(tt,{className:"recharts-active-dot",key:v},b)});var x=O.forwardRef(function(g,v){return I.createElement(y,Qi({},g,{ref:v}))});return x.displayName=y.displayName,x},kre=Are({chartName:"LineChart",GraphicalChild:qs,axisComponents:[{axisType:"xAxis",AxisComp:vh},{axisType:"yAxis",AxisComp:uc}],formatAxisMap:yJ});function Ere({data:e,isLoading:t}){const[r,n]=O.useState("table");if(t)return i.jsx(oe,{title:"Monthly Breakdown",children:i.jsx("div",{className:"space-y-2",children:[1,2,3,4,5].map(s=>i.jsx("div",{className:"flex gap-4 py-2",children:[1,2,3,4,5,6].map(o=>i.jsx(fe,{className:"h-4 flex-1"},o))},s))})});if(!e||e.length===0)return i.jsx(oe,{title:"Monthly Breakdown",children:i.jsx("div",{className:"text-gray-500 text-center py-8",children:"No monthly data available"})});const a=[...e].reverse().map(s=>({month:s.month,saleAmount:s.sale_amount,acceptRate:s.acceptance_rate}));return i.jsxs(oe,{title:"Monthly Breakdown",children:[i.jsxs("div",{className:"flex gap-1 border-b border-gray-200 mb-4",children:[i.jsx("button",{onClick:()=>n("table"),className:`px-4 py-2 text-sm font-medium border-b-2 -mb-px transition-colors ${r==="table"?"text-blue-600 border-blue-600":"text-gray-500 border-transparent hover:text-gray-700 hover:border-gray-300"}`,children:"Table"}),i.jsx("button",{onClick:()=>n("chart"),className:`px-4 py-2 text-sm font-medium border-b-2 -mb-px transition-colors ${r==="chart"?"text-blue-600 border-blue-600":"text-gray-500 border-transparent hover:text-gray-700 hover:border-gray-300"}`,children:"Chart"})]}),r==="table"&&i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-gray-200",children:[i.jsx("th",{className:"text-left py-2 px-3 font-medium text-gray-600",children:"Month"}),i.jsx("th",{className:"text-right py-2 px-3 font-medium text-gray-600",children:"Total"}),i.jsx("th",{className:"text-right py-2 px-3 font-medium text-gray-600",children:"Approved"}),i.jsx("th",{className:"text-right py-2 px-3 font-medium text-gray-600",children:"Declined"}),i.jsx("th",{className:"text-right py-2 px-3 font-medium text-gray-600",children:"Accept Rate"}),i.jsx("th",{className:"text-right py-2 px-3 font-medium text-gray-600 border-l border-gray-200",children:"Sales"}),i.jsx("th",{className:"text-right py-2 px-3 font-medium text-gray-600",children:"Sales Amount"}),i.jsx("th",{className:"text-right py-2 px-3 font-medium text-gray-600",children:"Payouts"}),i.jsx("th",{className:"text-right py-2 px-3 font-medium text-gray-600",children:"Payout Amount"}),i.jsx("th",{className:"text-right py-2 px-3 font-medium text-gray-600",children:"Reversals"}),i.jsx("th",{className:"text-right py-2 px-3 font-medium text-gray-600",children:"Reversal Amount"})]})}),i.jsx("tbody",{children:e.map(s=>i.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[i.jsx("td",{className:"py-2 px-3 font-medium",children:s.month}),i.jsx("td",{className:"py-2 px-3 text-right",children:ye(s.total_count)}),i.jsx("td",{className:"py-2 px-3 text-right text-green-600",children:ye(s.approved_count)}),i.jsx("td",{className:"py-2 px-3 text-right text-red-600",children:ye(s.declined_count)}),i.jsx("td",{className:"py-2 px-3 text-right font-medium",children:ft(s.acceptance_rate)}),i.jsx("td",{className:"py-2 px-3 text-right border-l border-gray-200 text-blue-600",children:ye(s.sale_count)}),i.jsx("td",{className:"py-2 px-3 text-right text-blue-600",children:X(s.sale_amount)}),i.jsx("td",{className:"py-2 px-3 text-right text-purple-600",children:ye(s.payout_count)}),i.jsx("td",{className:"py-2 px-3 text-right text-purple-600",children:X(s.payout_amount)}),i.jsx("td",{className:"py-2 px-3 text-right text-amber-600",children:ye(s.reversal_count)}),i.jsx("td",{className:"py-2 px-3 text-right text-amber-600",children:X(s.reversal_amount)})]},s.month))})]})}),r==="chart"&&i.jsx("div",{className:"h-[400px]",children:i.jsx(Q9,{width:"100%",height:"100%",children:i.jsxs(kre,{data:a,margin:{top:20,right:30,left:20,bottom:20},children:[i.jsx(VP,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),i.jsx(vh,{dataKey:"month",tick:{fontSize:12},tickLine:!1}),i.jsx(uc,{yAxisId:"left",tick:{fontSize:12},tickLine:!1,tickFormatter:s=>s>=1e6?`${(s/1e6).toFixed(1)}M`:s>=1e3?`${(s/1e3).toFixed(0)}K`:s.toString()}),i.jsx(uc,{yAxisId:"right",orientation:"right",tick:{fontSize:12},tickLine:!1,tickFormatter:s=>`${s.toFixed(0)}%`,domain:[0,100]}),i.jsx(Gr,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"},formatter:(s,o)=>o==="Sales Amount"?[X(s),o]:o==="Accept Rate"?[`${s.toFixed(1)}%`,o]:[s,o]}),i.jsx(oi,{}),i.jsx(qs,{yAxisId:"left",type:"monotone",dataKey:"saleAmount",name:"Sales Amount",stroke:"#3b82f6",strokeWidth:2,dot:{r:4},activeDot:{r:6}}),i.jsx(qs,{yAxisId:"right",type:"monotone",dataKey:"acceptRate",name:"Accept Rate",stroke:"#22c55e",strokeWidth:2,dot:{r:4},activeDot:{r:6}})]})})})]})}function $re(){return i.jsx(oe,{title:"Rate Plan Dynamics",className:"mb-6",children:i.jsxs("div",{className:"space-y-4",children:[i.jsx(fe,{className:"h-8 w-full"}),i.jsx(fe,{className:"h-32 w-full"}),i.jsx(fe,{className:"h-16 w-full"})]})})}function iN(e){return e>=95?"text-green-700":e>=80?"text-yellow-700":"text-red-700"}function sN(e){return e>=95?"bg-green-50":e>=80?"bg-yellow-50":"bg-red-50"}function oN(e){if(!e)return"";const t=e.min_rate===e.max_rate?`${e.min_rate.toFixed(2)}%`:`${e.min_rate.toFixed(2)}% - ${e.max_rate.toFixed(2)}%`,r=e.min_fixed===e.max_fixed?`${e.min_fixed.toFixed(2)}`:`${e.min_fixed.toFixed(2)} - ${e.max_fixed.toFixed(2)}`;return`Rate: ${t}
Fixed: ${r}`}function Tre(e){return{card:"Card",apple_pay:"Apple Pay",google_pay:"Google Pay",blik:"BLIK",openbanking:"Open Banking",sepa:"SEPA",crypto:"Crypto"}[e.toLowerCase()]||e}function Bo(e){const[t,r]=e.split("-");return new Date(parseInt(t),parseInt(r),0).getDate()}function Mre({merchantId:e,planId:t,plan:r,months:n}){const[a,s]=O.useState(!0),[o,l]=O.useState(!1),[c,u]=O.useState(new Set),{data:d,isLoading:f}=be({queryKey:["merchant-dynamics",e],queryFn:()=>ue.getMerchantDynamics(e),enabled:!!e,staleTime:3e5}),{data:h,isLoading:p}=be({queryKey:["plan-dynamics",e,t],queryFn:()=>ue.getPlanDynamics(e,t),enabled:!!e&&!!t,staleTime:3e5}),y=k=>{u(B=>{const F=new Set(B);return F.has(k)?F.delete(k):F.add(k),F})},x=k=>{const[B,F]=k.split("-");return`${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][parseInt(F,10)-1]}'${B.slice(2)}`},m=k=>{var B,F;return((F=(B=h==null?void 0:h.monthly)==null?void 0:B[k])==null?void 0:F.total)||0},g=(k,B)=>{var F,K,Y;return((Y=(K=(F=h==null?void 0:h.monthly)==null?void 0:F[B])==null?void 0:K.variants)==null?void 0:Y[k])||0},v=(k,B)=>{var F,K,Y;return((Y=(K=(F=h==null?void 0:h.daily)==null?void 0:F[k])==null?void 0:K[B])==null?void 0:Y.total)||0},b=(k,B,F)=>{var K,Y,J,ae;return((ae=(J=(Y=(K=h==null?void 0:h.daily)==null?void 0:K[B])==null?void 0:Y[F])==null?void 0:J.variants)==null?void 0:ae[k])||0},w=O.useMemo(()=>{if(!(h!=null&&h.monthly))return{first:n[0],last:n[n.length-1]};const k=Object.keys(h.monthly).filter(B=>h.monthly[B].total>0).sort();return k.length===0?{first:n[0],last:n[n.length-1]}:{first:k[0],last:k[k.length-1]}},[h,n]),j=O.useMemo(()=>d!=null&&d.plans&&d.plans.find(k=>k.plan_id===t)||null,[d,t]),N=O.useMemo(()=>h!=null&&h.variants?Object.entries(h.variants).map(([k,B])=>{var F,K;return{variant_id:k,rate:B.rate,fixed:B.fixed,total_count:B.total_count,label:((F=r.variants.find(Y=>String(Y.variant_id)===k))==null?void 0:F.label)||`variant_${k}`,confidence:((K=r.variants.find(Y=>String(Y.variant_id)===k))==null?void 0:K.confidence)||0}}).sort((k,B)=>B.total_count-k.total_count):[],[h,r.variants]),_=O.useMemo(()=>n.map(k=>({month:k,expanded:c.has(k),colSpan:c.has(k)?Bo(k):1})),[n,c]);if(f||p)return i.jsx($re,{});const{first:C,last:A}=w,E=n.indexOf(C),T=n.indexOf(A),W=N.length>1,z=j==null?void 0:j.coverage,L=(z==null?void 0:z.gate_types)||[],M=z&&(z.currencies.length>0||z.countries.length>0||L.length>0),U=k=>{const B=n.indexOf(k);return B>=E&&B<=T},P=(k,B)=>{var F,K,Y;return(((Y=(K=(F=h==null?void 0:h.monthly)==null?void 0:F[B])==null?void 0:K.variants)==null?void 0:Y[k])||0)>0},R=Object.values((h==null?void 0:h.monthly)||{}).reduce((k,B)=>k+B.total,0);return i.jsxs(oe,{className:"mb-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Rate Plan Dynamics"}),M&&i.jsxs("span",{className:"relative inline-flex items-center",children:[i.jsx("button",{onClick:k=>{k.stopPropagation(),l(!o)},className:`p-0.5 rounded hover:bg-gray-200 ${o?"bg-blue-100":""}`,children:i.jsx(io,{className:`w-4 h-4 ${o?"text-blue-600":"text-gray-400 hover:text-gray-600"}`})}),o&&i.jsxs("div",{className:"absolute left-0 top-full mt-1 z-50 bg-white border shadow-xl rounded-md p-2.5 min-w-[220px] text-xs",onClick:k=>k.stopPropagation(),children:[i.jsx("div",{className:"font-medium text-gray-700 mb-2",children:"Coverage"}),L.length>0&&i.jsxs("div",{className:"mb-2",children:[i.jsx("div",{className:"text-gray-500 text-[10px] mb-1",children:"Payment Method"}),i.jsx("div",{className:"flex flex-wrap gap-1",children:L.map(k=>i.jsx("span",{className:"px-1.5 py-0.5 bg-purple-100 text-purple-700 rounded text-[10px] font-medium",children:Tre(k)},k))})]}),z&&z.currencies.length>0&&i.jsxs("div",{className:"mb-2",children:[i.jsx("div",{className:"text-gray-500 text-[10px] mb-1",children:"Currencies"}),i.jsx("div",{className:"flex flex-wrap gap-1",children:z.currencies.map(k=>i.jsx("span",{className:"px-1.5 py-0.5 bg-green-100 text-green-700 rounded text-[10px] font-medium",children:k},k))})]}),z&&z.countries.length>0&&i.jsxs("div",{children:[i.jsxs("div",{className:"text-gray-500 text-[10px] mb-1",children:["Countries (",z.countries.length,")"]}),i.jsx("div",{className:"flex flex-wrap gap-0.5 max-w-[280px]",children:z.countries.map(k=>i.jsx("span",{className:"px-1 py-0.5 bg-orange-100 text-orange-700 rounded text-[10px]",children:k},k))})]})]})]})]}),i.jsxs("div",{className:"text-sm text-gray-500",children:[R.toLocaleString()," transactions"]})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-xs border-collapse min-w-max",children:[i.jsxs("thead",{children:[i.jsxs("tr",{className:"border-b border-gray-200",children:[i.jsx("th",{className:"text-left py-2 px-2 font-medium text-gray-600 sticky left-0 z-20 bg-white min-w-[200px]",rowSpan:2,children:"Variant"}),i.jsx("th",{className:"text-left py-2 px-2 font-medium text-gray-600 sticky left-[200px] z-20 bg-white min-w-[90px]",rowSpan:2,children:"Commission"}),i.jsx("th",{className:"text-center py-2 px-2 font-medium text-gray-600 sticky left-[290px] z-20 bg-white min-w-[50px] shadow-[2px_0_4px_-2px_rgba(0,0,0,0.1)]",rowSpan:2,children:"Txns"}),_.map(({month:k,expanded:B,colSpan:F})=>{const K=U(k);return i.jsx("th",{colSpan:F,className:`text-center py-1 px-1 font-medium border-l border-gray-100 first:border-l-0 ${K?"text-gray-700 bg-gray-50":"text-gray-400"}`,style:{minWidth:B?F*28:68},children:i.jsxs("button",{onClick:()=>K&&y(k),disabled:!K,className:`inline-flex items-center gap-1 px-1 py-0.5 rounded ${K?"hover:bg-gray-200 cursor-pointer":"cursor-default"}`,children:[K&&(B?i.jsx(Xe,{className:"w-3 h-3"}):i.jsx(an,{className:"w-3 h-3"})),i.jsx("span",{children:x(k)})]})},k)})]}),i.jsx("tr",{className:"border-b border-gray-100",children:_.map(({month:k,expanded:B})=>{if(!B)return null;const F=Bo(k),K=U(k);return Array.from({length:F},(Y,J)=>J+1).map(Y=>i.jsx("th",{className:`text-center py-0.5 px-0 font-normal text-[10px] ${K?"text-gray-500":"text-gray-300"}`,style:{minWidth:28,maxWidth:32},children:Y},`${k}-${Y}`))})})]}),i.jsxs("tbody",{children:[i.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50 group",children:[i.jsx("td",{className:"py-1.5 px-2 font-medium text-gray-900 sticky left-0 z-10 bg-white group-hover:bg-gray-50",children:i.jsxs("div",{className:"flex items-center gap-1",children:[W&&i.jsx("button",{onClick:()=>s(!a),className:"p-0.5 hover:bg-gray-200 rounded",children:a?i.jsx(Xe,{className:"w-3 h-3"}):i.jsx(an,{className:"w-3 h-3"})}),i.jsx("span",{children:"All Variants"})]})}),i.jsx("td",{className:"py-1.5 px-2 text-gray-700 font-medium sticky left-[200px] z-10 bg-white group-hover:bg-gray-50",children:r.formula}),i.jsx("td",{className:"py-1.5 px-2 text-center font-medium sticky left-[290px] z-10 bg-white group-hover:bg-gray-50 shadow-[2px_0_4px_-2px_rgba(0,0,0,0.1)] text-gray-700",children:ye(R)}),_.map(({month:k,expanded:B})=>{var D;const F=n.indexOf(k),K=F>=E&&F<=T,Y=F===E,J=F===T;if(!K){if(B){const G=Bo(k);return Array.from({length:G},(ee,V)=>i.jsx("td",{className:"py-1.5 px-0 text-center text-gray-300",style:{minWidth:28,maxWidth:32},children:"-"},`${k}-day-${V+1}`))}return i.jsx("td",{className:"py-1.5 px-1 text-center text-gray-300",style:{minWidth:68,maxWidth:80},children:"-"},k)}if(B){const G=Bo(k);return Array.from({length:G},(ee,V)=>{const xe=V+1,ne=xe.toString().padStart(2,"0"),_e=v(k,ne),Ie=V===0,ot=V===G-1;return i.jsx("td",{className:`py-1.5 px-0 text-center ${_e?"bg-blue-50 text-blue-800 font-medium":"bg-gray-50 text-gray-400"} ${Y&&Ie?"rounded-l":""} ${J&&ot?"rounded-r":""}`,style:{minWidth:28,maxWidth:32},title:`${k}-${ne}: ${_e} txns`,children:i.jsx("span",{className:"text-[10px]",children:_e?ye(_e):"-"})},`${k}-day-${xe}`)})}const ae=m(k),we=(D=j==null?void 0:j.monthly_commission)==null?void 0:D[k],Ne=oN(we);return i.jsx("td",{className:`py-1.5 px-1 text-center ${ae?"bg-blue-50 text-blue-800 font-medium":"bg-gray-100 text-gray-400"} ${Y?"rounded-l":""} ${J?"rounded-r":""}`,style:{minWidth:68,maxWidth:80},title:Ne,children:Ne?i.jsx("span",{className:"cursor-help border-b border-dotted border-current",children:ae?ye(ae):"0"}):ae?ye(ae):"0"},k)})]}),W&&a&&N.map(k=>{var K;const B=k.variant_id,F=k.confidence||50;return i.jsxs("tr",{className:"border-b border-gray-50",children:[i.jsx("td",{className:"py-1 px-2 pl-8 text-gray-600 sticky left-0 z-10 bg-gray-50",children:i.jsx("span",{className:k.label==="contract"||(K=k.label)!=null&&K.startsWith("contract (")&&!k.label.includes("+")&&!k.label.toLowerCase().includes("min")?"text-green-600 font-medium":"text-gray-400",children:k.label||`Variant #${B}`})}),i.jsxs("td",{className:"py-1 px-2 text-gray-600 sticky left-[200px] z-10 bg-gray-50",children:[k.rate,"% + ",k.fixed]}),i.jsx("td",{className:"py-1 px-2 text-center sticky left-[290px] z-10 bg-gray-50 shadow-[2px_0_4px_-2px_rgba(0,0,0,0.1)] text-gray-600",children:ye(k.total_count)}),_.map(({month:Y,expanded:J})=>{var ne;const ae=U(Y),we=Bo(Y);if(!ae)return J?Array.from({length:we},(_e,Ie)=>i.jsx("td",{className:"py-1 px-0 text-center text-gray-300",style:{minWidth:28,maxWidth:32},children:"-"},`${Y}-day-${Ie+1}`)):i.jsx("td",{className:"py-1 px-1 text-center text-gray-300",style:{minWidth:68,maxWidth:80},children:"-"},Y);const Ne=P(B,Y),D=Ne,G=Ne;if(J)return Array.from({length:we},(_e,Ie)=>{const ot=Ie+1,Pr=ot.toString().padStart(2,"0"),Ar=b(B,Y,Pr),ki=Ie===0,ln=Ie===we-1;return i.jsx("td",{className:`py-1 px-0 text-center ${Ar?`${sN(F)} ${iN(F)}`:"bg-gray-50 text-gray-400"} ${D&&ki?"rounded-l":""} ${G&&ln?"rounded-r":""}`,style:{minWidth:28,maxWidth:32},title:`${Y}-${Pr}: ${Ar} txns`,children:i.jsx("span",{className:"text-[10px]",children:Ar?ye(Ar):"-"})},`${Y}-day-${ot}`)});const ee=g(B,Y),V=(ne=j==null?void 0:j.monthly_commission)==null?void 0:ne[Y],xe=oN(V);return i.jsx("td",{className:`py-1 px-1 text-center ${ee?`${sN(F)} ${iN(F)}`:"bg-gray-100 text-gray-400"} ${D?"rounded-l":""} ${G?"rounded-r":""}`,style:{minWidth:68,maxWidth:80},title:xe,children:xe?i.jsx("span",{className:"cursor-help border-b border-dotted border-current",children:ee?ye(ee):"0"}):ee?ye(ee):"0"},Y)})]},`variant-${B}`)})]})]})})]})}function Ire(){return i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Transactions"}),i.jsx(SM,{})]})}function Rre(){const{id:e}=yx();return e?i.jsx(RM,{transactionId:e}):i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"text-red-500",children:"Transaction ID is required"})})}function Dre(){return i.jsxs("div",{children:[i.jsx("div",{className:"h-8 w-32 bg-gray-200 rounded animate-pulse mb-6"}),i.jsx("div",{className:"space-y-4",children:[1,2,3].map(e=>i.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx(fe,{className:"h-6 w-48 mb-2"}),i.jsxs("div",{className:"flex gap-6",children:[i.jsx(fe,{className:"h-4 w-24"}),i.jsx(fe,{className:"h-4 w-24"}),i.jsx(fe,{className:"h-4 w-24"}),i.jsx(fe,{className:"h-4 w-24"})]})]}),i.jsx(fe,{className:"h-5 w-5"})]})},e))})]})}function Lre(){const{data:e,isLoading:t,error:r}=be({queryKey:["merchants"],queryFn:ue.getMerchants});return t?i.jsx(Dre,{}):r?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsxs("div",{className:"text-red-500",children:["Error loading merchants: ",r.message]})}):i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Merchants"}),i.jsxs("div",{className:"space-y-4",children:[e==null?void 0:e.map(n=>i.jsx(rt,{to:`/merchant/${n.merchant_id}`,className:"block",children:i.jsx(oe,{className:"hover:border-gray-300 hover:shadow-md transition-all cursor-pointer",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:n.merchant_name}),n.merchant_group&&i.jsx("span",{className:"px-2 py-0.5 text-xs font-medium bg-gray-100 text-gray-600 rounded",children:n.merchant_group})]}),i.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:"Transactions"}),i.jsx("span",{className:"ml-2 font-medium text-gray-900",children:ye(n.transaction_count)})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:"Volume"}),i.jsx("span",{className:"ml-2 font-medium text-gray-900",children:X(n.total_amount_eur)})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:"Accept Rate"}),i.jsx("span",{className:"ml-2 font-medium text-green-600",children:ft(n.acceptance_rate)})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:"Commission"}),i.jsx("span",{className:"ml-2 font-medium text-gray-900",children:X(n.total_commission_eur)})]})]})]}),i.jsx(an,{className:"h-5 w-5 text-gray-400"})]})})},n.merchant_id)),(e==null?void 0:e.length)===0&&i.jsx("div",{className:"text-center py-12 text-gray-500",children:"No merchants found"})]})]})}const cf={rate_precision:.25,fixed_tolerance:0,match_tolerance:.05,min_confidence:20,max_variants:10,min_period_days:7,min_transactions:3,prefer_lower_rate:!0};function Fre(e,t,r){return r.filter(n=>{if(n.currency&&n.currency!==t)return!1;const a=e.toLowerCase();return!(a.includes("incoming")&&n.operation_type!=="incoming"||a.includes("outgoing")&&n.operation_type!=="outgoing"||a.includes("payout")&&n.operation_type!=="outgoing"||a.includes("card")&&n.payment_type!=="card"||a.includes("apm")&&n.payment_type!=="apm"||a.includes("sepa")&&n.payment_type!=="apm")})}function Bre({merchantId:e,initialPlans:t,initialMonths:r,onClose:n,onRefresh:a}){var we,Ne;const[s,o]=O.useState("auto"),[l,c]=O.useState(null),[u,d]=O.useState(cf),[f,h]=O.useState(t),[p,y]=O.useState(!1),[x,m]=O.useState(!1),[g,v]=O.useState(!1),[b,w]=O.useState(null),[j,N]=O.useState(null),[_,S]=O.useState(""),[C,A]=O.useState(""),[E,T]=O.useState(.05),[W,z]=O.useState(!1),[L,M]=O.useState(null),{data:U}=be({queryKey:["merchant-contract-plans",e],queryFn:()=>ue.getContractPlans(e),staleTime:3e5}),P=O.useMemo(()=>[...f].sort((D,G)=>D.confidence-G.confidence),[f]),R=O.useMemo(()=>{if(!U)return new Map;const D=new Map;for(const G of f){const ee=Fre(G.plan_id,G.currency,U);ee.length>0&&D.set(G.plan_id,ee)}return D},[f,U]),k=O.useMemo(()=>f.find(D=>D.plan_id===l),[f,l]),B=async()=>{if(!l)return;const D=parseFloat(_),G=parseFloat(C);if(isNaN(D)||isNaN(G)){M(null);return}z(!0);try{const ee=await ue.testFormula(e,l,D,G,E);M(ee)}catch(ee){console.error("Formula test failed:",ee),M(null)}z(!1)};O.useEffect(()=>{M(null)},[l]);const F=(D,G)=>{d(ee=>({...ee,[D]:G}))},K=async()=>{if(l){y(!0);try{const G=(await ue.getMerchantRatePlanAnalysis(e,u)).plans.find(ee=>ee.plan_id===l);G&&h(ee=>ee.map(V=>V.plan_id===l?G:V))}catch(D){console.error("Analysis failed:",D)}y(!1)}},Y=async D=>{v(!0),w(null);try{const G=await ue.getPlanStats(e,D);w(G)}catch(G){console.error("Failed to load stats:",G),w(null)}v(!1)},J=D=>{c(D),Y(D)},ae=async()=>{m(!0);try{await ue.saveMerchantAnalysisConfig(e,u),a(),n()}catch(D){console.error("Failed to save:",D)}m(!1)};return i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:n,children:i.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-6xl w-full mx-4 max-h-[90vh] overflow-hidden flex flex-col",onClick:D=>D.stopPropagation(),children:[i.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("h2",{className:"text-lg font-semibold",children:"Rate Plan Analysis"}),i.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-0.5",children:[i.jsx("button",{onClick:()=>o("auto"),className:`px-3 py-1.5 text-sm font-medium rounded-md transition-colors ${s==="auto"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Auto"}),i.jsx("button",{onClick:()=>o("manual"),className:`px-3 py-1.5 text-sm font-medium rounded-md transition-colors ${s==="manual"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Manual"})]})]}),i.jsx("button",{onClick:n,className:"p-1 hover:bg-gray-100 rounded",children:i.jsx(Yt,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[i.jsx("div",{className:"w-56 flex-shrink-0 p-4 overflow-y-auto border-r bg-gray-50",children:s==="auto"?i.jsxs("div",{className:"space-y-3 text-sm",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 font-medium mb-1 text-xs",children:"Rate Precision (%)"}),i.jsx("input",{type:"number",step:"0.05",min:"0.05",max:"1",value:u.rate_precision,onChange:D=>F("rate_precision",parseFloat(D.target.value)||.25),className:"w-full px-2 py-1 border rounded text-sm"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 font-medium mb-1 text-xs",children:"Fixed Tolerance"}),i.jsx("input",{type:"number",step:"0.05",min:"0",max:"1",value:u.fixed_tolerance,onChange:D=>F("fixed_tolerance",parseFloat(D.target.value)||0),className:"w-full px-2 py-1 border rounded text-sm"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 font-medium mb-1 text-xs",children:"Match Tol. (EUR)"}),i.jsx("input",{type:"number",step:"0.01",min:"0.01",max:"0.5",value:u.match_tolerance,onChange:D=>F("match_tolerance",parseFloat(D.target.value)||.05),className:"w-full px-2 py-1 border rounded text-sm"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 font-medium mb-1 text-xs",children:"Min Confidence (%)"}),i.jsx("input",{type:"number",step:"5",min:"0",max:"100",value:u.min_confidence,onChange:D=>F("min_confidence",parseInt(D.target.value)||0),className:"w-full px-2 py-1 border rounded text-sm"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 font-medium mb-1 text-xs",children:"Max Var"}),i.jsx("input",{type:"number",step:"1",min:"1",max:"20",value:u.max_variants,onChange:D=>F("max_variants",parseInt(D.target.value)||10),className:"w-full px-2 py-1 border rounded text-sm"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 font-medium mb-1 text-xs",children:"Min Txn"}),i.jsx("input",{type:"number",step:"1",min:"1",max:"50",value:u.min_transactions,onChange:D=>F("min_transactions",parseInt(D.target.value)||3),className:"w-full px-2 py-1 border rounded text-sm"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 font-medium mb-1 text-xs",children:"Preference"}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx("button",{onClick:()=>F("prefer_lower_rate",!0),className:`flex-1 px-2 py-1 rounded text-xs font-medium ${u.prefer_lower_rate?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Lower Rate"}),i.jsx("button",{onClick:()=>F("prefer_lower_rate",!1),className:`flex-1 px-2 py-1 rounded text-xs font-medium ${u.prefer_lower_rate?"bg-gray-200 text-gray-700 hover:bg-gray-300":"bg-blue-600 text-white"}`,children:"Lower Fixed"})]})]})]}):i.jsxs("div",{className:"space-y-3 text-sm",children:[i.jsx("p",{className:"text-gray-500 text-xs mb-2",children:"Enter rate and fixed fee to test against transactions."}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 font-medium mb-1 text-xs",children:"Rate (%)"}),i.jsx("input",{type:"number",step:"0.01",min:"0",max:"100",placeholder:"e.g. 6.00",value:_,onChange:D=>S(D.target.value),className:"w-full px-2 py-1.5 border rounded text-sm"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-gray-700 font-medium mb-1 text-xs",children:["Fixed Fee (",(k==null?void 0:k.currency)||"EUR",")"]}),i.jsx("input",{type:"number",step:"0.01",min:"0",placeholder:"e.g. 0.25",value:C,onChange:D=>A(D.target.value),className:"w-full px-2 py-1.5 border rounded text-sm"}),(k==null?void 0:k.currency)&&k.currency!=="EUR"&&i.jsx("p",{className:"text-gray-400 text-[10px] mt-1",children:"Converted to EUR using tx fx_rate"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 font-medium mb-1 text-xs",children:"Tolerance (EUR)"}),i.jsx("input",{type:"number",step:"0.01",min:"0.01",max:"1",value:E,onChange:D=>T(parseFloat(D.target.value)||.05),className:"w-full px-2 py-1.5 border rounded text-sm"}),i.jsx("p",{className:"text-gray-400 text-[10px] mt-1",children:"Max difference for a match"})]}),k&&((we=R.get(k.plan_id))!=null&&we.length)?i.jsxs("div",{className:"pt-2 border-t",children:[i.jsx("label",{className:"block text-gray-700 font-medium mb-1 text-xs",children:"Fill from Contract"}),i.jsx("div",{className:"space-y-1",children:(Ne=R.get(k.plan_id))==null?void 0:Ne.map((D,G)=>i.jsxs("button",{onClick:()=>{D.wl_percent!=null&&S(String(D.wl_percent)),D.fixed_fee!=null&&A(String(D.fixed_fee))},className:"w-full text-left px-2 py-1 rounded text-xs bg-green-50 hover:bg-green-100 text-green-700",children:[D.wl_percent!=null?`${D.wl_percent}%`:"-"," + ",D.fixed_fee??0,i.jsxs("span",{className:"text-green-500 ml-1",children:["(",D.payment_type||"any",")"]})]},G))})]}):null,k&&i.jsxs("div",{className:"pt-2 border-t",children:[i.jsx("label",{className:"block text-gray-700 font-medium mb-1 text-xs",children:"Fill from Auto"}),i.jsxs("button",{onClick:()=>{S(String(k.avg_rate)),A(String(k.avg_fixed_eur))},className:"w-full text-left px-2 py-1 rounded text-xs bg-blue-50 hover:bg-blue-100 text-blue-700",children:[k.formula,i.jsxs("span",{className:"text-blue-500 ml-1",children:["(",k.confidence.toFixed(0),"% conf)"]})]})]}),i.jsxs("div",{className:"pt-3 border-t",children:[i.jsx("button",{onClick:B,disabled:!_||!C||W,className:"w-full flex items-center justify-center gap-2 px-3 py-2 bg-blue-600 text-white rounded text-sm font-medium hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed",children:W?i.jsxs(i.Fragment,{children:[i.jsx(Fe,{className:"w-4 h-4 animate-spin"}),"Testing..."]}):i.jsxs(i.Fragment,{children:[i.jsx(od,{className:"w-4 h-4"}),"Test Formula"]})}),i.jsx("p",{className:"text-gray-400 text-[10px] mt-1 text-center",children:"Tests against all approved transactions"})]})]})}),i.jsx("div",{className:"flex-1 overflow-y-auto border-r",children:i.jsxs("div",{className:"p-2",children:[i.jsxs("div",{className:"text-xs text-gray-500 mb-2 px-1",children:[P.length," plans  Click to select  Sorted by confidence (lowest first)"]}),i.jsx("div",{className:"space-y-1",children:P.map(D=>{const G=D.plan_id===l,ee=R.get(D.plan_id)||[],V=ee.length>0,xe=j===D.plan_id;return i.jsxs("div",{onClick:()=>J(D.plan_id),className:`rounded border cursor-pointer transition-colors ${G?"bg-blue-50 border-blue-300 ring-1 ring-blue-300":"bg-white border-gray-200 hover:bg-gray-50"}`,children:[i.jsxs("div",{className:"flex items-center justify-between p-2",children:[i.jsxs("div",{className:"min-w-0 flex-1 flex items-center gap-1.5",children:[V&&i.jsxs("div",{className:"relative",onMouseEnter:()=>N(D.plan_id),onMouseLeave:()=>N(null),children:[i.jsxs("div",{className:"flex items-center gap-0.5 text-green-600",children:[i.jsx(xS,{className:"w-3.5 h-3.5"}),ee.length>1&&i.jsx("span",{className:"text-[10px] font-medium",children:ee.length})]}),xe&&i.jsxs("div",{className:"absolute left-0 top-full mt-1 z-50 bg-white border shadow-lg rounded-md p-2 min-w-[200px] text-xs",onClick:ne=>ne.stopPropagation(),children:[i.jsx("div",{className:"font-medium text-gray-700 mb-1.5",children:"Matching Contract Plans"}),i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"text-gray-500 text-[10px]",children:[i.jsx("th",{className:"text-left pb-1",children:"Type"}),i.jsx("th",{className:"text-right pb-1",children:"Rate"}),i.jsx("th",{className:"text-right pb-1",children:"Fixed"})]})}),i.jsx("tbody",{children:ee.map((ne,_e)=>i.jsxs("tr",{className:"text-gray-700",children:[i.jsxs("td",{className:"py-0.5",children:[ne.payment_type||"any",ne.apm_type?`/${ne.apm_type}`:""]}),i.jsx("td",{className:"text-right py-0.5",children:ne.wl_percent!=null?`${ne.wl_percent}%`:"-"}),i.jsx("td",{className:"text-right py-0.5",children:ne.fixed_fee!=null?`${ne.fixed_fee}`:"-"})]},_e))})]})]})]}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("div",{className:"font-mono text-xs truncate",title:D.plan_id,children:D.plan_id}),i.jsxs("div",{className:"text-xs text-gray-500 mt-0.5",children:[D.total_transactions," txns  ",D.currency]})]})]}),i.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[i.jsx("span",{className:"font-medium text-sm",children:D.formula}),i.jsxs("span",{className:`px-1.5 py-0.5 rounded text-xs font-medium ${D.confidence>=95?"bg-green-100 text-green-700":D.confidence>=80?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:[D.confidence.toFixed(0),"%"]})]})]}),D.variants.length>0&&i.jsx("div",{className:"border-t bg-gray-50 px-2 py-1",children:D.variants.map(ne=>i.jsxs("div",{className:"flex justify-between py-0.5 text-[10px]",children:[i.jsxs("span",{className:"text-gray-500",children:[ne.start_date,"  ",ne.end_date," (",ne.transaction_count," txns)"]}),i.jsxs("span",{className:ne.confidence>=80?"text-green-600":"text-orange-600",children:[ne.formula,"  ",ne.confidence.toFixed(0),"%"]})]},ne.variant_id))})]},D.plan_id)})})]})}),i.jsx("div",{className:"w-72 flex-shrink-0 p-4 overflow-y-auto bg-gray-50",children:k?i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(fb,{className:"w-4 h-4 text-gray-500"}),i.jsx("span",{className:"font-medium text-sm",children:s==="manual"?"Manual Test Results":"Plan Statistics"})]}),i.jsxs("div",{className:"text-xs space-y-2",children:[i.jsxs("div",{className:"bg-white rounded border p-2",children:[i.jsx("div",{className:"text-gray-500 mb-1",children:"Plan ID"}),i.jsx("div",{className:"font-mono text-xs break-all",children:k.plan_id})]}),s==="manual"&&L?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:`rounded border p-2 ${L.match_percent>=80?"bg-green-50 border-green-200":L.match_percent>=50?"bg-yellow-50 border-yellow-200":"bg-orange-50 border-orange-200"}`,children:[i.jsx("div",{className:"text-gray-600 mb-1",children:"Test Formula"}),i.jsxs("div",{className:"font-medium text-lg",children:[_,"% + ",C," ",(k==null?void 0:k.currency)||"EUR"]}),i.jsxs("div",{className:`text-sm font-medium ${L.match_percent>=80?"text-green-600":L.match_percent>=50?"text-yellow-600":"text-orange-600"}`,children:[L.match_percent>=80?"":L.match_percent>=50?"~":""," ",L.match_percent.toFixed(1),"% match rate"]})]}),i.jsxs("div",{className:"bg-white rounded border p-2",children:[i.jsx("div",{className:"text-gray-500 mb-1",children:"Transaction Match"}),i.jsxs("div",{className:"text-lg font-medium",children:[L.match_count.toLocaleString()," / ",L.total_count.toLocaleString()]}),i.jsxs("div",{className:"text-xs text-gray-400",children:["transactions within ",L.tolerance," tolerance"]})]}),i.jsxs("div",{className:"bg-white rounded border p-2",children:[i.jsx("div",{className:"text-gray-500 mb-1",children:"Deviation Stats"}),i.jsx("table",{className:"w-full text-[10px]",children:i.jsxs("tbody",{children:[i.jsxs("tr",{children:[i.jsx("td",{className:"text-gray-500",children:"Average"}),i.jsxs("td",{className:"text-right font-medium",children:["",L.avg_deviation.toFixed(4)]})]}),i.jsxs("tr",{children:[i.jsx("td",{className:"text-gray-500",children:"Min"}),i.jsxs("td",{className:"text-right",children:["",L.min_deviation.toFixed(4)]})]}),i.jsxs("tr",{children:[i.jsx("td",{className:"text-gray-500",children:"Max"}),i.jsxs("td",{className:"text-right",children:["",L.max_deviation.toFixed(4)]})]}),i.jsxs("tr",{children:[i.jsx("td",{className:"text-gray-500",children:"Total"}),i.jsxs("td",{className:"text-right",children:["",L.total_deviation.toFixed(2)]})]})]})})]}),i.jsxs("div",{className:"bg-white rounded border p-2",children:[i.jsx("div",{className:"text-gray-500 mb-1",children:"Compare with Auto"}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{children:["Auto: ",k.formula]}),i.jsxs("span",{className:`font-medium ${k.confidence>=80?"text-green-600":"text-orange-600"}`,children:[k.confidence.toFixed(0),"%"]})]})]})]}):s==="manual"&&W?i.jsxs("div",{className:"bg-gray-100 rounded border p-4 flex flex-col items-center justify-center gap-2",children:[i.jsx(Fe,{className:"w-6 h-6 animate-spin text-blue-500"}),i.jsx("p",{className:"text-gray-500 text-sm",children:"Testing formula..."})]}):s==="manual"?i.jsx("div",{className:"bg-gray-100 rounded border border-dashed p-4 text-center text-gray-400",children:i.jsx("p",{children:"Enter rate and fixed fee, then click Test"})}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-white rounded border p-2",children:[i.jsx("div",{className:"text-gray-500 mb-1",children:"Current Formula"}),i.jsx("div",{className:"font-medium text-lg",children:k.formula}),i.jsxs("div",{className:`text-sm ${k.confidence>=80?"text-green-600":"text-orange-600"}`,children:[k.confidence.toFixed(1),"% confidence"]})]}),i.jsxs("div",{className:"bg-white rounded border p-2",children:[i.jsx("div",{className:"text-gray-500 mb-1",children:"Transactions"}),i.jsx("div",{className:"font-medium",children:k.total_transactions.toLocaleString()})]}),g?i.jsx("div",{className:"flex items-center justify-center p-4",children:i.jsx(Fe,{className:"w-5 h-5 animate-spin text-gray-400"})}):b?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-white rounded border p-2",children:[i.jsx("div",{className:"text-gray-500 mb-1",children:"Period"}),i.jsxs("div",{children:[b.first_date,"  ",b.last_date]})]}),i.jsxs("div",{className:"bg-white rounded border p-2",children:[i.jsx("div",{className:"text-gray-500 mb-1",children:"Amount (EUR)"}),i.jsxs("div",{className:"grid grid-cols-2 gap-1 text-[10px]",children:[i.jsxs("div",{children:["Min: ",b.amount.min.toFixed(2)]}),i.jsxs("div",{children:["Max: ",b.amount.max.toFixed(2)]}),i.jsxs("div",{children:["Avg: ",b.amount.avg.toFixed(2)]}),i.jsxs("div",{children:["Med: ",b.amount.median.toFixed(2)]})]})]}),i.jsxs("div",{className:"bg-white rounded border p-2",children:[i.jsx("div",{className:"text-gray-500 mb-1",children:"Commission (EUR)"}),i.jsxs("div",{className:"grid grid-cols-2 gap-1 text-[10px]",children:[i.jsxs("div",{children:["Min: ",b.commission.min.toFixed(2)]}),i.jsxs("div",{children:["Max: ",b.commission.max.toFixed(2)]}),i.jsxs("div",{children:["Avg: ",b.commission.avg.toFixed(2)]}),i.jsxs("div",{children:["Med: ",b.commission.median.toFixed(2)]})]})]}),i.jsxs("div",{className:"bg-white rounded border p-2",children:[i.jsx("div",{className:"text-gray-500 mb-1",children:"Effective Rate (%)"}),i.jsxs("div",{className:"grid grid-cols-2 gap-1 text-[10px]",children:[i.jsxs("div",{children:["Min: ",b.effective_rate.min.toFixed(2),"%"]}),i.jsxs("div",{children:["Max: ",b.effective_rate.max.toFixed(2),"%"]}),i.jsxs("div",{children:["Avg: ",b.effective_rate.avg.toFixed(2),"%"]}),i.jsxs("div",{children:["Med: ",b.effective_rate.median.toFixed(2),"%"]})]})]}),i.jsxs("div",{className:"bg-white rounded border p-2",children:[i.jsx("div",{className:"text-gray-500 mb-1",children:"Fixed Fee (EUR)"}),i.jsxs("div",{className:"grid grid-cols-2 gap-1 text-[10px]",children:[i.jsxs("div",{children:["Min: ",b.fixed_eur.min.toFixed(2)]}),i.jsxs("div",{children:["Max: ",b.fixed_eur.max.toFixed(2)]}),i.jsxs("div",{children:["Avg: ",b.fixed_eur.avg.toFixed(2)]}),i.jsxs("div",{children:["Med: ",b.fixed_eur.median.toFixed(2)]})]})]})]}):i.jsx("div",{className:"text-gray-400 text-center p-4 text-xs",children:"Loading stats..."})]})]})]}):i.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[i.jsx(fb,{className:"w-8 h-8 mb-2 opacity-30"}),i.jsx("p",{className:"text-sm",children:"Select a plan to view stats"})]})})]}),i.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-t bg-gray-50",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:K,disabled:!l||p,className:"px-3 py-2 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1.5",children:p?i.jsxs(i.Fragment,{children:[i.jsx(Fe,{className:"w-4 h-4 animate-spin"}),"Analyzing..."]}):i.jsxs(i.Fragment,{children:[i.jsx(od,{className:"w-4 h-4"}),"Run for Selected"]})}),i.jsxs("button",{onClick:()=>d(cf),className:"px-3 py-2 text-gray-600 hover:bg-gray-200 rounded text-sm flex items-center gap-1.5",children:[i.jsx(bx,{className:"w-4 h-4"}),"Reset"]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:n,className:"px-4 py-2 border rounded text-sm hover:bg-gray-100",children:"Cancel"}),i.jsxs("button",{onClick:ae,disabled:x,className:"px-4 py-2 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 disabled:opacity-50 flex items-center gap-1.5",children:[x?i.jsx(Fe,{className:"w-4 h-4 animate-spin"}):i.jsx(SS,{className:"w-4 h-4"}),"Save"]})]})]})]})})}function zre(){return i.jsx(oe,{title:"Rate Plan Dynamics",className:"mb-6",children:i.jsxs("div",{className:"space-y-4",children:[i.jsx(fe,{className:"h-8 w-full"}),i.jsx(fe,{className:"h-32 w-full"}),i.jsx(fe,{className:"h-16 w-full"})]})})}function Cp(e){return e>=95?"text-green-700":e>=80?"text-yellow-700":"text-red-700"}function Ure(e){return e>=95?"bg-green-50":e>=80?"bg-yellow-50":"bg-red-50"}function lN(e){if(!e)return"";const t=e.min_rate===e.max_rate?`${e.min_rate.toFixed(2)}%`:`${e.min_rate.toFixed(2)}% - ${e.max_rate.toFixed(2)}%`,r=e.min_fixed===e.max_fixed?`${e.min_fixed.toFixed(2)}`:`${e.min_fixed.toFixed(2)} - ${e.max_fixed.toFixed(2)}`;return`Rate: ${t}
Fixed: ${r}`}function Wre({merchantId:e}){const[t,r]=O.useState(new Set),[n,a]=O.useState(!1),[s,o]=O.useState(null),[l,c]=O.useState(cf),[u,d]=O.useState(!1),{data:f,isLoading:h}=be({queryKey:["merchant-contracts",e],queryFn:()=>ue.getContracts(e),enabled:!!e,staleTime:3e5}),{data:p,isLoading:y}=be({queryKey:["merchant-analysis-config",e],queryFn:()=>ue.getMerchantAnalysisConfig(e),enabled:!!e,staleTime:1/0});O.useEffect(()=>{p!=null&&p.has_config&&p.config&&!u?(c(p.config),d(!0)):p&&!p.has_config&&!u&&d(!0)},[p,u]),O.useEffect(()=>{const P=()=>o(null);if(s)return document.addEventListener("click",P),()=>document.removeEventListener("click",P)},[s]);const x=O.useMemo(()=>l?JSON.stringify(l)!==JSON.stringify(cf):!1,[l]),m=!y&&u,{data:g,isLoading:v}=be({queryKey:["merchant-dynamics",e],queryFn:()=>ue.getMerchantDynamics(e),enabled:!!e,staleTime:3e5}),{data:b,isLoading:w,isFetching:j}=be({queryKey:["merchant-rate-plan-analysis",e,x?l:null],queryFn:()=>ue.getMerchantRatePlanAnalysis(e,x?l:void 0),enabled:!!e&&m,staleTime:3e5});if(v||w||!m)return i.jsx(zre,{});if(!b||b.plans.length===0)return null;const{months:_,plans:S}=b,C=new Map;if(g!=null&&g.plans)for(const P of g.plans)C.set(P.plan_id,P);const A=P=>{r(R=>{const k=new Set(R);return k.has(P)?k.delete(P):k.add(P),k})},E=P=>{const[R,k]=P.split("-");return`${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][parseInt(k,10)-1]}'${R.slice(2)}`},T=(P,R)=>{const k=P.monthly_counts[R];if(k)return Object.values(k).reduce((F,K)=>F+K,0);let B=0;for(const F of P.variants){const K=F.monthly_counts;if(K&&K[R]!==void 0){const Y=K[R];typeof Y=="number"?B+=Y:typeof Y=="object"&&(B+=Object.values(Y).reduce((J,ae)=>J+ae,0))}}return B},W=(P,R,k)=>{const B=P.monthly_counts[k];if(B)return B[String(R.variant_id)]||0;const F=R.monthly_counts;if(F&&F[k]!==void 0){const K=F[k];if(typeof K=="number")return K;if(typeof K=="object")return K[String(R.variant_id)]||0}return 0},z=(P,R)=>{const k=P.start_date.slice(0,7),B=P.end_date.slice(0,7);return R>=k&&R<=B},L=P=>{if(P.variants.length===0)return{first:_[0],last:_[_.length-1]};const R=P.variants.reduce((B,F)=>F.start_date<B?F.start_date:B,P.variants[0].start_date).slice(0,7),k=P.variants.reduce((B,F)=>F.end_date>B?F.end_date:B,P.variants[0].end_date).slice(0,7);return{first:R,last:k}},M=(P,R)=>{const k=P.toLowerCase();return k.endsWith("_in")||k.includes("_in_")?"IN":k.endsWith("_out")||k.includes("_out_")?"OUT":R.includes("sale")?"IN":R.includes("payout")?"OUT":null},U=P=>({card:"Card",apple_pay:"Apple Pay",google_pay:"Google Pay",blik:"BLIK",openbanking:"Open Banking",sepa:"SEPA",crypto:"Crypto"})[P.toLowerCase()]||P;return i.jsxs(oe,{className:"mb-6 relative",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4 relative",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Rate Plan Dynamics",j&&i.jsx("span",{className:"ml-2 text-xs text-gray-400 animate-pulse",children:"Updating..."})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[x&&i.jsx("span",{className:"text-xs text-orange-600 bg-orange-50 px-2 py-0.5 rounded",children:"Custom config"}),i.jsx("button",{onClick:()=>a(!0),className:"p-1.5 rounded hover:bg-gray-100",title:"Analysis Configuration",children:i.jsx(jx,{className:"w-4 h-4 text-gray-600"})})]})]}),n&&b&&i.jsx(Bre,{merchantId:e,initialPlans:b.plans,initialMonths:b.months,onClose:()=>a(!1),onRefresh:()=>{window.location.reload()}}),j&&i.jsx("div",{className:"absolute inset-0 bg-white/70 flex items-center justify-center z-10 rounded-lg",children:i.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[i.jsx(Fe,{className:"w-5 h-5 animate-spin"}),i.jsx("span",{className:"text-sm",children:"Updating analysis..."})]})}),i.jsx("div",{className:`relative ${s?"overflow-visible":"overflow-x-auto"}`,children:i.jsxs("table",{className:"w-full text-xs border-collapse min-w-max",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-gray-200",children:[i.jsx("th",{className:"text-left py-2 px-2 font-medium text-gray-600 sticky left-0 bg-white min-w-[320px]",children:"Rate Plan ID"}),i.jsx("th",{className:"text-left py-2 px-2 font-medium text-gray-600 min-w-[90px]",children:"Commission"}),i.jsx("th",{className:"text-center py-2 px-2 font-medium text-gray-600 min-w-[50px]",children:"Conf"}),_.map(P=>i.jsx("th",{className:"text-center py-2 px-1 font-medium text-gray-600",style:{minWidth:68,maxWidth:80},children:E(P)},P))]})}),i.jsx("tbody",{children:S.map(P=>{const{first:R,last:k}=L(P),B=_.indexOf(R),F=_.indexOf(k),K=!P.is_single_variant&&P.variants.length>1,Y=t.has(P.plan_id);return i.jsxs(O.Fragment,{children:[i.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[i.jsx("td",{className:`py-1.5 px-2 font-mono text-gray-900 sticky left-0 bg-white ${s===P.plan_id?"overflow-visible":""}`,style:s===P.plan_id?{zIndex:100}:void 0,children:i.jsxs("div",{className:"flex items-center gap-1",children:[K&&i.jsx("button",{onClick:()=>A(P.plan_id),className:"p-0.5 hover:bg-gray-200 rounded",children:Y?i.jsx(Xe,{className:"w-3 h-3"}):i.jsx(an,{className:"w-3 h-3"})}),i.jsx("span",{title:P.plan_id,children:P.plan_id}),i.jsx(rt,{to:`/rateplan/${e}/${encodeURIComponent(P.plan_id)}`,target:"_blank",onClick:J=>J.stopPropagation(),className:"p-0.5 rounded hover:bg-gray-200 text-gray-400 hover:text-blue-600",title:"Open rate plan",children:i.jsx(a5,{className:"w-3.5 h-3.5"})}),(()=>{const J=C.get(P.plan_id),ae=J==null?void 0:J.coverage,we=(ae==null?void 0:ae.gate_types)||[];if(!(ae&&(ae.currencies.length>0||ae.countries.length>0||we.length>0)))return null;const D=s===P.plan_id;return i.jsxs("span",{className:"relative inline-flex items-center ml-1",children:[i.jsx("button",{"data-coverage-btn":P.plan_id,onClick:G=>{G.stopPropagation(),o(D?null:P.plan_id)},className:`p-0.5 rounded hover:bg-gray-200 ${D?"bg-blue-100":""}`,children:i.jsx(io,{className:`w-3.5 h-3.5 ${D?"text-blue-600":"text-gray-400 hover:text-gray-600"}`})}),D&&i.jsxs("div",{className:"absolute left-0 top-full mt-1 z-[9999] bg-white border shadow-xl rounded-md p-2.5 min-w-[200px] text-xs",onClick:G=>G.stopPropagation(),style:{minWidth:"220px"},children:[i.jsx("div",{className:"font-medium text-gray-700 mb-2",children:"Coverage"}),we.length>0&&i.jsxs("div",{className:"mb-2",children:[i.jsx("div",{className:"text-gray-500 text-[10px] mb-1",children:"Payment Method"}),i.jsx("div",{className:"flex flex-wrap gap-1",children:we.map(G=>i.jsx("span",{className:"px-1.5 py-0.5 bg-purple-100 text-purple-700 rounded text-[10px] font-medium",children:U(G)},G))})]}),ae&&ae.currencies.length>0&&i.jsxs("div",{className:"mb-2",children:[i.jsx("div",{className:"text-gray-500 text-[10px] mb-1",children:"Currencies"}),i.jsx("div",{className:"flex flex-wrap gap-1",children:ae.currencies.map(G=>i.jsx("span",{className:"px-1.5 py-0.5 bg-green-100 text-green-700 rounded text-[10px] font-medium",children:G},G))})]}),ae&&ae.countries.length>0&&i.jsxs("div",{children:[i.jsxs("div",{className:"text-gray-500 text-[10px] mb-1",children:["Countries (",ae.countries.length,")"]}),i.jsx("div",{className:"flex flex-wrap gap-0.5 max-w-[280px]",children:ae.countries.map(G=>i.jsx("span",{className:"px-1 py-0.5 bg-orange-100 text-orange-700 rounded text-[10px]",children:G},G))})]})]})]})})()]})}),i.jsx("td",{className:"py-1.5 px-2 text-gray-700 font-medium",children:(()=>{const J=C.get(P.plan_id),ae=M(P.plan_id,(J==null?void 0:J.tx_types)||[]),we=!!P.contract_fee;return i.jsxs("span",{className:"flex items-center gap-1",children:[ae&&i.jsx("span",{className:"text-gray-400",children:ae}),i.jsx("span",{children:P.formula}),we&&i.jsx("span",{title:"From contract",children:i.jsx(xS,{className:"w-3.5 h-3.5 text-green-500"})})]})})()}),i.jsxs("td",{className:`py-1.5 px-2 text-center font-medium ${Cp(P.confidence)}`,children:[P.confidence.toFixed(0),"%"]}),_.map((J,ae)=>{var _e;const we=T(P,J),Ne=ae>=B&&ae<=F,D=ae===B,G=ae===F;if(!Ne)return i.jsx("td",{className:"py-1.5 px-1 text-center text-gray-300",style:{minWidth:68,maxWidth:80},children:"-"},J);const ee=C.get(P.plan_id),V=(_e=ee==null?void 0:ee.monthly_commission)==null?void 0:_e[J],xe=lN(V),ne=we?ye(we):"0";return i.jsx("td",{className:`py-1.5 px-1 text-center ${we?"bg-blue-50 text-blue-800 font-medium":"bg-gray-100 text-gray-400"} ${D?"rounded-l":""} ${G?"rounded-r":""}`,style:{minWidth:68,maxWidth:80},title:xe,children:xe?i.jsx("span",{className:"cursor-help border-b border-dotted border-current",children:ne}):ne},J)})]}),K&&Y&&P.variants.map(J=>{var we;const ae=C.get(P.plan_id);return i.jsxs("tr",{className:"border-b border-gray-50 bg-gray-50/50",children:[i.jsx("td",{className:"py-1 px-2 pl-8 text-gray-600 sticky left-0 bg-gray-50/50",children:i.jsx("span",{className:J.label==="contract"||(we=J.label)!=null&&we.startsWith("contract (")&&!J.label.includes("+")&&!J.label.toLowerCase().includes("min")?"text-green-600 font-medium":"text-gray-400",children:J.label||`Variant #${J.variant_id}`})}),i.jsx("td",{className:"py-1 px-2 text-gray-600",children:J.formula}),i.jsxs("td",{className:`py-1 px-2 text-center ${Cp(J.confidence)}`,children:[J.confidence.toFixed(0),"%"]}),_.map(Ne=>{var _e;const D=z(J,Ne),G=W(P,J,Ne);if(!D)return i.jsx("td",{className:"py-1 px-1 text-center text-gray-300",style:{minWidth:68,maxWidth:80},children:"-"},Ne);const ee=Ne===J.start_date.slice(0,7),V=Ne===J.end_date.slice(0,7),xe=(_e=ae==null?void 0:ae.monthly_commission)==null?void 0:_e[Ne],ne=lN(xe);return i.jsx("td",{className:`py-1 px-1 text-center ${G?`${Ure(J.confidence)} ${Cp(J.confidence)}`:"bg-gray-100 text-gray-400"} ${ee?"rounded-l":""} ${V?"rounded-r":""}`,style:{minWidth:68,maxWidth:80},title:ne,children:ne?i.jsx("span",{className:"cursor-help border-b border-dotted border-current",children:G?ye(G):"0"}):G?ye(G):"0"},Ne)})]},`${P.plan_id}-v${J.variant_id}`)})]},P.plan_id)})})]})})]})}function Hre({markdown:e}){const t=O.useMemo(()=>{let r=e.trim();r.startsWith("```markdown")?r=r.slice(11):r.startsWith("```")&&(r=r.slice(3)),r.endsWith("```")&&(r=r.slice(0,-3)),r=r.trim();const n=r.split(`
`),a=[];let s=[],o=!1,l=0;const c=d=>{const f=[];return d.split(/(\*\*[^*]+\*\*)/g).forEach((p,y)=>{p.startsWith("**")&&p.endsWith("**")?f.push(i.jsx("strong",{className:"font-semibold",children:p.slice(2,-2)},y)):p&&f.push(p)}),f},u=()=>{var p;if(s.length===0)return;const d=s.length>1&&((p=s[1])==null?void 0:p.every(y=>/^[-:]+$/.test(y.trim()))),f=d?s[0]:null,h=d?s.slice(2):s;a.push(i.jsx("div",{className:"overflow-x-auto my-4",children:i.jsxs("table",{className:"w-full text-sm border-collapse",children:[f&&i.jsx("thead",{children:i.jsx("tr",{className:"bg-gray-100",children:f.map((y,x)=>i.jsx("th",{className:"border border-gray-300 px-3 py-2 text-left font-semibold text-gray-700",children:c(y)},x))})}),i.jsx("tbody",{children:h.map((y,x)=>i.jsx("tr",{className:x%2===0?"bg-white":"bg-gray-50",children:y.map((m,g)=>i.jsx("td",{className:"border border-gray-300 px-3 py-2 text-gray-600",children:c(m)},g))},x))})]})},l++)),s=[]};for(const d of n){const f=d.trim();if(f.startsWith("|")&&f.endsWith("|")){o=!0;const h=f.slice(1,-1).split("|").map(p=>p.trim());s.push(h);continue}if(o&&!f.startsWith("|")&&(u(),o=!1),/^-{3,}$/.test(f)){a.push(i.jsx("hr",{className:"my-6 border-gray-300"},l++));continue}if(f.startsWith("# ")){a.push(i.jsx("h1",{className:"text-2xl font-bold text-gray-900 mt-6 mb-4 first:mt-0",children:c(f.slice(2))},l++));continue}if(f.startsWith("## ")){a.push(i.jsx("h2",{className:"text-xl font-semibold text-gray-800 mt-5 mb-3",children:c(f.slice(3))},l++));continue}if(f.startsWith("### ")){a.push(i.jsx("h3",{className:"text-lg font-semibold text-gray-700 mt-4 mb-2",children:c(f.slice(4))},l++));continue}if(f.startsWith("#### ")){a.push(i.jsx("h4",{className:"text-base font-semibold text-gray-700 mt-3 mb-2",children:c(f.slice(5))},l++));continue}if(f.startsWith("- ")||f.startsWith("* ")){a.push(i.jsxs("div",{className:"flex gap-2 text-gray-600 ml-4 my-1",children:[i.jsx("span",{className:"text-gray-400",children:""}),i.jsx("span",{children:c(f.slice(2))})]},l++));continue}if(f.startsWith("*")&&!f.startsWith("**")){a.push(i.jsx("p",{className:"text-sm text-gray-500 italic my-2",children:c(f.slice(1).replace(/\*$/,""))},l++));continue}f&&a.push(i.jsx("p",{className:"text-gray-600 my-2",children:c(f)},l++))}return s.length>0&&u(),a},[e]);return i.jsx("div",{className:"contract-preview max-w-none",children:t})}function Vre(e){return{incoming:"Incoming",outgoing:"Outgoing",chargeback:"Chargeback",settlement:"Settlement"}[e]||e}function Kre(e,t){return e?e==="card"?"Card":e==="apm"&&t?{apple_pay:"Apple Pay",google_pay:"Google Pay",blik:"BLIK",sepa:"SEPA",open_banking:"Open Banking"}[t]||t:e==="crypto"?"Crypto":e:"-"}function Pp(e){return e==null?"-":`${e}%`}function yu(e){return e==null?"-":e.toFixed(2)}function qre({fees:e}){const t=e.reduce((a,s)=>{const o=s.operation_type||"other";return a[o]||(a[o]=[]),a[o].push(s),a},{}),r=["incoming","outgoing","chargeback","settlement","other"],n=Object.keys(t).sort((a,s)=>r.indexOf(a)-r.indexOf(s));return i.jsxs("div",{className:"space-y-6",children:[n.map(a=>i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:Vre(a)}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-gray-100",children:[i.jsx("th",{className:"text-left py-2 px-3 font-medium text-gray-600",children:"Payment Type"}),i.jsx("th",{className:"text-left py-2 px-3 font-medium text-gray-600",children:"Currency"}),i.jsx("th",{className:"text-left py-2 px-3 font-medium text-gray-600",children:"Region"}),i.jsx("th",{className:"text-right py-2 px-3 font-medium text-gray-600",children:a==="outgoing"?"Payout %":"WL"}),a==="incoming"&&i.jsx("th",{className:"text-right py-2 px-3 font-medium text-gray-600",children:"FTD"}),i.jsx("th",{className:"text-right py-2 px-3 font-medium text-gray-600",children:"Fixed"}),a==="outgoing"&&i.jsx("th",{className:"text-right py-2 px-3 font-medium text-gray-600",children:"Min"}),i.jsx("th",{className:"text-right py-2 px-3 font-medium text-gray-600",children:"Refund"}),i.jsx("th",{className:"text-right py-2 px-3 font-medium text-gray-600",children:"CHB"})]})}),i.jsx("tbody",{children:t[a].map((s,o)=>{var l,c;return i.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[i.jsx("td",{className:"py-2 px-3 font-medium text-gray-700",children:Kre(s.payment_type,s.apm_type)}),i.jsxs("td",{className:"py-2 px-3 text-gray-600",children:[s.currency||"-",s.volume_min!==null||s.volume_max!==null?i.jsxs("span",{className:"text-xs text-gray-400 ml-1",children:["(",((l=s.volume_min)==null?void 0:l.toLocaleString())||"0","-",((c=s.volume_max)==null?void 0:c.toLocaleString())||"*",")"]}):null]}),i.jsx("td",{className:"py-2 px-3 text-gray-600",children:s.region||"-"}),i.jsx("td",{className:"py-2 px-3 text-right text-gray-600",children:Pp(a==="outgoing"?s.payout_percent:s.wl_percent)}),a==="incoming"&&i.jsx("td",{className:"py-2 px-3 text-right text-gray-600",children:Pp(s.ftd_percent)}),i.jsx("td",{className:"py-2 px-3 text-right text-gray-600",children:yu(s.fixed_fee)}),a==="outgoing"&&i.jsx("td",{className:"py-2 px-3 text-right text-gray-600",children:yu(s.payout_min)}),i.jsx("td",{className:"py-2 px-3 text-right text-gray-600",children:yu(s.refund_fee)}),i.jsx("td",{className:"py-2 px-3 text-right text-gray-600",children:yu(s.chb_fee)})]},o)})})]})})]},a)),e.length===0&&i.jsx("div",{className:"text-center py-8 text-gray-400",children:"No fee plans extracted from contract"})]})}function cN(e){const t=[];if(e.payment_type==="card")t.push("Card");else if(e.payment_type==="apm"&&e.apm_type){const n={apple_pay:"Apple Pay",google_pay:"Google Pay",blik:"BLIK",sepa:"SEPA",open_banking:"Open Banking"};t.push(n[e.apm_type]||e.apm_type)}else e.payment_type==="crypto"?t.push("Crypto"):e.payment_type&&t.push(e.payment_type);if(e.currency&&t.push(e.currency),e.region&&t.push(e.region),e.volume_min!==null||e.volume_max!==null){const n=e.volume_min??0,a=e.volume_max;a!==null?t.push(`(${(n/1e3).toFixed(0)}K-${(a/1e3).toFixed(0)}K)`):t.push(`(${(n/1e3).toFixed(0)}K+)`)}if(e.ftd_percent!==null&&e.wl_percent===null)t.push(`FTD ${e.ftd_percent}%`);else{const n=e.wl_percent??e.payout_percent;n!==null&&t.push(`${n}%`)}return e.fixed_fee!==null&&t.push(`+${e.fixed_fee.toFixed(2)}`),t.join(" ")}function Gre({fees:e,merchantId:t,contractId:r}){const[n,a]=O.useState(null),[s,o]=O.useState(null),[l,c]=O.useState(!1),u=O.useRef(new Map),[d,f]=O.useState(null),[h,p]=O.useState(!1),y=Nc(),{data:x,isLoading:m,error:g}=be({queryKey:["contract-mapping",t,r],queryFn:()=>ue.getContractMapping(t,r,e)}),v=async()=>{p(!0);try{const N=await ue.getContractMapping(t,r,e,!0);y.setQueryData(["contract-mapping",t,r],N)}finally{p(!1)}},b=(N,_)=>{if(n===N)a(null),o(null),f(null);else{const S=u.current.get(N);if(S){const C=S.getBoundingClientRect();o({top:C.bottom+4,left:Math.min(C.right-288,window.innerWidth-300)})}a(N),f(_)}};if(m)return i.jsxs("div",{className:"flex items-center justify-center h-64 text-gray-400 gap-2",children:[i.jsx(Fe,{className:"h-5 w-5 animate-spin"}),"Calculating mappings..."]});if(g)return i.jsxs("div",{className:"flex items-center justify-center h-64 text-red-500 gap-2",children:[i.jsx(Qt,{className:"h-5 w-5"}),"Failed to load mappings"]});const w=(x==null?void 0:x.mappings)||[],j=(x==null?void 0:x.unmapped_fees)||[];return i.jsxs("div",{className:"h-full flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b bg-gray-50",children:[i.jsxs("span",{className:"text-xs text-gray-500",children:[w.length," rate plans mapped"]}),i.jsxs("button",{onClick:v,disabled:h,className:"flex items-center gap-1.5 px-2 py-1 text-xs text-gray-600 hover:text-gray-900 hover:bg-gray-200 rounded disabled:opacity-50",children:[i.jsx(_S,{className:`h-3.5 w-3.5 ${h?"animate-spin":""}`}),"Recalculate"]})]}),i.jsx("div",{className:"flex-1 overflow-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{className:"sticky top-0 bg-gray-50 border-b",children:i.jsxs("tr",{children:[i.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Rate Plan"}),i.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Contract Plan"}),i.jsx("th",{className:"text-center py-3 px-4 font-medium text-gray-600 w-32",children:"Match"})]})}),i.jsx("tbody",{children:w.map(N=>N.matched_fees.length>0?N.matched_fees.map((S,C)=>{const A=C===0,E=`${N.plan_id}-${C}`;return i.jsxs("tr",{className:`hover:bg-gray-50 ${A?"border-t border-gray-200":""} ${C===N.matched_fees.length-1?"border-b border-gray-200":""}`,children:[i.jsx("td",{className:"py-2.5 px-4",children:A?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"font-mono text-xs text-gray-800",children:N.plan_id}),i.jsxs("div",{className:"text-xs text-gray-400 mt-0.5",children:[N.txn_count.toLocaleString()," txns",i.jsxs("span",{className:"ml-2",children:[N.avg_rate.toFixed(2),"% + ",N.avg_fixed.toFixed(2)]})]})]}):i.jsx("span",{className:"text-gray-300 text-xs pl-2",children:""})}),i.jsx("td",{className:"py-2.5 px-4",children:i.jsx("span",{className:"text-gray-700",children:cN(S.fee)})}),i.jsx("td",{className:"py-2.5 px-4 text-center",children:i.jsxs("div",{className:"relative inline-flex items-center gap-1",children:[i.jsx("span",{className:`font-medium ${S.txn_match_percent!==null&&S.txn_match_percent>=90?"text-green-600":S.txn_match_percent!==null&&S.txn_match_percent>=70?"text-yellow-600":"text-red-600"}`,children:S.txn_match_percent!==null?`${S.txn_match_percent}%`:"-"}),i.jsx("span",{className:"text-gray-400 mx-0.5",children:"/"}),i.jsxs("span",{className:"text-green-600 font-medium",children:[S.condition_match_percent,"%"]}),i.jsx("button",{ref:T=>{T&&u.current.set(E,T)},onClick:()=>b(E,S),className:"p-0.5 hover:bg-gray-200 rounded text-gray-400 hover:text-gray-600",children:i.jsx(io,{className:"h-3.5 w-3.5"})})]})})]},E)}):i.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[i.jsxs("td",{className:"py-2.5 px-4",children:[i.jsx("div",{className:"font-mono text-xs text-gray-800",children:N.plan_id}),i.jsxs("div",{className:"text-xs text-gray-400 mt-0.5",children:[N.txn_count.toLocaleString()," txns",i.jsxs("span",{className:"ml-2",children:[N.avg_rate.toFixed(2),"% + ",N.avg_fixed.toFixed(2)]})]})]}),i.jsx("td",{className:"py-2.5 px-4",children:i.jsxs("span",{className:"text-amber-600 flex items-center gap-1",children:[i.jsx(Qt,{className:"h-3.5 w-3.5"}),"No match"]})}),i.jsx("td",{className:"py-2.5 px-4 text-center",children:i.jsx("span",{className:"text-gray-300",children:"-"})})]},N.plan_id))})]})}),j.length>0&&i.jsxs("div",{className:"border-t bg-gray-50 px-4 py-2",children:[i.jsxs("button",{onClick:()=>c(!l),className:"flex items-center gap-2 text-sm text-gray-500 hover:text-gray-700",children:[l?i.jsx(br,{className:"h-4 w-4"}):i.jsx(Xe,{className:"h-4 w-4"}),j.length," contract fees without rate plans"]}),l&&i.jsx("div",{className:"mt-2 space-y-1",children:j.map((N,_)=>i.jsxs("div",{className:"text-xs text-gray-500 pl-6",children:[" ",cN(N)]},_))})]}),n&&d&&s&&z_.createPortal(i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed inset-0 z-[60]",onClick:()=>{a(null),o(null),f(null)}}),i.jsxs("div",{className:"fixed z-[61] w-72 bg-white border rounded-lg shadow-lg p-3",style:{top:s.top,left:s.left},children:[i.jsxs("div",{className:"text-xs font-medium text-gray-700 mb-1",children:["Transaction Rate Match (",d.txn_match_percent??"-","%)"]}),i.jsx("div",{className:"text-xs text-gray-600 font-mono bg-gray-50 p-2 rounded mb-2 whitespace-pre-line",children:d.txn_reasoning}),i.jsxs("div",{className:"text-xs font-medium text-gray-700 mb-1",children:["Condition Match (",d.condition_match_percent,"%)"]}),i.jsx("div",{className:"text-xs text-gray-600 font-mono bg-gray-50 p-2 rounded",children:d.condition_reasoning})]})]}),document.body)]})}function Xre({merchantId:e,existingContract:t,onClose:r}){var N;const[n,a]=O.useState("preview"),[s,o]=O.useState(!1),[l,c]=O.useState(null),u=O.useRef(null),{data:d,isLoading:f}=be({queryKey:["contract",e,t==null?void 0:t.contract_id],queryFn:()=>ue.getContract(e,t.contract_id),enabled:!!t}),h=v$({mutationFn:_=>ue.uploadContract(e,_),onSuccess:_=>{c(_)}});O.useEffect(()=>{const _=S=>{S.key==="Escape"&&r()};return window.addEventListener("keydown",_),()=>window.removeEventListener("keydown",_)},[r]);const p=O.useCallback(_=>{_.preventDefault(),o(!0)},[]),y=O.useCallback(_=>{_.preventDefault(),o(!1)},[]),x=O.useCallback(_=>{_.preventDefault(),o(!1);const S=_.dataTransfer.files[0];S&&(S.name.endsWith(".pdf")||S.name.endsWith(".docx"))&&h.mutate(S)},[h]),m=_=>{var C;const S=(C=_.target.files)==null?void 0:C[0];S&&h.mutate(S)},g=()=>{var _;(_=u.current)==null||_.click()},v=h.isPending,b=!!(l||d),w=l||d||null,j=[{id:"preview",label:"Preview"},{id:"plans",label:"Plans"},{id:"mapping",label:"Mapping"}];return i.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[i.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:r}),i.jsxs("div",{className:"relative bg-white rounded-xl shadow-2xl w-[900px] max-h-[85vh] flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:t?`Contract: ${t.contract_id}`:"Upload Contract"}),i.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:i.jsx(Yt,{className:"h-5 w-5 text-gray-500"})})]}),i.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[!b&&!v&&i.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[i.jsxs("div",{onDragOver:p,onDragLeave:y,onDrop:x,onClick:g,className:`
                  flex-1 border-2 border-dashed rounded-lg cursor-pointer
                  flex flex-col items-center justify-center gap-4
                  transition-colors
                  ${s?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400 hover:bg-gray-50"}
                `,children:[i.jsx(N5,{className:`h-12 w-12 ${s?"text-blue-500":"text-gray-400"}`}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-gray-700 font-medium",children:"Drag and drop a contract file"}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"or click to browse"}),i.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Supports PDF and DOCX"})]}),i.jsx("input",{ref:u,type:"file",accept:".pdf,.docx",onChange:m,className:"hidden"})]}),h.isError&&i.jsxs("div",{className:"mt-4 p-3 bg-red-50 rounded-lg flex items-start gap-2",children:[i.jsx(sd,{className:"h-5 w-5 text-red-500 flex-shrink-0 mt-0.5"}),i.jsx("div",{className:"text-sm text-red-700",children:((N=h.error)==null?void 0:N.message)||"Upload failed"})]})]}),(v||f)&&i.jsxs("div",{className:"p-6 flex-1 flex flex-col items-center justify-center gap-4",children:[i.jsx(Fe,{className:"h-10 w-10 text-blue-500 animate-spin"}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-gray-700 font-medium",children:v?"Converting contract...":"Loading contract..."}),v&&i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"This may take a minute"})]})]}),b&&w&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"px-6 border-b border-gray-200",children:i.jsx("div",{className:"flex gap-1",children:j.map(_=>i.jsx("button",{onClick:()=>a(_.id),className:`
                        px-4 py-3 text-sm font-medium border-b-2 -mb-px transition-colors
                        ${n===_.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}
                      `,children:_.label},_.id))})}),i.jsxs("div",{className:`flex-1 overflow-auto ${n==="mapping"?"":"p-6"}`,children:[n==="preview"&&i.jsx(Hre,{markdown:w.markdown}),n==="plans"&&i.jsx(qre,{fees:w.plan.fees}),n==="mapping"&&w.plan&&i.jsx(Gre,{fees:w.plan.fees,merchantId:e,contractId:w.plan.contract_id})]})]})]}),b&&i.jsx("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end",children:i.jsx(Ps,{onClick:r,children:"Close"})})]})]})}function Qre({merchantId:e,readonly:t=!1}){const[r,n]=O.useState(!1),[a,s]=O.useState(null),o=Nc(),{data:l=[],isLoading:c}=be({queryKey:["contracts",e],queryFn:()=>ue.getContracts(e),enabled:!!e}),u=()=>{s(null),n(!0)},d=p=>{s(p),n(!0)},f=async(p,y)=>{if(y.stopPropagation(),!!confirm("Delete this contract?"))try{await ue.deleteContract(e,p),o.invalidateQueries({queryKey:["contracts",e]})}catch(x){console.error("Failed to delete contract:",x)}},h=()=>{n(!1),s(null),o.invalidateQueries({queryKey:["contracts",e]})};return i.jsxs(i.Fragment,{children:[i.jsx(oe,{title:"Contracts",className:"mb-6",actions:i.jsxs(Ps,{onClick:u,variant:"primary",size:"sm",disabled:t,title:t?"Connect to backend to add contracts":void 0,children:[i.jsx(yi,{className:"h-4 w-4 mr-1"}),"Add"]}),children:c?i.jsx("div",{className:"text-gray-500 text-sm",children:"Loading contracts..."}):l.length===0?i.jsx("div",{className:"text-gray-400 text-sm py-8 text-center",children:'No contracts uploaded yet. Click "Add" to upload a contract.'}):i.jsx("div",{className:"space-y-2",children:l.map(p=>i.jsxs("div",{onClick:()=>d(p),className:"flex items-center justify-between p-3 bg-gray-50 hover:bg-gray-100 rounded-lg cursor-pointer transition-colors group",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(ao,{className:"h-5 w-5 text-gray-400"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-gray-900",children:p.contract_id}),i.jsxs("div",{className:"text-sm text-gray-500",children:[p.company_name,"  ",p.fee_count," fees"]})]})]}),i.jsx("button",{onClick:y=>f(p.contract_id,y),className:"p-2 text-gray-400 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",title:"Delete contract",children:i.jsx(wx,{className:"h-4 w-4"})})]},p.contract_id))})}),r&&i.jsx(Xre,{merchantId:e,existingContract:a,onClose:h})]})}function Yre({contractDetail:e,highlightFee:t,onClose:r}){const n=O.useRef(null),a=t;O.useEffect(()=>{const l=c=>{c.key==="Escape"&&r()};return window.addEventListener("keydown",l),()=>window.removeEventListener("keydown",l)},[r]),O.useEffect(()=>{n.current&&setTimeout(()=>{var l;(l=n.current)==null||l.scrollIntoView({behavior:"smooth",block:"center"})},100)},[]);const s=O.useMemo(()=>{if(!(a!=null&&a.source))return null;const l=a.source.toLowerCase();return l.includes("incoming")&&l.includes("card")?"incoming cards":l.includes("incoming")&&l.includes("apm")?"incoming apm":l.includes("incoming")&&l.includes("crypto")?"incoming crypto":l.includes("outgoing")&&l.includes("card")?"outgoing cards":l.includes("outgoing")&&l.includes("apm")?"outgoing apm":l.includes("settlement")?"settlement":null},[a]),o=O.useMemo(()=>{let l=e.markdown.trim();l.startsWith("```markdown")?l=l.slice(11):l.startsWith("```")&&(l=l.slice(3)),l.endsWith("```")&&(l=l.slice(0,-3)),l=l.trim();const c=l.split(`
`),u=[];let d=[],f=!1,h=0,p="";const y=b=>{const w=[];return b.split(/(\*\*[^*]+\*\*)/g).forEach((N,_)=>{N.startsWith("**")&&N.endsWith("**")?w.push(i.jsx("strong",{className:"font-semibold",children:N.slice(2,-2)},_)):N&&w.push(N)}),w},x=()=>s?p.toLowerCase().includes(s):!0,m=b=>{if(!a||!x())return!1;const w=b.map(_=>_.toLowerCase().trim()),j=w.join(" ");if(a.operation_type){const _=a.operation_type.toLowerCase();if(_==="incoming"&&!p.toLowerCase().includes("incoming")||_==="outgoing"&&!p.toLowerCase().includes("outgoing"))return!1}if(a.region){const _=a.region.toLowerCase();if(_==="eea"){if(!j.includes("eea"))return!1}else if((_==="row"||_==="worldwide")&&!j.includes("row")&&!j.includes("worldwide")&&!j.includes("rest of world"))return!1}const N=a.wl_percent??a.payout_percent??a.ftd_percent;if(N!=null){const _=String(N);if(!w.some(C=>C===_||C===`${_}%`||C.includes(_)))return!1}if(a.fixed_fee!==null&&a.fixed_fee!==void 0){const _=String(a.fixed_fee);if(!w.some(C=>C.includes(_)))return!1}return!((a.volume_min!==null||a.volume_max!==null)&&!w.some(S=>{if(a.volume_min===0&&a.volume_max){const C=g(a.volume_max);return S.includes("0")&&(S.includes(C)||S.includes("-"))}if(a.volume_min&&a.volume_max===null){const C=g(a.volume_min);return S.includes(C)||S.includes("+")}if(a.volume_min&&a.volume_max){const C=g(a.volume_min),A=g(a.volume_max);return S.includes(C)||S.includes(A)}return!1}))};function g(b){return b>=1e6?String(b/1e6):String(b)}const v=()=>{var _;if(d.length===0)return;const b=d.length>1&&((_=d[1])==null?void 0:_.cells.every(S=>/^[-:]+$/.test(S.trim()))),w=b?d[0]:null,j=b?d.slice(2):d,N=j.findIndex(S=>S.isHighlighted);u.push(i.jsx("div",{className:"overflow-x-auto my-4",children:i.jsxs("table",{className:"w-full text-sm border-collapse",children:[w&&i.jsx("thead",{children:i.jsx("tr",{className:"bg-gray-100",children:w.cells.map((S,C)=>i.jsx("th",{className:"border border-gray-300 px-3 py-2 text-left font-semibold text-gray-700",children:y(S)},C))})}),i.jsx("tbody",{children:j.map((S,C)=>{const A=S.isHighlighted;return i.jsx("tr",{ref:A&&N===C?n:void 0,className:A?"bg-yellow-100 ring-2 ring-yellow-400 ring-inset":C%2===0?"bg-white":"bg-gray-50",children:S.cells.map((E,T)=>i.jsx("td",{className:`border border-gray-300 px-3 py-2 ${A?"text-gray-900 font-medium":"text-gray-600"}`,children:y(E)},T))},C)})})]})},h++)),d=[]};for(const b of c){const w=b.trim();if((w.startsWith("## ")||w.startsWith("### "))&&(p=w.replace(/^#+\s*/,"")),w.startsWith("|")&&w.endsWith("|")){f=!0;const j=w.slice(1,-1).split("|").map(_=>_.trim()),N=m(j);d.push({cells:j,isHighlighted:N});continue}if(f&&!w.startsWith("|")&&(v(),f=!1),/^-{3,}$/.test(w)){u.push(i.jsx("hr",{className:"my-6 border-gray-300"},h++));continue}if(w.startsWith("# ")){u.push(i.jsx("h1",{className:"text-2xl font-bold text-gray-900 mt-6 mb-4 first:mt-0",children:y(w.slice(2))},h++));continue}if(w.startsWith("## ")){u.push(i.jsx("h2",{className:"text-xl font-semibold text-gray-800 mt-5 mb-3",children:y(w.slice(3))},h++));continue}if(w.startsWith("### ")){u.push(i.jsx("h3",{className:"text-lg font-semibold text-gray-700 mt-4 mb-2",children:y(w.slice(4))},h++));continue}if(w.startsWith("#### ")){u.push(i.jsx("h4",{className:"text-base font-semibold text-gray-700 mt-3 mb-2",children:y(w.slice(5))},h++));continue}if(w.startsWith("- ")||w.startsWith("* ")){u.push(i.jsxs("div",{className:"flex gap-2 text-gray-600 ml-4 my-1",children:[i.jsx("span",{className:"text-gray-400",children:""}),i.jsx("span",{children:y(w.slice(2))})]},h++));continue}if(w.startsWith("*")&&!w.startsWith("**")){u.push(i.jsx("p",{className:"text-sm text-gray-500 italic my-2",children:y(w.slice(1).replace(/\*$/,""))},h++));continue}w&&u.push(i.jsx("p",{className:"text-gray-600 my-2",children:y(w)},h++))}return d.length>0&&v(),u},[e.markdown,a,s]);return i.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[i.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:r}),i.jsxs("div",{className:"relative bg-white rounded-xl shadow-2xl w-[900px] max-h-[85vh] flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[i.jsxs("div",{children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Contract: ",e.contract_id]}),(a==null?void 0:a.source)&&i.jsxs("p",{className:"text-sm text-gray-500 mt-0.5",children:["Highlighting: ",a.source]})]}),i.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:i.jsx(Yt,{className:"h-5 w-5 text-gray-500"})})]}),i.jsx("div",{className:"flex-1 overflow-auto p-6",children:i.jsx("div",{className:"contract-preview max-w-none",children:o})}),i.jsx("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end",children:i.jsx(Ps,{onClick:r,children:"Close"})})]})]})}function Zre(){return i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[i.jsx(fe,{className:"h-10 w-10 rounded-lg"}),i.jsxs("div",{className:"flex-1",children:[i.jsx(fe,{className:"h-7 w-64 mb-2"}),i.jsx(fe,{className:"h-4 w-32"})]})]}),i.jsx(oe,{title:"General Info",className:"mb-6",children:i.jsx("div",{className:"grid grid-cols-3 gap-4",children:[1,2,3].map(e=>i.jsxs("div",{children:[i.jsx(fe,{className:"h-4 w-20 mb-2"}),i.jsx(fe,{className:"h-6 w-32"})]},e))})}),i.jsx(oe,{title:"Stats",className:"mb-6",children:i.jsx(MS,{children:[1,2,3,4].map(e=>i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[i.jsx(fe,{className:"h-8 w-24 mb-2"}),i.jsx(fe,{className:"h-4 w-20"})]},e))})})]})}function Jre(){var m;const{id:e}=yx(),t=parseInt(e||"0",10),r=Nc(),n=$f(),[a,s]=O.useState(!1),[o,l]=O.useState(!1),[c,u]=O.useState(null),d=async()=>{s(!0);try{await ue.refreshMerchant(t),await r.invalidateQueries({queryKey:["merchant",t]}),await r.invalidateQueries({queryKey:["merchant-monthly",t]}),await r.invalidateQueries({queryKey:["merchant-dynamics",t]})}finally{s(!1)}},f=async()=>{if(confirm("This will delete existing rate plans, recreate them from transaction data, and apply contract rates. Continue?")){l(!0),u(null);try{const g=await ue.recreateRatePlans(t);let v=0;try{v=(await ue.applyContractRates(t)).relationships_updated}catch{}u({plans:g.plans_created,transactions:g.transactions_linked,ratesApplied:v}),await r.invalidateQueries({queryKey:["merchant",t]}),await r.invalidateQueries({queryKey:["merchant-dynamics",t]})}catch(g){alert(`Failed to recreate rate plans: ${g.message}`)}finally{l(!1)}}},{data:h,isLoading:p}=be({queryKey:["merchant",t],queryFn:()=>ue.getMerchant(t),enabled:!!t}),{data:y,isLoading:x}=be({queryKey:["merchant-monthly",t],queryFn:()=>ue.getMerchantMonthly(t),enabled:!!t});return p?i.jsx(Zre,{}):h?i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[i.jsx(rt,{to:"/merchants",className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:i.jsx(Ln,{className:"h-5 w-5 text-gray-600"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"flex items-center gap-3",children:i.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:h.merchant_name})}),h.merchant_group&&i.jsx("span",{className:"text-sm text-gray-500",children:h.merchant_group})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("button",{onClick:f,disabled:o||n,className:"flex items-center gap-2 px-3 py-1.5 text-sm font-medium text-blue-600 hover:bg-blue-50 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:n?"Connect to backend to recreate plans":"Recreate RatePlan nodes from transactions",children:[i.jsx(vS,{className:`h-4 w-4 ${o?"animate-pulse":""}`}),o?"Recreating...":"Recreate Plans"]}),i.jsx("button",{onClick:d,disabled:a||n,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:n?"Connect to backend to refresh":"Refresh cache",children:i.jsx(_S,{className:`h-5 w-5 text-gray-600 ${a?"animate-spin":""}`})})]})]}),c&&i.jsxs("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-lg flex items-center justify-between",children:[i.jsxs("div",{className:"text-sm text-green-800",children:["Created ",c.plans," rate plans, linked ",c.transactions.toLocaleString()," transactions",c.ratesApplied?`, applied contract rates to ${c.ratesApplied.toLocaleString()} transactions`:""]}),i.jsx("button",{onClick:()=>u(null),className:"text-green-600 hover:text-green-800",children:"Dismiss"})]}),i.jsx(oe,{title:"General Info",className:"mb-6",children:i.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-gray-500",children:"Manager (KAM)"}),i.jsx("div",{className:"font-medium text-gray-900",children:h.kam||"-"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-gray-500",children:"First Transaction"}),i.jsx("div",{className:"font-medium text-gray-900",children:Cf(h.first_transaction_date)})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-gray-500",children:"Contract ID"}),i.jsx("div",{className:"font-medium text-gray-900",children:h.contract_id||"-"})]})]})}),i.jsxs(oe,{title:"Stats",className:"mb-6",children:[i.jsxs(MS,{className:"mb-6",children:[i.jsx(ru,{label:"Transactions",value:ye(h.transaction_count)}),i.jsx(ru,{label:"Total Volume",value:X(h.total_amount_eur)}),i.jsx(ru,{label:"Accept Rate",value:i.jsx("span",{className:"text-green-600",children:ft(h.acceptance_rate)}),subValue:`${ye(h.approved_count)} approved / ${ye(h.declined_count)} declined`}),i.jsx(ru,{label:"Total Commission",value:X(h.total_commission_eur)})]}),i.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[i.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"By Transaction Type"}),i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[i.jsx("div",{className:"text-lg font-semibold text-blue-900",children:ye(h.sale_count)}),i.jsx("div",{className:"text-sm text-blue-600",children:"Sales"}),i.jsx("div",{className:"text-xs text-blue-500 mt-1",children:X(h.sale_amount)})]}),i.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[i.jsx("div",{className:"text-lg font-semibold text-purple-900",children:ye(h.payout_count)}),i.jsx("div",{className:"text-sm text-purple-600",children:"Payouts"}),i.jsx("div",{className:"text-xs text-purple-500 mt-1",children:X(h.payout_amount)})]}),i.jsxs("div",{className:"bg-amber-50 rounded-lg p-4",children:[i.jsx("div",{className:"text-lg font-semibold text-amber-900",children:ye(h.reversal_count)}),i.jsx("div",{className:"text-sm text-amber-600",children:"Reversals"}),i.jsx("div",{className:"text-xs text-amber-500 mt-1",children:X(h.reversal_amount)})]})]})]})]}),h.currency_breakdown&&h.currency_breakdown.length>0&&i.jsx(oe,{title:"Currency Breakdown (Approved Sales)",className:"mb-6",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-gray-200",children:[i.jsx("th",{className:"text-left py-2 px-3 font-medium text-gray-600",children:"Currency"}),i.jsx("th",{className:"text-right py-2 px-3 font-medium text-gray-600",children:"Count"}),i.jsx("th",{className:"text-right py-2 px-3 font-medium text-gray-600",children:"Amount (EUR)"})]})}),i.jsx("tbody",{children:h.currency_breakdown.map(g=>i.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[i.jsx("td",{className:"py-2 px-3 font-medium",children:g.currency}),i.jsx("td",{className:"py-2 px-3 text-right",children:ye(g.cnt)}),i.jsx("td",{className:"py-2 px-3 text-right",children:X(g.amount)})]},g.currency))})]})})}),i.jsx(oe,{title:"Processing Partners",className:"mb-6",children:i.jsx("div",{className:"flex flex-wrap gap-2",children:((m=h.partners)==null?void 0:m.length)>0?h.partners.map(g=>i.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-gray-100 text-gray-700 rounded",children:g},g)):i.jsx("span",{className:"text-gray-400 text-sm",children:"No partners"})})}),i.jsx(Wre,{merchantId:t}),i.jsx(Qre,{merchantId:t,readonly:n}),i.jsx(Ere,{data:y||[],isLoading:x})]}):i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"text-red-500",children:"Merchant not found"})})}function ene(){return i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[i.jsx(fe,{className:"h-10 w-10 rounded-lg"}),i.jsxs("div",{className:"flex-1",children:[i.jsx(fe,{className:"h-7 w-64 mb-2"}),i.jsx(fe,{className:"h-4 w-48"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[i.jsx(fe,{className:"h-48"}),i.jsx(fe,{className:"h-48"})]})]})}function tne(e){return e?{incoming:"Incoming",outgoing:"Outgoing",chargeback:"Chargeback",refund:"Refund",settlement:"Settlement"}[e.toLowerCase()]||e:"-"}function rne(e,t){return e?{card:"Card",apm:t?lA(t):"APM",crypto:"Crypto"}[e.toLowerCase()]||e:"-"}function lA(e){return{apple_pay:"Apple Pay",google_pay:"Google Pay",blik:"BLIK",sepa:"SEPA",openbanking:"Open Banking",open_banking:"Open Banking"}[e.toLowerCase()]||e}function nne(e){return e?{EEA:"EEA",WW:"Worldwide",RoW:"Worldwide",UK:"United Kingdom",DOM:"Domestic",Domestic:"Domestic"}[e]||e:"-"}function uN(e){return e==null?"":e===0?"0":e>=1e6?`${(e/1e6).toFixed(1)}M`:e>=1e3?`${(e/1e3).toFixed(0)}K`:`${e.toFixed(0)}`}function ane(e,t){const r=e.toUpperCase().split("_"),n={};r.includes("IN")||r.includes("INCOMING")?n.operation_type="incoming":(r.includes("OUT")||r.includes("OUTGOING")||r.includes("PAYOUT"))&&(n.operation_type="outgoing");const a=["EUR","USD","GBP","PLN","CZK","CHF","SEK","NOK","DKK"];for(const s of a)if(r.includes(s)){n.currency=s;break}return!n.currency&&t&&(n.currency=t),r.includes("EEA")?n.region="EEA":r.includes("WW")||r.includes("ROW")?n.region="WW":r.includes("UK")?n.region="UK":r.includes("DOM")&&(n.region="DOM"),r.includes("CARD")||r.includes("WL")?n.payment_type="card":r.includes("APPLEPAY")||r.includes("APPLE")?(n.payment_type="apm",n.apm_type="apple_pay"):r.includes("GOOGLEPAY")||r.includes("GOOGLE")?(n.payment_type="apm",n.apm_type="google_pay"):r.includes("SEPA")?(n.payment_type="apm",n.apm_type="sepa"):r.includes("BLIK")?(n.payment_type="apm",n.apm_type="blik"):r.includes("APM")&&(n.payment_type="apm"),n}function ine(){var N,_,S;const{merchantId:e,planKey:t}=yx(),r=parseInt(e||"0",10),n=decodeURIComponent(t||""),[a,s]=O.useState(!1),{data:o,isLoading:l}=be({queryKey:["merchant",r],queryFn:()=>ue.getMerchant(r),enabled:!!r}),{data:c,isLoading:u}=be({queryKey:["merchant-rate-plan-analysis",r],queryFn:()=>ue.getMerchantRatePlanAnalysis(r),enabled:!!r}),d=(c==null?void 0:c.plans.find(C=>C.plan_id===n))||null,{data:f}=be({queryKey:["contracts",r],queryFn:()=>ue.getContracts(r),enabled:!!r}),h=(N=f==null?void 0:f[0])==null?void 0:N.contract_id,{data:p}=be({queryKey:["contract",r,h],queryFn:()=>ue.getContract(r,h),enabled:!!r&&!!h}),{data:y}=be({queryKey:["contract-mapping",r,h],queryFn:()=>ue.getContractMapping(r,h,p.plan.fees),enabled:!!r&&!!h&&!!((_=p==null?void 0:p.plan)!=null&&_.fees)}),x=O.useMemo(()=>y!=null&&y.mappings&&y.mappings.find(C=>C.plan_id===n)||null,[y,n]),m=O.useMemo(()=>x!=null&&x.matched_fees?[...x.matched_fees].sort((C,A)=>{const E=A.condition_match_percent-C.condition_match_percent;return E!==0?E:(A.txn_match_percent||0)-(C.txn_match_percent||0)}):[],[x]),g=((S=m[0])==null?void 0:S.fee)||null;if(l||u)return i.jsx(ene,{});const b=m.length>0,w=g?{operation_type:g.operation_type,currency:g.currency,region:g.region,payment_type:g.payment_type,apm_type:g.apm_type,card_brand:g.card_brand}:ane(n,d==null?void 0:d.currency),j=m.length>1||g&&(g.volume_min!==null||g.volume_max!==null);return i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[i.jsx(rt,{to:`/merchant/${r}`,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:i.jsx(Ln,{className:"h-5 w-5 text-gray-600"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h1",{className:"text-2xl font-semibold text-gray-900 font-mono",children:n}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[i.jsx("span",{children:(o==null?void 0:o.merchant_name)||`Merchant #${r}`}),(o==null?void 0:o.contract_id)&&i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"text-gray-300",children:"|"}),i.jsx("span",{children:o.contract_id})]})]})]})]}),i.jsxs(oe,{title:"General",className:"mb-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Plan Key"}),i.jsx("div",{className:"font-mono text-gray-900 break-all",children:n})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Source"}),b?i.jsxs("button",{onClick:()=>s(!0),className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-green-50 text-green-700 rounded-lg hover:bg-green-100 transition-colors",children:[i.jsx(ao,{className:"h-4 w-4"}),i.jsx("span",{className:"font-medium",children:"Contract"}),i.jsx(Os,{className:"h-3.5 w-3.5"})]}):i.jsxs("div",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-purple-50 text-purple-700 rounded-lg",children:[i.jsx(j5,{className:"h-4 w-4"}),i.jsx("span",{className:"font-medium",children:"Virtual"})]})]}),d&&i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Formula"}),i.jsx("div",{className:"text-lg font-medium text-gray-900",children:d.formula})]})]}),i.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-100",children:[i.jsx("div",{className:"text-sm font-medium text-gray-700 mb-3",children:"Matching Conditions"}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Type"}),i.jsx("div",{className:"px-2 py-1 bg-blue-50 text-blue-700 rounded text-sm font-medium",children:tne(w.operation_type)})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Currency"}),i.jsx("div",{className:"px-2 py-1 bg-green-50 text-green-700 rounded text-sm font-medium",children:w.currency||"-"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Region"}),i.jsx("div",{className:"px-2 py-1 bg-orange-50 text-orange-700 rounded text-sm font-medium",children:nne(w.region)})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Payment"}),i.jsx("div",{className:"px-2 py-1 bg-purple-50 text-purple-700 rounded text-sm font-medium",children:rne(w.payment_type,w.apm_type)})]}),w.apm_type&&i.jsxs("div",{children:[i.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"APM Type"}),i.jsx("div",{className:"px-2 py-1 bg-indigo-50 text-indigo-700 rounded text-sm font-medium",children:lA(w.apm_type)})]}),w.card_brand&&i.jsxs("div",{children:[i.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Card Brand"}),i.jsx("div",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded text-sm font-medium",children:w.card_brand})]})]})]}),d&&i.jsx("div",{className:"mt-6 pt-6 border-t border-gray-100",children:i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Confidence"}),i.jsxs("div",{className:`text-lg font-medium ${d.confidence>=95?"text-green-600":d.confidence>=80?"text-yellow-600":"text-red-600"}`,children:[d.confidence.toFixed(0),"%"]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Transactions"}),i.jsx("div",{className:"text-lg font-medium text-gray-900",children:d.total_transactions.toLocaleString()})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Variants"}),i.jsx("div",{className:"text-lg font-medium text-gray-900",children:d.variants.length})]}),x&&i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Avg Rate"}),i.jsxs("div",{className:"text-lg font-medium text-gray-900",children:[x.avg_rate.toFixed(2),"%",i.jsxs("span",{className:"text-sm text-gray-500 ml-1",children:["+ ",x.avg_fixed.toFixed(2)]})]})]})]})}),j&&m.length>0&&i.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-100",children:[i.jsx("div",{className:"text-sm font-medium text-gray-700 mb-3",children:"Volume Tiers"}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-gray-50",children:[i.jsx("th",{className:"text-left px-3 py-2 font-medium text-gray-600",children:"Volume Range"}),i.jsx("th",{className:"text-left px-3 py-2 font-medium text-gray-600",children:"Rate"}),i.jsx("th",{className:"text-left px-3 py-2 font-medium text-gray-600",children:"Fixed"}),i.jsx("th",{className:"text-left px-3 py-2 font-medium text-gray-600",children:"Condition Match"}),i.jsx("th",{className:"text-left px-3 py-2 font-medium text-gray-600",children:"Txn Match"})]})}),i.jsx("tbody",{children:m.map((C,A)=>{const E=C.fee,T=E.wl_percent??E.payout_percent??E.ftd_percent,W=E.volume_min!==null||E.volume_max!==null?`${uN(E.volume_min??0)} - ${uN(E.volume_max)}`:"All";return i.jsxs("tr",{className:`border-b border-gray-100 ${A===0?"bg-yellow-50":""}`,children:[i.jsx("td",{className:"px-3 py-2 font-medium",children:W}),i.jsx("td",{className:"px-3 py-2",children:T!==null?`${T}%`:"-"}),i.jsx("td",{className:"px-3 py-2",children:E.fixed_fee!==null?`${E.fixed_fee}`:"-"}),i.jsx("td",{className:"px-3 py-2",children:i.jsxs("span",{className:C.condition_match_percent>=100?"text-green-600":"text-yellow-600",children:[C.condition_match_percent,"%"]})}),i.jsx("td",{className:"px-3 py-2",children:i.jsx("span",{className:C.txn_match_percent!==null?C.txn_match_percent>=95?"text-green-600":C.txn_match_percent>=80?"text-yellow-600":"text-red-600":"text-gray-400",children:C.txn_match_percent!==null?`${C.txn_match_percent}%`:"-"})})]},A)})})]})})]})]}),d&&c&&i.jsx(Mre,{merchantId:r,planId:n,plan:d,months:c.months}),a&&p&&g&&i.jsx(Yre,{contractDetail:p,highlightFee:g,onClose:()=>s(!1)})]})}const sne={0:{label:"STRICT",color:"text-red-700",bg:"bg-red-100"},1:{label:"HIGH",color:"text-orange-700",bg:"bg-orange-100"},2:{label:"MEDIUM",color:"text-yellow-700",bg:"bg-yellow-100"},3:{label:"LOW",color:"text-gray-600",bg:"bg-gray-100"}},one={any:"Wildcard",reject:"Required",exact:"Exact Match"},lne={SHOW:"show",ADD:"+",SUB:"-",MUL:"x",MUL_PCT:"x%",DIV:"/",DIV_PCT:"/%",MAX:"max",MIN:"min"},dN=[{value:"SHOW",label:"SHOW",description:"Display value only",needsB:!1},{value:"ADD",label:"ADD (+)",description:"a + b",needsB:!0},{value:"SUB",label:"SUB (-)",description:"a - b",needsB:!0},{value:"MUL",label:"MUL (x)",description:"a x b",needsB:!0},{value:"MUL_PCT",label:"MUL_PCT (x%)",description:"a x (b/100)",needsB:!0},{value:"DIV",label:"DIV (/)",description:"a / b",needsB:!0},{value:"DIV_PCT",label:"DIV_PCT (/%)",description:"(a/b) x 100",needsB:!0},{value:"MAX",label:"MAX",description:"max(a, b)",needsB:!0},{value:"MIN",label:"MIN",description:"min(a, b)",needsB:!0}],cne=[{value:"CURRENCY",label:"Currency (1,234.56)"},{value:"CURRENCY_PLAIN",label:"Currency Plain (1,234.56)"},{value:"PERCENT",label:"Percent (6.00%)"},{value:"PERCENT_PRECISE",label:"Percent Precise (6.0000%)"},{value:"NUMBER",label:"Number (1,234.56)"},{value:"INTEGER",label:"Integer (1,234)"}];function Go({priority:e}){const t=sne[e];return i.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${t.bg} ${t.color}`,children:t.label})}function une({formula:e,calc:t}){if(e)return i.jsx("code",{className:"text-xs bg-blue-50 text-blue-700 px-2 py-1 rounded font-mono",children:e});const r=[];for(const a of t.steps)if(a.op!=="SHOW")switch(a.op){case"MUL_PCT":r.push(`(${a.a} x ${a.b}%)`);break;case"ADD":r.length>0?r.push(`+ ${a.b}`):r.push(`${a.a} + ${a.b}`);break;case"SUB":r.length>0?r.push(`- ${a.b}`):r.push(`${a.a} - ${a.b}`);break;case"MAX":r.push(`max(..., ${a.b})`);break;case"MIN":r.push(`min(..., ${a.b})`);break;case"DIV_PCT":r.push(`(${a.a} / ${a.b}) x 100`);break;case"DIV":r.push(`${a.a} / ${a.b}`);break;case"MUL":r.push(`${a.a} x ${a.b}`);break}const n=r.join(" ");return i.jsx("code",{className:"text-xs bg-blue-50 text-blue-700 px-2 py-1 rounded font-mono",children:n||t.description||t.name})}function dne({calc:e,expanded:t,onToggleExpand:r,onEdit:n}){return i.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-t-lg",children:[i.jsx("button",{onClick:r,className:"p-0.5 hover:bg-gray-200 rounded",children:t?i.jsx(Xe,{className:"w-4 h-4 text-gray-500"}):i.jsx(an,{className:"w-4 h-4 text-gray-500"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i.jsx("span",{className:"font-medium text-gray-900",children:e.name}),i.jsx(une,{formula:e.formula,calc:e})]}),e.description&&i.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:e.description})]}),i.jsx("button",{onClick:n,className:"p-1.5 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded",title:"Edit calculation",children:i.jsx(wS,{className:"w-4 h-4"})})]}),t&&i.jsxs("div",{className:"p-3 border-t border-gray-100",children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("div",{className:"text-xs font-medium text-gray-500 mb-1.5",children:"Variables"}),i.jsx("div",{className:"flex flex-wrap gap-1.5",children:e.vars.map(a=>i.jsxs("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-700 rounded text-xs font-mono",title:a.label||a.format,children:[a.name,i.jsxs("span",{className:"text-gray-400 ml-1",children:["(",a.format.toLowerCase(),")"]})]},a.name))})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-xs font-medium text-gray-500 mb-1.5",children:"Steps"}),i.jsx("div",{className:"space-y-1",children:e.steps.map((a,s)=>i.jsxs("div",{className:"flex items-center gap-2 text-xs py-1.5 px-2 bg-gray-50 rounded",children:[i.jsxs("span",{className:"w-5 text-gray-400 text-right",children:[s+1,"."]}),i.jsx("span",{className:`px-1.5 py-0.5 rounded font-medium ${a.op==="SHOW"?"bg-gray-200 text-gray-600":"bg-purple-100 text-purple-700"}`,children:lne[a.op]}),i.jsx("span",{className:"font-mono text-gray-700",children:a.a}),a.b&&i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"text-gray-400",children:","}),i.jsx("span",{className:"font-mono text-gray-700",children:a.b})]}),a.result&&a.result!=="_prev"&&i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"text-gray-400",children:""}),i.jsx("span",{className:"font-mono text-green-700",children:a.result})]}),a.label&&i.jsxs("span",{className:"text-gray-500 ml-auto italic",children:['"',a.label,'"']})]},s))})]}),i.jsxs("div",{className:"mt-3 pt-2 border-t border-gray-100 text-xs",children:[i.jsx("span",{className:"text-gray-500",children:"Returns: "}),i.jsx("span",{className:"font-mono font-medium text-green-700",children:e.result})]})]})]})}function fne({condition:e,onEdit:t}){return i.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("span",{className:"font-medium text-gray-900",children:e.label}),i.jsx("code",{className:"text-xs bg-gray-100 px-1.5 py-0.5 rounded font-mono text-gray-600",children:e.field})]}),i.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[i.jsx(Go,{priority:e.priority}),i.jsxs("span",{className:"text-gray-500",children:["Empty: ",i.jsx("span",{className:"font-medium",children:one[e.emptyMeans]})]}),i.jsx("span",{className:"px-1.5 py-0.5 bg-purple-50 text-purple-700 rounded font-medium",children:e.op})]}),e.description&&i.jsx("div",{className:"text-xs text-gray-500 mt-1.5",children:e.description})]}),i.jsx("button",{onClick:t,className:"p-1.5 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded",title:"Edit condition",children:i.jsx(wS,{className:"w-4 h-4"})})]})})}function hne({step:e,index:t,variables:r,onChange:n,onRemove:a}){const s=dN.find(l=>l.value===e.op),o=(s==null?void 0:s.needsB)??!0;return i.jsxs("div",{className:"flex items-start gap-2 p-2 bg-gray-50 rounded-lg group",children:[i.jsxs("div",{className:"flex items-center gap-1 pt-1.5",children:[i.jsx(jS,{className:"w-3 h-3 text-gray-300"}),i.jsxs("span",{className:"w-5 text-xs text-gray-400 text-right",children:[t+1,"."]})]}),i.jsx("div",{className:"w-28",children:i.jsx("select",{value:e.op,onChange:l=>n({...e,op:l.target.value}),className:"w-full px-2 py-1.5 text-xs border border-gray-300 rounded bg-white focus:outline-none focus:ring-1 focus:ring-blue-500",children:dN.map(l=>i.jsx("option",{value:l.value,children:l.label},l.value))})}),i.jsx("div",{className:"w-24",children:i.jsxs("select",{value:e.a,onChange:l=>n({...e,a:l.target.value}),className:"w-full px-2 py-1.5 text-xs border border-gray-300 rounded bg-white font-mono focus:outline-none focus:ring-1 focus:ring-blue-500",children:[i.jsx("option",{value:"",children:"-- a --"}),r.map(l=>i.jsx("option",{value:l,children:l},l))]})}),o?i.jsx("div",{className:"w-24",children:i.jsxs("select",{value:e.b||"",onChange:l=>n({...e,b:l.target.value||void 0}),className:"w-full px-2 py-1.5 text-xs border border-gray-300 rounded bg-white font-mono focus:outline-none focus:ring-1 focus:ring-blue-500",children:[i.jsx("option",{value:"",children:"-- b --"}),r.map(l=>i.jsx("option",{value:l,children:l},l))]})}):i.jsx("div",{className:"w-24"}),i.jsx("span",{className:"text-gray-400 pt-1.5",children:""}),i.jsx("div",{className:"w-24",children:i.jsxs("select",{value:e.result||"",onChange:l=>n({...e,result:l.target.value||void 0}),className:"w-full px-2 py-1.5 text-xs border border-gray-300 rounded bg-white font-mono focus:outline-none focus:ring-1 focus:ring-blue-500",children:[i.jsx("option",{value:"",children:"-- result --"}),r.map(l=>i.jsx("option",{value:l,children:l},l))]})}),i.jsx("div",{className:"flex-1",children:i.jsx("input",{type:"text",value:e.label||"",onChange:l=>n({...e,label:l.target.value||void 0}),placeholder:"Display label...",className:"w-full px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})}),i.jsx("button",{onClick:a,className:"p-1 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded opacity-0 group-hover:opacity-100 transition-opacity",title:"Remove step",children:i.jsx(wx,{className:"w-4 h-4"})})]})}function pne({variable:e,onChange:t,onRemove:r}){return i.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded-lg group",children:[i.jsx(jS,{className:"w-3 h-3 text-gray-300"}),i.jsx("input",{type:"text",value:e.name,onChange:n=>t({...e,name:n.target.value}),placeholder:"name",className:"w-28 px-2 py-1.5 text-xs border border-gray-300 rounded font-mono focus:outline-none focus:ring-1 focus:ring-blue-500"}),i.jsx("select",{value:e.format,onChange:n=>t({...e,format:n.target.value}),className:"w-44 px-2 py-1.5 text-xs border border-gray-300 rounded bg-white focus:outline-none focus:ring-1 focus:ring-blue-500",children:cne.map(n=>i.jsx("option",{value:n.value,children:n.label},n.value))}),i.jsx("input",{type:"text",value:e.label||"",onChange:n=>t({...e,label:n.target.value||void 0}),placeholder:"Display label...",className:"flex-1 px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"}),i.jsx("button",{onClick:r,className:"p-1 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded opacity-0 group-hover:opacity-100 transition-opacity",title:"Remove variable",children:i.jsx(wx,{className:"w-4 h-4"})})]})}function mne({calc:e,onSave:t,onClose:r,readonly:n=!1}){const[a,s]=O.useState(()=>({...e,vars:e.vars.map(y=>({...y})),steps:e.steps.map(y=>({...y}))})),o=a.vars.map(y=>y.name),l=()=>{t(a),r()},c=(y,x)=>{const m=[...a.vars];m[y]=x,s({...a,vars:m})},u=()=>{s({...a,vars:[...a.vars,{name:"",format:"CURRENCY"}]})},d=y=>{const x=a.vars.filter((m,g)=>g!==y);s({...a,vars:x})},f=(y,x)=>{const m=[...a.steps];m[y]=x,s({...a,steps:m})},h=()=>{s({...a,steps:[...a.steps,{op:"SHOW",a:""}]})},p=y=>{const x=a.steps.filter((m,g)=>g!==y);s({...a,steps:x})};return i.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[i.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:r}),i.jsxs("div",{className:"relative bg-white rounded-xl shadow-2xl w-[900px] max-h-[90vh] flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Edit Calculation"}),i.jsx("p",{className:"text-sm text-gray-500",children:e.name})]}),i.jsx("button",{onClick:r,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg",children:i.jsx(Yt,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"flex-1 p-6 overflow-y-auto space-y-5",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),i.jsx("input",{type:"text",value:a.name,onChange:y=>s({...a,name:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Result Variable"}),i.jsxs("select",{value:a.result,onChange:y=>s({...a,result:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono bg-white",children:[i.jsx("option",{value:"",children:"-- select --"}),o.map(y=>i.jsx("option",{value:y,children:y},y))]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),i.jsx("input",{type:"text",value:a.description||"",onChange:y=>s({...a,description:y.target.value}),placeholder:"Brief description of what this calculation does...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Formula",i.jsx("span",{className:"text-gray-400 font-normal ml-1",children:"(for display)"})]}),i.jsx("input",{type:"text",value:a.formula||"",onChange:y=>s({...a,formula:y.target.value}),placeholder:"e.g., (amount x rate%) + fixed",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono"})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Variables"}),i.jsxs("button",{onClick:u,className:"flex items-center gap-1 px-2 py-1 text-xs text-blue-600 hover:bg-blue-50 rounded",children:[i.jsx(yi,{className:"w-3 h-3"}),"Add Variable"]})]}),i.jsxs("div",{className:"space-y-1.5",children:[a.vars.map((y,x)=>i.jsx(pne,{variable:y,onChange:m=>c(x,m),onRemove:()=>d(x)},x)),a.vars.length===0&&i.jsx("div",{className:"text-center py-4 text-sm text-gray-400",children:"No variables defined. Add variables to use in steps."})]})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Calculation Steps",i.jsx("span",{className:"text-gray-400 font-normal ml-1",children:"(executed in order)"})]}),i.jsxs("button",{onClick:h,className:"flex items-center gap-1 px-2 py-1 text-xs text-blue-600 hover:bg-blue-50 rounded",children:[i.jsx(yi,{className:"w-3 h-3"}),"Add Step"]})]}),i.jsxs("div",{className:"space-y-1.5",children:[a.steps.map((y,x)=>i.jsx(hne,{step:y,index:x,variables:o,onChange:m=>f(x,m),onRemove:()=>p(x)},x)),a.steps.length===0&&i.jsx("div",{className:"text-center py-4 text-sm text-gray-400",children:"No steps defined. Add steps to define the calculation logic."})]}),i.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Tip: Use SHOW to display intermediate values with labels. Labels support ","{variable}"," interpolation."]})]})]}),i.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-gray-200 bg-gray-50 rounded-b-xl",children:[n&&i.jsx("span",{className:"text-xs text-gray-400 mr-auto",children:"Connect to backend to save changes"}),i.jsx("button",{onClick:r,className:"px-4 py-2 text-sm text-gray-600 hover:bg-gray-200 rounded-lg",children:n?"Close":"Cancel"}),!n&&i.jsxs("button",{onClick:l,className:"flex items-center gap-2 px-4 py-2 text-sm bg-blue-600 text-white hover:bg-blue-700 rounded-lg",children:[i.jsx(Al,{className:"w-4 h-4"}),"Save"]})]})]})]})}function gne({condition:e,onSave:t,onClose:r,readonly:n=!1}){const[a,s]=O.useState({...e}),o=()=>{t(a),r()};return i.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[i.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:r}),i.jsxs("div",{className:"relative bg-white rounded-xl shadow-2xl w-[500px] flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Edit Condition"}),i.jsx("p",{className:"text-sm text-gray-500",children:e.label})]}),i.jsx("button",{onClick:r,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg",children:i.jsx(Yt,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Field Name"}),i.jsx("input",{type:"text",value:a.field,onChange:l=>s({...a,field:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Label"}),i.jsx("input",{type:"text",value:a.label,onChange:l=>s({...a,label:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),i.jsxs("select",{value:a.priority,onChange:l=>s({...a,priority:parseInt(l.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",children:[i.jsx("option",{value:0,children:"STRICT - Must match exactly"}),i.jsx("option",{value:1,children:"HIGH - Strong preference"}),i.jsx("option",{value:2,children:"MEDIUM - Moderate preference"}),i.jsx("option",{value:3,children:"LOW - Minor preference"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Empty Value Behavior"}),i.jsxs("select",{value:a.emptyMeans,onChange:l=>s({...a,emptyMeans:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",children:[i.jsx("option",{value:"any",children:"Wildcard - Empty matches anything"}),i.jsx("option",{value:"reject",children:"Required - Must have a value"}),i.jsx("option",{value:"exact",children:"Exact - Empty must match empty"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Operation"}),i.jsxs("select",{value:a.op,onChange:l=>s({...a,op:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",children:[i.jsx("option",{value:"EQ",children:"EQ - Exact match"}),i.jsx("option",{value:"IN",children:"IN - In list"}),i.jsx("option",{value:"ANY",children:"ANY - Wildcard"}),i.jsx("option",{value:"BETWEEN",children:"BETWEEN - Range match"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),i.jsx("input",{type:"text",value:a.description||"",onChange:l=>s({...a,description:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),i.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-gray-200 bg-gray-50 rounded-b-xl",children:[n&&i.jsx("span",{className:"text-xs text-gray-400 mr-auto",children:"Connect to backend to save changes"}),i.jsx("button",{onClick:r,className:"px-4 py-2 text-sm text-gray-600 hover:bg-gray-200 rounded-lg",children:n?"Close":"Cancel"}),!n&&i.jsxs("button",{onClick:o,className:"flex items-center gap-2 px-4 py-2 text-sm bg-blue-600 text-white hover:bg-blue-700 rounded-lg",children:[i.jsx(Al,{className:"w-4 h-4"}),"Save"]})]})]})]})}function yne({currentVersion:e,onSave:t,onClose:r}){const n=e.split("."),a=`${n[0]}.${parseInt(n[1]||"0")+1}.0`,[s,o]=O.useState(a),[l,c]=O.useState(""),u=()=>{s&&l&&(t(s,l),r())};return i.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[i.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:r}),i.jsxs("div",{className:"relative bg-white rounded-xl shadow-2xl w-[400px] flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Create New Version"}),i.jsxs("p",{className:"text-sm text-gray-500",children:["Copy from ",e]})]}),i.jsx("button",{onClick:r,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg",children:i.jsx(Yt,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Version Number"}),i.jsx("input",{type:"text",value:s,onChange:d=>o(d.target.value),placeholder:"e.g., 1.1.0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Version Name"}),i.jsx("input",{type:"text",value:l,onChange:d=>c(d.target.value),placeholder:"e.g., Updated rate formulas",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 rounded-lg text-xs text-blue-700",children:[i.jsx(l5,{className:"w-4 h-4 flex-shrink-0"}),i.jsx("span",{children:"New version will be a copy of the current configuration"})]})]}),i.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-gray-200 bg-gray-50 rounded-b-xl",children:[i.jsx("button",{onClick:r,className:"px-4 py-2 text-sm text-gray-600 hover:bg-gray-200 rounded-lg",children:"Cancel"}),i.jsxs("button",{onClick:u,disabled:!s||!l,className:"flex items-center gap-2 px-4 py-2 text-sm bg-blue-600 text-white hover:bg-blue-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsx(yi,{className:"w-4 h-4"}),"Create Version"]})]})]})]})}function xne({config:e,onChange:t,readonly:r=!1}){const[n,a]=O.useState("calculations"),[s,o]=O.useState(new Set),[l,c]=O.useState(!1),[u,d]=O.useState(null),[f,h]=O.useState(null),[p,y]=O.useState(!1),[x,m]=O.useState(e||null),g=e||x;if(!g)return i.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-8 text-center text-gray-500",children:"Loading DSL configuration..."});const v=g.versions[g.current],b=Object.keys(g.versions).sort(),w=A=>{t?t(A):m(A)},j=A=>{w({...g,current:A}),c(!1)},N=(A,E)=>{const T={...JSON.parse(JSON.stringify(v)),name:E,created:new Date().toISOString().split("T")[0]};w({...g,current:A,versions:{...g.versions,[A]:T}})},_=A=>{o(E=>{const T=new Set(E);return T.has(A)?T.delete(A):T.add(A),T})},S=A=>{const E=v.calculations.map(T=>T.name===(u==null?void 0:u.name)?A:T);w({...g,versions:{...g.versions,[g.current]:{...v,calculations:E}}})},C=A=>{const E=v.matching.map(T=>T.field===(f==null?void 0:f.field)?A:T);w({...g,versions:{...g.versions,[g.current]:{...v,matching:E}}})};return i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[i.jsxs("div",{className:"border-b border-gray-200 px-4 py-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{className:"relative",children:[i.jsxs("button",{onClick:()=>c(!l),className:"flex items-center gap-2 px-3 py-1.5 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium transition-colors",children:[i.jsxs("span",{children:["v",g.current]}),(v==null?void 0:v.name)&&i.jsxs("span",{className:"text-gray-500 font-normal",children:["- ",v.name]}),i.jsx(Xe,{className:`w-4 h-4 text-gray-400 transition-transform ${l?"rotate-180":""}`})]}),l&&i.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-10 py-1 min-w-[200px]",children:b.map(A=>{var E;return i.jsxs("button",{onClick:()=>j(A),className:`w-full text-left px-3 py-2 text-sm hover:bg-gray-50 ${A===g.current?"bg-blue-50 text-blue-700":""}`,children:[i.jsxs("div",{className:"font-medium",children:["v",A]}),((E=g.versions[A])==null?void 0:E.name)&&i.jsx("div",{className:"text-xs text-gray-500",children:g.versions[A].name})]},A)})})]}),!r&&i.jsxs("button",{onClick:()=>y(!0),className:"flex items-center gap-1.5 px-3 py-1.5 text-sm text-blue-600 hover:bg-blue-50 rounded-lg",children:[i.jsx(yi,{className:"w-4 h-4"}),"New Version"]})]}),i.jsxs("div",{className:"flex gap-1",children:[i.jsxs("button",{onClick:()=>a("calculations"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${n==="calculations"?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-100"}`,children:[i.jsx(Pf,{className:"w-4 h-4"}),"Calculations",i.jsx("span",{className:"px-1.5 py-0.5 bg-gray-200 text-gray-600 rounded text-xs",children:(v==null?void 0:v.calculations.length)||0})]}),i.jsxs("button",{onClick:()=>a("matching"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${n==="matching"?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-100"}`,children:[i.jsx(vx,{className:"w-4 h-4"}),"Matching",i.jsx("span",{className:"px-1.5 py-0.5 bg-gray-200 text-gray-600 rounded text-xs",children:(v==null?void 0:v.matching.length)||0})]})]})]}),i.jsxs("div",{className:"p-4",children:[n==="calculations"&&v&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"text-sm text-gray-600 mb-3",children:"Commission calculation formulas for each transaction type"}),v.calculations.map(A=>i.jsx(dne,{calc:A,expanded:s.has(A.name),onToggleExpand:()=>_(A.name),onEdit:()=>d(A)},A.name))]}),n==="matching"&&v&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"text-sm text-gray-600 mb-3",children:"Rules for matching transactions to rate plans"}),i.jsxs("div",{className:"flex items-center gap-4 mb-3 p-2 bg-gray-50 rounded text-xs",children:[i.jsx("span",{className:"text-gray-500",children:"Priority:"}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Go,{priority:0}),i.jsx("span",{className:"text-gray-500",children:"= must match"})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Go,{priority:1}),i.jsx(Go,{priority:2}),i.jsx(Go,{priority:3}),i.jsx("span",{className:"text-gray-500",children:"= confidence score"})]})]}),v.matching.map(A=>i.jsx(fne,{condition:A,onEdit:()=>h(A)},A.field))]})]}),u&&i.jsx(mne,{calc:u,onSave:S,onClose:()=>d(null),readonly:r}),f&&i.jsx(gne,{condition:f,onSave:C,onClose:()=>h(null),readonly:r}),p&&i.jsx(yne,{currentVersion:g.current,onSave:N,onClose:()=>y(!1)})]})}const fN={receipt:i.jsx(NS,{className:"w-4 h-4"}),"file-text":i.jsx(ao,{className:"w-4 h-4"}),calculator:i.jsx(Pf,{className:"w-4 h-4"}),store:i.jsx(OS,{className:"w-4 h-4"}),database:i.jsx(vS,{className:"w-4 h-4"})},py={CURRENCY:{bg:"bg-green-100",text:"text-green-700"},PERCENT:{bg:"bg-blue-100",text:"text-blue-700"},STRING:{bg:"bg-gray-100",text:"text-gray-700"},INTEGER:{bg:"bg-purple-100",text:"text-purple-700"},NUMBER:{bg:"bg-orange-100",text:"text-orange-700"},ENUM:{bg:"bg-yellow-100",text:"text-yellow-700"}};function vne({text:e}){const[t,r]=O.useState(!1);return i.jsxs("div",{className:"relative inline-block",children:[i.jsx("button",{onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),onClick:()=>r(!t),className:"p-0.5 text-gray-400 hover:text-blue-500 transition-colors",children:i.jsx(io,{className:"w-3.5 h-3.5"})}),t&&i.jsxs("div",{className:"absolute z-20 left-full ml-2 top-1/2 -translate-y-1/2 w-64 p-2 bg-gray-900 text-white text-xs rounded-lg shadow-lg",children:[i.jsx("div",{className:"absolute left-0 top-1/2 -translate-x-1 -translate-y-1/2 w-2 h-2 bg-gray-900 rotate-45"}),e]})]})}function bne({field:e,sources:t,onChange:r,readonly:n=!1}){const a=py[e.type]||py.STRING,s=t.find(l=>l.id===e.source),o=(s==null?void 0:s.fields)||[];return i.jsxs("div",{className:"flex items-center gap-3 py-2 px-3 bg-gray-50 rounded-lg group hover:bg-gray-100 transition-colors",children:[i.jsxs("div",{className:"w-36 flex items-center gap-1.5",children:[i.jsx("code",{className:"text-sm font-mono font-medium text-gray-800",children:e.name}),i.jsx(vne,{text:e.description})]}),i.jsx("span",{className:`px-1.5 py-0.5 rounded text-xs font-medium ${a.bg} ${a.text}`,children:e.type}),i.jsx("span",{className:"text-gray-300",children:""}),i.jsx("select",{value:e.source,onChange:l=>r({...e,source:l.target.value,sourceField:""}),disabled:n,className:`w-40 px-2 py-1.5 text-xs border border-gray-300 rounded bg-white focus:outline-none focus:ring-1 focus:ring-blue-500 ${n?"opacity-60 cursor-not-allowed":""}`,children:t.map(l=>i.jsx("option",{value:l.id,children:l.name},l.id))}),i.jsx("span",{className:"text-gray-400",children:"."}),i.jsxs("select",{value:e.sourceField,onChange:l=>r({...e,sourceField:l.target.value}),disabled:n,className:`flex-1 px-2 py-1.5 text-xs border border-gray-300 rounded bg-white font-mono focus:outline-none focus:ring-1 focus:ring-blue-500 ${n?"opacity-60 cursor-not-allowed":""}`,children:[i.jsx("option",{value:"",children:"-- select field --"}),o.map(l=>i.jsx("option",{value:l,children:l},l))]})]})}function jne({node:e,sources:t,defaultOpen:r=!1,onChange:n,readonly:a=!1}){const[s,o]=O.useState(r),l=fN[e.icon]||fN.database,c=(u,d)=>{const f=[...e.fields];f[u]=d,n({...e,fields:f})};return i.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[i.jsxs("button",{onClick:()=>o(!s),className:"w-full flex items-center gap-3 px-4 py-3 bg-white hover:bg-gray-50 transition-colors text-left",children:[s?i.jsx(Xe,{className:"w-4 h-4 text-gray-400"}):i.jsx(an,{className:"w-4 h-4 text-gray-400"}),i.jsx("span",{className:"text-gray-500",children:l}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium text-gray-900",children:e.name}),i.jsx("div",{className:"text-xs text-gray-500",children:e.description})]}),i.jsxs("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 rounded text-xs",children:[e.fields.length," fields"]})]}),s&&i.jsx("div",{className:"border-t border-gray-100 p-3 space-y-1.5 bg-white",children:e.fields.map((u,d)=>i.jsx(bne,{field:u,sources:t,onChange:f=>c(d,f),readonly:a},u.id))})]})}function wne({config:e,onChange:t,readonly:r=!1}){if(!e)return i.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading ontology configuration..."});const n=(a,s)=>{if(r||!t)return;const o=[...e.nodes];o[a]=s,t({...e,nodes:o})};return i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-gray-600",children:"Map DSL variables to source data fields"}),i.jsxs("span",{className:"text-xs text-gray-400 font-mono",children:["v",e.version]})]}),i.jsxs("div",{className:"flex items-center gap-4 p-2 bg-gray-50 rounded-lg text-xs",children:[i.jsx("span",{className:"text-gray-500",children:"Types:"}),Object.entries(py).map(([a,s])=>i.jsx("span",{className:`px-1.5 py-0.5 rounded font-medium ${s.bg} ${s.text}`,children:a},a))]}),i.jsx("div",{className:"space-y-2",children:e.nodes.map((a,s)=>i.jsx(jne,{node:a,sources:e.sources,defaultOpen:s===0,onChange:o=>n(s,o),readonly:r},a.id))}),i.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[i.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Available Sources:"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:e.sources.map(a=>i.jsxs("div",{className:"group relative",children:[i.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs font-medium cursor-help",children:a.name}),i.jsxs("div",{className:"absolute z-10 hidden group-hover:block bottom-full left-0 mb-1 w-48 p-2 bg-gray-900 text-white text-xs rounded-lg shadow-lg",children:[a.description,i.jsxs("div",{className:"mt-1 text-gray-400",children:[a.fields.length," fields available"]})]})]},a.id))})]})]})}function Ap({title:e,description:t,icon:r,defaultOpen:n=!0,badge:a,disabled:s=!1,disabledMessage:o,children:l}){const[c,u]=O.useState(n&&!s);return i.jsxs(oe,{className:`mb-6 ${s?"opacity-60":""}`,children:[i.jsxs("button",{onClick:()=>!s&&u(!c),disabled:s,className:`w-full flex items-center justify-between text-left ${s?"cursor-not-allowed":""}`,children:[i.jsxs("div",{className:"flex items-center gap-3",children:[r&&i.jsx("div",{className:s?"text-gray-400":"text-gray-500",children:r}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h2",{className:`text-lg font-semibold ${s?"text-gray-500":"text-gray-900"}`,children:e}),a,s&&i.jsxs("span",{className:"flex items-center gap-1 px-2 py-0.5 bg-gray-100 text-gray-500 text-xs rounded-full",children:[i.jsx(m5,{className:"w-3 h-3"}),o||"Offline"]})]}),t&&i.jsx("p",{className:`text-sm mt-0.5 ${s?"text-gray-400":"text-gray-500"}`,children:t})]})]}),i.jsx(Xe,{className:`w-5 h-5 transition-transform ${s?"text-gray-300":"text-gray-400"} ${c&&!s?"":"-rotate-90"}`})]}),c&&!s&&i.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:l})]})}const Nne=[{id:"claude-opus-4-5-20251101",name:"Claude Opus 4.5",description:"Most capable, best for complex tasks"},{id:"claude-sonnet-4-5-20250929",name:"Claude Sonnet 4.5",description:"Balanced performance and cost"},{id:"claude-haiku-4-5-20251015",name:"Claude Haiku 4.5",description:"Fast and cost-effective"},{id:"claude-opus-4-1-20250805",name:"Claude Opus 4.1",description:"Optimized for agentic tasks"},{id:"claude-sonnet-4-20250522",name:"Claude Sonnet 4",description:"Previous generation balanced"},{id:"claude-opus-4-20250522",name:"Claude Opus 4",description:"Previous generation capable"}];function _ne(){const e=$f(),[t,r]=O.useState(!1),[n,a]=O.useState(void 0),[s,o]=O.useState(!0),[l,c]=O.useState(void 0),[u,d]=O.useState(!0),[f,h]=O.useState(!1),[p,y]=O.useState(!1),[x,m]=O.useState(""),[g,v]=O.useState(!1),[b,w]=O.useState(""),[j,N]=O.useState({apiKey:"",model:"claude-sonnet-4-5-20250929",systemPrompt:""});O.useEffect(()=>{async function P(){try{const R=await fetch("/api/dsl-config");if(R.ok){const k=await R.json();a(k)}}catch(R){console.error("Failed to load DSL config:",R)}finally{o(!1)}}P()},[]),O.useEffect(()=>{async function P(){try{const R=await fetch("/api/ontology-mapping");if(R.ok){const k=await R.json();c(k)}}catch(R){console.error("Failed to load ontology config:",R)}finally{d(!1)}}P()},[]);const _=()=>{e||(m(j.apiKey),v(!1),h(!0))},S=()=>{L("apiKey",x),h(!1)},C=()=>{h(!1),m("")},A=()=>{e||(w(j.systemPrompt),y(!0))},E=()=>{L("systemPrompt",b),y(!1)},T=()=>{y(!1),w("")},W=P=>{e||(a(P),r(!0))},z=P=>{e||(c(P),r(!0))},L=(P,R)=>{e||(N(k=>({...k,[P]:R})),r(!0))},M=()=>{e||(console.log("Saving config:",n),console.log("Saving Anthropic config:",j),r(!1))},U=()=>{a(void 0),N({apiKey:"",model:"claude-sonnet-4-5-20250929",systemPrompt:""}),r(!1)};return i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-gray-100 rounded-lg",children:i.jsx(jx,{className:"h-6 w-6 text-gray-600"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Settings"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Configure calculation and matching rules"})]})]}),i.jsx("div",{className:"flex items-center gap-2",children:t&&!e&&i.jsxs(i.Fragment,{children:[i.jsxs("button",{onClick:U,className:"flex items-center gap-2 px-3 py-1.5 text-sm text-gray-600 hover:bg-gray-100 rounded-md",children:[i.jsx(bx,{className:"w-4 h-4"}),"Reset"]}),i.jsxs("button",{onClick:M,className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-blue-600 text-white hover:bg-blue-700 rounded-md",children:[i.jsx(SS,{className:"w-4 h-4"}),"Save Changes"]})]})})]}),i.jsx(Ap,{title:"Anthropic API",description:"Configure Claude API for AI-powered analysis",icon:i.jsx(i5,{className:"w-5 h-5 text-orange-600"}),defaultOpen:!1,disabled:e,disabledMessage:"Connect to enable",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"API Key"}),i.jsxs("button",{onClick:_,className:"w-full flex items-center justify-between px-3 py-2 border border-gray-300 rounded-lg text-sm hover:bg-gray-50 transition-colors text-left",children:[i.jsx("div",{className:"flex items-center gap-2",children:j.apiKey?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),i.jsx("span",{className:"text-gray-700",children:"API key configured"}),i.jsxs("span",{className:"text-gray-400 font-mono text-xs",children:["",j.apiKey.slice(-4)]})]}):i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"w-2 h-2 bg-gray-300 rounded-full"}),i.jsx("span",{className:"text-gray-400",children:"Not configured"})]})}),i.jsx("span",{className:"text-xs text-blue-600",children:"Configure"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Model"}),i.jsx("select",{value:j.model,onChange:P=>L("model",P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",children:Nne.map(P=>i.jsxs("option",{value:P.id,children:[P.name,"  ",P.description]},P.id))})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["System Prompt",i.jsx("span",{className:"text-gray-400 font-normal ml-1",children:"(optional)"})]}),i.jsxs("button",{onClick:A,className:"w-full flex items-center justify-between px-3 py-2 border border-gray-300 rounded-lg text-sm hover:bg-gray-50 transition-colors text-left",children:[i.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[i.jsx(ao,{className:"w-4 h-4"}),j.systemPrompt?i.jsxs("span",{className:"truncate max-w-md",children:[j.systemPrompt.slice(0,60),j.systemPrompt.length>60&&"..."]}):i.jsx("span",{className:"text-gray-400",children:"Click to edit system prompt..."})]}),j.systemPrompt&&i.jsxs("span",{className:"text-xs text-gray-400",children:[j.systemPrompt.length," chars"]})]}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Additional context or instructions for AI analysis. Leave empty for default behavior."})]})]})}),f&&i.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[i.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:C}),i.jsxs("div",{className:"relative bg-white rounded-xl shadow-2xl w-[500px] flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"API Key"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Configure your Anthropic API key"})]}),i.jsx("button",{onClick:C,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg",children:i.jsx(Yt,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:g?"text":"password",value:x,onChange:P=>m(P.target.value),placeholder:"sk-ant-api03-...",className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono"}),i.jsx("button",{type:"button",onClick:()=>v(!g),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-gray-400 hover:text-gray-600",children:g?i.jsx(c5,{className:"w-4 h-4"}):i.jsx(u5,{className:"w-4 h-4"})})]}),i.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Get your API key from"," ",i.jsx("a",{href:"https://console.anthropic.com/settings/keys",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"console.anthropic.com"})]})]}),i.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-gray-200 bg-gray-50 rounded-b-xl",children:[i.jsx("button",{onClick:C,className:"px-4 py-2 text-sm text-gray-600 hover:bg-gray-200 rounded-lg",children:"Cancel"}),i.jsx("button",{onClick:S,disabled:e,className:"px-4 py-2 text-sm bg-blue-600 text-white hover:bg-blue-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:"Save Key"})]})]})]}),p&&i.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[i.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:T}),i.jsxs("div",{className:"relative bg-white rounded-xl shadow-2xl w-[900px] max-h-[85vh] flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"System Prompt"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Define custom instructions for AI analysis behavior"})]}),i.jsx("button",{onClick:T,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg",children:i.jsx(Yt,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"flex-1 p-6 overflow-hidden",children:[i.jsx("textarea",{value:b,onChange:P=>w(P.target.value),placeholder:`You are an AI assistant specialized in financial transaction analysis...\r
\r
Define the AI's role, expertise, and how it should approach analysis tasks. Include any specific rules, formatting preferences, or domain knowledge.\r
\r
Example sections:\r
- Role and expertise\r
- Analysis approach\r
- Output format preferences\r
- Specific rules or constraints`,className:"w-full h-[400px] px-4 py-3 border border-gray-300 rounded-lg text-sm font-mono focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"}),i.jsxs("div",{className:"flex items-center justify-between mt-2 text-xs text-gray-500",children:[i.jsx("span",{children:"Supports markdown formatting"}),i.jsxs("span",{children:[b.length," characters"]})]})]}),i.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-gray-200 bg-gray-50 rounded-b-xl",children:[i.jsx("button",{onClick:T,className:"px-4 py-2 text-sm text-gray-600 hover:bg-gray-200 rounded-lg",children:"Cancel"}),i.jsx("button",{onClick:E,disabled:e,className:"px-4 py-2 text-sm bg-blue-600 text-white hover:bg-blue-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:"Save Prompt"})]})]})]}),i.jsx(Ap,{title:"DSL Configuration",description:"Calculation formulas and transaction matching rules",icon:i.jsx(Pf,{className:"w-5 h-5 text-blue-600"}),badge:s?i.jsx(Fe,{className:"w-4 h-4 text-gray-400 animate-spin"}):void 0,defaultOpen:!0,children:s?i.jsxs("div",{className:"flex items-center justify-center py-12 text-gray-500",children:[i.jsx(Fe,{className:"w-6 h-6 animate-spin mr-2"}),"Loading configuration..."]}):i.jsx(xne,{config:n,onChange:W,readonly:e})}),i.jsx(Ap,{title:"Ontology Mapping",description:"Map DSL variables to source data fields",icon:i.jsx(g5,{className:"w-5 h-5 text-purple-600"}),badge:u?i.jsx(Fe,{className:"w-4 h-4 text-gray-400 animate-spin"}):void 0,defaultOpen:!1,children:u?i.jsxs("div",{className:"flex items-center justify-center py-12 text-gray-500",children:[i.jsx(Fe,{className:"w-6 h-6 animate-spin mr-2"}),"Loading ontology configuration..."]}):i.jsx(wne,{config:l,onChange:z,readonly:e})})]})}function hN({text:e}){const[t,r]=O.useState(!1);return i.jsxs("div",{className:"relative inline-block",children:[i.jsx("button",{type:"button",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),className:"p-0.5 text-gray-400 hover:text-blue-500 transition-colors",children:i.jsx(io,{className:"w-3.5 h-3.5"})}),t&&i.jsxs("div",{className:"absolute z-50 left-full ml-2 top-1/2 -translate-y-1/2 w-64 p-2 bg-gray-900 text-white text-xs rounded-lg shadow-lg",children:[i.jsx("div",{className:"absolute left-0 top-1/2 -translate-x-1 -translate-y-1/2 w-2 h-2 bg-gray-900 rotate-45"}),e]})]})}function pN({title:e,defaultOpen:t=!1,disabled:r=!1,children:n}){const[a,s]=O.useState(t);return i.jsxs("div",{className:`border border-gray-200 rounded-lg ${r?"opacity-50":""}`,children:[i.jsxs("button",{type:"button",onClick:()=>!r&&s(!a),disabled:r,className:"w-full flex items-center gap-2 px-3 py-2 text-left text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors rounded-t-lg",children:[a?i.jsx(Xe,{className:"w-4 h-4 text-gray-400"}):i.jsx(an,{className:"w-4 h-4 text-gray-400"}),e,r&&i.jsx("span",{className:"ml-auto text-xs text-gray-400",children:"(stage not selected)"})]}),a&&!r&&i.jsx("div",{className:"px-3 pb-3 border-t border-gray-100",children:n})]})}function mN({field:e,value:t,onChange:r}){return e.type==="boolean"?i.jsxs("div",{className:"flex items-center justify-between py-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm text-gray-700",children:e.label}),i.jsx(hN,{text:e.description})]}),i.jsx("button",{type:"button",onClick:()=>r(!t),className:`relative w-10 h-5 rounded-full transition-colors ${t?"bg-purple-600":"bg-gray-300"}`,children:i.jsx("div",{className:`absolute top-0.5 w-4 h-4 bg-white rounded-full shadow transition-transform ${t?"translate-x-5":"translate-x-0.5"}`})})]}):i.jsxs("div",{className:"flex items-center justify-between py-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm text-gray-700",children:e.label}),i.jsx(hN,{text:e.description})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"number",value:t,onChange:n=>r(parseFloat(n.target.value)||0),min:e.min,max:e.max,step:e.step,className:"w-24 px-2 py-1 text-sm text-right border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-purple-500"}),e.unit&&i.jsx("span",{className:"text-xs text-gray-500 w-10",children:e.unit})]})]})}function Sne({pipeline:e,selected:t,onClick:r}){return i.jsx("button",{type:"button",onClick:r,className:`p-4 text-left border-2 rounded-xl transition-all ${t?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:`p-2 rounded-lg ${t?"bg-purple-100":"bg-gray-100"}`,children:i.jsx(vx,{className:`w-5 h-5 ${t?"text-purple-600":"text-gray-500"}`})}),i.jsxs("div",{children:[i.jsx("div",{className:`font-medium ${t?"text-purple-900":"text-gray-900"}`,children:e.name}),i.jsx("div",{className:"text-sm text-gray-500 mt-0.5",children:e.description})]})]})})}function One({isOpen:e,onClose:t,onCreate:r,schema:n,dslVersions:a,readonly:s=!1}){var L;const[o,l]=O.useState(""),[c,u]=O.useState(""),[d,f]=O.useState(""),[h,p]=O.useState("full"),[y,x]=O.useState([1,2,3,4,5,6]),[m,g]=O.useState(((L=a[0])==null?void 0:L.id)||""),[v,b]=O.useState(!1),[w,j]=O.useState({...n.defaults.pipeline}),[N,_]=O.useState({...n.defaults.scoring});O.useEffect(()=>{var M;e&&(l(""),u(""),f(""),p("full"),x([1,2,3,4,5,6]),g(((M=a[0])==null?void 0:M.id)||""),b(!1),j({...n.defaults.pipeline}),_({...n.defaults.scoring}))},[e,n.defaults,a]),O.useEffect(()=>{var U;const M=(U=n.stageConfigs)==null?void 0:U.find(P=>P.id===h);M&&h!=="custom"&&x([...M.stages])},[h,n.stageConfigs]),O.useEffect(()=>{var M;if(d){const U=(M=n.pipelines)==null?void 0:M.find(P=>P.id===d);U!=null&&U.defaultStageConfig&&p(U.defaultStageConfig)}},[d,n.pipelines]);const S=M=>{h!=="custom"&&p("custom"),x(U=>U.includes(M)?U.filter(P=>P!==M):[...U,M].sort((P,R)=>P-R))},C=(M,U)=>{j(P=>({...P,[M]:U}))},A=(M,U)=>{_(P=>({...P,[M]:U}))},E=()=>{!o.trim()||!d||(r({name:o.trim(),description:c.trim(),pipeline:d,stageConfig:h,stages:y,dslVersion:m,pipelineConfig:{...w,stages:y},scoringConfig:N,autoApprove:v}),t())},T=M=>y.includes(M);if(!e)return null;const W=n.pipelines||[],z=n.stageConfigs||[];return i.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[i.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:t}),i.jsxs("div",{className:"relative w-full max-w-4xl max-h-[90vh] bg-white rounded-xl shadow-2xl flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:i.jsx(Af,{className:"w-5 h-5 text-purple-600"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"New Experiment"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Configure pipeline and DSL settings"})]})]}),i.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:i.jsx(Yt,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4 space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h3",{className:"text-sm font-medium text-gray-900 flex items-center gap-2",children:[i.jsx(b5,{className:"w-4 h-4"}),"Basic Information"]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Name *"}),i.jsx("input",{type:"text",value:o,onChange:M=>l(M.target.value),placeholder:"e.g., Higher rate precision test",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Description"}),i.jsx("input",{type:"text",value:c,onChange:M=>u(M.target.value),placeholder:"Optional description",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-gray-600 mb-2",children:"Pipeline *"}),i.jsx("div",{className:"grid grid-cols-2 gap-3",children:W.map(M=>i.jsx(Sne,{pipeline:M,selected:d===M.id,onClick:()=>f(M.id)},M.id))})]})]}),d&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h3",{className:"text-sm font-medium text-gray-900 flex items-center gap-2",children:[i.jsx(O5,{className:"w-4 h-4"}),"Stage Configuration"]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Configuration"}),i.jsx("select",{value:h,onChange:M=>p(M.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",children:z.map(M=>i.jsxs("option",{value:M.id,children:[M.name," - ",M.description]},M.id))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Stages"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:n.stages.map(M=>i.jsxs("button",{type:"button",onClick:()=>S(M.id),className:`px-3 py-1.5 text-xs font-medium rounded-lg border transition-colors ${y.includes(M.id)?"bg-purple-100 border-purple-300 text-purple-700":"bg-gray-50 border-gray-200 text-gray-500"}`,title:M.description,children:[M.id,". ",M.name]},M.id))})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h3",{className:"text-sm font-medium text-gray-900 flex items-center gap-2",children:[i.jsx(Pf,{className:"w-4 h-4"}),"DSL Version"]}),i.jsx("select",{value:m,onChange:M=>g(M.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",children:a.map(M=>i.jsxs("option",{value:M.id,children:[M.id," - ",M.name,M.description?` (${M.description})`:""]},M.id))})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Pipeline Configuration"}),i.jsx("div",{className:"space-y-2",children:n.configSections.filter(M=>M.stage!==void 0).map(M=>i.jsx(pN,{title:M.name,disabled:M.stage!==void 0&&!T(M.stage),children:i.jsx("div",{className:"divide-y divide-gray-100",children:M.fields.map(U=>i.jsx(mN,{field:U,value:w[U.key],onChange:P=>C(U.key,P)},U.key))})},M.id))})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Scoring Configuration"}),i.jsx("div",{className:"space-y-2",children:n.configSections.filter(M=>M.stage===void 0).map(M=>i.jsx(pN,{title:M.name,children:i.jsx("div",{className:"divide-y divide-gray-100",children:M.fields.map(U=>i.jsx(mN,{field:U,value:N[U.key],onChange:P=>A(U.key,P)},U.key))})},M.id))})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Auto-approve results"}),i.jsx("div",{className:"text-xs text-gray-500",children:"Skip manual review and automatically approve experiment results"})]}),i.jsx("button",{type:"button",onClick:()=>b(!v),className:`relative w-12 h-6 rounded-full transition-colors ${v?"bg-purple-600":"bg-gray-300"}`,children:i.jsx("div",{className:`absolute top-0.5 w-5 h-5 bg-white rounded-full shadow transition-transform ${v?"translate-x-6":"translate-x-0.5"}`})})]})]})]}),i.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-gray-200 bg-gray-50 rounded-b-xl",children:[s&&i.jsx("span",{className:"text-xs text-gray-400 mr-auto",children:"Connect to backend to create experiments"}),i.jsx("button",{onClick:t,className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),i.jsx("button",{onClick:E,disabled:s||!o.trim()||!d,className:"px-4 py-2 text-sm bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Create Experiment"})]})]})]})}function Cne({status:e}){const t={pending:{icon:s5,bg:"bg-gray-100",text:"text-gray-600",label:"Pending"},running:{icon:od,bg:"bg-blue-100",text:"text-blue-600",label:"Running"},completed:{icon:Sa,bg:"bg-green-100",text:"text-green-600",label:"Completed"},failed:{icon:_x,bg:"bg-red-100",text:"text-red-600",label:"Failed"}}[e],r=t.icon;return i.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium ${t.bg} ${t.text}`,children:[i.jsx(r,{className:"w-3 h-3"}),t.label]})}function Pne({experiment:e}){return i.jsxs(oe,{className:"p-4",children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h3",{className:"font-medium text-gray-900",children:e.name}),i.jsx(Cne,{status:e.status})]}),e.description&&i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:e.description})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[e.status==="pending"&&i.jsx("button",{className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:i.jsx(od,{className:"w-4 h-4"})}),e.status==="running"&&i.jsx("button",{className:"p-2 text-orange-600 hover:bg-orange-50 rounded-lg transition-colors",children:i.jsx(y5,{className:"w-4 h-4"})})]})]}),i.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100 grid grid-cols-4 gap-4 text-xs",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-gray-500",children:"Pipeline"}),i.jsx("div",{className:"font-medium text-gray-700 capitalize",children:e.pipeline.replace(/_/g," ")})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-gray-500",children:"Stages"}),i.jsx("div",{className:"font-medium text-gray-700",children:e.stages.join(", ")})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-gray-500",children:"DSL Version"}),i.jsx("div",{className:"font-medium text-gray-700",children:e.dslVersion})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-gray-500",children:"Auto-approve"}),i.jsx("div",{className:"font-medium text-gray-700",children:e.autoApprove?"Yes":"No"})]})]}),i.jsxs("div",{className:"mt-2 text-xs text-gray-400",children:["Created ",new Date(e.createdAt).toLocaleDateString()]})]})}function Ane({onCreateClick:e}){return i.jsx(oe,{children:i.jsxs("div",{className:"p-12 text-center",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-purple-100 rounded-full mb-4",children:i.jsx(Af,{className:"w-8 h-8 text-purple-400"})}),i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Active Experiments"}),i.jsx("p",{className:"text-gray-500 max-w-md mx-auto mb-6",children:"Create an experiment to test different pipeline configurations and DSL versions without affecting production data."}),i.jsxs("button",{onClick:e,className:"inline-flex items-center gap-2 px-4 py-2 bg-purple-600 text-white text-sm font-medium rounded-lg hover:bg-purple-700 transition-colors",children:[i.jsx(yi,{className:"w-4 h-4"}),"New Experiment"]})]})})}function kne(){const e=$f(),[t,r]=O.useState([]),[n,a]=O.useState(!0),[s,o]=O.useState(!1),[l,c]=O.useState(null),[u,d]=O.useState([]);O.useEffect(()=>{async function h(){try{const p=await fetch("/api/experiments");if(p.ok){const m=await p.json();r(m.experiments||[])}const y=await fetch("/api/pipeline-config");if(y.ok){const m=await y.json();c(m)}const x=await fetch("/api/dsl-config");if(x.ok){const m=await x.json(),g=Object.entries(m.versions||{}).map(([v,b])=>({id:v,name:b.name||v,description:b.description}));d(g)}}catch(p){console.error("Failed to load experiments data:",p)}finally{a(!1)}}h()},[]);const f=h=>{const p={...h,id:`exp-${Date.now()}`,createdAt:new Date().toISOString(),status:"pending"};r(y=>[p,...y])};return n?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx(Fe,{className:"w-8 h-8 text-purple-600 animate-spin"})}):i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:i.jsx(Af,{className:"h-6 w-6 text-purple-600"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Experiments"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Test alternate calculation and matching configurations"})]})]}),t.length>0&&i.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors",children:[i.jsx(yi,{className:"w-4 h-4"}),"New Experiment"]})]}),t.length===0?i.jsx(Ane,{onCreateClick:()=>o(!0)}):i.jsx("div",{className:"space-y-4",children:t.map(h=>i.jsx(Pne,{experiment:h},h.id))}),l&&i.jsx(One,{isOpen:s,onClose:()=>o(!1),onCreate:f,schema:l,dslVersions:u,readonly:e})]})}function kp({label:e,value:t,subValue:r,variant:n="default"}){const a={default:"bg-gray-50",danger:"bg-red-50",warning:"bg-amber-50"},s={default:"text-gray-900",danger:"text-red-700",warning:"text-amber-700"};return i.jsxs("div",{className:ce("rounded-lg p-4",a[n]),children:[i.jsx("div",{className:ce("text-2xl font-semibold",s[n]),children:t}),i.jsx("div",{className:"text-sm text-gray-500",children:e}),r&&i.jsx("div",{className:"text-xs text-gray-400 mt-1",children:r})]})}function Ene({merchant:e,isExpanded:t,onToggle:r}){const[n,a]=O.useState(new Set),s=o=>{a(l=>{const c=new Set(l);return c.has(o)?c.delete(o):c.add(o),c})};return i.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[i.jsxs("button",{onClick:r,className:"w-full px-6 py-4 flex items-center justify-between bg-white hover:bg-gray-50 transition-colors",children:[i.jsx("div",{className:"flex items-center gap-4",children:i.jsxs("div",{className:"text-left",children:[i.jsx("div",{className:"font-semibold text-gray-900",children:e.name}),i.jsxs("div",{className:"text-sm text-gray-500",children:[e.underpaidTxns.toLocaleString()," transactions with underpayment"]})]})}),i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-lg font-semibold text-red-600",children:X(e.totalUnderpaid)}),i.jsxs("div",{className:"text-xs text-gray-500",children:[e.percentOfTotal.toFixed(1),"% of total loss"]})]}),t?i.jsx(br,{className:"h-5 w-5 text-gray-400"}):i.jsx(Xe,{className:"h-5 w-5 text-gray-400"})]})]}),t&&i.jsxs("div",{className:"border-t border-gray-200 bg-gray-50 p-6",children:[e.totalUnderpaid<-100&&i.jsx("div",{className:"mb-6 p-4 bg-amber-50 border border-amber-200 rounded-lg",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Qt,{className:"h-5 w-5 text-amber-600 mt-0.5"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-amber-800",children:"Significant Underpayment Detected"}),i.jsx("div",{className:"text-sm text-amber-700",children:Math.abs(e.avgPerTx)>.1?`Average loss of ${X(e.avgPerTx)} per transaction suggests systematic issue`:"Minor rounding variance (within tolerance)"})]})]})}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Affected Plans"}),i.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Plan"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Type"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Rate"}),i.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Transactions"}),i.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Total Loss"}),i.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Avg Loss"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-200",children:e.plans.map(o=>{const l=e.examples[o.variant_key]||[],c=n.has(o.variant_key);return i.jsxs(i.Fragment,{children:[i.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>l.length>0&&s(o.variant_key),children:[i.jsx("td",{className:"px-4 py-3 text-sm",children:i.jsxs("div",{className:"flex items-center gap-2",children:[l.length>0&&(c?i.jsx(br,{className:"h-4 w-4 text-gray-400"}):i.jsx(Xe,{className:"h-4 w-4 text-gray-400"})),i.jsx("code",{className:"text-xs bg-gray-100 px-1.5 py-0.5 rounded",children:o.plan_key})]})}),i.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:o.type}),i.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:o.rate}),i.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 text-right",children:o.transactions.toLocaleString()}),i.jsx("td",{className:"px-4 py-3 text-sm font-medium text-red-600 text-right",children:X(o.totalLoss)}),i.jsx("td",{className:"px-4 py-3 text-sm text-red-600 text-right",children:Math.abs(o.avgLoss)<.01&&o.avgLoss!==0?`${o.avgLoss<0?"-":""}${Math.abs(o.avgLoss).toFixed(4)}`:X(o.avgLoss)})]},o.variant_key),c&&l.length>0&&i.jsx("tr",{children:i.jsxs("td",{colSpan:6,className:"px-4 py-3 bg-white",children:[i.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Most Underpaid Transactions"}),i.jsxs("table",{className:"min-w-full text-xs",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"text-gray-500",children:[i.jsx("th",{className:"text-left pb-2",children:"Transaction ID"}),i.jsx("th",{className:"text-right pb-2",children:"Amount"}),i.jsx("th",{className:"text-right pb-2",children:"Expected"}),i.jsx("th",{className:"text-right pb-2",children:"Actual"}),i.jsx("th",{className:"text-right pb-2",children:"Deviation"}),i.jsx("th",{className:"text-right pb-2",children:"Dev %"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-100",children:l.map(u=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"py-2",children:i.jsxs(rt,{to:`/transaction/${u.tx_id}`,target:"_blank",className:"font-mono text-primary-600 hover:text-primary-800 flex items-center gap-1",children:[u.tx_id.slice(0,8),"...",i.jsx(Os,{className:"h-3 w-3"})]})}),i.jsx("td",{className:"py-2 text-right text-gray-900",children:X(u.amount_eur||u.amount||0)}),i.jsx("td",{className:"py-2 text-right text-gray-500",children:X(u.planned_commission||u.planned||0)}),i.jsx("td",{className:"py-2 text-right text-gray-900",children:X(u.actual_commission||u.actual||0)}),i.jsx("td",{className:"py-2 text-right font-medium text-red-600",children:X(u.deviation)}),i.jsx("td",{className:"py-2 text-right text-gray-500",children:ft(u.deviation_percent||u.deviation_pct||0)})]},u.tx_id))})]})]})})]})})})]})})]})]})]})}function $ne(){const[e,t]=O.useState(new Set),{data:r,isLoading:n,error:a}=be({queryKey:["reports","underpay"],queryFn:ue.getUnderpaymentReport}),s=d=>{t(f=>{const h=new Set(f);return h.has(d)?h.delete(d):h.add(d),h})};if(n)return i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(Fe,{className:"h-8 w-8 text-gray-400 animate-spin"})});if(a||!r)return i.jsx("div",{className:"text-center py-12",children:i.jsx("p",{className:"text-red-600",children:"Failed to load report. Run the generation script first."})});const o=Object.values(r.merchant_summary).reduce((d,f)=>d+f.underpay_volume,0),l=Object.values(r.merchant_summary).reduce((d,f)=>d+f.underpay_count,0),c=l>0?-o/l:0,u=Object.entries(r.merchant_summary).filter(([,d])=>d.underpay_volume>0).map(([d,f])=>{const h=(r.plan_summary[d]||[]).filter(p=>p.underpay_volume>0).sort((p,y)=>y.underpay_volume-p.underpay_volume).map(p=>({plan_key:p.plan_key,variant_key:p.variant_key||p.plan_key,type:`${p.operation_type}/${p.apm_type||p.payment_type}`,rate:p.rate?`${p.rate}%${p.fixed_fee?`+${p.fixed_fee}`:""}`:"N/A",transactions:p.underpay_count,totalLoss:-p.underpay_volume,avgLoss:p.underpay_count>0?-p.underpay_volume/p.underpay_count:0}));return{name:d,underpaidTxns:f.underpay_count,totalUnderpaid:-f.underpay_volume,avgPerTx:f.underpay_count>0?-f.underpay_volume/f.underpay_count:0,percentOfTotal:o>0?f.underpay_volume/o*100:0,plans:h,examples:r.examples[d]||{}}}).sort((d,f)=>d.totalUnderpaid-f.totalUnderpaid);return e.size===0&&u.length>0&&t(new Set([u[0].name])),i.jsxs("div",{children:[i.jsxs(rt,{to:"/",className:"inline-flex items-center gap-2 text-sm text-gray-500 hover:text-gray-700 mb-4",children:[i.jsx(Ln,{className:"h-4 w-4"}),"Back to Reports"]}),i.jsxs(oe,{className:"mb-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:i.jsx(Nx,{className:"h-6 w-6 text-red-600"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Underpayment Analysis"}),i.jsx("p",{className:"text-sm text-gray-500",children:r.scope})]})]}),i.jsxs("div",{className:"text-right text-sm text-gray-500",children:[i.jsxs("div",{children:["Generated: ",new Date(r.generated_at).toLocaleDateString()]}),i.jsx("div",{className:"text-xs",children:r.source})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[i.jsx(kp,{label:"Total Money Lost",value:X(-o),subValue:"Across all merchants",variant:"danger"}),i.jsx(kp,{label:"Affected Transactions",value:l.toLocaleString(),subValue:"Approved transactions with underpayment"}),i.jsx(kp,{label:"Average Loss per Transaction",value:X(c),subValue:"Mean deviation"})]}),o>100&&i.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Qt,{className:"h-5 w-5 text-red-600 mt-0.5"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-red-800",children:"Key Finding"}),i.jsxs("div",{className:"text-sm text-red-700",children:[i.jsx("strong",{children:X(o)})," is being lost across"," ",l.toLocaleString()," approved transactions where actual commission is lower than contracted rates.",u.length>0&&u[0].percentOfTotal>80&&i.jsxs(i.Fragment,{children:[" ",i.jsxs("strong",{children:[u[0].percentOfTotal.toFixed(0),"% of the loss comes from ",u[0].name]}),"."]})]})]})]})})]}),i.jsx(oe,{title:"Merchant Details",className:"mb-6",children:i.jsx("div",{className:"space-y-4",children:u.map(d=>i.jsx(Ene,{merchant:d,isExpanded:e.has(d.name),onToggle:()=>s(d.name)},d.name))})})]})}function Tne({merchant:e,plans:t,examples:r,isExpanded:n,onToggle:a}){const[s,o]=O.useState(new Set),l=d=>{o(f=>{const h=new Set(f);return h.has(d)?h.delete(d):h.add(d),h})},c=t.reduce((d,f)=>d+f.tx_count,0),u=t.reduce((d,f)=>d+f.total_deviation,0);return i.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[i.jsxs("button",{onClick:a,className:"w-full px-6 py-4 flex items-center justify-between bg-white hover:bg-gray-50 transition-colors",children:[i.jsx("div",{className:"flex items-center gap-4",children:i.jsxs("div",{className:"text-left",children:[i.jsx("div",{className:"font-semibold text-gray-900",children:e}),i.jsxs("div",{className:"text-sm text-gray-500",children:[t.length," rate plans, ",c.toLocaleString()," transactions"]})]})}),i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-lg font-semibold text-orange-600",children:X(u)}),i.jsx("div",{className:"text-xs text-gray-500",children:"Total Deviation"})]}),n?i.jsx(br,{className:"h-5 w-5 text-gray-400"}):i.jsx(Xe,{className:"h-5 w-5 text-gray-400"})]})]}),n&&i.jsx("div",{className:"border-t border-gray-200 bg-gray-50 p-6",children:i.jsxs("table",{className:"min-w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"text-left text-gray-500 border-b",children:[i.jsx("th",{className:"pb-2 font-medium",children:"Plan (Conditions)"}),i.jsx("th",{className:"pb-2 font-medium text-right",children:"Contract Rate"}),i.jsx("th",{className:"pb-2 font-medium text-right",children:"Avg Eff. Rate"}),i.jsx("th",{className:"pb-2 font-medium text-right",children:"Transactions"}),i.jsx("th",{className:"pb-2 font-medium text-right",children:"Underpay"}),i.jsx("th",{className:"pb-2 font-medium text-right",children:"Overcharge"}),i.jsx("th",{className:"pb-2 font-medium text-right",children:"Deviation"})]})}),i.jsx("tbody",{children:t.map(d=>{const f=d.variant_key||d.plan_key,h=r[f]||[],p=s.has(f);return i.jsxs(i.Fragment,{children:[i.jsxs("tr",{className:"border-b last:border-0 cursor-pointer hover:bg-gray-100",onClick:()=>h.length>0&&l(f),children:[i.jsx("td",{className:"py-2",children:i.jsxs("div",{className:"flex items-center gap-2",children:[h.length>0&&(p?i.jsx(br,{className:"h-4 w-4 text-gray-400"}):i.jsx(Xe,{className:"h-4 w-4 text-gray-400"})),i.jsxs("div",{children:[i.jsx("code",{className:"text-xs bg-gray-100 px-1.5 py-0.5 rounded",children:d.plan_key}),i.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:d.conditions})]})]})}),i.jsx("td",{className:"py-2 text-right",children:d.contract_rate!=null?`${d.contract_rate}%${d.contract_fixed?`+${d.contract_fixed}`:""}`:"N/A"}),i.jsx("td",{className:"py-2 text-right",children:d.avg_effective_rate!=null?ft(d.avg_effective_rate):"N/A"}),i.jsx("td",{className:"py-2 text-right",children:ye(d.tx_count)}),i.jsx("td",{className:"py-2 text-right text-red-600",children:d.underpay_volume>0?`-${X(d.underpay_volume)}`:"-"}),i.jsx("td",{className:"py-2 text-right text-green-600",children:d.overcharge_volume>0?`+${X(d.overcharge_volume)}`:"-"}),i.jsx("td",{className:"py-2 text-right font-medium text-orange-600",children:X(d.total_deviation)})]},f),p&&h.length>0&&i.jsx("tr",{children:i.jsxs("td",{colSpan:7,className:"px-4 py-3 bg-white",children:[i.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Example Transactions"}),i.jsxs("table",{className:"min-w-full text-xs",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"text-gray-500",children:[i.jsx("th",{className:"text-left pb-2",children:"Transaction ID"}),i.jsx("th",{className:"text-right pb-2",children:"Amount"}),i.jsx("th",{className:"text-right pb-2",children:"Expected"}),i.jsx("th",{className:"text-right pb-2",children:"Actual"}),i.jsx("th",{className:"text-right pb-2",children:"Deviation"}),i.jsx("th",{className:"text-right pb-2",children:"Eff. Rate"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-100",children:h.map(y=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"py-2",children:i.jsxs(rt,{to:`/transaction/${y.tx_id}`,target:"_blank",className:"font-mono text-primary-600 hover:text-primary-800 flex items-center gap-1",children:[y.tx_id.slice(0,8),"...",i.jsx(Os,{className:"h-3 w-3"})]})}),i.jsx("td",{className:"py-2 text-right text-gray-900",children:X(y.amount||0)}),i.jsx("td",{className:"py-2 text-right text-gray-500",children:X(y.planned||0)}),i.jsx("td",{className:"py-2 text-right text-gray-900",children:X(y.actual||0)}),i.jsx("td",{className:ce("py-2 text-right font-medium",y.deviation>=0?"text-green-600":"text-red-600"),children:X(y.deviation)}),i.jsx("td",{className:"py-2 text-right text-gray-500",children:y.eff_rate!=null?ft(y.eff_rate):"N/A"})]},y.tx_id))})]})]})})]})})})]})})]})}function Mne(){const[e,t]=O.useState(new Set),{data:r,isLoading:n,error:a}=be({queryKey:["reports","contract-mismatch"],queryFn:ue.getContractMismatchReport}),s=u=>{t(d=>{const f=new Set(d);return f.has(u)?f.delete(u):f.add(u),f})};if(n)return i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(Fe,{className:"h-8 w-8 text-gray-400 animate-spin"})});if(a||!r)return i.jsx("div",{className:"text-center py-12",children:i.jsx("p",{className:"text-red-600",children:"Failed to load report. Run the generation script first."})});const{match_quality:o}=r,l=r.rate_plan_analysis||{},c=r.examples||{};return i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[i.jsx(rt,{to:"/",className:"p-2 hover:bg-gray-100 rounded-lg",children:i.jsx(Ln,{className:"h-5 w-5 text-gray-500"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Contract Mismatch Analysis"}),i.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[r.scope," | Generated ",Cf(r.generated_at)]})]})]}),i.jsxs(oe,{title:"Match Quality Distribution",className:"mb-6",children:[i.jsx("div",{className:"mb-4",children:i.jsxs("div",{className:"flex h-8 rounded-lg overflow-hidden",children:[i.jsx("div",{className:"bg-green-500",style:{width:`${o.exact.percent}%`},title:`Exact: ${o.exact.count.toLocaleString()}`}),i.jsx("div",{className:"bg-yellow-400",style:{width:`${o.minor.percent}%`},title:`Minor: ${o.minor.count.toLocaleString()}`}),i.jsx("div",{className:"bg-orange-500",style:{width:`${o.significant.percent}%`},title:`Significant: ${o.significant.count.toLocaleString()}`}),i.jsx("div",{className:"bg-red-500",style:{width:`${o.critical.percent}%`},title:`Critical: ${o.critical.count.toLocaleString()}`})]})}),i.jsxs("div",{className:"grid grid-cols-5 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded bg-green-500"}),i.jsx("span",{className:"text-gray-600",children:"Exact (<1%)"})]}),i.jsx("p",{className:"mt-1 font-medium",children:ye(o.exact.count)}),i.jsx("p",{className:"text-xs text-gray-500",children:ft(o.exact.percent)})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded bg-yellow-400"}),i.jsx("span",{className:"text-gray-600",children:"Minor (1-5%)"})]}),i.jsx("p",{className:"mt-1 font-medium",children:ye(o.minor.count)}),i.jsx("p",{className:"text-xs text-gray-500",children:ft(o.minor.percent)})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded bg-orange-500"}),i.jsx("span",{className:"text-gray-600",children:"Significant (5-20%)"})]}),i.jsx("p",{className:"mt-1 font-medium",children:ye(o.significant.count)}),i.jsx("p",{className:"text-xs text-gray-500",children:ft(o.significant.percent)})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded bg-red-500"}),i.jsx("span",{className:"text-gray-600",children:"Critical (>20%)"})]}),i.jsx("p",{className:"mt-1 font-medium",children:ye(o.critical.count)}),i.jsx("p",{className:"text-xs text-gray-500",children:ft(o.critical.percent)})]}),i.jsxs("div",{children:[i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("span",{className:"text-gray-600",children:"Total Deviation"})}),i.jsx("p",{className:"mt-1 font-medium text-orange-600",children:X(o.total_deviation)}),i.jsxs("p",{className:"text-xs text-gray-500",children:[ye(o.total)," transactions"]})]})]})]}),Object.keys(l).length>0&&i.jsx(oe,{title:"Rate Plan Analysis by Merchant",className:"mb-6",children:i.jsx("div",{className:"space-y-4",children:Object.entries(l).map(([u,d])=>i.jsx(Tne,{merchant:u,plans:d,examples:c[u]||{},isExpanded:e.has(u),onToggle:()=>s(u)},u))})}),r.low_confidence_matches&&r.low_confidence_matches.length>0&&i.jsx(oe,{title:"Low Confidence Matches (Fallbacks)",className:"mb-6",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"text-left text-gray-500 border-b",children:[i.jsx("th",{className:"pb-2 font-medium",children:"Match Reason"}),i.jsx("th",{className:"pb-2 font-medium",children:"Merchant"}),i.jsx("th",{className:"pb-2 font-medium",children:"Plan"}),i.jsx("th",{className:"pb-2 font-medium text-right",children:"Transactions"}),i.jsx("th",{className:"pb-2 font-medium text-right",children:"Deviation"})]})}),i.jsx("tbody",{children:r.low_confidence_matches.map((u,d)=>i.jsxs("tr",{className:"border-b last:border-0",children:[i.jsx("td",{className:"py-2 text-amber-600",children:u.reason}),i.jsx("td",{className:"py-2",children:u.merchant}),i.jsx("td",{className:"py-2",children:i.jsx("code",{className:"text-xs bg-gray-100 px-1.5 py-0.5 rounded",children:u.plan})}),i.jsx("td",{className:"py-2 text-right",children:ye(u.count)}),i.jsx("td",{className:`py-2 text-right font-medium ${u.deviation>=0?"text-green-600":"text-red-600"}`,children:X(u.deviation)})]},d))})]})}),r.volume_tier_suggestions&&r.volume_tier_suggestions.length>0&&i.jsxs(oe,{title:"Volume Tier Suggestions",className:"mb-6",children:[i.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"These transactions matched to a plan but a better tier plan was suggested based on volume."}),i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"text-left text-gray-500 border-b",children:[i.jsx("th",{className:"pb-2 font-medium",children:"Merchant"}),i.jsx("th",{className:"pb-2 font-medium",children:"Current Plan"}),i.jsx("th",{className:"pb-2 font-medium",children:"Suggested Plan"}),i.jsx("th",{className:"pb-2 font-medium text-right",children:"Transactions"}),i.jsx("th",{className:"pb-2 font-medium text-right",children:"Deviation"})]})}),i.jsx("tbody",{children:r.volume_tier_suggestions.map((u,d)=>i.jsxs("tr",{className:"border-b last:border-0",children:[i.jsx("td",{className:"py-2",children:u.merchant}),i.jsxs("td",{className:"py-2",children:[i.jsx("code",{className:"text-xs bg-gray-100 px-1.5 py-0.5 rounded",children:u.current_plan}),i.jsx("span",{className:"text-gray-500 ml-2",children:u.current_rate})]}),i.jsx("td",{className:"py-2",children:i.jsx("code",{className:"text-xs bg-green-100 px-1.5 py-0.5 rounded text-green-800",children:u.suggested_plan})}),i.jsx("td",{className:"py-2 text-right",children:ye(u.count)}),i.jsx("td",{className:`py-2 text-right font-medium ${u.deviation>=0?"text-green-600":"text-red-600"}`,children:X(u.deviation)})]},d))})]})]})]})}const gN={high:{icon:Qt,color:"text-red-600",bg:"bg-red-100"},medium:{icon:Qt,color:"text-amber-600",bg:"bg-amber-100"},info:{icon:h5,color:"text-gray-600",bg:"bg-gray-100"}};function Ine({merchant:e,data:t,isExpanded:r,onToggle:n,isFixedFeeMismatch:a=!1}){return i.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[i.jsxs("button",{onClick:n,className:"w-full px-4 py-3 flex items-center justify-between bg-white hover:bg-gray-50 transition-colors",children:[i.jsxs("div",{className:"text-left",children:[i.jsx("div",{className:"font-medium text-gray-900",children:e}),i.jsxs("div",{className:"text-xs text-gray-500",children:[t.tx_count.toLocaleString()," transactions"]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"font-medium text-gray-900",children:X(t.total_volume)}),i.jsx("div",{className:"text-xs text-gray-500",children:"volume"})]}),r?i.jsx(br,{className:"h-4 w-4 text-gray-400"}):i.jsx(Xe,{className:"h-4 w-4 text-gray-400"})]})]}),r&&t.examples.length>0&&i.jsxs("div",{className:"border-t border-gray-200 bg-gray-50 p-4",children:[i.jsxs("table",{className:"min-w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"text-left text-gray-500 border-b",children:[i.jsx("th",{className:"pb-2 font-medium",children:"Transaction ID"}),a?i.jsxs(i.Fragment,{children:[i.jsx("th",{className:"pb-2 font-medium",children:"Plan"}),i.jsx("th",{className:"pb-2 font-medium text-right",children:"Actual Fixed"}),i.jsx("th",{className:"pb-2 font-medium text-right",children:"Expected Fixed"})]}):i.jsxs(i.Fragment,{children:[i.jsx("th",{className:"pb-2 font-medium",children:"Type"}),i.jsx("th",{className:"pb-2 font-medium",children:"Gate"})]}),i.jsx("th",{className:"pb-2 font-medium text-right",children:"Amount"}),i.jsx("th",{className:"pb-2 font-medium text-right",children:"Commission"}),i.jsx("th",{className:"pb-2 font-medium",children:"Date"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-100",children:t.examples.map(s=>i.jsxs("tr",{className:"hover:bg-gray-100",children:[i.jsx("td",{className:"py-2",children:i.jsxs(rt,{to:`/transaction/${s.tx_id}`,target:"_blank",className:"font-mono text-primary-600 hover:text-primary-800 flex items-center gap-1",children:[s.tx_id.slice(0,8),"...",i.jsx(Os,{className:"h-3 w-3"})]})}),a?i.jsxs(i.Fragment,{children:[i.jsx("td",{className:"py-2 text-gray-600",children:i.jsx("code",{className:"text-xs bg-gray-100 px-1.5 py-0.5 rounded",children:s.plan||"-"})}),i.jsx("td",{className:"py-2 text-right text-red-600",children:X(s.actual_fixed??0)}),i.jsx("td",{className:"py-2 text-right text-green-600",children:X(s.expected_fixed??0)})]}):i.jsxs(i.Fragment,{children:[i.jsx("td",{className:"py-2 text-gray-600",children:s.tx_type||"-"}),i.jsx("td",{className:"py-2 text-gray-600",children:s.gate||"-"})]}),i.jsx("td",{className:"py-2 text-right",children:X(s.amount||0)}),i.jsx("td",{className:"py-2 text-right",children:X(s.commission??0)}),i.jsx("td",{className:"py-2 text-gray-500 text-xs",children:s.date?Cf(s.date):"-"})]},s.tx_id))})]}),t.tx_count>t.examples.length&&i.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Showing ",t.examples.length," of ",t.tx_count.toLocaleString()," transactions"]})]})]})}function Rne({data:e,isExpanded:t,onToggle:r}){const[n,a]=O.useState(new Set),[s,o]=O.useState(new Set),l=f=>{const h=new Set(n);h.has(f)?h.delete(f):h.add(f),a(h)},c=f=>{const h=new Set(s);h.has(f)?h.delete(f):h.add(f),o(h)},u=e.findings.reduce((f,h)=>f+h.total_overcharge_eur,0),d=e.findings.reduce((f,h)=>f+h.affected_transactions,0);return i.jsxs(oe,{children:[i.jsxs("button",{onClick:r,className:"w-full flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 rounded-lg bg-red-100",children:i.jsx(Qt,{className:"h-5 w-5 text-red-600"})}),i.jsxs("div",{className:"text-left",children:[i.jsx("h3",{className:"font-medium text-gray-900",children:"Contract Mismatches Discovered"}),i.jsx("p",{className:"text-sm text-gray-500",children:e.description})]})]}),i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-lg font-semibold text-red-600",children:X(u)}),i.jsx("p",{className:"text-xs text-gray-500",children:"total overcharge"})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-lg font-semibold text-gray-900",children:ye(d)}),i.jsx("p",{className:"text-xs text-gray-500",children:"transactions"})]}),t?i.jsx(Xe,{className:"h-5 w-5 text-gray-400"}):i.jsx(br,{className:"h-5 w-5 text-gray-400 rotate-90"})]})]}),t&&i.jsxs("div",{className:"mt-4 pt-4 border-t space-y-4",children:[i.jsx("div",{className:"space-y-3",children:e.findings.map((f,h)=>{var p;return i.jsxs("div",{className:"border border-red-200 rounded-lg overflow-hidden",children:[i.jsxs("button",{onClick:()=>l(h),className:"w-full p-4 bg-red-50 text-left hover:bg-red-100 transition-colors",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[n.has(h)?i.jsx(Xe,{className:"h-4 w-4 text-gray-400"}):i.jsx(br,{className:"h-4 w-4 text-gray-400 rotate-90"}),i.jsx("span",{className:"font-medium text-gray-900",children:f.merchant}),i.jsx("code",{className:"text-xs bg-gray-100 px-1.5 py-0.5 rounded",children:f.plan_key})]}),i.jsxs("span",{className:"text-red-600 font-semibold",children:[X(f.total_overcharge_eur)," overcharge"]})]}),i.jsx("p",{className:"text-sm text-red-800 font-medium mb-2 ml-6",children:f.issue}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm ml-6",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:"Contract:"}),i.jsx("span",{className:"ml-2 text-green-700",children:f.contract_rate})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:"Actual:"}),i.jsx("span",{className:"ml-2 text-red-700",children:f.actual_rate})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:"Affected:"}),i.jsxs("span",{className:"ml-2",children:[f.affected_transactions.toLocaleString()," txns"]})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:"Per txn:"}),i.jsx("span",{className:"ml-2",children:X(f.overcharge_per_transaction)})]})]}),f.note&&i.jsx("p",{className:"text-xs text-gray-600 mt-2 italic ml-6",children:f.note})]}),n.has(h)&&f.transactions&&f.transactions.length>0&&i.jsxs("div",{className:"border-t border-red-200 bg-white p-4",children:[i.jsxs("h5",{className:"text-xs font-medium text-gray-500 mb-2",children:["Example Transactions (",f.transactions.length," of ",f.affected_transactions.toLocaleString(),")"]}),i.jsxs("table",{className:"min-w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"text-left text-gray-500 border-b",children:[i.jsx("th",{className:"pb-2 font-medium",children:"Transaction ID"}),i.jsx("th",{className:"pb-2 font-medium text-right",children:"Amount"}),i.jsx("th",{className:"pb-2 font-medium text-right",children:"Commission"}),((p=f.transactions[0])==null?void 0:p.expected_commission)!==void 0&&i.jsx("th",{className:"pb-2 font-medium text-right",children:"Expected"}),i.jsx("th",{className:"pb-2 font-medium text-right",children:"Overcharge"}),i.jsx("th",{className:"pb-2 font-medium",children:"Date"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-100",children:f.transactions.map(y=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"py-2",children:i.jsxs(rt,{to:`/transaction/${y.tx_id}`,target:"_blank",className:"font-mono text-primary-600 hover:text-primary-800 flex items-center gap-1",children:[y.tx_id.slice(0,8),"...",i.jsx(Os,{className:"h-3 w-3"})]})}),i.jsx("td",{className:"py-2 text-right",children:X(y.amount)}),i.jsx("td",{className:"py-2 text-right",children:X(y.commission)}),y.expected_commission!==void 0&&i.jsx("td",{className:"py-2 text-right text-green-600",children:X(y.expected_commission)}),i.jsxs("td",{className:"py-2 text-right text-red-600",children:["+",X(y.overcharge??0)]}),i.jsx("td",{className:"py-2 text-gray-500 text-xs",children:y.date})]},y.tx_id))})]})]})]},h)})}),e.flat_fee_anomalies&&e.flat_fee_anomalies.total_count>0&&i.jsxs("div",{className:"border border-amber-200 rounded-lg overflow-hidden",children:[i.jsxs("div",{className:"p-4 bg-amber-50",children:[i.jsxs("h4",{className:"font-medium text-amber-800 mb-2",children:["Flat Fee Anomalies (",e.flat_fee_anomalies.total_count," transactions)"]}),i.jsx("p",{className:"text-sm text-gray-600",children:e.flat_fee_anomalies.description})]}),e.flat_fee_anomalies.details.map((f,h)=>i.jsxs("div",{className:"border-t border-amber-200",children:[i.jsxs("button",{onClick:()=>c(h),className:"w-full px-4 py-3 bg-amber-50/50 flex justify-between items-center hover:bg-amber-100 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[s.has(h)?i.jsx(Xe,{className:"h-4 w-4 text-gray-400"}):i.jsx(br,{className:"h-4 w-4 text-gray-400 rotate-90"}),i.jsx("code",{className:"bg-gray-100 px-1.5 py-0.5 rounded text-xs",children:f.plan_key}),i.jsxs("span",{className:"text-gray-600 text-sm",children:[f.count," txns @ ",X(f.flat_fee)]})]}),i.jsx("span",{className:"text-amber-700 text-sm",children:f.hypothesis})]}),s.has(h)&&f.transactions&&f.transactions.length>0&&i.jsx("div",{className:"bg-white p-4",children:i.jsxs("table",{className:"min-w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"text-left text-gray-500 border-b",children:[i.jsx("th",{className:"pb-2 font-medium",children:"Transaction ID"}),i.jsx("th",{className:"pb-2 font-medium text-right",children:"Amount"}),i.jsx("th",{className:"pb-2 font-medium text-right",children:"Flat Commission"}),i.jsx("th",{className:"pb-2 font-medium",children:"Type"}),i.jsx("th",{className:"pb-2 font-medium",children:"Date"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-100",children:f.transactions.map(p=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"py-2",children:i.jsxs(rt,{to:`/transaction/${p.tx_id}`,target:"_blank",className:"font-mono text-primary-600 hover:text-primary-800 flex items-center gap-1",children:[p.tx_id.slice(0,8),"...",i.jsx(Os,{className:"h-3 w-3"})]})}),i.jsx("td",{className:"py-2 text-right",children:X(p.amount)}),i.jsx("td",{className:"py-2 text-right text-amber-600",children:X(p.commission)}),i.jsx("td",{className:"py-2 text-gray-600",children:p.tx_type}),i.jsx("td",{className:"py-2 text-gray-500 text-xs",children:p.date})]},p.tx_id))})]})})]},h))]})]})]})}function Dne({title:e,categoryKey:t,data:r,isExpanded:n,onToggle:a,expandedMerchants:s,onToggleMerchant:o}){const l=r.severity,c=gN[l]||gN.info,u=c.icon;return i.jsxs(oe,{children:[i.jsxs("button",{onClick:a,className:"w-full flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`p-2 rounded-lg ${c.bg}`,children:i.jsx(u,{className:`h-5 w-5 ${c.color}`})}),i.jsxs("div",{className:"text-left",children:[i.jsx("h3",{className:"font-medium text-gray-900",children:e}),i.jsx("p",{className:"text-sm text-gray-500",children:r.description})]})]}),i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-lg font-semibold text-gray-900",children:ye(r.total_count)}),i.jsx("p",{className:"text-xs text-gray-500",children:"transactions"})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-lg font-semibold text-gray-900",children:X(r.total_volume)}),i.jsx("p",{className:"text-xs text-gray-500",children:"volume"})]}),n?i.jsx(Xe,{className:"h-5 w-5 text-gray-400"}):i.jsx(br,{className:"h-5 w-5 text-gray-400 rotate-90"})]})]}),n&&r.total_count>0&&i.jsx("div",{className:"mt-4 pt-4 border-t space-y-3",children:Object.entries(r.by_merchant).map(([d,f])=>{const h=`${t}:${d}`;return i.jsx(Ine,{merchant:d,data:f,isExpanded:s.has(h),onToggle:()=>o(h),isFixedFeeMismatch:t==="fixed_fee_mismatch"},h)})}),n&&r.total_count===0&&i.jsx("div",{className:"mt-4 pt-4 border-t text-center py-6",children:i.jsx("p",{className:"text-gray-500",children:"No anomalies found in this category"})})]})}function Lne(){const[e,t]=O.useState(new Set(["zero_commission"])),[r,n]=O.useState(new Set),{data:a,isLoading:s,error:o}=be({queryKey:["reports","anomalies"],queryFn:ue.getAnomaliesReport}),l=d=>{const f=new Set(e);f.has(d)?f.delete(d):f.add(d),t(f)},c=d=>{const f=new Set(r);f.has(d)?f.delete(d):f.add(d),n(f)};if(s)return i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(Fe,{className:"h-8 w-8 text-gray-400 animate-spin"})});if(o||!a)return i.jsx("div",{className:"text-center py-12",children:i.jsx("p",{className:"text-red-600",children:"Failed to load report. Run the generation script first."})});const u=[{key:"zero_commission",title:"Zero Commission Transactions",data:a.zero_commission},{key:"fixed_fee_mismatch",title:"Fixed Fee Mismatch",data:a.fixed_fee_mismatch},{key:"manual_transactions",title:"Manual Transactions",data:a.manual_transactions}];return i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[i.jsx(rt,{to:"/",className:"p-2 hover:bg-gray-100 rounded-lg",children:i.jsx(Ln,{className:"h-5 w-5 text-gray-500"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Anomalies Detected"}),i.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[a.scope," | Generated ",Cf(a.generated_at)]})]})]}),i.jsx(oe,{className:"mb-6",children:i.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Total Approved"}),i.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:ye(a.overall_stats.total_approved)})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Total Volume"}),i.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:X(a.overall_stats.total_volume)})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Total Commission"}),i.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:X(a.overall_stats.total_commission)})]})]})}),i.jsxs("div",{className:"space-y-4",children:[u.map(({key:d,title:f,data:h})=>i.jsx(Dne,{title:f,categoryKey:d,data:h,isExpanded:e.has(d),onToggle:()=>l(d),expandedMerchants:r,onToggleMerchant:c},d)),a.contract_mismatches_discovered&&i.jsx(Rne,{data:a.contract_mismatches_discovered,isExpanded:e.has("contract_mismatches_discovered"),onToggle:()=>l("contract_mismatches_discovered")})]})]})}function xu({label:e,value:t,subValue:r,variant:n="default"}){const a={default:"bg-gray-50",success:"bg-green-50",warning:"bg-amber-50",danger:"bg-red-50"},s={default:"text-gray-900",success:"text-green-700",warning:"text-amber-700",danger:"text-red-700"};return i.jsxs("div",{className:ce("rounded-lg p-4",a[n]),children:[i.jsx("div",{className:ce("text-2xl font-semibold",s[n]),children:typeof t=="number"?t.toLocaleString():t}),i.jsx("div",{className:"text-sm text-gray-500",children:e}),r&&i.jsx("div",{className:"text-xs text-gray-400 mt-1",children:r})]})}function Fne({shift:e,isExpanded:t,onToggle:r}){const n={critical:{bg:"bg-red-50",border:"border-red-200",badge:"bg-red-100 text-red-700"},warning:{bg:"bg-amber-50",border:"border-amber-200",badge:"bg-amber-100 text-amber-700"}},a=n[e.severity]||n.warning;return i.jsxs("div",{className:ce("border rounded-lg overflow-hidden",a.border),children:[i.jsxs("button",{onClick:r,className:ce("w-full px-4 py-3 flex items-center justify-between",a.bg,"hover:opacity-90 transition-opacity"),children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Qt,{className:ce("h-5 w-5",e.severity==="critical"?"text-red-600":"text-amber-600")}),i.jsxs("div",{className:"text-left",children:[i.jsxs("div",{className:"font-semibold text-gray-900",children:[e.merchant," - ",e.currency," ",e.point_id]}),i.jsx("div",{className:"text-sm text-gray-600",children:e.description})]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("span",{className:ce("px-2 py-1 rounded text-xs font-medium",a.badge),children:e.status}),i.jsx("div",{className:"text-right",children:i.jsxs("div",{className:ce("text-sm font-medium",e.net_impact===0?"text-green-600":"text-red-600"),children:["Net: ",X(e.net_impact)]})}),t?i.jsx(br,{className:"h-5 w-5 text-gray-400"}):i.jsx(Xe,{className:"h-5 w-5 text-gray-400"})]})]}),t&&i.jsxs("div",{className:"px-4 py-3 bg-white border-t border-gray-200",children:[i.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:["Sheet: ",i.jsx("code",{className:"bg-gray-100 px-1 rounded",children:e.sheet})]}),i.jsxs("table",{className:"min-w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"text-gray-500 text-xs uppercase",children:[i.jsx("th",{className:"text-left pb-2",children:"Date"}),i.jsx("th",{className:"text-right pb-2",children:"Actual Amount"}),i.jsx("th",{className:"text-right pb-2",children:"Expected (Recon)"}),i.jsx("th",{className:"text-right pb-2",children:"Deviation"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-100",children:e.pairs.map((s,o)=>i.jsxs("tr",{children:[i.jsx("td",{className:"py-2 font-mono text-gray-900",children:s.date}),i.jsx("td",{className:"py-2 text-right text-gray-900",children:X(s.actual)}),i.jsx("td",{className:"py-2 text-right text-gray-500",children:X(s.expected)}),i.jsxs("td",{className:ce("py-2 text-right font-medium",s.deviation>0?"text-green-600":"text-red-600"),children:[s.deviation>0?"+":"",X(s.deviation)]})]},o))})]})]})]})}function Bne({groups:e}){return i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Merchant"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Currency"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Payment"}),i.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Transactions"}),i.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Amount"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Reason"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map((t,r)=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:t.merchant}),i.jsx("td",{className:"px-4 py-3 text-sm",children:i.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:t.currency})}),i.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:t.payment_type}),i.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-900",children:t.transaction_count.toLocaleString()}),i.jsxs("td",{className:"px-4 py-3 text-sm text-right font-medium text-gray-900",children:[t.total_amount.toLocaleString(void 0,{minimumFractionDigits:2})," ",t.currency]}),i.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:t.reason})]},r))})]})})}function zne({items:e}){const t={high:"bg-red-100 text-red-700",medium:"bg-amber-100 text-amber-700",low:"bg-gray-100 text-gray-700"};return i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Merchant"}),i.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Records"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date Range"}),i.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Amount"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Severity"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Reason"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map((r,n)=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:r.merchant}),i.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-900",children:r.records}),i.jsxs("td",{className:"px-4 py-3 text-sm text-gray-500 font-mono",children:[r.date_from," ~ ",r.date_to]}),i.jsx("td",{className:"px-4 py-3 text-sm text-right font-medium text-gray-900",children:X(r.total_amount)}),i.jsx("td",{className:"px-4 py-3 text-sm",children:i.jsx("span",{className:ce("inline-flex items-center px-2 py-0.5 rounded text-xs font-medium",t[r.severity]||t.low),children:r.severity})}),i.jsx("td",{className:"px-4 py-3 text-sm text-gray-500 max-w-xs truncate",title:r.reason,children:r.reason})]},n))})]})})}function yN({errors:e}){return i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Merchant"}),i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Point"}),i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Currency"}),i.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Actual"}),i.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Expected"}),i.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Deviation"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map((t,r)=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-3 py-2 text-gray-900",children:t.merchant}),i.jsx("td",{className:"px-3 py-2 text-gray-500",children:t.point_id}),i.jsx("td",{className:"px-3 py-2 text-gray-500 font-mono",children:t.date}),i.jsx("td",{className:"px-3 py-2 text-gray-500",children:t.currency}),i.jsx("td",{className:"px-3 py-2 text-right text-gray-900",children:t.actual.toLocaleString(void 0,{minimumFractionDigits:2})}),i.jsx("td",{className:"px-3 py-2 text-right text-gray-500",children:t.expected.toLocaleString(void 0,{minimumFractionDigits:2})}),i.jsxs("td",{className:ce("px-3 py-2 text-right font-medium",t.deviation>0?"text-green-600":"text-red-600"),children:[t.deviation>0?"+":"",t.deviation.toFixed(2)]})]},r))})]})})}function Une(){const[e,t]=O.useState(new Set),[r,n]=O.useState(!1),{data:a,isLoading:s,error:o}=be({queryKey:["reports","reconciliation-deviation"],queryFn:ue.getReconciliationDeviationReport}),l=c=>{t(u=>{const d=new Set(u);return d.has(c)?d.delete(c):d.add(c),d})};return s?i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(Fe,{className:"h-8 w-8 text-gray-400 animate-spin"})}):o||!a?i.jsx("div",{className:"text-center py-12",children:i.jsx("p",{className:"text-red-600",children:"Failed to load report."})}):(e.size===0&&a.date_shifts.length>0&&t(new Set([a.date_shifts[0].id])),i.jsxs("div",{children:[i.jsxs(rt,{to:"/",className:"inline-flex items-center gap-2 text-sm text-gray-500 hover:text-gray-700 mb-4",children:[i.jsx(Ln,{className:"h-4 w-4"}),"Back to Reports"]}),i.jsxs(oe,{className:"mb-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:i.jsx(bS,{className:"h-6 w-6 text-blue-600"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Reconciliation Deviation Report"}),i.jsx("p",{className:"text-sm text-gray-500",children:a.scope})]})]}),i.jsxs("div",{className:"text-right text-sm text-gray-500",children:[i.jsxs("div",{children:["Generated: ",new Date(a.generated_at).toLocaleDateString()]}),i.jsx("div",{className:"text-xs",children:a.data_source})]})]}),i.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[i.jsx(xu,{label:"Total Records",value:a.summary.total_records,subValue:"DailyReconciliation nodes"}),i.jsx(xu,{label:"With Recon Data",value:a.summary.with_recon_data,subValue:`${(a.summary.with_recon_data/a.summary.total_records*100).toFixed(1)}% coverage`,variant:"success"}),i.jsx(xu,{label:"Missing Recon",value:a.summary.missing_recon_data,subValue:"Records without reconciliation",variant:a.summary.missing_recon_data>100?"warning":"default"}),i.jsx(xu,{label:"Deviations",value:a.summary.total_deviations,subValue:`${a.summary.significant_deviations} significant (>1)`,variant:a.summary.significant_deviations>0?"danger":"success"})]}),a.comparison_v1.deviations_resolved>0&&i.jsx("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(w5,{className:"h-5 w-5 text-green-600 mt-0.5"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-green-800",children:"Improvement from Previous Version"}),i.jsxs("div",{className:"text-sm text-green-700",children:[i.jsx("strong",{children:a.comparison_v1.records_added})," new records with reconciliation data added.",i.jsxs("strong",{children:[" ",a.comparison_v1.deviations_resolved]})," deviations resolved (from ",a.comparison_v1.previous_deviations," to ",a.summary.total_deviations,")."]})]})]})})]}),i.jsxs(oe,{className:"mb-6",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(_x,{className:"h-5 w-5 text-red-600"}),i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Date Shifts"}),i.jsxs("span",{className:"text-sm text-gray-500",children:["(",a.date_shifts.length," issues - Data Entry Errors)"]})]}),i.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"These are confirmed date shifts where transaction data appears on wrong dates in reconciliation files. Offsetting deviations that sum to zero indicate data was swapped between dates."}),i.jsx("div",{className:"space-y-3",children:a.date_shifts.map(c=>i.jsx(Fne,{shift:c,isExpanded:e.has(c.id),onToggle:()=>l(c.id)},c.id))})]}),i.jsxs(oe,{className:"mb-6",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(sd,{className:"h-5 w-5 text-amber-600"}),i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Unmatched Transactions"}),i.jsxs("span",{className:"text-sm text-gray-500",children:["(",a.unmatched_transactions.total_count.toLocaleString()," txns - ",a.unmatched_transactions.total_percent,"% of total)"]})]}),i.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Transactions without matching rate plans in merchant contracts. These need contract updates to include missing currencies/payment types."}),i.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:i.jsx(Bne,{groups:a.unmatched_transactions.groups})})]}),i.jsxs(oe,{className:"mb-6",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(f5,{className:"h-5 w-5 text-gray-600"}),i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Missing Reconciliation Data"}),i.jsxs("span",{className:"text-sm text-gray-500",children:["(",a.summary.missing_recon_data," records)"]})]}),i.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Transaction records that have no corresponding data in reconciliation files. May indicate missing files, merchant name mismatches, or uncovered payment types."}),i.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:i.jsx(zne,{items:a.missing_reconciliation})})]}),i.jsxs(oe,{className:"mb-6",children:[i.jsxs("button",{onClick:()=>n(!r),className:"w-full flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Sa,{className:"h-5 w-5 text-green-600"}),i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Rounding Errors"}),i.jsxs("span",{className:"text-sm text-gray-500",children:["(",a.rounding_errors.length," records)"]}),i.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-700",children:"No Action Needed"})]}),r?i.jsx(br,{className:"h-5 w-5 text-gray-400"}):i.jsx(Xe,{className:"h-5 w-5 text-gray-400"})]}),r&&i.jsxs("div",{className:"mt-4",children:[i.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Minor floating-point arithmetic differences (less than 0.10). These are expected and require no action."}),i.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:i.jsx(yN,{errors:a.rounding_errors})}),a.small_discrepancies.length>0&&i.jsxs("div",{className:"mt-4",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Small Discrepancies (1-10 units)"}),i.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:i.jsx(yN,{errors:a.small_discrepancies})})]})]})]}),a.resolved_issues.count>0&&i.jsxs(oe,{className:"mb-6",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Sa,{className:"h-5 w-5 text-green-600"}),i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Resolved from Previous Report"})]}),i.jsx("p",{className:"text-sm text-gray-600",children:a.resolved_issues.details})]})]}))}function Wne(e){switch(e){case"ok":return"bg-green-50";case"warning":return"bg-yellow-50";case"error":return"bg-red-50";case"missing":return"bg-gray-100";default:return"bg-gray-50"}}function cA(e){switch(e){case"ok":return"text-green-700";case"warning":return"text-amber-700";case"error":return"text-red-700";default:return"text-gray-500"}}function Hne(e,t){return e===null||t===null||Math.abs(t)<.01?"":`${e>0?"+":""}${t.toFixed(1)}%`}function Vne({data:e,onClose:t,position:r}){var a;const n=r==="above"?{bottom:"100%",left:"50%",transform:"translateX(-50%)",marginBottom:"4px"}:{top:"100%",left:"50%",transform:"translateX(-50%)",marginTop:"4px"};return i.jsxs("div",{className:"absolute z-50 bg-white border border-gray-200 rounded-lg shadow-lg p-4 min-w-[420px] text-sm",style:n,children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("span",{className:"font-semibold text-gray-900",children:e.month}),i.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:""})]}),i.jsxs("div",{className:"mb-5",children:[i.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase mb-2",children:"Transactions (Registry)"}),i.jsxs("div",{className:"grid grid-cols-4 gap-x-4 text-xs",children:[i.jsx("div",{className:"text-gray-500",children:"Amount"}),i.jsx("div",{className:"text-gray-500",children:"Count"}),i.jsx("div",{className:"text-gray-500",children:"Commission"}),i.jsx("div",{className:"text-gray-500",children:"Rate"}),i.jsx("div",{className:"font-medium text-gray-900",children:X(e.tx_amount)}),i.jsx("div",{className:"font-medium text-gray-900",children:e.tx_count.toLocaleString()}),i.jsx("div",{className:"font-medium text-gray-900",children:X(e.tx_commission)}),i.jsxs("div",{className:"font-medium text-gray-900",children:[e.tx_effective_rate.toFixed(2),"%"]})]})]}),e.recon_amount!==null&&i.jsxs("div",{className:"mb-5",children:[i.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase mb-2",children:"Reconciliation"}),i.jsxs("div",{className:"grid grid-cols-4 gap-x-4 text-xs",children:[i.jsx("div",{className:"text-gray-500",children:"Amount"}),i.jsx("div",{className:"text-gray-500",children:"Count"}),i.jsx("div",{className:"text-gray-500",children:"Commission"}),i.jsx("div",{className:"text-gray-500",children:"Rate"}),i.jsx("div",{className:"font-medium text-gray-900",children:X(e.recon_amount)}),i.jsx("div",{className:"font-medium text-gray-900",children:(e.recon_count||0).toLocaleString()}),i.jsx("div",{className:"font-medium text-gray-900",children:X(e.recon_commission||0)}),i.jsxs("div",{className:"font-medium text-gray-900",children:[(e.recon_rate||0).toFixed(2),"%"]})]})]}),e.contract_rate!==null&&i.jsxs("div",{className:"mb-5",children:[i.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase mb-2",children:"Contract"}),i.jsxs("div",{className:"text-xs",children:[i.jsx("span",{className:"text-gray-500",children:"Rate: "}),i.jsxs("span",{className:"font-medium text-gray-900",children:[e.contract_rate,"%"]})]})]}),e.amount_diff!==null&&i.jsx("div",{className:`pt-3 border-t ${e.status==="error"?"border-red-200":"border-gray-200"}`,children:i.jsxs("div",{className:`font-medium ${cA(e.status)}`,children:["Deviation: ",e.amount_diff>0?"+":"",X(e.amount_diff)," (",(a=e.deviation_percent)==null?void 0:a.toFixed(1),"%)"]})})]})}function Kne({data:e,tooltipPosition:t}){const[r,n]=O.useState(!1);return e.status==="empty"?i.jsx("td",{className:"py-2 px-3 text-center text-gray-300",children:"-"}):i.jsxs("td",{className:`py-2 px-3 relative cursor-pointer ${Wne(e.status)}`,onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),children:[i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsx("span",{className:"font-medium text-gray-900",children:X(e.tx_amount)}),e.deviation_percent!==null&&Math.abs(e.deviation_percent)>=.1&&i.jsx("span",{className:`text-xs ${cA(e.status)}`,children:Hne(e.amount_diff,e.deviation_percent)})]}),r&&i.jsx(Vne,{data:e,onClose:()=>n(!1),position:t})]})}function uA({data:e,isLoading:t}){if(t)return i.jsx(oe,{title:"Monthly Reconciliation",className:"mb-6",children:i.jsx("div",{className:"space-y-2",children:[1,2,3,4,5,6].map(l=>i.jsx(fe,{className:"h-10 w-full"},l))})});if(!e||e.length===0)return null;const r=e.filter(l=>l.status!=="empty");if(r.length===0)return null;const n=r.filter(l=>l.status==="ok").length,a=r.filter(l=>l.status==="warning").length,s=r.filter(l=>l.status==="error").length,o=r.filter(l=>l.status==="missing").length;return i.jsxs(oe,{title:"Monthly Reconciliation",className:"mb-6",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-4 text-xs",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-3 h-3 rounded bg-green-200"}),i.jsxs("span",{className:"text-gray-600",children:["OK (",n,")"]})]}),a>0&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-3 h-3 rounded bg-yellow-200"}),i.jsxs("span",{className:"text-gray-600",children:["Warning (",a,")"]})]}),s>0&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-3 h-3 rounded bg-red-200"}),i.jsxs("span",{className:"text-gray-600",children:["Error (",s,")"]})]}),o>0&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-3 h-3 rounded bg-gray-200"}),i.jsxs("span",{className:"text-gray-600",children:["No Recon (",o,")"]})]})]}),i.jsx("div",{children:i.jsxs("table",{className:"w-full text-sm border-collapse table-fixed",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-gray-200",children:[i.jsx("th",{className:"text-left py-2 px-3 font-medium text-gray-600 w-20",children:"Month"}),i.jsx("th",{className:"text-left py-2 px-3 font-medium text-gray-600",children:"Incoming"}),i.jsx("th",{className:"text-center py-2 px-3 font-medium text-gray-600",children:"Refund"}),i.jsx("th",{className:"text-center py-2 px-3 font-medium text-gray-600",children:"Payout"})]})}),i.jsx("tbody",{children:[...e].reverse().map((l,c,u)=>i.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[i.jsx("td",{className:"py-2 px-3 font-medium text-gray-700",children:l.month}),i.jsx(Kne,{data:l,tooltipPosition:c>u.length/2?"above":"below"}),i.jsx("td",{className:"py-2 px-3 text-center text-gray-300",children:"-"}),i.jsx("td",{className:"py-2 px-3 text-center text-gray-300",children:"-"})]},l.month))})]})}),i.jsx("div",{className:"mt-4 text-xs text-gray-500",children:"Compares transaction amounts from registry files with reconciliation reports. Hover over cells to see detailed breakdown."})]})}function zo({label:e,value:t,subValue:r,variant:n="default"}){const a={default:"bg-gray-50",success:"bg-green-50",warning:"bg-amber-50",danger:"bg-red-50"},s={default:"text-gray-900",success:"text-green-700",warning:"text-amber-700",danger:"text-red-700"};return i.jsxs("div",{className:ce("rounded-lg p-4",a[n]),children:[i.jsx("div",{className:ce("text-2xl font-semibold",s[n]),children:typeof t=="number"?t.toLocaleString():t}),i.jsx("div",{className:"text-sm text-gray-500",children:e}),r&&i.jsx("div",{className:"text-xs text-gray-400 mt-1",children:r})]})}function qne({status:e}){const t={exact:{bg:"bg-green-100",text:"text-green-700",icon:Sa,label:"Exact"},minor:{bg:"bg-amber-100",text:"text-amber-700",icon:Qt,label:"Minor"},significant:{bg:"bg-red-100",text:"text-red-700",icon:_x,label:"Significant"},no_transactions:{bg:"bg-gray-100",text:"text-gray-500",icon:Qt,label:"No Data"}},{bg:r,text:n,icon:a,label:s}=t[e]||t.no_transactions;return i.jsxs("span",{className:ce("inline-flex items-center gap-1 px-2 py-0.5 rounded text-xs font-medium",r,n),children:[i.jsx(a,{className:"h-3 w-3"}),s]})}function Gne({merchants:e,onMerchantClick:t}){return i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Merchant"}),i.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Transactions"}),i.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Volume"}),i.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Rate"}),i.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Expected"}),i.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actual"}),i.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Deviation"}),i.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(r=>i.jsxs("tr",{className:ce("hover:bg-gray-50",r.status==="significant"&&"bg-red-50 hover:bg-red-100",r.status==="no_transactions"&&"bg-gray-50 text-gray-400",t&&"cursor-pointer"),children:[i.jsxs("td",{className:"px-4 py-3",onClick:()=>t==null?void 0:t(r),children:[i.jsx("div",{className:"font-medium text-gray-900 hover:text-blue-600 cursor-pointer",children:r.merchant}),i.jsx("div",{className:"text-xs text-gray-500",children:r.currencies&&r.currencies.length>0?r.currencies.join(", "):"No transactions"})]}),i.jsx("td",{className:"px-4 py-3 text-right text-sm text-gray-900",children:(r.transaction_count||0).toLocaleString()}),i.jsx("td",{className:"px-4 py-3 text-right text-sm text-gray-900",children:(r.total_volume||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}),i.jsx("td",{className:"px-4 py-3 text-center text-sm text-gray-500",children:r.contract_rate!=null?`${r.contract_rate}%`:"-"}),i.jsx("td",{className:"px-4 py-3 text-right text-sm text-gray-500",children:r.expected_commission!=null?X(r.expected_commission):"-"}),i.jsx("td",{className:"px-4 py-3 text-right text-sm font-medium text-gray-900",children:r.actual_commission!=null?X(r.actual_commission):"-"}),i.jsx("td",{className:ce("px-4 py-3 text-right text-sm font-medium",r.deviation===0?"text-green-600":r.deviation>0?"text-amber-600":"text-red-600"),children:r.status==="no_transactions"?i.jsx("span",{className:"text-gray-400",children:"-"}):r.deviation===0?i.jsx("span",{className:"text-green-600",children:"0.00"}):i.jsxs(i.Fragment,{children:[X(r.deviation),i.jsxs("div",{className:"text-xs font-normal",children:["(",r.deviation_percent>0?"+":"",r.deviation_percent.toFixed(2),"%)"]})]})}),i.jsx("td",{className:"px-4 py-3 text-center",children:i.jsx(qne,{status:r.status})})]},r.merchant))})]})})}async function Xne(e){const t=await fetch(`/api/merchants/${e}`);if(!t.ok)throw new Error("Failed to load merchant");return t.json()}function Qne({example:e}){var s;const[t,r]=O.useState(!1);if(!e||e.actual_commission==null||e.expected_commission==null)return null;const n=e.actual_commission-e.expected_commission,a=e.expected_commission>0?n/e.expected_commission*100:0;return i.jsxs("div",{className:"mb-6 border border-amber-200 rounded-lg bg-amber-50",children:[i.jsxs("button",{onClick:()=>r(!t),className:"w-full px-4 py-3 flex items-center justify-between text-left hover:bg-amber-100 rounded-lg transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ao,{className:"h-4 w-4 text-amber-600"}),i.jsx("span",{className:"font-medium text-amber-800",children:"Transaction Example"}),i.jsx("span",{className:"text-xs text-amber-600",children:"(showing deviation)"})]}),t?i.jsx(Xe,{className:"h-4 w-4 text-amber-600"}):i.jsx(an,{className:"h-4 w-4 text-amber-600"})]}),t&&i.jsxs("div",{className:"px-4 pb-4 space-y-3",children:[i.jsxs("div",{className:"text-xs text-gray-500",children:[i.jsx("span",{className:"font-medium",children:"Source:"})," ",e.source_file]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[i.jsxs("div",{className:"bg-white rounded p-2",children:[i.jsx("div",{className:"text-xs text-gray-500",children:"Date"}),i.jsx("div",{className:"font-medium",children:e.transaction_date})]}),i.jsxs("div",{className:"bg-white rounded p-2",children:[i.jsx("div",{className:"text-xs text-gray-500",children:"Amount"}),i.jsxs("div",{className:"font-medium",children:[((s=e.amount)==null?void 0:s.toFixed(2))??"N/A"," ",e.currency]})]}),i.jsxs("div",{className:"bg-white rounded p-2",children:[i.jsx("div",{className:"text-xs text-gray-500",children:"Point"}),i.jsx("div",{className:"font-medium",children:e.point_name||e.point_id||"N/A"})]}),i.jsxs("div",{className:"bg-white rounded p-2",children:[i.jsx("div",{className:"text-xs text-gray-500",children:"Effective Rate"}),i.jsxs("div",{className:ce("font-medium",e.effective_rate>e.contract_rate?"text-red-600":"text-green-600"),children:[e.effective_rate.toFixed(2),"%"]})]})]}),i.jsx("div",{className:"bg-white rounded p-3",children:i.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-xs text-gray-500",children:"Actual Commission"}),i.jsxs("div",{className:"font-medium",children:[e.actual_commission.toFixed(2)," EUR"]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-xs text-gray-500",children:"Expected Commission"}),i.jsxs("div",{className:"font-medium text-gray-600",children:[e.expected_commission.toFixed(2)," EUR"]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-xs text-gray-500",children:"Deviation"}),i.jsxs("div",{className:ce("font-medium",n>0?"text-red-600":n<0?"text-green-600":"text-gray-600"),children:[n>0?"+":"",n.toFixed(2)," EUR (",a>0?"+":"",a.toFixed(1),"%)"]})]})]})}),e.contract_line&&i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded p-3",children:[i.jsx("div",{className:"text-xs text-blue-600 font-medium mb-1",children:"Contract Rate"}),i.jsx("div",{className:"text-sm text-blue-800 font-mono",children:e.contract_line}),i.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:["Rate: ",e.contract_rate,"% + ",e.contract_fixed," EUR fixed"]})]}),!e.contract_line&&i.jsxs("div",{className:"text-xs text-gray-500",children:["Contract rate: ",e.contract_rate,"% + ",e.contract_fixed," EUR fixed"]})]})]})}function Yne({merchant:e,merchantId:t,onClose:r}){const{data:n,isLoading:a}=be({queryKey:["merchant",t],queryFn:()=>Xne(t),enabled:!!t});return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed inset-0 bg-black/30 z-40",onClick:r}),i.jsxs("div",{className:"fixed top-0 right-0 h-full w-1/2 bg-white shadow-xl z-50 overflow-y-auto",children:[i.jsxs("div",{className:"sticky top-0 z-10 bg-white border-b px-6 py-4 flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:e.merchant}),i.jsx("p",{className:"text-sm text-gray-500",children:"Monthly Reconciliation Details"})]}),i.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:i.jsx(Yt,{className:"h-5 w-5 text-gray-500"})})]}),i.jsxs("div",{className:"p-6",children:[e.transaction_example&&i.jsx(Qne,{example:e.transaction_example}),t?a?i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(Fe,{className:"h-8 w-8 text-gray-400 animate-spin"})}):n!=null&&n.monthly_reconciliation&&n.monthly_reconciliation.length>0?i.jsx(uA,{data:n.monthly_reconciliation,isLoading:!1}):i.jsxs("div",{className:"text-center py-12 text-gray-500",children:[i.jsx("p",{children:"No reconciliation data available for this merchant."}),i.jsx("p",{className:"text-xs mt-2",children:"Reconciliation data may not have been processed yet."})]}):i.jsx("div",{className:"text-center py-12 text-gray-500",children:"Could not find merchant ID for this merchant"})]})]})]})}function Zne({currencies:e}){return i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Currency"}),i.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Transactions"}),i.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Volume"}),i.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Commission"}),i.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Deviation"}),i.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Eff. Rate"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(t=>i.jsxs("tr",{className:ce("hover:bg-gray-50",t.deviation!==0&&"bg-amber-50 hover:bg-amber-100"),children:[i.jsx("td",{className:"px-4 py-3",children:i.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded text-sm font-medium bg-blue-100 text-blue-800",children:t.currency})}),i.jsx("td",{className:"px-4 py-3 text-right text-gray-900",children:t.transaction_count.toLocaleString()}),i.jsx("td",{className:"px-4 py-3 text-right text-gray-900",children:t.total_volume.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}),i.jsx("td",{className:"px-4 py-3 text-right font-medium text-gray-900",children:t.actual_commission.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}),i.jsx("td",{className:ce("px-4 py-3 text-right font-medium",t.deviation===0?"text-green-600":"text-red-600"),children:t.deviation===0?"0.00":X(t.deviation)}),i.jsxs("td",{className:"px-4 py-3 text-right text-gray-500",children:[t.avg_effective_rate.toFixed(2),"%"]})]},t.currency))})]})})}function Jne(){var g;const[e,t]=O.useState(null),{data:r,isLoading:n,error:a}=be({queryKey:["reports","commission-compliance"],queryFn:ue.getCommissionComplianceReport}),{data:s}=be({queryKey:["merchants"],queryFn:ue.getMerchants}),o=O.useMemo(()=>{if(!s)return new Map;const v=new Map;return s.forEach(b=>{v.set(b.merchant_name,b.merchant_id)}),v},[s]);if(n)return i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(Fe,{className:"h-8 w-8 text-gray-400 animate-spin"})});if(a||!r)return i.jsx("div",{className:"text-center py-12",children:i.jsx("p",{className:"text-red-600",children:"Failed to load report."})});const{summary:l,deviation_distribution:c,merchant_summary:u,currency_breakdown:d}=r,f=((g=c.no_transactions)==null?void 0:g.count)||0,h=c.exact_match.count+c.minor_deviation.count+c.significant_deviation.count+f,p=h>0?c.exact_match.count/h*100:0,y=h>0?c.minor_deviation.count/h*100:0,x=h>0?c.significant_deviation.count/h*100:0,m=h>0?f/h*100:0;return i.jsxs("div",{children:[i.jsxs(rt,{to:"/",className:"inline-flex items-center gap-2 text-sm text-gray-500 hover:text-gray-700 mb-4",children:[i.jsx(Ln,{className:"h-4 w-4"}),"Back to Reports"]}),i.jsxs(oe,{className:"mb-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:i.jsx(Sa,{className:"h-6 w-6 text-green-600"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Commission Mismatch Report"}),i.jsx("p",{className:"text-sm text-gray-500",children:r.scope})]})]}),i.jsxs("div",{className:"text-right text-sm text-gray-500",children:[i.jsxs("div",{children:["Generated: ",new Date(r.generated_at).toLocaleDateString()]}),i.jsx("div",{className:"text-xs",children:r.data_source})]})]}),i.jsxs("div",{className:"grid grid-cols-5 gap-4 mb-6",children:[i.jsx(zo,{label:"Transactions",value:l.total_transactions.toLocaleString(),subValue:"Analyzed"}),i.jsx(zo,{label:"Total Volume",value:X(l.total_volume),subValue:"All currencies"}),i.jsx(zo,{label:"Expected Commission",value:X(l.total_expected_commission),subValue:"Per contracts"}),i.jsx(zo,{label:"Actual Commission",value:X(l.total_actual_commission),subValue:"Charged",variant:l.total_deviation===0?"success":l.total_deviation<0?"danger":"warning"}),i.jsx(zo,{label:"Match Rate",value:`${l.match_percentage.toFixed(1)}%`,subValue:`${l.merchants_analyzed} merchants`,variant:l.match_percentage>=99?"success":l.match_percentage>=95?"warning":"danger"})]}),l.total_deviation!==0&&i.jsx("div",{className:ce("p-4 rounded-lg border",l.total_deviation<0?"bg-red-50 border-red-200":"bg-amber-50 border-amber-200"),children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Nx,{className:ce("h-5 w-5 mt-0.5",l.total_deviation<0?"text-red-600":"text-amber-600")}),i.jsxs("div",{children:[i.jsx("div",{className:ce("font-medium",l.total_deviation<0?"text-red-800":"text-amber-800"),children:l.total_deviation<0?"Underpayment Detected":"Overpayment Detected"}),i.jsxs("div",{className:ce("text-sm",l.total_deviation<0?"text-red-700":"text-amber-700"),children:["Total deviation: ",i.jsx("strong",{children:X(Math.abs(l.total_deviation))})," ","(",(Math.abs(l.total_deviation)/l.total_expected_commission*100).toFixed(2),"% of expected)"]})]})]})}),l.total_deviation===0&&i.jsx("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Sa,{className:"h-5 w-5 text-green-600 mt-0.5"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-green-800",children:"Perfect Commission Match"}),i.jsx("div",{className:"text-sm text-green-700",children:"All merchant commissions match contracted rates exactly."})]})]})})]}),i.jsxs(oe,{className:"mb-6",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(hb,{className:"h-5 w-5 text-gray-600"}),i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Merchant Compliance Distribution"})]}),i.jsxs("div",{className:"flex items-center gap-2 h-8 rounded-lg overflow-hidden mb-4",children:[p>0&&i.jsx("div",{className:"h-full bg-green-500 flex items-center justify-center text-white text-xs font-medium",style:{width:`${p}%`},children:c.exact_match.count}),y>0&&i.jsx("div",{className:"h-full bg-amber-500 flex items-center justify-center text-white text-xs font-medium",style:{width:`${y}%`},children:c.minor_deviation.count}),x>0&&i.jsx("div",{className:"h-full bg-red-500 flex items-center justify-center text-white text-xs font-medium",style:{width:`${x}%`},children:c.significant_deviation.count}),m>0&&i.jsx("div",{className:"h-full bg-gray-400 flex items-center justify-center text-white text-xs font-medium",style:{width:`${m}%`},children:f})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded bg-green-500"}),i.jsxs("span",{className:"text-gray-600",children:["Exact Match (",c.exact_match.count,")"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded bg-amber-500"}),i.jsxs("span",{className:"text-gray-600",children:["Minor (",c.minor_deviation.count,")"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded bg-red-500"}),i.jsxs("span",{className:"text-gray-600",children:["Significant (",c.significant_deviation.count,")"]})]}),f>0&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded bg-gray-400"}),i.jsxs("span",{className:"text-gray-600",children:["No Transactions (",f,")"]})]})]})]}),i.jsxs(oe,{className:"mb-6",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(hb,{className:"h-5 w-5 text-gray-600"}),i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Merchant Summary"}),i.jsxs("span",{className:"text-sm text-gray-500",children:["(",u.length," merchants)"]})]}),i.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Comparison of expected commission (based on contract rates) vs actual commission charged. Merchants with significant deviations are highlighted."}),i.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:i.jsx(Gne,{merchants:u,onMerchantClick:v=>t(v)})})]}),i.jsxs(oe,{className:"mb-6",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(o5,{className:"h-5 w-5 text-gray-600"}),i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Currency Breakdown"})]}),i.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Commission analysis grouped by transaction currency. Shows effective rate calculated from actual commission."}),i.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:i.jsx(Zne,{currencies:d})})]}),e&&i.jsx(Yne,{merchant:e,merchantId:o.get(e.merchant)??null,onClose:()=>t(null)})]})}async function eae(){const e=await fetch("/api/reports/merchants-overview");if(!e.ok)throw new Error("Failed to load report");return e.json()}function tae(e){switch(e){case"critical":return"bg-red-500 text-white";case"warning":return"bg-amber-400 text-amber-900";case"minor":return"bg-yellow-200 text-yellow-800";case"ok":return"bg-green-100 text-green-700";default:return"bg-gray-50 text-gray-400"}}function Ep(e){return e==null?"-":`${e.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`}function rae({problem:e,columnId:t,position:r}){var a;const n=r==="above"?"bottom-full mb-2":"top-full mt-2";return i.jsxs("div",{className:ce("absolute z-50 bg-white border border-gray-200 rounded-lg shadow-xl p-4 min-w-[320px] text-sm",n,"left-1/2 -translate-x-1/2"),children:[i.jsxs("div",{className:"font-semibold text-gray-900 mb-3 pb-2 border-b",children:[t==="commission_mismatch"&&"Commission Mismatch",t==="date_shifts"&&"Date Shifts",t==="unmatched_transactions"&&"Unmatched Transactions",t==="missing_reconciliation"&&"Missing Reconciliation"]}),t==="commission_mismatch"&&i.jsxs("div",{className:"space-y-2",children:[e.expected!==void 0&&i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-gray-500",children:"Expected"}),i.jsx("div",{className:"font-medium text-gray-900",children:Ep(e.expected)})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-gray-500",children:"Actual"}),i.jsx("div",{className:"font-medium text-gray-900",children:Ep(e.actual)})]})]}),e.amount!==void 0&&e.amount!==0&&i.jsxs("div",{className:ce("mt-2 p-2 rounded text-xs font-medium",e.amount>0?"bg-amber-50 text-amber-800":"bg-red-50 text-red-800"),children:["Deviation: ",Ep(e.amount)," (",e.percent!==void 0?`${e.percent>0?"+":""}${e.percent.toFixed(2)}%`:"",")"]}),e.severity==="ok"&&i.jsxs("div",{className:"text-green-600 text-xs flex items-center gap-1",children:[i.jsx(Sa,{className:"h-3 w-3"}),"No deviation detected"]})]}),t==="date_shifts"&&e.shifts&&i.jsx("div",{className:"space-y-2",children:e.shifts.map((s,o)=>i.jsxs("div",{className:"text-xs p-2 bg-gray-50 rounded",children:[i.jsx("span",{className:ce("inline-block px-1.5 py-0.5 rounded text-xs font-medium mr-2",s.severity==="critical"?"bg-red-100 text-red-700":"bg-amber-100 text-amber-700"),children:s.currency}),s.description]},o))}),t==="unmatched_transactions"&&e.groups&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"text-xs text-gray-600 mb-2",children:["Total: ",(a=e.count)==null?void 0:a.toLocaleString()," transactions"]}),e.groups.slice(0,3).map((s,o)=>i.jsxs("div",{className:"text-xs p-2 bg-gray-50 rounded",children:[i.jsx("span",{className:"inline-block px-1.5 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-700 mr-2",children:s.currency}),i.jsx("span",{className:"font-medium",children:s.count.toLocaleString()})," txns",i.jsx("div",{className:"text-gray-500 mt-1",children:s.reason})]},o)),e.groups.length>3&&i.jsxs("div",{className:"text-xs text-gray-500",children:["+",e.groups.length-3," more issues"]})]}),t==="missing_reconciliation"&&i.jsxs("div",{className:"space-y-2",children:[e.records!==void 0&&i.jsxs("div",{className:"text-xs",children:[i.jsx("span",{className:"font-medium",children:e.records})," records missing"]}),e.reason&&i.jsx("div",{className:"text-xs p-2 bg-gray-50 rounded text-gray-600",children:e.reason})]}),e.severity==="none"&&i.jsx("div",{className:"text-gray-400 text-xs",children:"No data"})]})}function vu(e){if(e==null||e===0)return"";const t=Math.abs(e);return t>=1e6?`${(e/1e6).toFixed(1)}M`:t>=1e3?`${(e/1e3).toFixed(0)}K`:`${e.toFixed(0)}`}function nae(e,t){if(e.severity==="none")return{primary:"-"};if(e.severity==="ok")return{primary:""};switch(t){case"commission_mismatch":const r=e.effective_rate!==void 0&&e.contract_rate!==void 0?`${e.effective_rate.toFixed(1)}% vs ${e.contract_rate}%`:void 0;return{primary:vu(e.amount)||"!",secondary:r};case"date_shifts":return{primary:e.count?`${e.count}`:"!",secondary:e.net_impact?vu(e.net_impact):void 0};case"unmatched_transactions":return{primary:vu(e.amount)||"!",secondary:e.count?`${(e.count/1e3).toFixed(0)}K txn`:void 0};case"missing_reconciliation":return{primary:vu(e.amount)||"!",secondary:e.records?`${e.records} rec`:void 0};default:return{primary:"!"}}}function aae({problem:e,columnId:t,rowIndex:r,totalRows:n}){const[a,s]=O.useState(!1),o=r>n/2?"above":"below",l=nae(e,t);return i.jsxs("td",{className:"relative p-0",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),onClick:c=>c.stopPropagation(),children:[i.jsxs("div",{className:ce("h-14 flex flex-col items-center justify-center transition-all px-1",tae(e.severity),"hover:opacity-80"),children:[i.jsx("span",{className:"text-xs font-semibold leading-tight",children:l.primary}),l.secondary&&i.jsx("span",{className:"text-[10px] leading-tight opacity-80",children:l.secondary})]}),a&&e.severity!=="none"&&i.jsx(rae,{problem:e,columnId:t,position:o})]})}async function iae(e){const t=await fetch(`/api/merchants/${e}`);if(!t.ok)throw new Error("Failed to load merchant");return t.json()}function sae({merchant:e,onClose:t}){const{data:r,isLoading:n}=be({queryKey:["merchant",e.merchant_id],queryFn:()=>iae(e.merchant_id),enabled:!!e.merchant_id});return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed inset-0 bg-black/30 z-40",onClick:t}),i.jsxs("div",{className:"fixed top-0 right-0 h-full w-1/2 bg-white shadow-xl z-50 overflow-y-auto",children:[i.jsxs("div",{className:"sticky top-0 z-10 bg-white border-b px-6 py-4 flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:e.merchant_name}),i.jsx("p",{className:"text-sm text-gray-500",children:"Monthly Reconciliation Details"})]}),i.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:i.jsx(Yt,{className:"h-5 w-5 text-gray-500"})})]}),i.jsxs("div",{className:"p-6",children:[n?i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(Fe,{className:"h-8 w-8 text-gray-400 animate-spin"})}):r?i.jsx(uA,{data:r.monthly_reconciliation,isLoading:!1}):i.jsx("div",{className:"text-center py-12 text-gray-500",children:"No data available"}),e.merchant_id&&i.jsx("div",{className:"mt-6 pt-6 border-t",children:i.jsx(rt,{to:`/merchant/${e.merchant_id}`,className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View full merchant details "})})]})]})]})}function oae(){const[e,t]=O.useState(null),{data:r,isLoading:n,error:a}=be({queryKey:["reports","merchants-overview"],queryFn:eae});if(n)return i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(Fe,{className:"h-8 w-8 text-gray-400 animate-spin"})});if(a||!r)return i.jsx("div",{className:"text-center py-12",children:i.jsx("p",{className:"text-red-600",children:"Failed to load report."})});const s=[...r.columns].reverse();return i.jsxs("div",{children:[i.jsxs(rt,{to:"/",className:"inline-flex items-center gap-2 text-sm text-gray-500 hover:text-gray-700 mb-4",children:[i.jsx(Ln,{className:"h-4 w-4"}),"Back to Reports"]}),i.jsxs(oe,{className:"mb-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:i.jsx(p5,{className:"h-6 w-6 text-purple-600"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Merchants Overview Report"}),i.jsx("p",{className:"text-sm text-gray-500",children:r.description})]})]}),i.jsx("div",{className:"text-right text-sm text-gray-500",children:i.jsxs("div",{children:["Generated: ",new Date(r.generated_at).toLocaleDateString()]})})]}),i.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[i.jsxs("div",{className:"rounded-lg p-4 bg-gray-50",children:[i.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:r.summary.total_merchants}),i.jsx("div",{className:"text-sm text-gray-500",children:"Total Merchants"})]}),i.jsxs("div",{className:"rounded-lg p-4 bg-amber-50",children:[i.jsx("div",{className:"text-2xl font-semibold text-amber-700",children:r.summary.merchants_with_issues}),i.jsx("div",{className:"text-sm text-gray-500",children:"With Issues"})]}),i.jsxs("div",{className:"rounded-lg p-4 bg-red-50",children:[i.jsx("div",{className:"text-2xl font-semibold text-red-700",children:r.summary.critical_issues}),i.jsx("div",{className:"text-sm text-gray-500",children:"Critical Issues"})]}),i.jsxs("div",{className:"rounded-lg p-4 bg-yellow-50",children:[i.jsx("div",{className:"text-2xl font-semibold text-yellow-700",children:r.summary.warning_issues}),i.jsx("div",{className:"text-sm text-gray-500",children:"Warnings"})]})]}),i.jsxs("div",{className:"flex items-center gap-6 text-sm border-t pt-4",children:[i.jsx("span",{className:"text-gray-500 font-medium",children:"Legend:"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-6 h-6 rounded bg-red-500"}),i.jsx("span",{className:"text-gray-600",children:"Critical"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-6 h-6 rounded bg-amber-400"}),i.jsx("span",{className:"text-gray-600",children:"Warning"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-6 h-6 rounded bg-yellow-200"}),i.jsx("span",{className:"text-gray-600",children:"Minor"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-6 h-6 rounded bg-green-100"}),i.jsx("span",{className:"text-gray-600",children:"OK"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-6 h-6 rounded bg-gray-100"}),i.jsx("span",{className:"text-gray-600",children:"No Data"})]})]})]}),i.jsxs(oe,{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(Qt,{className:"h-5 w-5 text-gray-600"}),i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Issues Heatmap"}),i.jsx("span",{className:"text-sm text-gray-500",children:"(sorted by severity - worst at top-right)"})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full border-collapse",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600 bg-gray-50 border-b w-48",children:"Merchant"}),s.map(o=>i.jsx("th",{className:"text-center py-3 px-2 font-medium text-gray-600 bg-gray-50 border-b w-32",children:i.jsx("div",{className:"text-xs",children:o.label})},o.id)),i.jsx("th",{className:"text-center py-3 px-4 font-medium text-gray-600 bg-gray-50 border-b w-20",children:"Score"})]})}),i.jsx("tbody",{children:r.merchants.map((o,l)=>i.jsxs("tr",{className:ce("border-b border-gray-100",l===0&&"bg-red-50/30",(e==null?void 0:e.merchant_name)===o.merchant_name&&"bg-blue-50"),children:[i.jsx("td",{className:"py-2 px-4 cursor-pointer hover:bg-gray-50",onClick:()=>t(o),children:i.jsx("div",{className:"font-medium text-gray-900 text-sm truncate max-w-[180px] hover:text-blue-600",children:o.merchant_name})}),s.map(c=>i.jsx(aae,{problem:o.problems[c.id],columnId:c.id,rowIndex:l,totalRows:r.merchants.length},c.id)),i.jsx("td",{className:"text-center py-2 px-4",children:i.jsx("span",{className:ce("text-sm font-medium",o.total_score>100?"text-red-600":o.total_score>50?"text-amber-600":o.total_score>0?"text-yellow-600":"text-gray-400"),children:o.total_score>0?o.total_score.toFixed(0):"-"})})]},o.merchant_name))})]})}),i.jsx("div",{className:"mt-4 text-xs text-gray-500",children:"Hover over cells to see detailed information. Click a row to view monthly breakdown."})]}),e&&i.jsx(sae,{merchant:e,onClose:()=>t(null)})]})}function lae(){return i.jsx(dM,{children:i.jsxs(fT,{children:[i.jsx(Tt,{path:"/",element:i.jsx(hM,{})}),i.jsx(Tt,{path:"/reports/underpayment",element:i.jsx($ne,{})}),i.jsx(Tt,{path:"/reports/contract-mismatch",element:i.jsx(Mne,{})}),i.jsx(Tt,{path:"/reports/anomalies",element:i.jsx(Lne,{})}),i.jsx(Tt,{path:"/reports/reconciliation-deviation",element:i.jsx(Une,{})}),i.jsx(Tt,{path:"/reports/commission-mismatch",element:i.jsx(Jne,{})}),i.jsx(Tt,{path:"/reports/merchants-overview",element:i.jsx(oae,{})}),i.jsx(Tt,{path:"/transactions",element:i.jsx(Ire,{})}),i.jsx(Tt,{path:"/transaction/:id",element:i.jsx(Rre,{})}),i.jsx(Tt,{path:"/merchants",element:i.jsx(Lre,{})}),i.jsx(Tt,{path:"/merchant/:id",element:i.jsx(Jre,{})}),i.jsx(Tt,{path:"/rateplan/:merchantId/:planKey",element:i.jsx(ine,{})}),i.jsx(Tt,{path:"/experiments",element:i.jsx(kne,{})}),i.jsx(Tt,{path:"/settings",element:i.jsx(_ne,{})})]})})}const cae=new s$({defaultOptions:{queries:{staleTime:5*60*1e3,retry:1}}});Ef.getState().checkConnection();$p.createRoot(document.getElementById("root")).render(i.jsx(I.StrictMode,{children:i.jsx(o$,{client:cae,children:i.jsx(vT,{children:i.jsx(lae,{})})})}));
